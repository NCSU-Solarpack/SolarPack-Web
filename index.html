<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SolarPack · Home</title>

  <!-- Fonts / Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
  <script type="module" src="https://unpkg.com/ionicons@7.2.1/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.2.1/dist/ionicons/ionicons.js"></script>

  <!-- Your header script -->
  <script src="assets/js/header.js" defer></script>

  <style>
    :root{
      --bg:#0e0e0e; --card:#181818; --txt:#fff; --subtxt:#cecece; --accent:#e53935;
      --radius:10px; --shadow:#0005;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:'DM Sans',sans-serif;background:var(--bg);color:var(--txt);}
    main{padding:2rem 1.2rem;max-width:1200px;margin:0 auto;}
    img{display:block;width:100%;height:auto;}

    /* Hero */
    .hero{display:flex;flex-wrap:wrap;align-items:center;justify-content:center;gap:2rem;text-align:center;margin-bottom:3rem;}
    .hero img{max-width:320px;}
    .hero-content{max-width:500px;}
    .hero-content h1{font-family:'Bebas Neue',sans-serif;font-size:clamp(3.5rem,8vw,6rem);color:var(--accent);margin-bottom:.5rem;}
    .hero-content .subtitle{font-size:1.2rem;color:var(--subtxt);margin-bottom:1.2rem;}
    .hero-content p{color:var(--subtxt);font-size:1.05rem;}

    /* Sections */
    .section{background:var(--card);border-radius:var(--radius);padding:2rem;margin-bottom:3rem;box-shadow:0 1px 6px #0004;}
    .section img{border-radius:var(--radius);box-shadow:0 2px 16px var(--shadow);margin-bottom:1.5rem;background:#222;}
    .section h2{text-align:center;margin-bottom:1rem;font-family:'Bebas Neue',sans-serif;letter-spacing:.04em;font-size:2.2rem;}
    .section p{color:var(--subtxt);text-align:center;max-width:650px;margin:0 auto;}

    /* Features */
    .features{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:2rem;}
    .feature{text-align:center;}
    .feature h3{font-family:'Bebas Neue',sans-serif;font-size:1.7rem;color:var(--accent);margin:.5rem 0;letter-spacing:.05em;}
    .feature p{font-size:1.05rem;color:var(--subtxt);}
    .feature ion-icon{font-size:3rem;color:var(--accent);margin-bottom:.5rem;}

    /* Carousel */
    .carousel-wrapper{
      position:relative;
      margin:3rem auto;
      width:100%;
      max-width:1000px;
      overflow:hidden;   /* hide overflow but still peek with margins inside slides */
    }
    .carousel-track{
      display:flex;
      align-items:center;
      transition:transform .45s ease;
      will-change:transform;
    }
    .carousel-slide{
      flex:0 0 var(--slide-width,70%);
      margin:0 1rem;
      border-radius:var(--radius);
      overflow:hidden;
      box-shadow:0 4px 18px var(--shadow);
      background:#222;
    }
    .carousel-slide img{
      width:100%;
      height:auto;
      display:block;
    }

    /* Buttons */
    .carousel-btn{
      position:absolute;
      top:50%;
      transform:translateY(-50%);
      width:48px;height:48px;border:none;border-radius:50%;
      background:rgba(0,0,0,.55);
      color:#fff;font-size:1.2rem;cursor:pointer;
      display:flex;align-items:center;justify-content:center;
      backdrop-filter:blur(4px);
      transition:background .15s;
      z-index:3;
    }
    .carousel-btn:hover{background:rgba(0,0,0,.8);}
    .carousel-btn.prev{left:10px;}
    .carousel-btn.next{right:10px;}

    /* Indicator dots (optional) */
    .carousel-dots{
      display:flex;gap:.5rem;justify-content:center;margin-top:1rem;
    }
    .carousel-dots button{
      width:10px;height:10px;border-radius:50%;border:none;background:#666;cursor:pointer;
    }
    .carousel-dots button.active{background:var(--accent);}

    /* Socials / Footer */
    .socials{display:flex;justify-content:center;gap:1.5rem;margin:2rem 0 1rem;}
    .socials a{color:var(--accent);font-size:2rem;transition:color .2s;}
    .socials a:hover{color:#fff;}
    .footer{text-align:center;color:#888;font-size:1rem;margin:2rem 0 1rem;}

    @media(max-width:600px){
      .hero img{max-width:140px;}
      :root{--slide-width:85%;}
    }
  </style>
</head>
<body>
  <main>

    <!-- HERO -->
    <section class="hero">
      <img src="assets/images/solarpack_logo.gif" alt="SolarPack Logo">
      <div class="hero-content">
        <h1>SolarPack</h1>
        <div class="subtitle">Solar Vehicle Team at NC State</div>
        <p>Striving to break barriers in the sustainable vehicle industry with a hardworking group of over 40 passionate students. Join us in our journey to a more sustainable future for transportation.</p>
      </div>
    </section>

    <!-- IMAGE CAROUSEL -->
    <section class="carousel-wrapper" id="gallery">
      <button class="carousel-btn prev" aria-label="Previous image"><i class="fa-solid fa-chevron-left"></i></button>
      <div class="carousel-track" id="carouselTrack">
        <!-- Put your REAL image paths here -->
        <div class="carousel-slide"><img src="assets/images/gallery/01.jpg" alt="Gallery 1"></div>
        <div class="carousel-slide"><img src="assets/images/gallery/02.jpg" alt="Gallery 2"></div>
        <div class="carousel-slide"><img src="assets/images/gallery/03.jpg" alt="Gallery 3"></div>
        <div class="carousel-slide"><img src="assets/images/gallery/04.jpg" alt="Gallery 4"></div>
        <div class="carousel-slide"><img src="assets/images/gallery/05.jpg" alt="Gallery 5"></div>
      </div>
      <button class="carousel-btn next" aria-label="Next image"><i class="fa-solid fa-chevron-right"></i></button>
      <div class="carousel-dots" id="carouselDots"></div>
    </section>

    <!-- ABOUT SECTION -->
    <section class="section">
      <img src="assets/images/hero_shot.jpg" alt="Solar Car Team">
      <h2>Sustainable, Efficient, and Powerful.</h2>
      <p>As NC State's first solar vehicle team, we are aiming to show the world that solar energy can be used to power a car. Along the way, we are making a solar vehicle no other team has done before.</p>
    </section>

    <!-- FEATURES -->
    <section class="section features">
      <div class="feature">
        <ion-icon name="earth-outline"></ion-icon>
        <h3>Global Impact</h3>
        <p>We're showing the world that solar energy can power a multi-occupancy car. By building a vehicle no one has seen before, we hope to prove that sustainability and power can go hand in hand.</p>
      </div>
      <div class="feature">
        <ion-icon name="cog-outline"></ion-icon>
        <h3>Engineering Excellence</h3>
        <p>Our team thrives on creative problem solving. Members develop real-world skills as they tackle unique engineering challenges throughout our build process.</p>
      </div>
      <div class="feature">
        <ion-icon name="bulb-outline"></ion-icon>
        <h3>Innovation</h3>
        <p>Pioneering new solutions, our members are always innovating—using every resource to bring big ideas to life and push the boundaries of solar vehicle technology.</p>
      </div>
      <div class="feature">
        <ion-icon name="hand-left-outline"></ion-icon>
        <h3>Collaboration</h3>
        <p>We partner with companies and alumni to guide our journey, building strong relationships as we promote the future of energy-efficient vehicles.</p>
      </div>
      <div class="feature">
        <ion-icon name="location-outline"></ion-icon>
        <h3>Rooted in the Triangle</h3>
        <p>Proudly representing the Research Triangle, we embody the spirit of innovation and excellence that defines our region—driving forward as leaders in sustainable technology.</p>
      </div>
    </section>

    <!-- SOCIALS -->
    <div class="socials">
      <a href="https://www.instagram.com/solarpacknc/" target="_blank"><i class="fab fa-instagram"></i></a>
      <a href="https://www.linkedin.com/company/solarpack-nc-state/" target="_blank"><i class="fab fa-linkedin"></i></a>
      <a href="https://www.facebook.com/SolarPackNC/" target="_blank"><i class="fab fa-facebook"></i></a>
    </div>
  </main>

  <footer class="footer">&copy; 2025 SolarPack · NC State Solar Vehicle Team. All rights reserved.</footer>

  <script>
    // ===== Infinite, one-slide-at-a-time carousel =====
    (function(){
      const track = document.getElementById('carouselTrack');
      const prevBtn = document.querySelector('.carousel-btn.prev');
      const nextBtn = document.querySelector('.carousel-btn.next');
      const dotsContainer = document.getElementById('carouselDots');

      let slides = Array.from(track.children);
      const slideCount = slides.length;
      let currentIndex = 0;
      let slideWidth; // calc later
      let isAnimating = false;

      // Clone first & last slides for seamless loop
      const firstClone = slides[0].cloneNode(true);
      const lastClone = slides[slides.length-1].cloneNode(true);
      track.insertBefore(lastClone, slides[0]);
      track.appendChild(firstClone);

      // refresh slides after cloning
      slides = Array.from(track.children);

      function setSizes(){
        // width is based on CSS variable --slide-width, but we need px for transforms
        const firstSlide = slides[0];
        slideWidth = firstSlide.getBoundingClientRect().width + 2*parseFloat(getComputedStyle(firstSlide).marginLeft);
        // Center on "real" first slide (index 1 because of the prepended clone)
        track.style.transform = `translateX(${-slideWidth * (currentIndex + 1)}px)`;
      }

      function createDots(){
        dotsContainer.innerHTML = '';
        for(let i=0;i<slideCount;i++){
          const b = document.createElement('button');
          if(i===currentIndex) b.classList.add('active');
          b.addEventListener('click',()=>jumpTo(i));
          dotsContainer.appendChild(b);
        }
      }

      function updateDots(){
        [...dotsContainer.children].forEach((d,i)=>{
          d.classList.toggle('active', i===currentIndex);
        });
      }

      function moveTo(index){
        if(isAnimating) return;
        isAnimating = true;
        currentIndex = index;
        track.style.transition = 'transform .45s ease';
        track.style.transform = `translateX(${-slideWidth * (currentIndex + 1)}px)`;
      }

      function jumpTo(index){
        currentIndex = index;
        track.style.transition = 'none';
        track.style.transform = `translateX(${-slideWidth * (currentIndex + 1)}px)`;
        requestAnimationFrame(()=>requestAnimationFrame(()=>{ // double rAF to ensure no transition glitch
          updateDots();
        }));
      }

      track.addEventListener('transitionend', ()=>{
        isAnimating = false;
        // loop handling
        if(currentIndex === -1){
          currentIndex = slideCount - 1;
          track.style.transition = 'none';
          track.style.transform = `translateX(${-slideWidth * (currentIndex + 1)}px)`;
        }else if(currentIndex === slideCount){
          currentIndex = 0;
          track.style.transition = 'none';
          track.style.transform = `translateX(${-slideWidth * (currentIndex + 1)}px)`;
        }
        updateDots();
      });

      prevBtn.addEventListener('click', ()=> moveTo(currentIndex - 1));
      nextBtn.addEventListener('click', ()=> moveTo(currentIndex + 1));

      // Keyboard support
      document.addEventListener('keydown', e=>{
        if(e.key === 'ArrowLeft') prevBtn.click();
        if(e.key === 'ArrowRight') nextBtn.click();
      });

      // Basic swipe support
      let startX = 0;
      track.addEventListener('pointerdown', e=>{
        startX = e.clientX;
      });
      track.addEventListener('pointerup', e=>{
        const dx = e.clientX - startX;
        if(Math.abs(dx) > 50){
          if(dx < 0) nextBtn.click();
          else prevBtn.click();
        }
      });

      window.addEventListener('resize', setSizes);

      // init
      setSizes();
      createDots();
      updateDots();
    })();
  </script>
</body>
</html>
