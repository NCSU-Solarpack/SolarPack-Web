var Jk=Object.defineProperty;var Xk=(t,e,r)=>e in t?Jk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ar=(t,e,r)=>(Xk(t,typeof e!="symbol"?e+"":e,r),r);function a5(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function o5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Yk(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var A5={exports:{}},tg={},l5={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd=Symbol.for("react.element"),Zk=Symbol.for("react.portal"),e3=Symbol.for("react.fragment"),t3=Symbol.for("react.strict_mode"),r3=Symbol.for("react.profiler"),n3=Symbol.for("react.provider"),s3=Symbol.for("react.context"),i3=Symbol.for("react.forward_ref"),a3=Symbol.for("react.suspense"),o3=Symbol.for("react.memo"),A3=Symbol.for("react.lazy"),L2=Symbol.iterator;function l3(t){return t===null||typeof t!="object"?null:(t=L2&&t[L2]||t["@@iterator"],typeof t=="function"?t:null)}var c5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u5=Object.assign,d5={};function Hc(t,e,r){this.props=t,this.context=e,this.refs=d5,this.updater=r||c5}Hc.prototype.isReactComponent={};Hc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function h5(){}h5.prototype=Hc.prototype;function Cv(t,e,r){this.props=t,this.context=e,this.refs=d5,this.updater=r||c5}var Sv=Cv.prototype=new h5;Sv.constructor=Cv;u5(Sv,Hc.prototype);Sv.isPureReactComponent=!0;var Q2=Array.isArray,f5=Object.prototype.hasOwnProperty,Ev={current:null},p5={key:!0,ref:!0,__self:!0,__source:!0};function g5(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)f5.call(e,n)&&!p5.hasOwnProperty(n)&&(s[n]=e[n]);var A=arguments.length-2;if(A===1)s.children=r;else if(1<A){for(var l=Array(A),c=0;c<A;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in A=t.defaultProps,A)s[n]===void 0&&(s[n]=A[n]);return{$$typeof:Vd,type:t,key:i,ref:a,props:s,_owner:Ev.current}}function c3(t,e){return{$$typeof:Vd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vd}function u3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var D2=/\/+/g;function Jg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?u3(""+t.key):e.toString(36)}function Df(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Vd:case Zk:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+Jg(a,0):n,Q2(s)?(r="",t!=null&&(r=t.replace(D2,"$&/")+"/"),Df(s,e,r,"",function(c){return c})):s!=null&&(kv(s)&&(s=c3(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(D2,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",Q2(t))for(var A=0;A<t.length;A++){i=t[A];var l=n+Jg(i,A);a+=Df(i,e,r,l,s)}else if(l=l3(t),typeof l=="function")for(t=l.call(t),A=0;!(i=t.next()).done;)i=i.value,l=n+Jg(i,A++),a+=Df(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Eh(t,e,r){if(t==null)return t;var n=[],s=0;return Df(t,n,"","",function(i){return e.call(r,i,s++)}),n}function d3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bs={current:null},Tf={transition:null},h3={ReactCurrentDispatcher:Bs,ReactCurrentBatchConfig:Tf,ReactCurrentOwner:Ev};function m5(){throw Error("act(...) is not supported in production builds of React.")}zt.Children={map:Eh,forEach:function(t,e,r){Eh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Eh(t,function(){e++}),e},toArray:function(t){return Eh(t,function(e){return e})||[]},only:function(t){if(!kv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};zt.Component=Hc;zt.Fragment=e3;zt.Profiler=r3;zt.PureComponent=Cv;zt.StrictMode=t3;zt.Suspense=a3;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h3;zt.act=m5;zt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=u5({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Ev.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var A=t.type.defaultProps;for(l in e)f5.call(e,l)&&!p5.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&A!==void 0?A[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){A=Array(l);for(var c=0;c<l;c++)A[c]=arguments[c+2];n.children=A}return{$$typeof:Vd,type:t.type,key:s,ref:i,props:n,_owner:a}};zt.createContext=function(t){return t={$$typeof:s3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:n3,_context:t},t.Consumer=t};zt.createElement=g5;zt.createFactory=function(t){var e=g5.bind(null,t);return e.type=t,e};zt.createRef=function(){return{current:null}};zt.forwardRef=function(t){return{$$typeof:i3,render:t}};zt.isValidElement=kv;zt.lazy=function(t){return{$$typeof:A3,_payload:{_status:-1,_result:t},_init:d3}};zt.memo=function(t,e){return{$$typeof:o3,type:t,compare:e===void 0?null:e}};zt.startTransition=function(t){var e=Tf.transition;Tf.transition={};try{t()}finally{Tf.transition=e}};zt.unstable_act=m5;zt.useCallback=function(t,e){return Bs.current.useCallback(t,e)};zt.useContext=function(t){return Bs.current.useContext(t)};zt.useDebugValue=function(){};zt.useDeferredValue=function(t){return Bs.current.useDeferredValue(t)};zt.useEffect=function(t,e){return Bs.current.useEffect(t,e)};zt.useId=function(){return Bs.current.useId()};zt.useImperativeHandle=function(t,e,r){return Bs.current.useImperativeHandle(t,e,r)};zt.useInsertionEffect=function(t,e){return Bs.current.useInsertionEffect(t,e)};zt.useLayoutEffect=function(t,e){return Bs.current.useLayoutEffect(t,e)};zt.useMemo=function(t,e){return Bs.current.useMemo(t,e)};zt.useReducer=function(t,e,r){return Bs.current.useReducer(t,e,r)};zt.useRef=function(t){return Bs.current.useRef(t)};zt.useState=function(t){return Bs.current.useState(t)};zt.useSyncExternalStore=function(t,e,r){return Bs.current.useSyncExternalStore(t,e,r)};zt.useTransition=function(){return Bs.current.useTransition()};zt.version="18.3.1";l5.exports=zt;var W=l5.exports;const v5=o5(W),f3=a5({__proto__:null,default:v5},[W]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p3=W,g3=Symbol.for("react.element"),m3=Symbol.for("react.fragment"),v3=Object.prototype.hasOwnProperty,w3=p3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y3={key:!0,ref:!0,__self:!0,__source:!0};function w5(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)v3.call(e,n)&&!y3.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:g3,type:t,key:i,ref:a,props:s,_owner:w3.current}}tg.Fragment=m3;tg.jsx=w5;tg.jsxs=w5;A5.exports=tg;var o=A5.exports,k0={},y5={exports:{}},oi={},b5={exports:{}},B5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ne,se){var ye=ne.length;ne.push(se);e:for(;0<ye;){var re=ye-1>>>1,F=ne[re];if(0<s(F,se))ne[re]=se,ne[ye]=F,ye=re;else break e}}function r(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var se=ne[0],ye=ne.pop();if(ye!==se){ne[0]=ye;e:for(var re=0,F=ne.length,V=F>>>1;re<V;){var O=2*(re+1)-1,q=ne[O],ce=O+1,ue=ne[ce];if(0>s(q,ye))ce<F&&0>s(ue,q)?(ne[re]=ue,ne[ce]=ye,re=ce):(ne[re]=q,ne[O]=ye,re=O);else if(ce<F&&0>s(ue,ye))ne[re]=ue,ne[ce]=ye,re=ce;else break e}}return se}function s(ne,se){var ye=ne.sortIndex-se.sortIndex;return ye!==0?ye:ne.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,A=a.now();t.unstable_now=function(){return a.now()-A}}var l=[],c=[],u=1,h=null,p=3,d=!1,w=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ne){for(var se=r(c);se!==null;){if(se.callback===null)n(c);else if(se.startTime<=ne)n(c),se.sortIndex=se.expirationTime,e(l,se);else break;se=r(c)}}function C(ne){if(m=!1,B(ne),!w)if(r(l)!==null)w=!0,ge(N);else{var se=r(c);se!==null&&le(C,se.startTime-ne)}}function N(ne,se){w=!1,m&&(m=!1,g(P),P=-1),d=!0;var ye=p;try{for(B(se),h=r(l);h!==null&&(!(h.expirationTime>se)||ne&&!D());){var re=h.callback;if(typeof re=="function"){h.callback=null,p=h.priorityLevel;var F=re(h.expirationTime<=se);se=t.unstable_now(),typeof F=="function"?h.callback=F:h===r(l)&&n(l),B(se)}else n(l);h=r(l)}if(h!==null)var V=!0;else{var O=r(c);O!==null&&le(C,O.startTime-se),V=!1}return V}finally{h=null,p=ye,d=!1}}var L=!1,Q=null,P=-1,k=5,$=-1;function D(){return!(t.unstable_now()-$<k)}function U(){if(Q!==null){var ne=t.unstable_now();$=ne;var se=!0;try{se=Q(!0,ne)}finally{se?H():(L=!1,Q=null)}}else L=!1}var H;if(typeof b=="function")H=function(){b(U)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,ee=S.port2;S.port1.onmessage=U,H=function(){ee.postMessage(null)}}else H=function(){y(U,0)};function ge(ne){Q=ne,L||(L=!0,H())}function le(ne,se){P=y(function(){ne(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){w||d||(w=!0,ge(N))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(ne){switch(p){case 1:case 2:case 3:var se=3;break;default:se=p}var ye=p;p=se;try{return ne()}finally{p=ye}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,se){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ye=p;p=ne;try{return se()}finally{p=ye}},t.unstable_scheduleCallback=function(ne,se,ye){var re=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?re+ye:re):ye=re,ne){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ye+F,ne={id:u++,callback:se,priorityLevel:ne,startTime:ye,expirationTime:F,sortIndex:-1},ye>re?(ne.sortIndex=ye,e(c,ne),r(l)===null&&ne===r(c)&&(m?(g(P),P=-1):m=!0,le(C,ye-re))):(ne.sortIndex=F,e(l,ne),w||d||(w=!0,ge(N))),ne},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(ne){var se=p;return function(){var ye=p;p=se;try{return ne.apply(this,arguments)}finally{p=ye}}}})(B5);b5.exports=B5;var b3=b5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B3=W,ai=b3;function Ye(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x5=new Set,hd={};function fl(t,e){Nc(t,e),Nc(t+"Capture",e)}function Nc(t,e){for(hd[t]=e,t=0;t<e.length;t++)x5.add(e[t])}var ro=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),N0=Object.prototype.hasOwnProperty,x3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T2={},P2={};function _3(t){return N0.call(P2,t)?!0:N0.call(T2,t)?!1:x3.test(t)?P2[t]=!0:(T2[t]=!0,!1)}function C3(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function S3(t,e,r,n){if(e===null||typeof e>"u"||C3(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xs(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gn[t]=new xs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gn[e]=new xs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gn[t]=new xs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gn[t]=new xs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gn[t]=new xs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gn[t]=new xs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gn[t]=new xs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gn[t]=new xs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gn[t]=new xs(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nv=/[\-:]([a-z])/g;function Fv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nv,Fv);Gn[e]=new xs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nv,Fv);Gn[e]=new xs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nv,Fv);Gn[e]=new xs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gn[t]=new xs(t,1,!1,t.toLowerCase(),null,!1,!1)});Gn.xlinkHref=new xs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gn[t]=new xs(t,1,!1,t.toLowerCase(),null,!0,!0)});function Uv(t,e,r,n){var s=Gn.hasOwnProperty(e)?Gn[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(S3(e,r,s,n)&&(r=null),n||s===null?_3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var oo=B3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kh=Symbol.for("react.element"),rc=Symbol.for("react.portal"),nc=Symbol.for("react.fragment"),jv=Symbol.for("react.strict_mode"),F0=Symbol.for("react.profiler"),_5=Symbol.for("react.provider"),C5=Symbol.for("react.context"),Iv=Symbol.for("react.forward_ref"),U0=Symbol.for("react.suspense"),j0=Symbol.for("react.suspense_list"),Lv=Symbol.for("react.memo"),Po=Symbol.for("react.lazy"),S5=Symbol.for("react.offscreen"),O2=Symbol.iterator;function pu(t){return t===null||typeof t!="object"?null:(t=O2&&t[O2]||t["@@iterator"],typeof t=="function"?t:null)}var zr=Object.assign,Xg;function Fu(t){if(Xg===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Xg=e&&e[1]||""}return`
`+Xg+t}var Yg=!1;function Zg(t,e){if(!t||Yg)return"";Yg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,A=i.length-1;1<=a&&0<=A&&s[a]!==i[A];)A--;for(;1<=a&&0<=A;a--,A--)if(s[a]!==i[A]){if(a!==1||A!==1)do if(a--,A--,0>A||s[a]!==i[A]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=A);break}}}finally{Yg=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Fu(t):""}function E3(t){switch(t.tag){case 5:return Fu(t.type);case 16:return Fu("Lazy");case 13:return Fu("Suspense");case 19:return Fu("SuspenseList");case 0:case 2:case 15:return t=Zg(t.type,!1),t;case 11:return t=Zg(t.type.render,!1),t;case 1:return t=Zg(t.type,!0),t;default:return""}}function I0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nc:return"Fragment";case rc:return"Portal";case F0:return"Profiler";case jv:return"StrictMode";case U0:return"Suspense";case j0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C5:return(t.displayName||"Context")+".Consumer";case _5:return(t._context.displayName||"Context")+".Provider";case Iv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lv:return e=t.displayName||null,e!==null?e:I0(t.type)||"Memo";case Po:e=t._payload,t=t._init;try{return I0(t(e))}catch{}}return null}function k3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I0(e);case 8:return e===jv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fA(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function E5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function N3(t){var e=E5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Nh(t){t._valueTracker||(t._valueTracker=N3(t))}function k5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=E5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function op(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function L0(t,e){var r=e.checked;return zr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function R2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=fA(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function N5(t,e){e=e.checked,e!=null&&Uv(t,"checked",e,!1)}function Q0(t,e){N5(t,e);var r=fA(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?D0(t,e.type,r):e.hasOwnProperty("defaultValue")&&D0(t,e.type,fA(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function H2(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function D0(t,e,r){(e!=="number"||op(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Uu=Array.isArray;function gc(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+fA(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function T0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ye(91));return zr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function M2(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ye(92));if(Uu(r)){if(1<r.length)throw Error(Ye(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:fA(r)}}function F5(t,e){var r=fA(e.value),n=fA(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function z2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function U5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function P0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?U5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fh,j5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fh=Fh||document.createElement("div"),Fh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var $u={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F3=["Webkit","ms","Moz","O"];Object.keys($u).forEach(function(t){F3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$u[e]=$u[t]})});function I5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||$u.hasOwnProperty(t)&&$u[t]?(""+e).trim():e+"px"}function L5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=I5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var U3=zr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function O0(t,e){if(e){if(U3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ye(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ye(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ye(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ye(62))}}function R0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var H0=null;function Qv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var M0=null,mc=null,vc=null;function K2(t){if(t=qd(t)){if(typeof M0!="function")throw Error(Ye(280));var e=t.stateNode;e&&(e=ag(e),M0(t.stateNode,t.type,e))}}function Q5(t){mc?vc?vc.push(t):vc=[t]:mc=t}function D5(){if(mc){var t=mc,e=vc;if(vc=mc=null,K2(t),e)for(t=0;t<e.length;t++)K2(e[t])}}function T5(t,e){return t(e)}function P5(){}var em=!1;function O5(t,e,r){if(em)return t(e,r);em=!0;try{return T5(t,e,r)}finally{em=!1,(mc!==null||vc!==null)&&(P5(),D5())}}function pd(t,e){var r=t.stateNode;if(r===null)return null;var n=ag(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ye(231,e,typeof r));return r}var z0=!1;if(ro)try{var gu={};Object.defineProperty(gu,"passive",{get:function(){z0=!0}}),window.addEventListener("test",gu,gu),window.removeEventListener("test",gu,gu)}catch{z0=!1}function j3(t,e,r,n,s,i,a,A,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Vu=!1,Ap=null,lp=!1,K0=null,I3={onError:function(t){Vu=!0,Ap=t}};function L3(t,e,r,n,s,i,a,A,l){Vu=!1,Ap=null,j3.apply(I3,arguments)}function Q3(t,e,r,n,s,i,a,A,l){if(L3.apply(this,arguments),Vu){if(Vu){var c=Ap;Vu=!1,Ap=null}else throw Error(Ye(198));lp||(lp=!0,K0=c)}}function pl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function R5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $2(t){if(pl(t)!==t)throw Error(Ye(188))}function D3(t){var e=t.alternate;if(!e){if(e=pl(t),e===null)throw Error(Ye(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return $2(s),t;if(i===n)return $2(s),e;i=i.sibling}throw Error(Ye(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,A=s.child;A;){if(A===r){a=!0,r=s,n=i;break}if(A===n){a=!0,n=s,r=i;break}A=A.sibling}if(!a){for(A=i.child;A;){if(A===r){a=!0,r=i,n=s;break}if(A===n){a=!0,n=i,r=s;break}A=A.sibling}if(!a)throw Error(Ye(189))}}if(r.alternate!==n)throw Error(Ye(190))}if(r.tag!==3)throw Error(Ye(188));return r.stateNode.current===r?t:e}function H5(t){return t=D3(t),t!==null?M5(t):null}function M5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=M5(t);if(e!==null)return e;t=t.sibling}return null}var z5=ai.unstable_scheduleCallback,V2=ai.unstable_cancelCallback,T3=ai.unstable_shouldYield,P3=ai.unstable_requestPaint,rn=ai.unstable_now,O3=ai.unstable_getCurrentPriorityLevel,Dv=ai.unstable_ImmediatePriority,K5=ai.unstable_UserBlockingPriority,cp=ai.unstable_NormalPriority,R3=ai.unstable_LowPriority,$5=ai.unstable_IdlePriority,rg=null,ya=null;function H3(t){if(ya&&typeof ya.onCommitFiberRoot=="function")try{ya.onCommitFiberRoot(rg,t,void 0,(t.current.flags&128)===128)}catch{}}var Wi=Math.clz32?Math.clz32:K3,M3=Math.log,z3=Math.LN2;function K3(t){return t>>>=0,t===0?32:31-(M3(t)/z3|0)|0}var Uh=64,jh=4194304;function ju(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function up(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var A=a&~s;A!==0?n=ju(A):(i&=a,i!==0&&(n=ju(i)))}else a=r&~s,a!==0?n=ju(a):i!==0&&(n=ju(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Wi(e),s=1<<r,n|=t[r],e&=~s;return n}function $3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V3(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Wi(i),A=1<<a,l=s[a];l===-1?(!(A&r)||A&n)&&(s[a]=$3(A,e)):l<=e&&(t.expiredLanes|=A),i&=~A}}function $0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function V5(){var t=Uh;return Uh<<=1,!(Uh&4194240)&&(Uh=64),t}function tm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Gd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wi(e),t[e]=r}function G3(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Wi(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Tv(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Wi(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var cr=0;function G5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var W5,Pv,q5,J5,X5,V0=!1,Ih=[],eA=null,tA=null,rA=null,gd=new Map,md=new Map,Ho=[],W3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function G2(t,e){switch(t){case"focusin":case"focusout":eA=null;break;case"dragenter":case"dragleave":tA=null;break;case"mouseover":case"mouseout":rA=null;break;case"pointerover":case"pointerout":gd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(e.pointerId)}}function mu(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=qd(e),e!==null&&Pv(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function q3(t,e,r,n,s){switch(e){case"focusin":return eA=mu(eA,t,e,r,n,s),!0;case"dragenter":return tA=mu(tA,t,e,r,n,s),!0;case"mouseover":return rA=mu(rA,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return gd.set(i,mu(gd.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,md.set(i,mu(md.get(i)||null,t,e,r,n,s)),!0}return!1}function Y5(t){var e=GA(t.target);if(e!==null){var r=pl(e);if(r!==null){if(e=r.tag,e===13){if(e=R5(r),e!==null){t.blockedOn=e,X5(t.priority,function(){q5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=G0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);H0=n,r.target.dispatchEvent(n),H0=null}else return e=qd(r),e!==null&&Pv(e),t.blockedOn=r,!1;e.shift()}return!0}function W2(t,e,r){Pf(t)&&r.delete(e)}function J3(){V0=!1,eA!==null&&Pf(eA)&&(eA=null),tA!==null&&Pf(tA)&&(tA=null),rA!==null&&Pf(rA)&&(rA=null),gd.forEach(W2),md.forEach(W2)}function vu(t,e){t.blockedOn===e&&(t.blockedOn=null,V0||(V0=!0,ai.unstable_scheduleCallback(ai.unstable_NormalPriority,J3)))}function vd(t){function e(s){return vu(s,t)}if(0<Ih.length){vu(Ih[0],t);for(var r=1;r<Ih.length;r++){var n=Ih[r];n.blockedOn===t&&(n.blockedOn=null)}}for(eA!==null&&vu(eA,t),tA!==null&&vu(tA,t),rA!==null&&vu(rA,t),gd.forEach(e),md.forEach(e),r=0;r<Ho.length;r++)n=Ho[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ho.length&&(r=Ho[0],r.blockedOn===null);)Y5(r),r.blockedOn===null&&Ho.shift()}var wc=oo.ReactCurrentBatchConfig,dp=!0;function X3(t,e,r,n){var s=cr,i=wc.transition;wc.transition=null;try{cr=1,Ov(t,e,r,n)}finally{cr=s,wc.transition=i}}function Y3(t,e,r,n){var s=cr,i=wc.transition;wc.transition=null;try{cr=4,Ov(t,e,r,n)}finally{cr=s,wc.transition=i}}function Ov(t,e,r,n){if(dp){var s=G0(t,e,r,n);if(s===null)um(t,e,n,hp,r),G2(t,n);else if(q3(s,t,e,r,n))n.stopPropagation();else if(G2(t,n),e&4&&-1<W3.indexOf(t)){for(;s!==null;){var i=qd(s);if(i!==null&&W5(i),i=G0(t,e,r,n),i===null&&um(t,e,n,hp,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else um(t,e,n,null,r)}}var hp=null;function G0(t,e,r,n){if(hp=null,t=Qv(n),t=GA(t),t!==null)if(e=pl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=R5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hp=t,null}function Z5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(O3()){case Dv:return 1;case K5:return 4;case cp:case R3:return 16;case $5:return 536870912;default:return 16}default:return 16}}var Vo=null,Rv=null,Of=null;function e_(){if(Of)return Of;var t,e=Rv,r=e.length,n,s="value"in Vo?Vo.value:Vo.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return Of=s.slice(t,1<n?1-n:void 0)}function Rf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Lh(){return!0}function q2(){return!1}function Ai(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(r=t[A],this[A]=r?r(i):i[A]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Lh:q2,this.isPropagationStopped=q2,this}return zr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Lh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Lh)},persist:function(){},isPersistent:Lh}),e}var Mc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hv=Ai(Mc),Wd=zr({},Mc,{view:0,detail:0}),Z3=Ai(Wd),rm,nm,wu,ng=zr({},Wd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wu&&(wu&&t.type==="mousemove"?(rm=t.screenX-wu.screenX,nm=t.screenY-wu.screenY):nm=rm=0,wu=t),rm)},movementY:function(t){return"movementY"in t?t.movementY:nm}}),J2=Ai(ng),eN=zr({},ng,{dataTransfer:0}),tN=Ai(eN),rN=zr({},Wd,{relatedTarget:0}),sm=Ai(rN),nN=zr({},Mc,{animationName:0,elapsedTime:0,pseudoElement:0}),sN=Ai(nN),iN=zr({},Mc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aN=Ai(iN),oN=zr({},Mc,{data:0}),X2=Ai(oN),AN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cN[t])?!!e[t]:!1}function Mv(){return uN}var dN=zr({},Wd,{key:function(t){if(t.key){var e=AN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mv,charCode:function(t){return t.type==="keypress"?Rf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hN=Ai(dN),fN=zr({},ng,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y2=Ai(fN),pN=zr({},Wd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mv}),gN=Ai(pN),mN=zr({},Mc,{propertyName:0,elapsedTime:0,pseudoElement:0}),vN=Ai(mN),wN=zr({},ng,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yN=Ai(wN),bN=[9,13,27,32],zv=ro&&"CompositionEvent"in window,Gu=null;ro&&"documentMode"in document&&(Gu=document.documentMode);var BN=ro&&"TextEvent"in window&&!Gu,t_=ro&&(!zv||Gu&&8<Gu&&11>=Gu),Z2=String.fromCharCode(32),ey=!1;function r_(t,e){switch(t){case"keyup":return bN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sc=!1;function xN(t,e){switch(t){case"compositionend":return n_(e);case"keypress":return e.which!==32?null:(ey=!0,Z2);case"textInput":return t=e.data,t===Z2&&ey?null:t;default:return null}}function _N(t,e){if(sc)return t==="compositionend"||!zv&&r_(t,e)?(t=e_(),Of=Rv=Vo=null,sc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return t_&&e.locale!=="ko"?null:e.data;default:return null}}var CN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ty(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CN[t.type]:e==="textarea"}function s_(t,e,r,n){Q5(n),e=fp(e,"onChange"),0<e.length&&(r=new Hv("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Wu=null,wd=null;function SN(t){p_(t,0)}function sg(t){var e=oc(t);if(k5(e))return t}function EN(t,e){if(t==="change")return e}var i_=!1;if(ro){var im;if(ro){var am="oninput"in document;if(!am){var ry=document.createElement("div");ry.setAttribute("oninput","return;"),am=typeof ry.oninput=="function"}im=am}else im=!1;i_=im&&(!document.documentMode||9<document.documentMode)}function ny(){Wu&&(Wu.detachEvent("onpropertychange",a_),wd=Wu=null)}function a_(t){if(t.propertyName==="value"&&sg(wd)){var e=[];s_(e,wd,t,Qv(t)),O5(SN,e)}}function kN(t,e,r){t==="focusin"?(ny(),Wu=e,wd=r,Wu.attachEvent("onpropertychange",a_)):t==="focusout"&&ny()}function NN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sg(wd)}function FN(t,e){if(t==="click")return sg(e)}function UN(t,e){if(t==="input"||t==="change")return sg(e)}function jN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ji=typeof Object.is=="function"?Object.is:jN;function yd(t,e){if(Ji(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!N0.call(e,s)||!Ji(t[s],e[s]))return!1}return!0}function sy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iy(t,e){var r=sy(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sy(r)}}function o_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?o_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function A_(){for(var t=window,e=op();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=op(t.document)}return e}function Kv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IN(t){var e=A_(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&o_(r.ownerDocument.documentElement,r)){if(n!==null&&Kv(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=iy(r,i);var a=iy(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var LN=ro&&"documentMode"in document&&11>=document.documentMode,ic=null,W0=null,qu=null,q0=!1;function ay(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;q0||ic==null||ic!==op(n)||(n=ic,"selectionStart"in n&&Kv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qu&&yd(qu,n)||(qu=n,n=fp(W0,"onSelect"),0<n.length&&(e=new Hv("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ic)))}function Qh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ac={animationend:Qh("Animation","AnimationEnd"),animationiteration:Qh("Animation","AnimationIteration"),animationstart:Qh("Animation","AnimationStart"),transitionend:Qh("Transition","TransitionEnd")},om={},l_={};ro&&(l_=document.createElement("div").style,"AnimationEvent"in window||(delete ac.animationend.animation,delete ac.animationiteration.animation,delete ac.animationstart.animation),"TransitionEvent"in window||delete ac.transitionend.transition);function ig(t){if(om[t])return om[t];if(!ac[t])return t;var e=ac[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in l_)return om[t]=e[r];return t}var c_=ig("animationend"),u_=ig("animationiteration"),d_=ig("animationstart"),h_=ig("transitionend"),f_=new Map,oy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vA(t,e){f_.set(t,e),fl(e,[t])}for(var Am=0;Am<oy.length;Am++){var lm=oy[Am],QN=lm.toLowerCase(),DN=lm[0].toUpperCase()+lm.slice(1);vA(QN,"on"+DN)}vA(c_,"onAnimationEnd");vA(u_,"onAnimationIteration");vA(d_,"onAnimationStart");vA("dblclick","onDoubleClick");vA("focusin","onFocus");vA("focusout","onBlur");vA(h_,"onTransitionEnd");Nc("onMouseEnter",["mouseout","mouseover"]);Nc("onMouseLeave",["mouseout","mouseover"]);Nc("onPointerEnter",["pointerout","pointerover"]);Nc("onPointerLeave",["pointerout","pointerover"]);fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fl("onBeforeInput",["compositionend","keypress","textInput","paste"]);fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Iu));function Ay(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Q3(n,e,void 0,t),t.currentTarget=null}function p_(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var A=n[a],l=A.instance,c=A.currentTarget;if(A=A.listener,l!==i&&s.isPropagationStopped())break e;Ay(s,A,c),i=l}else for(a=0;a<n.length;a++){if(A=n[a],l=A.instance,c=A.currentTarget,A=A.listener,l!==i&&s.isPropagationStopped())break e;Ay(s,A,c),i=l}}}if(lp)throw t=K0,lp=!1,K0=null,t}function Fr(t,e){var r=e[e1];r===void 0&&(r=e[e1]=new Set);var n=t+"__bubble";r.has(n)||(g_(e,t,2,!1),r.add(n))}function cm(t,e,r){var n=0;e&&(n|=4),g_(r,t,n,e)}var Dh="_reactListening"+Math.random().toString(36).slice(2);function bd(t){if(!t[Dh]){t[Dh]=!0,x5.forEach(function(r){r!=="selectionchange"&&(TN.has(r)||cm(r,!1,t),cm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Dh]||(e[Dh]=!0,cm("selectionchange",!1,e))}}function g_(t,e,r,n){switch(Z5(e)){case 1:var s=X3;break;case 4:s=Y3;break;default:s=Ov}r=s.bind(null,e,r,t),s=void 0,!z0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function um(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var A=n.stateNode.containerInfo;if(A===s||A.nodeType===8&&A.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;A!==null;){if(a=GA(A),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}A=A.parentNode}}n=n.return}O5(function(){var c=i,u=Qv(r),h=[];e:{var p=f_.get(t);if(p!==void 0){var d=Hv,w=t;switch(t){case"keypress":if(Rf(r)===0)break e;case"keydown":case"keyup":d=hN;break;case"focusin":w="focus",d=sm;break;case"focusout":w="blur",d=sm;break;case"beforeblur":case"afterblur":d=sm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=J2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=tN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=gN;break;case c_:case u_:case d_:d=sN;break;case h_:d=vN;break;case"scroll":d=Z3;break;case"wheel":d=yN;break;case"copy":case"cut":case"paste":d=aN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Y2}var m=(e&4)!==0,y=!m&&t==="scroll",g=m?p!==null?p+"Capture":null:p;m=[];for(var b=c,B;b!==null;){B=b;var C=B.stateNode;if(B.tag===5&&C!==null&&(B=C,g!==null&&(C=pd(b,g),C!=null&&m.push(Bd(b,C,B)))),y)break;b=b.return}0<m.length&&(p=new d(p,w,null,r,u),h.push({event:p,listeners:m}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",p&&r!==H0&&(w=r.relatedTarget||r.fromElement)&&(GA(w)||w[no]))break e;if((d||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,d?(w=r.relatedTarget||r.toElement,d=c,w=w?GA(w):null,w!==null&&(y=pl(w),w!==y||w.tag!==5&&w.tag!==6)&&(w=null)):(d=null,w=c),d!==w)){if(m=J2,C="onMouseLeave",g="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=Y2,C="onPointerLeave",g="onPointerEnter",b="pointer"),y=d==null?p:oc(d),B=w==null?p:oc(w),p=new m(C,b+"leave",d,r,u),p.target=y,p.relatedTarget=B,C=null,GA(u)===c&&(m=new m(g,b+"enter",w,r,u),m.target=B,m.relatedTarget=y,C=m),y=C,d&&w)t:{for(m=d,g=w,b=0,B=m;B;B=Il(B))b++;for(B=0,C=g;C;C=Il(C))B++;for(;0<b-B;)m=Il(m),b--;for(;0<B-b;)g=Il(g),B--;for(;b--;){if(m===g||g!==null&&m===g.alternate)break t;m=Il(m),g=Il(g)}m=null}else m=null;d!==null&&ly(h,p,d,m,!1),w!==null&&y!==null&&ly(h,y,w,m,!0)}}e:{if(p=c?oc(c):window,d=p.nodeName&&p.nodeName.toLowerCase(),d==="select"||d==="input"&&p.type==="file")var N=EN;else if(ty(p))if(i_)N=UN;else{N=NN;var L=kN}else(d=p.nodeName)&&d.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=FN);if(N&&(N=N(t,c))){s_(h,N,r,u);break e}L&&L(t,p,c),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&D0(p,"number",p.value)}switch(L=c?oc(c):window,t){case"focusin":(ty(L)||L.contentEditable==="true")&&(ic=L,W0=c,qu=null);break;case"focusout":qu=W0=ic=null;break;case"mousedown":q0=!0;break;case"contextmenu":case"mouseup":case"dragend":q0=!1,ay(h,r,u);break;case"selectionchange":if(LN)break;case"keydown":case"keyup":ay(h,r,u)}var Q;if(zv)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else sc?r_(t,r)&&(P="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(t_&&r.locale!=="ko"&&(sc||P!=="onCompositionStart"?P==="onCompositionEnd"&&sc&&(Q=e_()):(Vo=u,Rv="value"in Vo?Vo.value:Vo.textContent,sc=!0)),L=fp(c,P),0<L.length&&(P=new X2(P,t,null,r,u),h.push({event:P,listeners:L}),Q?P.data=Q:(Q=n_(r),Q!==null&&(P.data=Q)))),(Q=BN?xN(t,r):_N(t,r))&&(c=fp(c,"onBeforeInput"),0<c.length&&(u=new X2("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=Q))}p_(h,e)})}function Bd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function fp(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=pd(t,r),i!=null&&n.unshift(Bd(t,i,s)),i=pd(t,e),i!=null&&n.push(Bd(t,i,s))),t=t.return}return n}function Il(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ly(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var A=r,l=A.alternate,c=A.stateNode;if(l!==null&&l===n)break;A.tag===5&&c!==null&&(A=c,s?(l=pd(r,i),l!=null&&a.unshift(Bd(r,l,A))):s||(l=pd(r,i),l!=null&&a.push(Bd(r,l,A)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var PN=/\r\n?/g,ON=/\u0000|\uFFFD/g;function cy(t){return(typeof t=="string"?t:""+t).replace(PN,`
`).replace(ON,"")}function Th(t,e,r){if(e=cy(e),cy(t)!==e&&r)throw Error(Ye(425))}function pp(){}var J0=null,X0=null;function Y0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Z0=typeof setTimeout=="function"?setTimeout:void 0,RN=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,HN=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(t){return uy.resolve(null).then(t).catch(MN)}:Z0;function MN(t){setTimeout(function(){throw t})}function dm(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),vd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);vd(e)}function nA(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var zc=Math.random().toString(36).slice(2),ma="__reactFiber$"+zc,xd="__reactProps$"+zc,no="__reactContainer$"+zc,e1="__reactEvents$"+zc,zN="__reactListeners$"+zc,KN="__reactHandles$"+zc;function GA(t){var e=t[ma];if(e)return e;for(var r=t.parentNode;r;){if(e=r[no]||r[ma]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=dy(t);t!==null;){if(r=t[ma])return r;t=dy(t)}return e}t=r,r=t.parentNode}return null}function qd(t){return t=t[ma]||t[no],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function oc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ye(33))}function ag(t){return t[xd]||null}var t1=[],Ac=-1;function wA(t){return{current:t}}function jr(t){0>Ac||(t.current=t1[Ac],t1[Ac]=null,Ac--)}function _r(t,e){Ac++,t1[Ac]=t.current,t.current=e}var pA={},ls=wA(pA),Ls=wA(!1),al=pA;function Fc(t,e){var r=t.type.contextTypes;if(!r)return pA;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Qs(t){return t=t.childContextTypes,t!=null}function gp(){jr(Ls),jr(ls)}function hy(t,e,r){if(ls.current!==pA)throw Error(Ye(168));_r(ls,e),_r(Ls,r)}function m_(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Ye(108,k3(t)||"Unknown",s));return zr({},r,n)}function mp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pA,al=ls.current,_r(ls,t),_r(Ls,Ls.current),!0}function fy(t,e,r){var n=t.stateNode;if(!n)throw Error(Ye(169));r?(t=m_(t,e,al),n.__reactInternalMemoizedMergedChildContext=t,jr(Ls),jr(ls),_r(ls,t)):jr(Ls),_r(Ls,r)}var Ga=null,og=!1,hm=!1;function v_(t){Ga===null?Ga=[t]:Ga.push(t)}function $N(t){og=!0,v_(t)}function yA(){if(!hm&&Ga!==null){hm=!0;var t=0,e=cr;try{var r=Ga;for(cr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ga=null,og=!1}catch(s){throw Ga!==null&&(Ga=Ga.slice(t+1)),z5(Dv,yA),s}finally{cr=e,hm=!1}}return null}var lc=[],cc=0,vp=null,wp=0,xi=[],_i=0,ol=null,Xa=1,Ya="";function PA(t,e){lc[cc++]=wp,lc[cc++]=vp,vp=t,wp=e}function w_(t,e,r){xi[_i++]=Xa,xi[_i++]=Ya,xi[_i++]=ol,ol=t;var n=Xa;t=Ya;var s=32-Wi(n)-1;n&=~(1<<s),r+=1;var i=32-Wi(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Xa=1<<32-Wi(e)+s|r<<s|n,Ya=i+t}else Xa=1<<i|r<<s|n,Ya=t}function $v(t){t.return!==null&&(PA(t,1),w_(t,1,0))}function Vv(t){for(;t===vp;)vp=lc[--cc],lc[cc]=null,wp=lc[--cc],lc[cc]=null;for(;t===ol;)ol=xi[--_i],xi[_i]=null,Ya=xi[--_i],xi[_i]=null,Xa=xi[--_i],xi[_i]=null}var si=null,ti=null,Dr=!1,Gi=null;function y_(t,e){var r=Ei(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function py(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,si=t,ti=nA(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,si=t,ti=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ol!==null?{id:Xa,overflow:Ya}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ei(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,si=t,ti=null,!0):!1;default:return!1}}function r1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function n1(t){if(Dr){var e=ti;if(e){var r=e;if(!py(t,e)){if(r1(t))throw Error(Ye(418));e=nA(r.nextSibling);var n=si;e&&py(t,e)?y_(n,r):(t.flags=t.flags&-4097|2,Dr=!1,si=t)}}else{if(r1(t))throw Error(Ye(418));t.flags=t.flags&-4097|2,Dr=!1,si=t}}}function gy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;si=t}function Ph(t){if(t!==si)return!1;if(!Dr)return gy(t),Dr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Y0(t.type,t.memoizedProps)),e&&(e=ti)){if(r1(t))throw b_(),Error(Ye(418));for(;e;)y_(t,e),e=nA(e.nextSibling)}if(gy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ye(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ti=nA(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ti=null}}else ti=si?nA(t.stateNode.nextSibling):null;return!0}function b_(){for(var t=ti;t;)t=nA(t.nextSibling)}function Uc(){ti=si=null,Dr=!1}function Gv(t){Gi===null?Gi=[t]:Gi.push(t)}var VN=oo.ReactCurrentBatchConfig;function yu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ye(309));var n=r.stateNode}if(!n)throw Error(Ye(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var A=s.refs;a===null?delete A[i]:A[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Ye(284));if(!r._owner)throw Error(Ye(290,t))}return t}function Oh(t,e){throw t=Object.prototype.toString.call(e),Error(Ye(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function my(t){var e=t._init;return e(t._payload)}function B_(t){function e(g,b){if(t){var B=g.deletions;B===null?(g.deletions=[b],g.flags|=16):B.push(b)}}function r(g,b){if(!t)return null;for(;b!==null;)e(g,b),b=b.sibling;return null}function n(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function s(g,b){return g=oA(g,b),g.index=0,g.sibling=null,g}function i(g,b,B){return g.index=B,t?(B=g.alternate,B!==null?(B=B.index,B<b?(g.flags|=2,b):B):(g.flags|=2,b)):(g.flags|=1048576,b)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function A(g,b,B,C){return b===null||b.tag!==6?(b=ym(B,g.mode,C),b.return=g,b):(b=s(b,B),b.return=g,b)}function l(g,b,B,C){var N=B.type;return N===nc?u(g,b,B.props.children,C,B.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Po&&my(N)===b.type)?(C=s(b,B.props),C.ref=yu(g,b,B),C.return=g,C):(C=Gf(B.type,B.key,B.props,null,g.mode,C),C.ref=yu(g,b,B),C.return=g,C)}function c(g,b,B,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==B.containerInfo||b.stateNode.implementation!==B.implementation?(b=bm(B,g.mode,C),b.return=g,b):(b=s(b,B.children||[]),b.return=g,b)}function u(g,b,B,C,N){return b===null||b.tag!==7?(b=rl(B,g.mode,C,N),b.return=g,b):(b=s(b,B),b.return=g,b)}function h(g,b,B){if(typeof b=="string"&&b!==""||typeof b=="number")return b=ym(""+b,g.mode,B),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case kh:return B=Gf(b.type,b.key,b.props,null,g.mode,B),B.ref=yu(g,null,b),B.return=g,B;case rc:return b=bm(b,g.mode,B),b.return=g,b;case Po:var C=b._init;return h(g,C(b._payload),B)}if(Uu(b)||pu(b))return b=rl(b,g.mode,B,null),b.return=g,b;Oh(g,b)}return null}function p(g,b,B,C){var N=b!==null?b.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return N!==null?null:A(g,b,""+B,C);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case kh:return B.key===N?l(g,b,B,C):null;case rc:return B.key===N?c(g,b,B,C):null;case Po:return N=B._init,p(g,b,N(B._payload),C)}if(Uu(B)||pu(B))return N!==null?null:u(g,b,B,C,null);Oh(g,B)}return null}function d(g,b,B,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(B)||null,A(b,g,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case kh:return g=g.get(C.key===null?B:C.key)||null,l(b,g,C,N);case rc:return g=g.get(C.key===null?B:C.key)||null,c(b,g,C,N);case Po:var L=C._init;return d(g,b,B,L(C._payload),N)}if(Uu(C)||pu(C))return g=g.get(B)||null,u(b,g,C,N,null);Oh(b,C)}return null}function w(g,b,B,C){for(var N=null,L=null,Q=b,P=b=0,k=null;Q!==null&&P<B.length;P++){Q.index>P?(k=Q,Q=null):k=Q.sibling;var $=p(g,Q,B[P],C);if($===null){Q===null&&(Q=k);break}t&&Q&&$.alternate===null&&e(g,Q),b=i($,b,P),L===null?N=$:L.sibling=$,L=$,Q=k}if(P===B.length)return r(g,Q),Dr&&PA(g,P),N;if(Q===null){for(;P<B.length;P++)Q=h(g,B[P],C),Q!==null&&(b=i(Q,b,P),L===null?N=Q:L.sibling=Q,L=Q);return Dr&&PA(g,P),N}for(Q=n(g,Q);P<B.length;P++)k=d(Q,g,P,B[P],C),k!==null&&(t&&k.alternate!==null&&Q.delete(k.key===null?P:k.key),b=i(k,b,P),L===null?N=k:L.sibling=k,L=k);return t&&Q.forEach(function(D){return e(g,D)}),Dr&&PA(g,P),N}function m(g,b,B,C){var N=pu(B);if(typeof N!="function")throw Error(Ye(150));if(B=N.call(B),B==null)throw Error(Ye(151));for(var L=N=null,Q=b,P=b=0,k=null,$=B.next();Q!==null&&!$.done;P++,$=B.next()){Q.index>P?(k=Q,Q=null):k=Q.sibling;var D=p(g,Q,$.value,C);if(D===null){Q===null&&(Q=k);break}t&&Q&&D.alternate===null&&e(g,Q),b=i(D,b,P),L===null?N=D:L.sibling=D,L=D,Q=k}if($.done)return r(g,Q),Dr&&PA(g,P),N;if(Q===null){for(;!$.done;P++,$=B.next())$=h(g,$.value,C),$!==null&&(b=i($,b,P),L===null?N=$:L.sibling=$,L=$);return Dr&&PA(g,P),N}for(Q=n(g,Q);!$.done;P++,$=B.next())$=d(Q,g,P,$.value,C),$!==null&&(t&&$.alternate!==null&&Q.delete($.key===null?P:$.key),b=i($,b,P),L===null?N=$:L.sibling=$,L=$);return t&&Q.forEach(function(U){return e(g,U)}),Dr&&PA(g,P),N}function y(g,b,B,C){if(typeof B=="object"&&B!==null&&B.type===nc&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case kh:e:{for(var N=B.key,L=b;L!==null;){if(L.key===N){if(N=B.type,N===nc){if(L.tag===7){r(g,L.sibling),b=s(L,B.props.children),b.return=g,g=b;break e}}else if(L.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Po&&my(N)===L.type){r(g,L.sibling),b=s(L,B.props),b.ref=yu(g,L,B),b.return=g,g=b;break e}r(g,L);break}else e(g,L);L=L.sibling}B.type===nc?(b=rl(B.props.children,g.mode,C,B.key),b.return=g,g=b):(C=Gf(B.type,B.key,B.props,null,g.mode,C),C.ref=yu(g,b,B),C.return=g,g=C)}return a(g);case rc:e:{for(L=B.key;b!==null;){if(b.key===L)if(b.tag===4&&b.stateNode.containerInfo===B.containerInfo&&b.stateNode.implementation===B.implementation){r(g,b.sibling),b=s(b,B.children||[]),b.return=g,g=b;break e}else{r(g,b);break}else e(g,b);b=b.sibling}b=bm(B,g.mode,C),b.return=g,g=b}return a(g);case Po:return L=B._init,y(g,b,L(B._payload),C)}if(Uu(B))return w(g,b,B,C);if(pu(B))return m(g,b,B,C);Oh(g,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,b!==null&&b.tag===6?(r(g,b.sibling),b=s(b,B),b.return=g,g=b):(r(g,b),b=ym(B,g.mode,C),b.return=g,g=b),a(g)):r(g,b)}return y}var jc=B_(!0),x_=B_(!1),yp=wA(null),bp=null,uc=null,Wv=null;function qv(){Wv=uc=bp=null}function Jv(t){var e=yp.current;jr(yp),t._currentValue=e}function s1(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function yc(t,e){bp=t,Wv=uc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(js=!0),t.firstContext=null)}function Ui(t){var e=t._currentValue;if(Wv!==t)if(t={context:t,memoizedValue:e,next:null},uc===null){if(bp===null)throw Error(Ye(308));uc=t,bp.dependencies={lanes:0,firstContext:t}}else uc=uc.next=t;return e}var WA=null;function Xv(t){WA===null?WA=[t]:WA.push(t)}function __(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Xv(e)):(r.next=s.next,s.next=r),e.interleaved=r,so(t,n)}function so(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Oo=!1;function Yv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Za(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sA(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Jt&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,so(t,r)}return s=n.interleaved,s===null?(e.next=e,Xv(n)):(e.next=s.next,s.next=e),n.interleaved=e,so(t,r)}function Hf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Tv(t,r)}}function vy(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Bp(t,e,r,n){var s=t.updateQueue;Oo=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,A=s.shared.pending;if(A!==null){s.shared.pending=null;var l=A,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,A=u.lastBaseUpdate,A!==a&&(A===null?u.firstBaseUpdate=c:A.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;a=0,u=c=l=null,A=i;do{var p=A.lane,d=A.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:d,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var w=t,m=A;switch(p=e,d=r,m.tag){case 1:if(w=m.payload,typeof w=="function"){h=w.call(d,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=m.payload,p=typeof w=="function"?w.call(d,h,p):w,p==null)break e;h=zr({},h,p);break e;case 2:Oo=!0}}A.callback!==null&&A.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[A]:p.push(A))}else d={eventTime:d,lane:p,tag:A.tag,payload:A.payload,callback:A.callback,next:null},u===null?(c=u=d,l=h):u=u.next=d,a|=p;if(A=A.next,A===null){if(A=s.shared.pending,A===null)break;p=A,A=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ll|=a,t.lanes=a,t.memoizedState=h}}function wy(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Ye(191,s));s.call(n)}}}var Jd={},ba=wA(Jd),_d=wA(Jd),Cd=wA(Jd);function qA(t){if(t===Jd)throw Error(Ye(174));return t}function Zv(t,e){switch(_r(Cd,e),_r(_d,t),_r(ba,Jd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:P0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=P0(e,t)}jr(ba),_r(ba,e)}function Ic(){jr(ba),jr(_d),jr(Cd)}function S_(t){qA(Cd.current);var e=qA(ba.current),r=P0(e,t.type);e!==r&&(_r(_d,t),_r(ba,r))}function ew(t){_d.current===t&&(jr(ba),jr(_d))}var Hr=wA(0);function xp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fm=[];function tw(){for(var t=0;t<fm.length;t++)fm[t]._workInProgressVersionPrimary=null;fm.length=0}var Mf=oo.ReactCurrentDispatcher,pm=oo.ReactCurrentBatchConfig,Al=0,Mr=null,_n=null,Fn=null,_p=!1,Ju=!1,Sd=0,GN=0;function es(){throw Error(Ye(321))}function rw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ji(t[r],e[r]))return!1;return!0}function nw(t,e,r,n,s,i){if(Al=i,Mr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mf.current=t===null||t.memoizedState===null?XN:YN,t=r(n,s),Ju){i=0;do{if(Ju=!1,Sd=0,25<=i)throw Error(Ye(301));i+=1,Fn=_n=null,e.updateQueue=null,Mf.current=ZN,t=r(n,s)}while(Ju)}if(Mf.current=Cp,e=_n!==null&&_n.next!==null,Al=0,Fn=_n=Mr=null,_p=!1,e)throw Error(Ye(300));return t}function sw(){var t=Sd!==0;return Sd=0,t}function pa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?Mr.memoizedState=Fn=t:Fn=Fn.next=t,Fn}function ji(){if(_n===null){var t=Mr.alternate;t=t!==null?t.memoizedState:null}else t=_n.next;var e=Fn===null?Mr.memoizedState:Fn.next;if(e!==null)Fn=e,_n=t;else{if(t===null)throw Error(Ye(310));_n=t,t={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},Fn===null?Mr.memoizedState=Fn=t:Fn=Fn.next=t}return Fn}function Ed(t,e){return typeof e=="function"?e(t):e}function gm(t){var e=ji(),r=e.queue;if(r===null)throw Error(Ye(311));r.lastRenderedReducer=t;var n=_n,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var A=a=null,l=null,c=i;do{var u=c.lane;if((Al&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(A=l=h,a=n):l=l.next=h,Mr.lanes|=u,ll|=u}c=c.next}while(c!==null&&c!==i);l===null?a=n:l.next=A,Ji(n,e.memoizedState)||(js=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Mr.lanes|=i,ll|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function mm(t){var e=ji(),r=e.queue;if(r===null)throw Error(Ye(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Ji(i,e.memoizedState)||(js=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function E_(){}function k_(t,e){var r=Mr,n=ji(),s=e(),i=!Ji(n.memoizedState,s);if(i&&(n.memoizedState=s,js=!0),n=n.queue,iw(U_.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Fn!==null&&Fn.memoizedState.tag&1){if(r.flags|=2048,kd(9,F_.bind(null,r,n,s,e),void 0,null),jn===null)throw Error(Ye(349));Al&30||N_(r,e,s)}return s}function N_(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Mr.updateQueue,e===null?(e={lastEffect:null,stores:null},Mr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function F_(t,e,r,n){e.value=r,e.getSnapshot=n,j_(e)&&I_(t)}function U_(t,e,r){return r(function(){j_(e)&&I_(t)})}function j_(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ji(t,r)}catch{return!0}}function I_(t){var e=so(t,1);e!==null&&qi(e,t,1,-1)}function yy(t){var e=pa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ed,lastRenderedState:t},e.queue=t,t=t.dispatch=JN.bind(null,Mr,t),[e.memoizedState,t]}function kd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Mr.updateQueue,e===null?(e={lastEffect:null,stores:null},Mr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function L_(){return ji().memoizedState}function zf(t,e,r,n){var s=pa();Mr.flags|=t,s.memoizedState=kd(1|e,r,void 0,n===void 0?null:n)}function Ag(t,e,r,n){var s=ji();n=n===void 0?null:n;var i=void 0;if(_n!==null){var a=_n.memoizedState;if(i=a.destroy,n!==null&&rw(n,a.deps)){s.memoizedState=kd(e,r,i,n);return}}Mr.flags|=t,s.memoizedState=kd(1|e,r,i,n)}function by(t,e){return zf(8390656,8,t,e)}function iw(t,e){return Ag(2048,8,t,e)}function Q_(t,e){return Ag(4,2,t,e)}function D_(t,e){return Ag(4,4,t,e)}function T_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function P_(t,e,r){return r=r!=null?r.concat([t]):null,Ag(4,4,T_.bind(null,e,t),r)}function aw(){}function O_(t,e){var r=ji();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&rw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function R_(t,e){var r=ji();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&rw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function H_(t,e,r){return Al&21?(Ji(r,e)||(r=V5(),Mr.lanes|=r,ll|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,js=!0),t.memoizedState=r)}function WN(t,e){var r=cr;cr=r!==0&&4>r?r:4,t(!0);var n=pm.transition;pm.transition={};try{t(!1),e()}finally{cr=r,pm.transition=n}}function M_(){return ji().memoizedState}function qN(t,e,r){var n=aA(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},z_(t))K_(e,r);else if(r=__(t,e,r,n),r!==null){var s=bs();qi(r,t,n,s),$_(r,e,n)}}function JN(t,e,r){var n=aA(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(z_(t))K_(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,A=i(a,r);if(s.hasEagerState=!0,s.eagerState=A,Ji(A,a)){var l=e.interleaved;l===null?(s.next=s,Xv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=__(t,e,s,n),r!==null&&(s=bs(),qi(r,t,n,s),$_(r,e,n))}}function z_(t){var e=t.alternate;return t===Mr||e!==null&&e===Mr}function K_(t,e){Ju=_p=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function $_(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Tv(t,r)}}var Cp={readContext:Ui,useCallback:es,useContext:es,useEffect:es,useImperativeHandle:es,useInsertionEffect:es,useLayoutEffect:es,useMemo:es,useReducer:es,useRef:es,useState:es,useDebugValue:es,useDeferredValue:es,useTransition:es,useMutableSource:es,useSyncExternalStore:es,useId:es,unstable_isNewReconciler:!1},XN={readContext:Ui,useCallback:function(t,e){return pa().memoizedState=[t,e===void 0?null:e],t},useContext:Ui,useEffect:by,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,zf(4194308,4,T_.bind(null,e,t),r)},useLayoutEffect:function(t,e){return zf(4194308,4,t,e)},useInsertionEffect:function(t,e){return zf(4,2,t,e)},useMemo:function(t,e){var r=pa();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=pa();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=qN.bind(null,Mr,t),[n.memoizedState,t]},useRef:function(t){var e=pa();return t={current:t},e.memoizedState=t},useState:yy,useDebugValue:aw,useDeferredValue:function(t){return pa().memoizedState=t},useTransition:function(){var t=yy(!1),e=t[0];return t=WN.bind(null,t[1]),pa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Mr,s=pa();if(Dr){if(r===void 0)throw Error(Ye(407));r=r()}else{if(r=e(),jn===null)throw Error(Ye(349));Al&30||N_(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,by(U_.bind(null,n,i,t),[t]),n.flags|=2048,kd(9,F_.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=pa(),e=jn.identifierPrefix;if(Dr){var r=Ya,n=Xa;r=(n&~(1<<32-Wi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Sd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=GN++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YN={readContext:Ui,useCallback:O_,useContext:Ui,useEffect:iw,useImperativeHandle:P_,useInsertionEffect:Q_,useLayoutEffect:D_,useMemo:R_,useReducer:gm,useRef:L_,useState:function(){return gm(Ed)},useDebugValue:aw,useDeferredValue:function(t){var e=ji();return H_(e,_n.memoizedState,t)},useTransition:function(){var t=gm(Ed)[0],e=ji().memoizedState;return[t,e]},useMutableSource:E_,useSyncExternalStore:k_,useId:M_,unstable_isNewReconciler:!1},ZN={readContext:Ui,useCallback:O_,useContext:Ui,useEffect:iw,useImperativeHandle:P_,useInsertionEffect:Q_,useLayoutEffect:D_,useMemo:R_,useReducer:mm,useRef:L_,useState:function(){return mm(Ed)},useDebugValue:aw,useDeferredValue:function(t){var e=ji();return _n===null?e.memoizedState=t:H_(e,_n.memoizedState,t)},useTransition:function(){var t=mm(Ed)[0],e=ji().memoizedState;return[t,e]},useMutableSource:E_,useSyncExternalStore:k_,useId:M_,unstable_isNewReconciler:!1};function Ki(t,e){if(t&&t.defaultProps){e=zr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function i1(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:zr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var lg={isMounted:function(t){return(t=t._reactInternals)?pl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=bs(),s=aA(t),i=Za(n,s);i.payload=e,r!=null&&(i.callback=r),e=sA(t,i,s),e!==null&&(qi(e,t,s,n),Hf(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=bs(),s=aA(t),i=Za(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=sA(t,i,s),e!==null&&(qi(e,t,s,n),Hf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=bs(),n=aA(t),s=Za(r,n);s.tag=2,e!=null&&(s.callback=e),e=sA(t,s,n),e!==null&&(qi(e,t,n,r),Hf(e,t,n))}};function By(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!yd(r,n)||!yd(s,i):!0}function V_(t,e,r){var n=!1,s=pA,i=e.contextType;return typeof i=="object"&&i!==null?i=Ui(i):(s=Qs(e)?al:ls.current,n=e.contextTypes,i=(n=n!=null)?Fc(t,s):pA),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function xy(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&lg.enqueueReplaceState(e,e.state,null)}function a1(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Yv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ui(i):(i=Qs(e)?al:ls.current,s.context=Fc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(i1(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&lg.enqueueReplaceState(s,s.state,null),Bp(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Lc(t,e){try{var r="",n=e;do r+=E3(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function vm(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function o1(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var eF=typeof WeakMap=="function"?WeakMap:Map;function G_(t,e,r){r=Za(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ep||(Ep=!0,m1=n),o1(t,e)},r}function W_(t,e,r){r=Za(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){o1(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){o1(t,e),typeof n!="function"&&(iA===null?iA=new Set([this]):iA.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function _y(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new eF;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=fF.bind(null,t,e,r),e.then(t,t))}function Cy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sy(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Za(-1,1),e.tag=2,sA(r,e,1))),r.lanes|=1),t)}var tF=oo.ReactCurrentOwner,js=!1;function vs(t,e,r,n){e.child=t===null?x_(e,null,r,n):jc(e,t.child,r,n)}function Ey(t,e,r,n,s){r=r.render;var i=e.ref;return yc(e,s),n=nw(t,e,r,n,i,s),r=sw(),t!==null&&!js?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,io(t,e,s)):(Dr&&r&&$v(e),e.flags|=1,vs(t,e,n,s),e.child)}function ky(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!fw(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,q_(t,e,i,n,s)):(t=Gf(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:yd,r(a,n)&&t.ref===e.ref)return io(t,e,s)}return e.flags|=1,t=oA(i,n),t.ref=e.ref,t.return=e,e.child=t}function q_(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(yd(i,n)&&t.ref===e.ref)if(js=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(js=!0);else return e.lanes=t.lanes,io(t,e,s)}return A1(t,e,r,n,s)}function J_(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_r(hc,Ys),Ys|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_r(hc,Ys),Ys|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,_r(hc,Ys),Ys|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,_r(hc,Ys),Ys|=n;return vs(t,e,s,r),e.child}function X_(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function A1(t,e,r,n,s){var i=Qs(r)?al:ls.current;return i=Fc(e,i),yc(e,s),r=nw(t,e,r,n,i,s),n=sw(),t!==null&&!js?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,io(t,e,s)):(Dr&&n&&$v(e),e.flags|=1,vs(t,e,r,s),e.child)}function Ny(t,e,r,n,s){if(Qs(r)){var i=!0;mp(e)}else i=!1;if(yc(e,s),e.stateNode===null)Kf(t,e),V_(e,r,n),a1(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,A=e.memoizedProps;a.props=A;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ui(c):(c=Qs(r)?al:ls.current,c=Fc(e,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(A!==n||l!==c)&&xy(e,a,n,c),Oo=!1;var p=e.memoizedState;a.state=p,Bp(e,n,a,s),l=e.memoizedState,A!==n||p!==l||Ls.current||Oo?(typeof u=="function"&&(i1(e,r,u,n),l=e.memoizedState),(A=Oo||By(e,r,A,n,p,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=A):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,C_(t,e),A=e.memoizedProps,c=e.type===e.elementType?A:Ki(e.type,A),a.props=c,h=e.pendingProps,p=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ui(l):(l=Qs(r)?al:ls.current,l=Fc(e,l));var d=r.getDerivedStateFromProps;(u=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(A!==h||p!==l)&&xy(e,a,n,l),Oo=!1,p=e.memoizedState,a.state=p,Bp(e,n,a,s);var w=e.memoizedState;A!==h||p!==w||Ls.current||Oo?(typeof d=="function"&&(i1(e,r,d,n),w=e.memoizedState),(c=Oo||By(e,r,c,n,p,w,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,w,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,w,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||A===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),a.props=n,a.state=w,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||A===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return l1(t,e,r,n,i,s)}function l1(t,e,r,n,s,i){X_(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&fy(e,r,!1),io(t,e,i);n=e.stateNode,tF.current=e;var A=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=jc(e,t.child,null,i),e.child=jc(e,null,A,i)):vs(t,e,A,i),e.memoizedState=n.state,s&&fy(e,r,!0),e.child}function Y_(t){var e=t.stateNode;e.pendingContext?hy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hy(t,e.context,!1),Zv(t,e.containerInfo)}function Fy(t,e,r,n,s){return Uc(),Gv(s),e.flags|=256,vs(t,e,r,n),e.child}var c1={dehydrated:null,treeContext:null,retryLane:0};function u1(t){return{baseLanes:t,cachePool:null,transitions:null}}function Z_(t,e,r){var n=e.pendingProps,s=Hr.current,i=!1,a=(e.flags&128)!==0,A;if((A=a)||(A=t!==null&&t.memoizedState===null?!1:(s&2)!==0),A?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),_r(Hr,s&1),t===null)return n1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=dg(a,n,0,null),t=rl(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=u1(r),e.memoizedState=c1,t):ow(e,a));if(s=t.memoizedState,s!==null&&(A=s.dehydrated,A!==null))return rF(t,e,a,n,A,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,A=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=oA(s,l),n.subtreeFlags=s.subtreeFlags&14680064),A!==null?i=oA(A,i):(i=rl(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?u1(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=c1,n}return i=t.child,t=i.sibling,n=oA(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ow(t,e){return e=dg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rh(t,e,r,n){return n!==null&&Gv(n),jc(e,t.child,null,r),t=ow(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rF(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=vm(Error(Ye(422))),Rh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=dg({mode:"visible",children:n.children},s,0,null),i=rl(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&jc(e,t.child,null,a),e.child.memoizedState=u1(a),e.memoizedState=c1,i);if(!(e.mode&1))return Rh(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var A=n.dgst;return n=A,i=Error(Ye(419)),n=vm(i,n,void 0),Rh(t,e,a,n)}if(A=(a&t.childLanes)!==0,js||A){if(n=jn,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,so(t,s),qi(n,t,s,-1))}return hw(),n=vm(Error(Ye(421))),Rh(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=pF.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ti=nA(s.nextSibling),si=e,Dr=!0,Gi=null,t!==null&&(xi[_i++]=Xa,xi[_i++]=Ya,xi[_i++]=ol,Xa=t.id,Ya=t.overflow,ol=e),e=ow(e,n.children),e.flags|=4096,e)}function Uy(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),s1(t.return,e,r)}function wm(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function eC(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(vs(t,e,n.children,r),n=Hr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uy(t,r,e);else if(t.tag===19)Uy(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(_r(Hr,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&xp(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),wm(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&xp(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}wm(e,!0,r,null,i);break;case"together":wm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function io(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ll|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ye(153));if(e.child!==null){for(t=e.child,r=oA(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=oA(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function nF(t,e,r){switch(e.tag){case 3:Y_(e),Uc();break;case 5:S_(e);break;case 1:Qs(e.type)&&mp(e);break;case 4:Zv(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;_r(yp,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(_r(Hr,Hr.current&1),e.flags|=128,null):r&e.child.childLanes?Z_(t,e,r):(_r(Hr,Hr.current&1),t=io(t,e,r),t!==null?t.sibling:null);_r(Hr,Hr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return eC(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_r(Hr,Hr.current),n)break;return null;case 22:case 23:return e.lanes=0,J_(t,e,r)}return io(t,e,r)}var tC,d1,rC,nC;tC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};d1=function(){};rC=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,qA(ba.current);var i=null;switch(r){case"input":s=L0(t,s),n=L0(t,n),i=[];break;case"select":s=zr({},s,{value:void 0}),n=zr({},n,{value:void 0}),i=[];break;case"textarea":s=T0(t,s),n=T0(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=pp)}O0(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var A=s[c];for(a in A)A.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hd.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(A=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==A&&(l!=null||A!=null))if(c==="style")if(A){for(a in A)!A.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&A[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,A=A?A.__html:void 0,l!=null&&A!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Fr("scroll",t),i||A===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};nC=function(t,e,r,n){r!==n&&(e.flags|=4)};function bu(t,e){if(!Dr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ts(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function sF(t,e,r){var n=e.pendingProps;switch(Vv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ts(e),null;case 1:return Qs(e.type)&&gp(),ts(e),null;case 3:return n=e.stateNode,Ic(),jr(Ls),jr(ls),tw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ph(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gi!==null&&(y1(Gi),Gi=null))),d1(t,e),ts(e),null;case 5:ew(e);var s=qA(Cd.current);if(r=e.type,t!==null&&e.stateNode!=null)rC(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ye(166));return ts(e),null}if(t=qA(ba.current),Ph(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[ma]=e,n[xd]=i,t=(e.mode&1)!==0,r){case"dialog":Fr("cancel",n),Fr("close",n);break;case"iframe":case"object":case"embed":Fr("load",n);break;case"video":case"audio":for(s=0;s<Iu.length;s++)Fr(Iu[s],n);break;case"source":Fr("error",n);break;case"img":case"image":case"link":Fr("error",n),Fr("load",n);break;case"details":Fr("toggle",n);break;case"input":R2(n,i),Fr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Fr("invalid",n);break;case"textarea":M2(n,i),Fr("invalid",n)}O0(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var A=i[a];a==="children"?typeof A=="string"?n.textContent!==A&&(i.suppressHydrationWarning!==!0&&Th(n.textContent,A,t),s=["children",A]):typeof A=="number"&&n.textContent!==""+A&&(i.suppressHydrationWarning!==!0&&Th(n.textContent,A,t),s=["children",""+A]):hd.hasOwnProperty(a)&&A!=null&&a==="onScroll"&&Fr("scroll",n)}switch(r){case"input":Nh(n),H2(n,i,!0);break;case"textarea":Nh(n),z2(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=pp)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=U5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[ma]=e,t[xd]=n,tC(t,e,!1,!1),e.stateNode=t;e:{switch(a=R0(r,n),r){case"dialog":Fr("cancel",t),Fr("close",t),s=n;break;case"iframe":case"object":case"embed":Fr("load",t),s=n;break;case"video":case"audio":for(s=0;s<Iu.length;s++)Fr(Iu[s],t);s=n;break;case"source":Fr("error",t),s=n;break;case"img":case"image":case"link":Fr("error",t),Fr("load",t),s=n;break;case"details":Fr("toggle",t),s=n;break;case"input":R2(t,n),s=L0(t,n),Fr("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=zr({},n,{value:void 0}),Fr("invalid",t);break;case"textarea":M2(t,n),s=T0(t,n),Fr("invalid",t);break;default:s=n}O0(r,s),A=s;for(i in A)if(A.hasOwnProperty(i)){var l=A[i];i==="style"?L5(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&j5(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&fd(t,l):typeof l=="number"&&fd(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Fr("scroll",t):l!=null&&Uv(t,i,l,a))}switch(r){case"input":Nh(t),H2(t,n,!1);break;case"textarea":Nh(t),z2(t);break;case"option":n.value!=null&&t.setAttribute("value",""+fA(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?gc(t,!!n.multiple,i,!1):n.defaultValue!=null&&gc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=pp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ts(e),null;case 6:if(t&&e.stateNode!=null)nC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ye(166));if(r=qA(Cd.current),qA(ba.current),Ph(e)){if(n=e.stateNode,r=e.memoizedProps,n[ma]=e,(i=n.nodeValue!==r)&&(t=si,t!==null))switch(t.tag){case 3:Th(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Th(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ma]=e,e.stateNode=n}return ts(e),null;case 13:if(jr(Hr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Dr&&ti!==null&&e.mode&1&&!(e.flags&128))b_(),Uc(),e.flags|=98560,i=!1;else if(i=Ph(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Ye(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ye(317));i[ma]=e}else Uc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ts(e),i=!1}else Gi!==null&&(y1(Gi),Gi=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Hr.current&1?Sn===0&&(Sn=3):hw())),e.updateQueue!==null&&(e.flags|=4),ts(e),null);case 4:return Ic(),d1(t,e),t===null&&bd(e.stateNode.containerInfo),ts(e),null;case 10:return Jv(e.type._context),ts(e),null;case 17:return Qs(e.type)&&gp(),ts(e),null;case 19:if(jr(Hr),i=e.memoizedState,i===null)return ts(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)bu(i,!1);else{if(Sn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=xp(t),a!==null){for(e.flags|=128,bu(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return _r(Hr,Hr.current&1|2),e.child}t=t.sibling}i.tail!==null&&rn()>Qc&&(e.flags|=128,n=!0,bu(i,!1),e.lanes=4194304)}else{if(!n)if(t=xp(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),bu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Dr)return ts(e),null}else 2*rn()-i.renderingStartTime>Qc&&r!==1073741824&&(e.flags|=128,n=!0,bu(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=rn(),e.sibling=null,r=Hr.current,_r(Hr,n?r&1|2:r&1),e):(ts(e),null);case 22:case 23:return dw(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ys&1073741824&&(ts(e),e.subtreeFlags&6&&(e.flags|=8192)):ts(e),null;case 24:return null;case 25:return null}throw Error(Ye(156,e.tag))}function iF(t,e){switch(Vv(e),e.tag){case 1:return Qs(e.type)&&gp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ic(),jr(Ls),jr(ls),tw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ew(e),null;case 13:if(jr(Hr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ye(340));Uc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return jr(Hr),null;case 4:return Ic(),null;case 10:return Jv(e.type._context),null;case 22:case 23:return dw(),null;case 24:return null;default:return null}}var Hh=!1,As=!1,aF=typeof WeakSet=="function"?WeakSet:Set,ft=null;function dc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){qr(t,e,n)}else r.current=null}function h1(t,e,r){try{r()}catch(n){qr(t,e,n)}}var jy=!1;function oF(t,e){if(J0=dp,t=A_(),Kv(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,A=-1,l=-1,c=0,u=0,h=t,p=null;t:for(;;){for(var d;h!==r||s!==0&&h.nodeType!==3||(A=a+s),h!==i||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(d=h.firstChild)!==null;)p=h,h=d;for(;;){if(h===t)break t;if(p===r&&++c===s&&(A=a),p===i&&++u===n&&(l=a),(d=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=d}r=A===-1||l===-1?null:{start:A,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(X0={focusedElem:t,selectionRange:r},dp=!1,ft=e;ft!==null;)if(e=ft,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ft=t;else for(;ft!==null;){e=ft;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var m=w.memoizedProps,y=w.memoizedState,g=e.stateNode,b=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Ki(e.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var B=e.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ye(163))}}catch(C){qr(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ft=t;break}ft=e.return}return w=jy,jy=!1,w}function Xu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&h1(e,r,i)}s=s.next}while(s!==n)}}function cg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function f1(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function sC(t){var e=t.alternate;e!==null&&(t.alternate=null,sC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ma],delete e[xd],delete e[e1],delete e[zN],delete e[KN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iC(t){return t.tag===5||t.tag===3||t.tag===4}function Iy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function p1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=pp));else if(n!==4&&(t=t.child,t!==null))for(p1(t,e,r),t=t.sibling;t!==null;)p1(t,e,r),t=t.sibling}function g1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(g1(t,e,r),t=t.sibling;t!==null;)g1(t,e,r),t=t.sibling}var Mn=null,Vi=!1;function Uo(t,e,r){for(r=r.child;r!==null;)aC(t,e,r),r=r.sibling}function aC(t,e,r){if(ya&&typeof ya.onCommitFiberUnmount=="function")try{ya.onCommitFiberUnmount(rg,r)}catch{}switch(r.tag){case 5:As||dc(r,e);case 6:var n=Mn,s=Vi;Mn=null,Uo(t,e,r),Mn=n,Vi=s,Mn!==null&&(Vi?(t=Mn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Mn.removeChild(r.stateNode));break;case 18:Mn!==null&&(Vi?(t=Mn,r=r.stateNode,t.nodeType===8?dm(t.parentNode,r):t.nodeType===1&&dm(t,r),vd(t)):dm(Mn,r.stateNode));break;case 4:n=Mn,s=Vi,Mn=r.stateNode.containerInfo,Vi=!0,Uo(t,e,r),Mn=n,Vi=s;break;case 0:case 11:case 14:case 15:if(!As&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&h1(r,e,a),s=s.next}while(s!==n)}Uo(t,e,r);break;case 1:if(!As&&(dc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(A){qr(r,e,A)}Uo(t,e,r);break;case 21:Uo(t,e,r);break;case 22:r.mode&1?(As=(n=As)||r.memoizedState!==null,Uo(t,e,r),As=n):Uo(t,e,r);break;default:Uo(t,e,r)}}function Ly(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new aF),e.forEach(function(n){var s=gF.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ri(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,A=a;e:for(;A!==null;){switch(A.tag){case 5:Mn=A.stateNode,Vi=!1;break e;case 3:Mn=A.stateNode.containerInfo,Vi=!0;break e;case 4:Mn=A.stateNode.containerInfo,Vi=!0;break e}A=A.return}if(Mn===null)throw Error(Ye(160));aC(i,a,s),Mn=null,Vi=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){qr(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oC(e,t),e=e.sibling}function oC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ri(e,t),ua(t),n&4){try{Xu(3,t,t.return),cg(3,t)}catch(m){qr(t,t.return,m)}try{Xu(5,t,t.return)}catch(m){qr(t,t.return,m)}}break;case 1:Ri(e,t),ua(t),n&512&&r!==null&&dc(r,r.return);break;case 5:if(Ri(e,t),ua(t),n&512&&r!==null&&dc(r,r.return),t.flags&32){var s=t.stateNode;try{fd(s,"")}catch(m){qr(t,t.return,m)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,A=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{A==="input"&&i.type==="radio"&&i.name!=null&&N5(s,i),R0(A,a);var c=R0(A,i);for(a=0;a<l.length;a+=2){var u=l[a],h=l[a+1];u==="style"?L5(s,h):u==="dangerouslySetInnerHTML"?j5(s,h):u==="children"?fd(s,h):Uv(s,u,h,c)}switch(A){case"input":Q0(s,i);break;case"textarea":F5(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var d=i.value;d!=null?gc(s,!!i.multiple,d,!1):p!==!!i.multiple&&(i.defaultValue!=null?gc(s,!!i.multiple,i.defaultValue,!0):gc(s,!!i.multiple,i.multiple?[]:"",!1))}s[xd]=i}catch(m){qr(t,t.return,m)}}break;case 6:if(Ri(e,t),ua(t),n&4){if(t.stateNode===null)throw Error(Ye(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){qr(t,t.return,m)}}break;case 3:if(Ri(e,t),ua(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vd(e.containerInfo)}catch(m){qr(t,t.return,m)}break;case 4:Ri(e,t),ua(t);break;case 13:Ri(e,t),ua(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(cw=rn())),n&4&&Ly(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(As=(c=As)||u,Ri(e,t),As=c):Ri(e,t),ua(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ft=t,u=t.child;u!==null;){for(h=ft=u;ft!==null;){switch(p=ft,d=p.child,p.tag){case 0:case 11:case 14:case 15:Xu(4,p,p.return);break;case 1:dc(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(m){qr(n,r,m)}}break;case 5:dc(p,p.return);break;case 22:if(p.memoizedState!==null){Dy(h);continue}}d!==null?(d.return=p,ft=d):Dy(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(A=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,A.style.display=I5("display",a))}catch(m){qr(t,t.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){qr(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ri(e,t),ua(t),n&4&&Ly(t);break;case 21:break;default:Ri(e,t),ua(t)}}function ua(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(iC(r)){var n=r;break e}r=r.return}throw Error(Ye(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(fd(s,""),n.flags&=-33);var i=Iy(t);g1(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,A=Iy(t);p1(t,A,a);break;default:throw Error(Ye(161))}}catch(l){qr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AF(t,e,r){ft=t,AC(t)}function AC(t,e,r){for(var n=(t.mode&1)!==0;ft!==null;){var s=ft,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Hh;if(!a){var A=s.alternate,l=A!==null&&A.memoizedState!==null||As;A=Hh;var c=As;if(Hh=a,(As=l)&&!c)for(ft=s;ft!==null;)a=ft,l=a.child,a.tag===22&&a.memoizedState!==null?Ty(s):l!==null?(l.return=a,ft=l):Ty(s);for(;i!==null;)ft=i,AC(i),i=i.sibling;ft=s,Hh=A,As=c}Qy(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ft=i):Qy(t)}}function Qy(t){for(;ft!==null;){var e=ft;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:As||cg(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!As)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ki(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&wy(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}wy(e,a,r)}break;case 5:var A=e.stateNode;if(r===null&&e.flags&4){r=A;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&vd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ye(163))}As||e.flags&512&&f1(e)}catch(p){qr(e,e.return,p)}}if(e===t){ft=null;break}if(r=e.sibling,r!==null){r.return=e.return,ft=r;break}ft=e.return}}function Dy(t){for(;ft!==null;){var e=ft;if(e===t){ft=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ft=r;break}ft=e.return}}function Ty(t){for(;ft!==null;){var e=ft;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{cg(4,e)}catch(l){qr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){qr(e,s,l)}}var i=e.return;try{f1(e)}catch(l){qr(e,i,l)}break;case 5:var a=e.return;try{f1(e)}catch(l){qr(e,a,l)}}}catch(l){qr(e,e.return,l)}if(e===t){ft=null;break}var A=e.sibling;if(A!==null){A.return=e.return,ft=A;break}ft=e.return}}var lF=Math.ceil,Sp=oo.ReactCurrentDispatcher,Aw=oo.ReactCurrentOwner,Fi=oo.ReactCurrentBatchConfig,Jt=0,jn=null,fn=null,Vn=0,Ys=0,hc=wA(0),Sn=0,Nd=null,ll=0,ug=0,lw=0,Yu=null,Us=null,cw=0,Qc=1/0,$a=null,Ep=!1,m1=null,iA=null,Mh=!1,Go=null,kp=0,Zu=0,v1=null,$f=-1,Vf=0;function bs(){return Jt&6?rn():$f!==-1?$f:$f=rn()}function aA(t){return t.mode&1?Jt&2&&Vn!==0?Vn&-Vn:VN.transition!==null?(Vf===0&&(Vf=V5()),Vf):(t=cr,t!==0||(t=window.event,t=t===void 0?16:Z5(t.type)),t):1}function qi(t,e,r,n){if(50<Zu)throw Zu=0,v1=null,Error(Ye(185));Gd(t,r,n),(!(Jt&2)||t!==jn)&&(t===jn&&(!(Jt&2)&&(ug|=r),Sn===4&&Mo(t,Vn)),Ds(t,n),r===1&&Jt===0&&!(e.mode&1)&&(Qc=rn()+500,og&&yA()))}function Ds(t,e){var r=t.callbackNode;V3(t,e);var n=up(t,t===jn?Vn:0);if(n===0)r!==null&&V2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&V2(r),e===1)t.tag===0?$N(Py.bind(null,t)):v_(Py.bind(null,t)),HN(function(){!(Jt&6)&&yA()}),r=null;else{switch(G5(n)){case 1:r=Dv;break;case 4:r=K5;break;case 16:r=cp;break;case 536870912:r=$5;break;default:r=cp}r=gC(r,lC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function lC(t,e){if($f=-1,Vf=0,Jt&6)throw Error(Ye(327));var r=t.callbackNode;if(bc()&&t.callbackNode!==r)return null;var n=up(t,t===jn?Vn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Np(t,n);else{e=n;var s=Jt;Jt|=2;var i=uC();(jn!==t||Vn!==e)&&($a=null,Qc=rn()+500,tl(t,e));do try{dF();break}catch(A){cC(t,A)}while(1);qv(),Sp.current=i,Jt=s,fn!==null?e=0:(jn=null,Vn=0,e=Sn)}if(e!==0){if(e===2&&(s=$0(t),s!==0&&(n=s,e=w1(t,s))),e===1)throw r=Nd,tl(t,0),Mo(t,n),Ds(t,rn()),r;if(e===6)Mo(t,n);else{if(s=t.current.alternate,!(n&30)&&!cF(s)&&(e=Np(t,n),e===2&&(i=$0(t),i!==0&&(n=i,e=w1(t,i))),e===1))throw r=Nd,tl(t,0),Mo(t,n),Ds(t,rn()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Ye(345));case 2:OA(t,Us,$a);break;case 3:if(Mo(t,n),(n&130023424)===n&&(e=cw+500-rn(),10<e)){if(up(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){bs(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Z0(OA.bind(null,t,Us,$a),e);break}OA(t,Us,$a);break;case 4:if(Mo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-Wi(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=rn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lF(n/1960))-n,10<n){t.timeoutHandle=Z0(OA.bind(null,t,Us,$a),n);break}OA(t,Us,$a);break;case 5:OA(t,Us,$a);break;default:throw Error(Ye(329))}}}return Ds(t,rn()),t.callbackNode===r?lC.bind(null,t):null}function w1(t,e){var r=Yu;return t.current.memoizedState.isDehydrated&&(tl(t,e).flags|=256),t=Np(t,e),t!==2&&(e=Us,Us=r,e!==null&&y1(e)),t}function y1(t){Us===null?Us=t:Us.push.apply(Us,t)}function cF(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ji(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mo(t,e){for(e&=~lw,e&=~ug,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Wi(e),n=1<<r;t[r]=-1,e&=~n}}function Py(t){if(Jt&6)throw Error(Ye(327));bc();var e=up(t,0);if(!(e&1))return Ds(t,rn()),null;var r=Np(t,e);if(t.tag!==0&&r===2){var n=$0(t);n!==0&&(e=n,r=w1(t,n))}if(r===1)throw r=Nd,tl(t,0),Mo(t,e),Ds(t,rn()),r;if(r===6)throw Error(Ye(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,OA(t,Us,$a),Ds(t,rn()),null}function uw(t,e){var r=Jt;Jt|=1;try{return t(e)}finally{Jt=r,Jt===0&&(Qc=rn()+500,og&&yA())}}function cl(t){Go!==null&&Go.tag===0&&!(Jt&6)&&bc();var e=Jt;Jt|=1;var r=Fi.transition,n=cr;try{if(Fi.transition=null,cr=1,t)return t()}finally{cr=n,Fi.transition=r,Jt=e,!(Jt&6)&&yA()}}function dw(){Ys=hc.current,jr(hc)}function tl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,RN(r)),fn!==null)for(r=fn.return;r!==null;){var n=r;switch(Vv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gp();break;case 3:Ic(),jr(Ls),jr(ls),tw();break;case 5:ew(n);break;case 4:Ic();break;case 13:jr(Hr);break;case 19:jr(Hr);break;case 10:Jv(n.type._context);break;case 22:case 23:dw()}r=r.return}if(jn=t,fn=t=oA(t.current,null),Vn=Ys=e,Sn=0,Nd=null,lw=ug=ll=0,Us=Yu=null,WA!==null){for(e=0;e<WA.length;e++)if(r=WA[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}WA=null}return t}function cC(t,e){do{var r=fn;try{if(qv(),Mf.current=Cp,_p){for(var n=Mr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}_p=!1}if(Al=0,Fn=_n=Mr=null,Ju=!1,Sd=0,Aw.current=null,r===null||r.return===null){Sn=1,Nd=e,fn=null;break}e:{var i=t,a=r.return,A=r,l=e;if(e=Vn,A.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=A,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=Cy(a);if(d!==null){d.flags&=-257,Sy(d,a,A,i,e),d.mode&1&&_y(i,c,e),e=d,l=c;var w=e.updateQueue;if(w===null){var m=new Set;m.add(l),e.updateQueue=m}else w.add(l);break e}else{if(!(e&1)){_y(i,c,e),hw();break e}l=Error(Ye(426))}}else if(Dr&&A.mode&1){var y=Cy(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Sy(y,a,A,i,e),Gv(Lc(l,A));break e}}i=l=Lc(l,A),Sn!==4&&(Sn=2),Yu===null?Yu=[i]:Yu.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=G_(i,l,e);vy(i,g);break e;case 1:A=l;var b=i.type,B=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(iA===null||!iA.has(B)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=W_(i,A,e);vy(i,C);break e}}i=i.return}while(i!==null)}hC(r)}catch(N){e=N,fn===r&&r!==null&&(fn=r=r.return);continue}break}while(1)}function uC(){var t=Sp.current;return Sp.current=Cp,t===null?Cp:t}function hw(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),jn===null||!(ll&268435455)&&!(ug&268435455)||Mo(jn,Vn)}function Np(t,e){var r=Jt;Jt|=2;var n=uC();(jn!==t||Vn!==e)&&($a=null,tl(t,e));do try{uF();break}catch(s){cC(t,s)}while(1);if(qv(),Jt=r,Sp.current=n,fn!==null)throw Error(Ye(261));return jn=null,Vn=0,Sn}function uF(){for(;fn!==null;)dC(fn)}function dF(){for(;fn!==null&&!T3();)dC(fn)}function dC(t){var e=pC(t.alternate,t,Ys);t.memoizedProps=t.pendingProps,e===null?hC(t):fn=e,Aw.current=null}function hC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=iF(r,e),r!==null){r.flags&=32767,fn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Sn=6,fn=null;return}}else if(r=sF(r,e,Ys),r!==null){fn=r;return}if(e=e.sibling,e!==null){fn=e;return}fn=e=t}while(e!==null);Sn===0&&(Sn=5)}function OA(t,e,r){var n=cr,s=Fi.transition;try{Fi.transition=null,cr=1,hF(t,e,r,n)}finally{Fi.transition=s,cr=n}return null}function hF(t,e,r,n){do bc();while(Go!==null);if(Jt&6)throw Error(Ye(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ye(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(G3(t,i),t===jn&&(fn=jn=null,Vn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Mh||(Mh=!0,gC(cp,function(){return bc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Fi.transition,Fi.transition=null;var a=cr;cr=1;var A=Jt;Jt|=4,Aw.current=null,oF(t,r),oC(r,t),IN(X0),dp=!!J0,X0=J0=null,t.current=r,AF(r),P3(),Jt=A,cr=a,Fi.transition=i}else t.current=r;if(Mh&&(Mh=!1,Go=t,kp=s),i=t.pendingLanes,i===0&&(iA=null),H3(r.stateNode),Ds(t,rn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ep)throw Ep=!1,t=m1,m1=null,t;return kp&1&&t.tag!==0&&bc(),i=t.pendingLanes,i&1?t===v1?Zu++:(Zu=0,v1=t):Zu=0,yA(),null}function bc(){if(Go!==null){var t=G5(kp),e=Fi.transition,r=cr;try{if(Fi.transition=null,cr=16>t?16:t,Go===null)var n=!1;else{if(t=Go,Go=null,kp=0,Jt&6)throw Error(Ye(331));var s=Jt;for(Jt|=4,ft=t.current;ft!==null;){var i=ft,a=i.child;if(ft.flags&16){var A=i.deletions;if(A!==null){for(var l=0;l<A.length;l++){var c=A[l];for(ft=c;ft!==null;){var u=ft;switch(u.tag){case 0:case 11:case 15:Xu(8,u,i)}var h=u.child;if(h!==null)h.return=u,ft=h;else for(;ft!==null;){u=ft;var p=u.sibling,d=u.return;if(sC(u),u===c){ft=null;break}if(p!==null){p.return=d,ft=p;break}ft=d}}}var w=i.alternate;if(w!==null){var m=w.child;if(m!==null){w.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}ft=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ft=a;else e:for(;ft!==null;){if(i=ft,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xu(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,ft=g;break e}ft=i.return}}var b=t.current;for(ft=b;ft!==null;){a=ft;var B=a.child;if(a.subtreeFlags&2064&&B!==null)B.return=a,ft=B;else e:for(a=b;ft!==null;){if(A=ft,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:cg(9,A)}}catch(N){qr(A,A.return,N)}if(A===a){ft=null;break e}var C=A.sibling;if(C!==null){C.return=A.return,ft=C;break e}ft=A.return}}if(Jt=s,yA(),ya&&typeof ya.onPostCommitFiberRoot=="function")try{ya.onPostCommitFiberRoot(rg,t)}catch{}n=!0}return n}finally{cr=r,Fi.transition=e}}return!1}function Oy(t,e,r){e=Lc(r,e),e=G_(t,e,1),t=sA(t,e,1),e=bs(),t!==null&&(Gd(t,1,e),Ds(t,e))}function qr(t,e,r){if(t.tag===3)Oy(t,t,r);else for(;e!==null;){if(e.tag===3){Oy(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(iA===null||!iA.has(n))){t=Lc(r,t),t=W_(e,t,1),e=sA(e,t,1),t=bs(),e!==null&&(Gd(e,1,t),Ds(e,t));break}}e=e.return}}function fF(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=bs(),t.pingedLanes|=t.suspendedLanes&r,jn===t&&(Vn&r)===r&&(Sn===4||Sn===3&&(Vn&130023424)===Vn&&500>rn()-cw?tl(t,0):lw|=r),Ds(t,e)}function fC(t,e){e===0&&(t.mode&1?(e=jh,jh<<=1,!(jh&130023424)&&(jh=4194304)):e=1);var r=bs();t=so(t,e),t!==null&&(Gd(t,e,r),Ds(t,r))}function pF(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),fC(t,r)}function gF(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ye(314))}n!==null&&n.delete(e),fC(t,r)}var pC;pC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ls.current)js=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return js=!1,nF(t,e,r);js=!!(t.flags&131072)}else js=!1,Dr&&e.flags&1048576&&w_(e,wp,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Kf(t,e),t=e.pendingProps;var s=Fc(e,ls.current);yc(e,r),s=nw(null,e,n,t,s,r);var i=sw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qs(n)?(i=!0,mp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Yv(e),s.updater=lg,e.stateNode=s,s._reactInternals=e,a1(e,n,t,r),e=l1(null,e,n,!0,i,r)):(e.tag=0,Dr&&i&&$v(e),vs(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Kf(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=vF(n),t=Ki(n,t),s){case 0:e=A1(null,e,n,t,r);break e;case 1:e=Ny(null,e,n,t,r);break e;case 11:e=Ey(null,e,n,t,r);break e;case 14:e=ky(null,e,n,Ki(n.type,t),r);break e}throw Error(Ye(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ki(n,s),A1(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ki(n,s),Ny(t,e,n,s,r);case 3:e:{if(Y_(e),t===null)throw Error(Ye(387));n=e.pendingProps,i=e.memoizedState,s=i.element,C_(t,e),Bp(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Lc(Error(Ye(423)),e),e=Fy(t,e,n,r,s);break e}else if(n!==s){s=Lc(Error(Ye(424)),e),e=Fy(t,e,n,r,s);break e}else for(ti=nA(e.stateNode.containerInfo.firstChild),si=e,Dr=!0,Gi=null,r=x_(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Uc(),n===s){e=io(t,e,r);break e}vs(t,e,n,r)}e=e.child}return e;case 5:return S_(e),t===null&&n1(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Y0(n,s)?a=null:i!==null&&Y0(n,i)&&(e.flags|=32),X_(t,e),vs(t,e,a,r),e.child;case 6:return t===null&&n1(e),null;case 13:return Z_(t,e,r);case 4:return Zv(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=jc(e,null,n,r):vs(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ki(n,s),Ey(t,e,n,s,r);case 7:return vs(t,e,e.pendingProps,r),e.child;case 8:return vs(t,e,e.pendingProps.children,r),e.child;case 12:return vs(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,_r(yp,n._currentValue),n._currentValue=a,i!==null)if(Ji(i.value,a)){if(i.children===s.children&&!Ls.current){e=io(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var A=i.dependencies;if(A!==null){a=i.child;for(var l=A.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Za(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),s1(i.return,r,e),A.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Ye(341));a.lanes|=r,A=a.alternate,A!==null&&(A.lanes|=r),s1(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}vs(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,yc(e,r),s=Ui(s),n=n(s),e.flags|=1,vs(t,e,n,r),e.child;case 14:return n=e.type,s=Ki(n,e.pendingProps),s=Ki(n.type,s),ky(t,e,n,s,r);case 15:return q_(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ki(n,s),Kf(t,e),e.tag=1,Qs(n)?(t=!0,mp(e)):t=!1,yc(e,r),V_(e,n,s),a1(e,n,s,r),l1(null,e,n,!0,t,r);case 19:return eC(t,e,r);case 22:return J_(t,e,r)}throw Error(Ye(156,e.tag))};function gC(t,e){return z5(t,e)}function mF(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ei(t,e,r,n){return new mF(t,e,r,n)}function fw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vF(t){if(typeof t=="function")return fw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Iv)return 11;if(t===Lv)return 14}return 2}function oA(t,e){var r=t.alternate;return r===null?(r=Ei(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Gf(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")fw(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case nc:return rl(r.children,s,i,e);case jv:a=8,s|=8;break;case F0:return t=Ei(12,r,e,s|2),t.elementType=F0,t.lanes=i,t;case U0:return t=Ei(13,r,e,s),t.elementType=U0,t.lanes=i,t;case j0:return t=Ei(19,r,e,s),t.elementType=j0,t.lanes=i,t;case S5:return dg(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _5:a=10;break e;case C5:a=9;break e;case Iv:a=11;break e;case Lv:a=14;break e;case Po:a=16,n=null;break e}throw Error(Ye(130,t==null?t:typeof t,""))}return e=Ei(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function rl(t,e,r,n){return t=Ei(7,t,n,e),t.lanes=r,t}function dg(t,e,r,n){return t=Ei(22,t,n,e),t.elementType=S5,t.lanes=r,t.stateNode={isHidden:!1},t}function ym(t,e,r){return t=Ei(6,t,null,e),t.lanes=r,t}function bm(t,e,r){return e=Ei(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wF(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tm(0),this.expirationTimes=tm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tm(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pw(t,e,r,n,s,i,a,A,l){return t=new wF(t,e,r,A,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ei(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yv(i),t}function yF(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function mC(t){if(!t)return pA;t=t._reactInternals;e:{if(pl(t)!==t||t.tag!==1)throw Error(Ye(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ye(171))}if(t.tag===1){var r=t.type;if(Qs(r))return m_(t,r,e)}return e}function vC(t,e,r,n,s,i,a,A,l){return t=pw(r,n,!0,t,s,i,a,A,l),t.context=mC(null),r=t.current,n=bs(),s=aA(r),i=Za(n,s),i.callback=e??null,sA(r,i,s),t.current.lanes=s,Gd(t,s,n),Ds(t,n),t}function hg(t,e,r,n){var s=e.current,i=bs(),a=aA(s);return r=mC(r),e.context===null?e.context=r:e.pendingContext=r,e=Za(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=sA(s,e,a),t!==null&&(qi(t,s,a,i),Hf(t,s,a)),a}function Fp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ry(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function gw(t,e){Ry(t,e),(t=t.alternate)&&Ry(t,e)}function bF(){return null}var wC=typeof reportError=="function"?reportError:function(t){console.error(t)};function mw(t){this._internalRoot=t}fg.prototype.render=mw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ye(409));hg(t,e,null,null)};fg.prototype.unmount=mw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cl(function(){hg(null,t,null,null)}),e[no]=null}};function fg(t){this._internalRoot=t}fg.prototype.unstable_scheduleHydration=function(t){if(t){var e=J5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ho.length&&e!==0&&e<Ho[r].priority;r++);Ho.splice(r,0,t),r===0&&Y5(t)}};function vw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hy(){}function BF(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Fp(a);i.call(c)}}var a=vC(e,n,t,0,null,!1,!1,"",Hy);return t._reactRootContainer=a,t[no]=a.current,bd(t.nodeType===8?t.parentNode:t),cl(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var A=n;n=function(){var c=Fp(l);A.call(c)}}var l=pw(t,0,!1,null,null,!1,!1,"",Hy);return t._reactRootContainer=l,t[no]=l.current,bd(t.nodeType===8?t.parentNode:t),cl(function(){hg(e,l,r,n)}),l}function gg(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var A=s;s=function(){var l=Fp(a);A.call(l)}}hg(e,a,t,s)}else a=BF(r,e,t,s,n);return Fp(a)}W5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ju(e.pendingLanes);r!==0&&(Tv(e,r|1),Ds(e,rn()),!(Jt&6)&&(Qc=rn()+500,yA()))}break;case 13:cl(function(){var n=so(t,1);if(n!==null){var s=bs();qi(n,t,1,s)}}),gw(t,1)}};Pv=function(t){if(t.tag===13){var e=so(t,134217728);if(e!==null){var r=bs();qi(e,t,134217728,r)}gw(t,134217728)}};q5=function(t){if(t.tag===13){var e=aA(t),r=so(t,e);if(r!==null){var n=bs();qi(r,t,e,n)}gw(t,e)}};J5=function(){return cr};X5=function(t,e){var r=cr;try{return cr=t,e()}finally{cr=r}};M0=function(t,e,r){switch(e){case"input":if(Q0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=ag(n);if(!s)throw Error(Ye(90));k5(n),Q0(n,s)}}}break;case"textarea":F5(t,r);break;case"select":e=r.value,e!=null&&gc(t,!!r.multiple,e,!1)}};T5=uw;P5=cl;var xF={usingClientEntryPoint:!1,Events:[qd,oc,ag,Q5,D5,uw]},Bu={findFiberByHostInstance:GA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_F={bundleType:Bu.bundleType,version:Bu.version,rendererPackageName:Bu.rendererPackageName,rendererConfig:Bu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=H5(t),t===null?null:t.stateNode},findFiberByHostInstance:Bu.findFiberByHostInstance||bF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{rg=zh.inject(_F),ya=zh}catch{}}oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xF;oi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vw(e))throw Error(Ye(200));return yF(t,e,null,r)};oi.createRoot=function(t,e){if(!vw(t))throw Error(Ye(299));var r=!1,n="",s=wC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=pw(t,1,!1,null,null,r,!1,n,s),t[no]=e.current,bd(t.nodeType===8?t.parentNode:t),new mw(e)};oi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ye(188)):(t=Object.keys(t).join(","),Error(Ye(268,t)));return t=H5(e),t=t===null?null:t.stateNode,t};oi.flushSync=function(t){return cl(t)};oi.hydrate=function(t,e,r){if(!pg(e))throw Error(Ye(200));return gg(null,t,e,!0,r)};oi.hydrateRoot=function(t,e,r){if(!vw(t))throw Error(Ye(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=wC;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=vC(e,null,t,1,r??null,s,!1,i,a),t[no]=e.current,bd(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new fg(e)};oi.render=function(t,e,r){if(!pg(e))throw Error(Ye(200));return gg(null,t,e,!1,r)};oi.unmountComponentAtNode=function(t){if(!pg(t))throw Error(Ye(40));return t._reactRootContainer?(cl(function(){gg(null,null,t,!1,function(){t._reactRootContainer=null,t[no]=null})}),!0):!1};oi.unstable_batchedUpdates=uw;oi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!pg(r))throw Error(Ye(200));if(t==null||t._reactInternals===void 0)throw Error(Ye(38));return gg(t,e,r,!1,n)};oi.version="18.3.1-next-f1338f8080-20240426";function yC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yC)}catch(t){console.error(t)}}yC(),y5.exports=oi;var CF=y5.exports,My=CF;k0.createRoot=My.createRoot,k0.hydrateRoot=My.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fd.apply(this,arguments)}var Wo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wo||(Wo={}));const zy="popstate";function SF(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:A}=n.location;return b1("",{pathname:i,search:a,hash:A},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Up(s)}return kF(e,r,null,t)}function pn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EF(){return Math.random().toString(36).substr(2,8)}function Ky(t,e){return{usr:t.state,key:t.key,idx:e}}function b1(t,e,r,n){return r===void 0&&(r=null),Fd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Kc(e):e,{state:r,key:e&&e.key||n||EF()})}function Up(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Kc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function kF(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,A=Wo.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(Fd({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function h(){A=Wo.Pop;let y=u(),g=y==null?null:y-c;c=y,l&&l({action:A,location:m.location,delta:g})}function p(y,g){A=Wo.Push;let b=b1(m.location,y,g);r&&r(b,y),c=u()+1;let B=Ky(b,c),C=m.createHref(b);try{a.pushState(B,"",C)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(C)}i&&l&&l({action:A,location:m.location,delta:1})}function d(y,g){A=Wo.Replace;let b=b1(m.location,y,g);r&&r(b,y),c=u();let B=Ky(b,c),C=m.createHref(b);a.replaceState(B,"",C),i&&l&&l({action:A,location:m.location,delta:0})}function w(y){let g=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof y=="string"?y:Up(y);return b=b.replace(/ $/,"%20"),pn(g,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,g)}let m={get action(){return A},get location(){return t(s,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(zy,h),l=y,()=>{s.removeEventListener(zy,h),l=null}},createHref(y){return e(s,y)},createURL:w,encodeLocation(y){let g=w(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:d,go(y){return a.go(y)}};return m}var $y;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($y||($y={}));function NF(t,e,r){return r===void 0&&(r="/"),FF(t,e,r,!1)}function FF(t,e,r,n){let s=typeof e=="string"?Kc(e):e,i=ww(s.pathname||"/",r);if(i==null)return null;let a=BC(t);UF(a);let A=null;for(let l=0;A==null&&l<a.length;++l){let c=MF(i);A=RF(a[l],c,n)}return A}function BC(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,A)=>{let l={relativePath:A===void 0?i.path||"":A,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(pn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=AA([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(pn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),BC(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:PF(c,i.index),routesMeta:u})};return t.forEach((i,a)=>{var A;if(i.path===""||!((A=i.path)!=null&&A.includes("?")))s(i,a);else for(let l of xC(i.path))s(i,a,l)}),e}function xC(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=xC(n.join("/")),A=[];return A.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&A.push(...a),A.map(l=>t.startsWith("/")&&l===""?"/":l)}function UF(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:OF(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const jF=/^:[\w-]+$/,IF=3,LF=2,QF=1,DF=10,TF=-2,Vy=t=>t==="*";function PF(t,e){let r=t.split("/"),n=r.length;return r.some(Vy)&&(n+=TF),e&&(n+=LF),r.filter(s=>!Vy(s)).reduce((s,i)=>s+(jF.test(i)?IF:i===""?QF:DF),n)}function OF(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function RF(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,s={},i="/",a=[];for(let A=0;A<n.length;++A){let l=n[A],c=A===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=Gy({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=Gy({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:AA([i,h.pathname]),pathnameBase:VF(AA([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=AA([i,h.pathnameBase]))}return a}function Gy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=HF(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),A=s.slice(1);return{params:n.reduce((c,u,h)=>{let{paramName:p,isOptional:d}=u;if(p==="*"){let m=A[h]||"";a=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const w=A[h];return d&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function HF(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),bC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,A,l)=>(n.push({paramName:A,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function MF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ww(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function zF(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Kc(t):t;return{pathname:r?r.startsWith("/")?r:KF(r,e):e,search:GF(n),hash:WF(s)}}function KF(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Bm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $F(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function _C(t,e){let r=$F(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function CC(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Kc(t):(s=Fd({},t),pn(!s.pathname||!s.pathname.includes("?"),Bm("?","pathname","search",s)),pn(!s.pathname||!s.pathname.includes("#"),Bm("#","pathname","hash",s)),pn(!s.search||!s.search.includes("#"),Bm("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,A;if(a==null)A=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}A=h>=0?e[h]:"/"}let l=zF(s,A),c=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const AA=t=>t.join("/").replace(/\/\/+/g,"/"),VF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),GF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const SC=["post","put","patch","delete"];new Set(SC);const JF=["get",...SC];new Set(JF);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ud(){return Ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ud.apply(this,arguments)}const yw=W.createContext(null),XF=W.createContext(null),gl=W.createContext(null),mg=W.createContext(null),ml=W.createContext({outlet:null,matches:[],isDataRoute:!1}),EC=W.createContext(null);function YF(t,e){let{relative:r}=e===void 0?{}:e;Xd()||pn(!1);let{basename:n,navigator:s}=W.useContext(gl),{hash:i,pathname:a,search:A}=NC(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:AA([n,a])),s.createHref({pathname:l,search:A,hash:i})}function Xd(){return W.useContext(mg)!=null}function $c(){return Xd()||pn(!1),W.useContext(mg).location}function kC(t){W.useContext(gl).static||W.useLayoutEffect(t)}function Ao(){let{isDataRoute:t}=W.useContext(ml);return t?uU():ZF()}function ZF(){Xd()||pn(!1);let t=W.useContext(yw),{basename:e,future:r,navigator:n}=W.useContext(gl),{matches:s}=W.useContext(ml),{pathname:i}=$c(),a=JSON.stringify(_C(s,r.v7_relativeSplatPath)),A=W.useRef(!1);return kC(()=>{A.current=!0}),W.useCallback(function(c,u){if(u===void 0&&(u={}),!A.current)return;if(typeof c=="number"){n.go(c);return}let h=CC(c,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:AA([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,a,i,t])}function NC(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=W.useContext(gl),{matches:s}=W.useContext(ml),{pathname:i}=$c(),a=JSON.stringify(_C(s,n.v7_relativeSplatPath));return W.useMemo(()=>CC(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function eU(t,e){return tU(t,e)}function tU(t,e,r,n){Xd()||pn(!1);let{navigator:s}=W.useContext(gl),{matches:i}=W.useContext(ml),a=i[i.length-1],A=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=$c(),u;if(e){var h;let y=typeof e=="string"?Kc(e):e;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||pn(!1),u=y}else u=c;let p=u.pathname||"/",d=p;if(l!=="/"){let y=l.replace(/^\//,"").split("/");d="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let w=NF(t,{pathname:d}),m=aU(w&&w.map(y=>Object.assign({},y,{params:Object.assign({},A,y.params),pathname:AA([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:AA([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return e&&m?W.createElement(mg.Provider,{value:{location:Ud({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wo.Pop}},m):m}function rU(){let t=cU(),e=qF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),r?W.createElement("pre",{style:s},r):null,i)}const nU=W.createElement(rU,null);class sU extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?W.createElement(ml.Provider,{value:this.props.routeContext},W.createElement(EC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iU(t){let{routeContext:e,match:r,children:n}=t,s=W.useContext(yw);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),W.createElement(ml.Provider,{value:e},n)}function aU(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,A=(s=r)==null?void 0:s.errors;if(A!=null){let u=a.findIndex(h=>h.route.id&&(A==null?void 0:A[h.route.id])!==void 0);u>=0||pn(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let h=a[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:d}=r,w=h.route.loader&&p[h.route.id]===void 0&&(!d||d[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,h,p)=>{let d,w=!1,m=null,y=null;r&&(d=A&&h.route.id?A[h.route.id]:void 0,m=h.route.errorElement||nU,l&&(c<0&&p===0?(dU("route-fallback",!1),w=!0,y=null):c===p&&(w=!0,y=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,p+1)),b=()=>{let B;return d?B=m:w?B=y:h.route.Component?B=W.createElement(h.route.Component,null):h.route.element?B=h.route.element:B=u,W.createElement(iU,{match:h,routeContext:{outlet:u,matches:g,isDataRoute:r!=null},children:B})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?W.createElement(sU,{location:r.location,revalidation:r.revalidation,component:m,error:d,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):b()},null)}var FC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(FC||{}),jp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(jp||{});function oU(t){let e=W.useContext(yw);return e||pn(!1),e}function AU(t){let e=W.useContext(XF);return e||pn(!1),e}function lU(t){let e=W.useContext(ml);return e||pn(!1),e}function UC(t){let e=lU(),r=e.matches[e.matches.length-1];return r.route.id||pn(!1),r.route.id}function cU(){var t;let e=W.useContext(EC),r=AU(jp.UseRouteError),n=UC(jp.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function uU(){let{router:t}=oU(FC.UseNavigateStable),e=UC(jp.UseNavigateStable),r=W.useRef(!1);return kC(()=>{r.current=!0}),W.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ud({fromRouteId:e},i)))},[t,e])}const Wy={};function dU(t,e,r){!e&&!Wy[t]&&(Wy[t]=!0)}function hU(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Rn(t){pn(!1)}function fU(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Wo.Pop,navigator:i,static:a=!1,future:A}=t;Xd()&&pn(!1);let l=e.replace(/^\/*/,"/"),c=W.useMemo(()=>({basename:l,navigator:i,static:a,future:Ud({v7_relativeSplatPath:!1},A)}),[l,A,i,a]);typeof n=="string"&&(n=Kc(n));let{pathname:u="/",search:h="",hash:p="",state:d=null,key:w="default"}=n,m=W.useMemo(()=>{let y=ww(u,l);return y==null?null:{location:{pathname:y,search:h,hash:p,state:d,key:w},navigationType:s}},[l,u,h,p,d,w,s]);return m==null?null:W.createElement(gl.Provider,{value:c},W.createElement(mg.Provider,{children:r,value:m}))}function qy(t){let{children:e,location:r}=t;return eU(B1(e),r)}new Promise(()=>{});function B1(t,e){e===void 0&&(e=[]);let r=[];return W.Children.forEach(t,(n,s)=>{if(!W.isValidElement(n))return;let i=[...e,s];if(n.type===W.Fragment){r.push.apply(r,B1(n.props.children,i));return}n.type!==Rn&&pn(!1),!n.props.index||!n.props.children||pn(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=B1(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x1(){return x1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x1.apply(this,arguments)}function pU(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function gU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mU(t,e){return t.button===0&&(!e||e==="_self")&&!gU(t)}function _1(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function vU(t,e){let r=_1(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(i=>{r.append(s,i)})}),r}const wU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yU="6";try{window.__reactRouterVersion=yU}catch{}const bU="startTransition",Jy=f3[bU];function BU(t){let{basename:e,children:r,future:n,window:s}=t,i=W.useRef();i.current==null&&(i.current=SF({window:s,v5Compat:!0}));let a=i.current,[A,l]=W.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},u=W.useCallback(h=>{c&&Jy?Jy(()=>l(h)):l(h)},[l,c]);return W.useLayoutEffect(()=>a.listen(u),[a,u]),W.useEffect(()=>hU(n),[n]),W.createElement(fU,{basename:e,children:r,location:A.location,navigationType:A.action,navigator:a,future:n})}const xU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_U=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ip=W.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:A,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,p=pU(e,wU),{basename:d}=W.useContext(gl),w,m=!1;if(typeof c=="string"&&_U.test(c)&&(w=c,xU))try{let B=new URL(window.location.href),C=c.startsWith("//")?new URL(B.protocol+c):new URL(c),N=ww(C.pathname,d);C.origin===B.origin&&N!=null?c=N+C.search+C.hash:m=!0}catch{}let y=YF(c,{relative:s}),g=CU(c,{replace:a,state:A,target:l,preventScrollReset:u,relative:s,viewTransition:h});function b(B){n&&n(B),B.defaultPrevented||g(B)}return W.createElement("a",x1({},p,{href:w||y,onClick:m||i?n:b,ref:r,target:l}))});var Xy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Xy||(Xy={}));var Yy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Yy||(Yy={}));function CU(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:A}=e===void 0?{}:e,l=Ao(),c=$c(),u=NC(t,{relative:a});return W.useCallback(h=>{if(mU(h,r)){h.preventDefault();let p=n!==void 0?n:Up(c)===Up(u);l(t,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:A})}},[c,l,u,n,s,r,t,i,a,A])}function SU(t){let e=W.useRef(_1(t)),r=W.useRef(!1),n=$c(),s=W.useMemo(()=>vU(n.search,r.current?null:e.current),[n.search]),i=Ao(),a=W.useCallback((A,l)=>{const c=_1(typeof A=="function"?A(s):A);r.current=!0,i("?"+c,l)},[i,s]);return[s,a]}var C1=function(t,e){return C1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},C1(t,e)};function jC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");C1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Lp=function(){return Lp=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Lp.apply(this,arguments)};function Vc(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function IC(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var A=t.length-1;A>=0;A--)(a=t[A])&&(i=(s<3?a(i):s>3?a(e,r,i):a(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function LC(t,e){return function(r,n){e(r,n,t)}}function QC(t,e,r,n,s,i){function a(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var A=n.kind,l=A==="getter"?"get":A==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),h,p=!1,d=r.length-1;d>=0;d--){var w={};for(var m in n)w[m]=m==="access"?{}:n[m];for(var m in n.access)w.access[m]=n.access[m];w.addInitializer=function(g){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(g||null))};var y=(0,r[d])(A==="accessor"?{get:u.get,set:u.set}:u[l],w);if(A==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=a(y.get))&&(u.get=h),(h=a(y.set))&&(u.set=h),(h=a(y.init))&&s.unshift(h)}else(h=a(y))&&(A==="field"?s.unshift(h):u[l]=h)}c&&Object.defineProperty(c,n.name,u),p=!0}function DC(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function TC(t){return typeof t=="symbol"?t:"".concat(t)}function PC(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function OC(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Bt(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(h){a(h)}}function l(u){try{c(n.throw(u))}catch(h){a(h)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})}function RC(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=A(0),a.throw=A(1),a.return=A(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function A(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var vg=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function HC(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&vg(e,t,r)}function Qp(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bw(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(A){a={error:A}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function MC(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(bw(arguments[e]));return t}function zC(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],a=0,A=i.length;a<A;a++,s++)n[s]=i[a];return n}function KC(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Dc(t){return this instanceof Dc?(this.v=t,this):new Dc(t)}function $C(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),A("next"),A("throw"),A("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(d){return function(w){return Promise.resolve(w).then(d,h)}}function A(d,w){n[d]&&(s[d]=function(m){return new Promise(function(y,g){i.push([d,m,y,g])>1||l(d,m)})},w&&(s[d]=w(s[d])))}function l(d,w){try{c(n[d](w))}catch(m){p(i[0][3],m)}}function c(d){d.value instanceof Dc?Promise.resolve(d.value.v).then(u,h):p(i[0][2],d)}function u(d){l("next",d)}function h(d){l("throw",d)}function p(d,w){d(w),i.shift(),i.length&&l(i[0][0],i[0][1])}}function VC(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(a){return(r=!r)?{value:Dc(t[s](a)),done:!1}:i?i(a):a}:i}}function GC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Qp=="function"?Qp(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(A,l){a=t[i](a),s(A,l,a.done,a.value)})}}function s(i,a,A,l){Promise.resolve(l).then(function(c){i({value:c,done:A})},a)}}function WC(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var EU=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},S1=function(t){return S1=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},S1(t)};function qC(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=S1(t),n=0;n<r.length;n++)r[n]!=="default"&&vg(e,t,r[n]);return EU(e,t),e}function JC(t){return t&&t.__esModule?t:{default:t}}function XC(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function YC(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function ZC(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function e4(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var kU=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function t4(t){function e(i){t.error=t.hasError?new kU(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(a){return e(a),s()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function r4(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,a){return n?e?".jsx":".js":s&&(!i||!a)?r:s+i+"."+a.toLowerCase()+"js"}):t}const NU={__extends:jC,__assign:Lp,__rest:Vc,__decorate:IC,__param:LC,__esDecorate:QC,__runInitializers:DC,__propKey:TC,__setFunctionName:PC,__metadata:OC,__awaiter:Bt,__generator:RC,__createBinding:vg,__exportStar:HC,__values:Qp,__read:bw,__spread:MC,__spreadArrays:zC,__spreadArray:KC,__await:Dc,__asyncGenerator:$C,__asyncDelegator:VC,__asyncValues:GC,__makeTemplateObject:WC,__importStar:qC,__importDefault:JC,__classPrivateFieldGet:XC,__classPrivateFieldSet:YC,__classPrivateFieldIn:ZC,__addDisposableResource:e4,__disposeResources:t4,__rewriteRelativeImportExtension:r4},FU=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:e4,get __assign(){return Lp},__asyncDelegator:VC,__asyncGenerator:$C,__asyncValues:GC,__await:Dc,__awaiter:Bt,__classPrivateFieldGet:XC,__classPrivateFieldIn:ZC,__classPrivateFieldSet:YC,__createBinding:vg,__decorate:IC,__disposeResources:t4,__esDecorate:QC,__exportStar:HC,__extends:jC,__generator:RC,__importDefault:JC,__importStar:qC,__makeTemplateObject:WC,__metadata:OC,__param:LC,__propKey:TC,__read:bw,__rest:Vc,__rewriteRelativeImportExtension:r4,__runInitializers:DC,__setFunctionName:PC,__spread:MC,__spreadArray:KC,__spreadArrays:zC,__values:Qp,default:NU},Symbol.toStringTag,{value:"Module"})),UU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Bw extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class jU extends Bw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Zy extends Bw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class eb extends Bw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var E1;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(E1||(E1={}));class IU{constructor(e,{headers:r={},customFetch:n,region:s=E1.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=UU(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Bt(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:A,method:l,body:c,signal:u,timeout:h}=n;let p={},{region:d}=n;d||(d=this.region);const w=new URL(`${this.url}/${r}`);d&&d!=="any"&&(p["x-region"]=d,w.searchParams.set("forceFunctionRegion",d));let m;c&&(A&&!Object.prototype.hasOwnProperty.call(A,"Content-Type")||!A)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(p["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(p["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let y=u;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),u?(y=a.signal,u.addEventListener("abort",()=>a.abort())):y=a.signal);const g=yield this.fetch(w.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),A),body:m,signal:y}).catch(N=>{throw new jU(N)}),b=g.headers.get("x-relay-error");if(b&&b==="true")throw new Zy(g);if(!g.ok)throw new eb(g);let B=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),C;return B==="application/json"?C=yield g.json():B==="application/octet-stream"||B==="application/pdf"?C=yield g.blob():B==="text/event-stream"?C=g:B==="multipart/form-data"?C=yield g.formData():C=yield g.text(),{data:C,error:null,response:g}}catch(A){return{data:null,error:A,response:A instanceof eb||A instanceof Zy?A.context:void 0}}finally{i&&clearTimeout(i)}})}}var ws={};const Gc=Yk(FU);var Kh={},$h={},Vh={},Gh={},Wh={},qh={},tb;function n4(){if(tb)return qh;tb=1,Object.defineProperty(qh,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return qh.default=t,qh}var rb;function s4(){if(rb)return Wh;rb=1,Object.defineProperty(Wh,"__esModule",{value:!0});const e=Gc.__importDefault(n4());class r{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let A=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,h,p;let d=null,w=null,m=null,y=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const N=await l.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?w=N:w=JSON.parse(N))}const B=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),C=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");B&&C&&C.length>1&&(m=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(d={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,m=null,y=406,g="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const B=await l.text();try{d=JSON.parse(B),Array.isArray(d)&&l.status===404&&(w=[],d=null,y=200,g="OK")}catch{l.status===404&&B===""?(y=204,g="No Content"):d={message:B}}if(d&&this.isMaybeSingle&&(!((p=d==null?void 0:d.details)===null||p===void 0)&&p.includes("0 rows"))&&(d=null,y=200,g="OK"),d&&this.shouldThrowOnError)throw new e.default(d)}return{error:d,data:w,count:m,status:y,statusText:g}});return this.shouldThrowOnError||(A=A.catch(l=>{var c,u,h,p,d,w;let m="";const y=l==null?void 0:l.cause;if(y){const g=(c=y==null?void 0:y.message)!==null&&c!==void 0?c:"",b=(u=y==null?void 0:y.code)!==null&&u!==void 0?u:"";m=`${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"FetchError"}: ${l==null?void 0:l.message}`,m+=`

Caused by: ${(p=y==null?void 0:y.name)!==null&&p!==void 0?p:"Error"}: ${g}`,b&&(m+=` (${b})`),y!=null&&y.stack&&(m+=`
${y.stack}`)}else m=(d=l==null?void 0:l.stack)!==null&&d!==void 0?d:"";return{error:{message:`${(w=l==null?void 0:l.name)!==null&&w!==void 0?w:"FetchError"}: ${l==null?void 0:l.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),A.then(s,i)}returns(){return this}overrideTypes(){return this}}return Wh.default=r,Wh}var nb;function i4(){if(nb)return Gh;nb=1,Object.defineProperty(Gh,"__esModule",{value:!0});const e=Gc.__importDefault(s4());class r extends e.default{select(s){let i=!1;const a=(s??"*").split("").map(A=>/\s/.test(A)&&!i?"":(A==='"'&&(i=!i),A)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:A,referencedTable:l=A}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const A=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(A,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:A=a}={}){const l=typeof A>"u"?"offset":`${A}.offset`,c=typeof A>"u"?"limit":`${A}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:A=!1,wal:l=!1,format:c="text"}={}){var u;const h=[s?"analyze":null,i?"verbose":null,a?"settings":null,A?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Gh.default=r,Gh}var sb;function xw(){if(sb)return Vh;sb=1,Object.defineProperty(Vh,"__esModule",{value:!0});const e=Gc.__importDefault(i4()),r=new RegExp("[,()]");class n extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const A=Array.from(new Set(a)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${A})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:A,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=A===void 0?"":`(${A})`;return this.url.searchParams.append(i,`${c}fts${u}.${a}`),this}match(i){return Object.entries(i).forEach(([a,A])=>{this.url.searchParams.append(a,`eq.${A}`)}),this}not(i,a,A){return this.url.searchParams.append(i,`not.${a}.${A}`),this}or(i,{foreignTable:a,referencedTable:A=a}={}){const l=A?`${A}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,a,A){return this.url.searchParams.append(i,`${a}.${A}`),this}}return Vh.default=n,Vh}var ib;function a4(){if(ib)return $h;ib=1,Object.defineProperty($h,"__esModule",{value:!0});const e=Gc.__importDefault(xw());class r{constructor(s,{headers:i={},schema:a,fetch:A}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=A}select(s,i){const{head:a=!1,count:A}=i??{},l=a?"HEAD":"GET";let c=!1;const u=(s??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),A&&this.headers.append("Prefer",`count=${A}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var A;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(A=this.fetch)!==null&&A!==void 0?A:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:A,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),A&&this.headers.append("Prefer",`count=${A}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((p,d)=>p.concat(Object.keys(d)),[]);if(h.length>0){const p=[...new Set(h)].map(d=>`"${d}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var a;const A="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:A,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return $h.default=r,$h}var ab;function LU(){if(ab)return Kh;ab=1,Object.defineProperty(Kh,"__esModule",{value:!0});const t=Gc,e=t.__importDefault(a4()),r=t.__importDefault(xw());class n{constructor(i,{headers:a={},schema:A,fetch:l}={}){this.url=i,this.headers=new Headers(a),this.schemaName=A,this.fetch=l}from(i){const a=new URL(`${this.url}/${i}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:A=!1,get:l=!1,count:c}={}){var u;let h;const p=new URL(`${this.url}/rpc/${i}`);let d;A||l?(h=A?"HEAD":"GET",Object.entries(a).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{p.searchParams.append(m,y)})):(h="POST",d=a);const w=new Headers(this.headers);return c&&w.set("Prefer",`count=${c}`),new r.default({method:h,url:p,headers:w,schema:this.schemaName,body:d,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Kh.default=n,Kh}Object.defineProperty(ws,"__esModule",{value:!0});var o4=ws.PostgrestError=m4=ws.PostgrestBuilder=p4=ws.PostgrestTransformBuilder=h4=ws.PostgrestFilterBuilder=u4=ws.PostgrestQueryBuilder=l4=ws.PostgrestClient=void 0;const Wc=Gc,A4=Wc.__importDefault(LU());var l4=ws.PostgrestClient=A4.default;const c4=Wc.__importDefault(a4());var u4=ws.PostgrestQueryBuilder=c4.default;const d4=Wc.__importDefault(xw());var h4=ws.PostgrestFilterBuilder=d4.default;const f4=Wc.__importDefault(i4());var p4=ws.PostgrestTransformBuilder=f4.default;const g4=Wc.__importDefault(s4());var m4=ws.PostgrestBuilder=g4.default;const v4=Wc.__importDefault(n4());o4=ws.PostgrestError=v4.default;var w4=ws.default={PostgrestClient:A4.default,PostgrestQueryBuilder:c4.default,PostgrestFilterBuilder:d4.default,PostgrestTransformBuilder:f4.default,PostgrestBuilder:g4.default,PostgrestError:v4.default};const QU=a5({__proto__:null,get PostgrestBuilder(){return m4},get PostgrestClient(){return l4},get PostgrestError(){return o4},get PostgrestFilterBuilder(){return h4},get PostgrestQueryBuilder(){return u4},get PostgrestTransformBuilder(){return p4},default:w4},[ws]),{PostgrestClient:DU,PostgrestQueryBuilder:K7,PostgrestFilterBuilder:$7,PostgrestTransformBuilder:V7,PostgrestBuilder:G7,PostgrestError:W7}=w4||QU;class TU{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const PU="2.83.0",OU=`realtime-js/${PU}`,y4="1.0.0",RU="2.0.0",ob=y4,k1=1e4,HU=1e3,MU=100;var MA;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(MA||(MA={}));var xn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(xn||(xn={}));var Bi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Bi||(Bi={}));var N1;(function(t){t.websocket="websocket"})(N1||(N1={}));var zA;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(zA||(zA={}));class zU{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){var r,n;const{event:s,topic:i,payload:a}=e,A=(r=e.ref)!==null&&r!==void 0?r:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",c=this.META_LENGTH+l.length+A.length+i.length+s.length,u=new ArrayBuffer(this.HEADER_LENGTH+c);let h=new DataView(u),p=0;h.setUint8(p++,this.KINDS.push),h.setUint8(p++,l.length),h.setUint8(p++,A.length),h.setUint8(p++,i.length),h.setUint8(p++,s.length),Array.from(l,w=>h.setUint8(p++,w.charCodeAt(0))),Array.from(A,w=>h.setUint8(p++,w.charCodeAt(0))),Array.from(i,w=>h.setUint8(p++,w.charCodeAt(0))),Array.from(s,w=>h.setUint8(p++,w.charCodeAt(0)));var d=new Uint8Array(u.byteLength+a.byteLength);return d.set(new Uint8Array(u),0),d.set(new Uint8Array(a),u.byteLength),d.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n,s,i;const a=e.topic,A=(r=e.ref)!==null&&r!==void 0?r:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",c=e.payload.event,u=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+A.length+a.length+c.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let d=new DataView(p),w=0;d.setUint8(w++,this.KINDS.userBroadcastPush),d.setUint8(w++,l.length),d.setUint8(w++,A.length),d.setUint8(w++,a.length),d.setUint8(w++,c.length),d.setUint8(w++,this.BINARY_ENCODING),Array.from(l,y=>d.setUint8(w++,y.charCodeAt(0))),Array.from(A,y=>d.setUint8(w++,y.charCodeAt(0))),Array.from(a,y=>d.setUint8(w++,y.charCodeAt(0))),Array.from(c,y=>d.setUint8(w++,y.charCodeAt(0)));var m=new Uint8Array(p.byteLength+u.byteLength);return m.set(new Uint8Array(p),0),m.set(new Uint8Array(u),p.byteLength),m.buffer}_encodeJsonUserBroadcastPush(e){var r,n,s,i;const a=e.topic,A=(r=e.ref)!==null&&r!==void 0?r:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",c=e.payload.event,u=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},p=new TextEncoder().encode(JSON.stringify(u)).buffer,d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+A.length+a.length+c.length,w=new ArrayBuffer(this.HEADER_LENGTH+d);let m=new DataView(w),y=0;m.setUint8(y++,this.KINDS.userBroadcastPush),m.setUint8(y++,l.length),m.setUint8(y++,A.length),m.setUint8(y++,a.length),m.setUint8(y++,c.length),m.setUint8(y++,this.JSON_ENCODING),Array.from(l,b=>m.setUint8(y++,b.charCodeAt(0))),Array.from(A,b=>m.setUint8(y++,b.charCodeAt(0))),Array.from(a,b=>m.setUint8(y++,b.charCodeAt(0))),Array.from(c,b=>m.setUint8(y++,b.charCodeAt(0)));var g=new Uint8Array(w.byteLength+p.byteLength);return g.set(new Uint8Array(w),0),g.set(new Uint8Array(p),w.byteLength),g.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,a,A,l]=n;return r({join_ref:s,ref:i,topic:a,event:A,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,s);case this.KINDS.reply:return this._decodeReply(e,r,s);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodePush(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3);let A=this.HEADER_LENGTH+this.META_LENGTH-1;const l=n.decode(e.slice(A,A+s));A=A+s;const c=n.decode(e.slice(A,A+i));A=A+i;const u=n.decode(e.slice(A,A+a));A=A+a;const h=JSON.parse(n.decode(e.slice(A,e.byteLength)));return{join_ref:l,ref:null,topic:c,event:u,payload:h}}_decodeReply(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),A=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const c=n.decode(e.slice(l,l+s));l=l+s;const u=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+a));l=l+a;const p=n.decode(e.slice(l,l+A));l=l+A;const d=JSON.parse(n.decode(e.slice(l,e.byteLength))),w={status:p,response:d};return{join_ref:c,ref:u,topic:h,event:Bi.reply,payload:w}}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const A=n.decode(e.slice(a,a+s));a=a+s;const l=n.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{join_ref:null,ref:null,topic:A,event:l,payload:c}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),A=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+s));l=l+s;const u=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+a));l=l+a;const p=e.slice(l,e.byteLength),d=A===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,w={type:this.BROADCAST,event:u,payload:d};return a>0&&(w.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:w}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class b4{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Br;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Br||(Br={}));const Ab=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=KU(a,t,e,s),i),{}):{}},KU=(t,e,r,n)=>{const s=e.find(A=>A.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?B4(i,a):F1(a)},B4=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return WU(e,r)}switch(t){case Br.bool:return $U(e);case Br.float4:case Br.float8:case Br.int2:case Br.int4:case Br.int8:case Br.numeric:case Br.oid:return VU(e);case Br.json:case Br.jsonb:return GU(e);case Br.timestamp:return qU(e);case Br.abstime:case Br.date:case Br.daterange:case Br.int4range:case Br.int8range:case Br.money:case Br.reltime:case Br.text:case Br.time:case Br.timestamptz:case Br.timetz:case Br.tsrange:case Br.tstzrange:return F1(e);default:return F1(e)}},F1=t=>t,$U=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},VU=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},GU=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},WU=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(A=>B4(e,A))}return t},qU=t=>typeof t=="string"?t.replace(" ","T"):t,x4=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class xm{constructor(e,r,n={},s=k1){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var lb;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(lb||(lb={}));class ed{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:A}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ed.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=ed.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],A()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:A}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ed.syncDiff(this.state,s,i,a),A())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),A={},l={};return this.map(i,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const h=i[c];if(h){const p=u.map(y=>y.presence_ref),d=h.map(y=>y.presence_ref),w=u.filter(y=>d.indexOf(y.presence_ref)<0),m=h.filter(y=>p.indexOf(y.presence_ref)<0);w.length>0&&(A[c]=w),m.length>0&&(l[c]=m)}else A[c]=u}),this.syncDiff(i,{joins:A,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(A,l)=>{var c;const u=(c=e[A])!==null&&c!==void 0?c:[];if(e[A]=this.cloneDeep(l),u.length>0){const h=e[A].map(d=>d.presence_ref),p=u.filter(d=>h.indexOf(d.presence_ref)<0);e[A].unshift(...p)}n(A,u,l)}),this.map(a,(A,l)=>{let c=e[A];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[A]=c,s(A,c,l),c.length===0&&delete e[A]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cb;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(cb||(cb={}));var td;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(td||(td={}));var Va;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Va||(Va={}));class _w{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=xn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new xm(this,Bi.join,this.params,this.timeout),this.rejoinTimer=new b4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=xn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=xn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bi.reply,{},(a,A)=>{this._trigger(this._replyEventName(A),a)}),this.presence=new ed(this),this.broadcastEndpointURL=x4(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==xn.closed){const{config:{broadcast:a,presence:A,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[td.PRESENCE]&&this.bindings[td.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:a,presence:Object.assign(Object.assign({},A),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(d=>e==null?void 0:e(Va.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Va.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var w;if(this.socket.setAuth(),d===void 0){e==null||e(Va.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(w=m==null?void 0:m.length)!==null&&w!==void 0?w:0,g=[];for(let b=0;b<y;b++){const B=m[b],{filter:{event:C,schema:N,table:L,filter:Q}}=B,P=d&&d[b];if(P&&P.event===C&&P.schema===N&&P.table===L&&P.filter===Q)g.push(Object.assign(Object.assign({},B),{id:P.id}));else{this.unsubscribe(),this.state=xn.errored,e==null||e(Va.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Va.SUBSCRIBED);return}}).receive("error",d=>{this.state=xn.errored,e==null||e(Va.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Va.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===xn.joined&&e===td.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},A=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(A.status===202)return{success:!0};let l=A.statusText;try{const c=await A.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,A,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(A=(a=this.params)===null||a===void 0?void 0:a.config)===null||A===void 0?void 0:A.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new xm(this,Bi.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new xm(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>MU){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:A,error:l,leave:c,join:u}=Bi;if(n&&[A,l,c,u].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(d=>{var w,m,y;return((w=d.filter)===null||w===void 0?void 0:w.event)==="*"||((y=(m=d.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(d=>d.callback(p,n)):(i=this.bindings[a])===null||i===void 0||i.filter(d=>{var w,m,y,g,b,B;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in d){const C=d.id,N=(w=d.filter)===null||w===void 0?void 0:w.event;return C&&((m=r.ids)===null||m===void 0?void 0:m.includes(C))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const C=(b=(g=d==null?void 0:d.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return C==="*"||C===((B=r==null?void 0:r.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===a}).map(d=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:m,table:y,commit_timestamp:g,type:b,errors:B}=w;p=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:g,eventType:b,new:{},old:{},errors:B}),this._getPayloadRecords(w))}d.callback(p,n)})}_isClosed(){return this.state===xn.closed}_isJoined(){return this.state===xn.joined}_isJoining(){return this.state===xn.joining}_isLeaving(){return this.state===xn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&_w.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Bi.close,{},e)}_onError(e){this._on(Bi.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Ab(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Ab(e.columns,e.old_record)),r}}const _m=()=>{},Jh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},JU=[1e3,2e3,5e3,1e4],XU=1e4,YU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ZU{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=k1,this.transport=null,this.heartbeatIntervalMs=Jh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_m,this.ref=0,this.reconnectTimer=null,this.vsn=ob,this.logger=_m,this.conn=null,this.sendBuffer=[],this.serializer=new zU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${N1.websocket}`,this.httpEndpoint=x4(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=TU.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case MA.connecting:return zA.Connecting;case MA.open:return zA.Open;case MA.closing:return zA.Closing;default:return zA.Closed}}isConnected(){return this.connectionState()===zA.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new _w(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,A=>{var l;(l=this.conn)===null||l===void 0||l.send(A)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(HU,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Jh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,A=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${A}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===MA.open||this.conn.readyState===MA.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Bi.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([YU],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:OU};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Bi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new b4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Jh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,A,l,c,u,h,p,d;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:k1,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Jh.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(A=e==null?void 0:e.heartbeatCallback)!==null&&A!==void 0?A:_m,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:ob,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:w=>JU[w-1]||XU,this.vsn){case y4:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(w,m)=>m(JSON.stringify(w)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(w,m)=>m(JSON.parse(w));break;case RU:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Cw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Rr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ej extends Cw{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class U1 extends Cw{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Sw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tj=()=>Response,j1=t=>{if(Array.isArray(t))return t.map(r=>j1(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=j1(n)}),e},rj=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Cm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},nj=(t,e,r)=>Bt(void 0,void 0,void 0,function*(){const n=yield tj();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new ej(Cm(s),i,a))}).catch(s=>{e(new U1(Cm(s),s))}):e(new U1(Cm(t),t))}),sj=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(rj(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Yd(t,e,r,n,s,i){return Bt(this,void 0,void 0,function*(){return new Promise((a,A)=>{t(r,sj(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>nj(l,A,n))})})}function jd(t,e,r,n){return Bt(this,void 0,void 0,function*(){return Yd(t,"GET",e,r,n)})}function $i(t,e,r,n,s){return Bt(this,void 0,void 0,function*(){return Yd(t,"POST",e,n,s,r)})}function I1(t,e,r,n,s){return Bt(this,void 0,void 0,function*(){return Yd(t,"PUT",e,n,s,r)})}function ij(t,e,r,n){return Bt(this,void 0,void 0,function*(){return Yd(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ew(t,e,r,n,s){return Bt(this,void 0,void 0,function*(){return Yd(t,"DELETE",e,n,s,r)})}class aj{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Bt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Rr(e))return{data:null,error:e};throw e}})}}var _4;class oj{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[_4]="BlobDownloadBuilder",this.promise=null}asStream(){return new aj(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Bt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Rr(e))return{data:null,error:e};throw e}})}}_4=Symbol.toStringTag;const Aj=oj,lj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ub={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cj{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Sw(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return Bt(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},ub),s);let A=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,A["cache-control"]=`max-age=${a.cacheControl}`,A["content-type"]=a.contentType,l&&(A["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(A=Object.assign(Object.assign({},A),s.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),h=yield(e=="PUT"?I1:$i)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:A},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rr(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Bt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),A=new URL(this.url+`/object/upload/sign/${a}`);A.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:ub.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield I1(this.fetch,A.toString(),l,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Rr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Bt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield $i(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),A=a.searchParams.get("token");if(!A)throw new Cw("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:A},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rr(n))return{data:null,error:n};throw n}})}update(e,r,n){return Bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Bt(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rr(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Bt(this,void 0,void 0,function*(){try{return{data:{path:(yield $i(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rr(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Bt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield $i(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rr(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Bt(this,void 0,void 0,function*(){try{const s=yield $i(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rr(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",A=this._getFinalPath(e),l=()=>jd(this.fetch,`${this.url}/${s}/${A}${a}`,{headers:this.headers,noResolveJson:!0});return new Aj(l,this.shouldThrowOnError)}info(e){return Bt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield jd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:j1(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rr(n))return{data:null,error:n};throw n}})}exists(e){return Bt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield ij(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rr(n)&&n instanceof U1){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const A=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${A}/public/${n}${c}`)}}}remove(e){return Bt(this,void 0,void 0,function*(){try{return{data:yield Ew(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}list(e,r,n){return Bt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},lj),r),{prefix:e||""});return{data:yield $i(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rr(s))return{data:null,error:s};throw s}})}listV2(e,r){return Bt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield $i(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rr(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const C4="2.83.0",S4={"X-Client-Info":`storage-js/${C4}`};class uj{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},S4),r),this.fetch=Sw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Bt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield jd(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}getBucket(e){return Bt(this,void 0,void 0,function*(){try{return{data:yield jd(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}createBucket(e){return Bt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield $i(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rr(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return Bt(this,void 0,void 0,function*(){try{return{data:yield I1(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Bt(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Bt(this,void 0,void 0,function*(){try{return{data:yield Ew(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class dj{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},S4),r),this.fetch=Sw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Bt(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}listBuckets(e){return Bt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield jd(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Bt(this,void 0,void 0,function*(){try{return{data:yield Ew(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}}const kw={"X-Client-Info":`storage-js/${C4}`,"Content-Type":"application/json"};class E4 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Zs(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Sm extends E4{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hj extends E4{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var db;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(db||(db={}));const Nw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),fj=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},hb=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pj=(t,e,r)=>Bt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const A=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new Sm(hb(a),s,A))}).catch(()=>{const a=s+"",A=i.statusText||`HTTP ${s} error`;e(new Sm(A,s,a))});else{const a=s+"",A=i.statusText||`HTTP ${s} error`;e(new Sm(A,s,a))}}else e(new hj(hb(t),t))}),gj=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(fj(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function mj(t,e,r,n,s,i){return Bt(this,void 0,void 0,function*(){return new Promise((a,A)=>{t(r,gj(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>pj(l,A,n))})})}function ei(t,e,r,n,s){return Bt(this,void 0,void 0,function*(){return mj(t,"POST",e,n,s,r)})}class vj{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},kw),r),this.fetch=Nw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Bt(this,void 0,void 0,function*(){try{return{data:(yield ei(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Bt(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zs(n))return{data:null,error:n};throw n}})}listIndexes(e){return Bt(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Bt(this,void 0,void 0,function*(){try{return{data:(yield ei(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zs(n))return{data:null,error:n};throw n}})}}class wj{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},kw),r),this.fetch=Nw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Bt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ei(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}getVectors(e){return Bt(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}listVectors(e){return Bt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield ei(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}queryVectors(e){return Bt(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Bt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ei(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}}class yj{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},kw),r),this.fetch=Nw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Bt(this,void 0,void 0,function*(){try{return{data:(yield ei(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}getBucket(e){return Bt(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}listBuckets(){return Bt(this,arguments,void 0,function*(e={}){try{return{data:yield ei(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Bt(this,void 0,void 0,function*(){try{return{data:(yield ei(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}}class bj extends yj{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Bj(this.url,this.headers,e,this.fetch)}}class Bj extends vj{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Bt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Bt(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Bt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Bt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new xj(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class xj extends wj{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Bt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Bt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Bt(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Bt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Bt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class _j extends uj{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new cj(this.url,this.headers,e,this.fetch)}get vectors(){return new bj(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new dj(this.url+"/iceberg",this.headers,this.fetch)}}const Cj="2.83.0";let Lu="";typeof Deno<"u"?Lu="deno":typeof document<"u"?Lu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lu="react-native":Lu="node";const Sj={"X-Client-Info":`supabase-js-${Lu}/${Cj}`},Ej={headers:Sj},kj={schema:"public"},Nj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fj={},Uj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),jj=()=>Headers,Ij=(t,e,r)=>{const n=Uj(r),s=jj();return async(i,a)=>{var A;const l=(A=await e())!==null&&A!==void 0?A:t;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:c}))}};function Lj(t){return t.endsWith("/")?t:t+"/"}function Qj(t,e){var r,n;const{db:s,auth:i,realtime:a,global:A}=t,{db:l,auth:c,realtime:u,global:h}=e,p={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),A),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=A==null?void 0:A.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function Dj(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Lj(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const k4="2.83.0",Jl=30*1e3,L1=3,Em=L1*Jl,Tj="http://localhost:9999",Pj="supabase.auth.token",Oj={"X-Client-Info":`gotrue-js/${k4}`},Q1="X-Supabase-Api-Version",N4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Rj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Hj=10*60*1e3;class Id extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function St(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Mj extends Id{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function zj(t){return St(t)&&t.name==="AuthApiError"}class KA extends Id{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class bA extends Id{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class qs extends bA{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Kj(t){return St(t)&&t.name==="AuthSessionMissingError"}class Ll extends bA{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xh extends bA{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Yh extends bA{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $j(t){return St(t)&&t.name==="AuthImplicitGrantRedirectError"}class fb extends bA{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class D1 extends bA{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function km(t){return St(t)&&t.name==="AuthRetryableFetchError"}class pb extends bA{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class T1 extends bA{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Dp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gb=` 	
\r=`.split(""),Vj=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<gb.length;e+=1)t[gb[e].charCodeAt(0)]=-2;for(let e=0;e<Dp.length;e+=1)t[Dp[e].charCodeAt(0)]=e;return t})();function mb(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Dp[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Dp[n]),e.queuedBits-=6}}function F4(t,e,r){const n=Vj[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function vb(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{qj(a,n,r)};for(let a=0;a<t.length;a+=1)F4(t.charCodeAt(a),s,i);return e.join("")}function Gj(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Wj(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Gj(n,e)}}function qj(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Bc(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)F4(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Jj(t){const e=[];return Wj(t,r=>e.push(r)),new Uint8Array(e)}function JA(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>mb(s,r,n)),mb(null,r,n),e.join("")}function Xj(t){return Math.round(Date.now()/1e3)+t}function Yj(){return Symbol("auth-callback")}const Hn=()=>typeof window<"u"&&typeof document<"u",QA={tested:!1,writable:!1},U4=()=>{if(!Hn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(QA.tested)return QA.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),QA.tested=!0,QA.writable=!0}catch{QA.tested=!0,QA.writable=!1}return QA.writable};function Zj(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const j4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),eI=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Xl=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},DA=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},jo=async(t,e)=>{await t.removeItem(e)};class wg{constructor(){this.promise=new wg.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}wg.promiseConstructor=Promise;function Nm(t){const e=t.split(".");if(e.length!==3)throw new T1("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Rj.test(e[n]))throw new T1("JWT not in base64url format");return{header:JSON.parse(vb(e[0])),payload:JSON.parse(vb(e[1])),signature:Bc(e[2]),raw:{header:e[0],payload:e[1]}}}async function tI(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function rI(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function nI(t){return("0"+t.toString(16)).substr(-2)}function sI(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,nI).join("")}async function iI(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function aI(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await iI(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ql(t,e,r=!1){const n=sI();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Xl(t,`${e}-code-verifier`,s);const i=await aI(n);return[i,n===i?"plain":"s256"]}const oI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function AI(t){const e=t.headers.get(Q1);if(!e||!e.match(oI))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function lI(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function cI(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Dl(t){if(!uI.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fm(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function dI(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function wb(t){return JSON.parse(JSON.stringify(t))}const RA=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hI=[502,503,504];async function yb(t){var e;if(!eI(t))throw new D1(RA(t),0);if(hI.includes(t.status))throw new D1(RA(t),t.status);let r;try{r=await t.json()}catch(i){throw new KA(RA(i),i)}let n;const s=AI(t);if(s&&s.getTime()>=N4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new pb(RA(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new qs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new pb(RA(r),t.status,r.weak_password.reasons);throw new Mj(RA(r),t.status||500,n)}const fI=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ut(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Q1]||(i[Q1]=N4["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const A=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await pI(t,e,r+A,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function pI(t,e,r,n,s,i){const a=fI(e,n,s,i);let A;try{A=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new D1(RA(l),0)}if(A.ok||await yb(A),n!=null&&n.noResolveJson)return A;try{return await A.json()}catch(l){await yb(l)}}function Mi(t){var e;let r=null;vI(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Xj(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function bb(t){const e=Mi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function zo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function gI(t){return{data:t,error:null}}function mI(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=Vc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),A={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:A,user:l},error:null}}function Bb(t){return t}function vI(t){return t.access_token&&t.refresh_token&&t.expires_in}const Um=["global","local","others"];class wI{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=j4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Um[0]){if(Um.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Um.join(", ")}`);try{return await Ut(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ut(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zo})}catch(n){if(St(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Vc(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ut(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mI,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(St(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ut(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zo})}catch(r){if(St(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,A,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Ut(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Bb});if(u.error)throw u.error;const h=await u.json(),p=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,d=(l=(A=u.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(w=>{const m=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(w.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(St(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Dl(e);try{return await Ut(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zo})}catch(r){if(St(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Dl(e);try{return await Ut(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:zo})}catch(n){if(St(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Dl(e);try{return await Ut(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:zo})}catch(n){if(St(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Dl(e.userId);try{const{data:r,error:n}=await Ut(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(St(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Dl(e.userId),Dl(e.id);try{return{data:await Ut(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,a,A,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Ut(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Bb});if(u.error)throw u.error;const h=await u.json(),p=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,d=(l=(A=u.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(w=>{const m=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(w.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(St(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await Ut(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(St(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Ut(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(St(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Ut(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(St(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ut(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Ut(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(St(r))return{data:null,error:r};throw r}}}function xb(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Tl={debug:!!(globalThis&&U4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class I4 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yI extends I4{}async function bI(t,e,r){Tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Tl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new yI(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Tl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function BI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function L4(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function xI(t){return parseInt(t,16)}function _I(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function CI(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:A,requestId:l,resources:c,scheme:u,uri:h,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const d=L4(t.address),w=u?`${u}://${n}`:n,m=t.statement?`${t.statement}
`:"",y=`${w} wants you to sign in with your Ethereum account:
${d}

${m}`;let g=`URI: ${h}
Version: ${p}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),A&&(g+=`
Not Before: ${A.toISOString()}`),l&&(g+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const B of c){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);b+=`
- ${B}`}g+=b}return`${y}
${g}`}class dn extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Tp extends dn{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function SI({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new dn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new dn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new dn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new dn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new dn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new dn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(A=>A.type==="public-key").length===0?new dn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new dn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Q4(a)){if(i.rp.id!==a)return new dn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new dn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new dn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new dn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new dn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function EI({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new dn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new dn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Q4(n)){if(r.rpId!==n)return new dn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new dn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new dn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new dn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class kI{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const NI=new kI;function FI(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Vc(t,["challenge","user","excludeCredentials"]),i=Bc(e).buffer,a=Object.assign(Object.assign({},r),{id:Bc(r.id).buffer}),A=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){A.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];A.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Bc(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return A}function UI(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Vc(t,["challenge","allowCredentials"]),s=Bc(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const A=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},A),{id:Bc(A.id).buffer,type:A.type||"public-key",transports:A.transports})}}return i}function jI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:JA(new Uint8Array(t.response.attestationObject)),clientDataJSON:JA(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function II(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:JA(new Uint8Array(s.authenticatorData)),clientDataJSON:JA(new Uint8Array(s.clientDataJSON)),signature:JA(new Uint8Array(s.signature)),userHandle:s.userHandle?JA(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Q4(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function _b(){var t,e;return!!(Hn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function LI(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Tp("Browser returned unexpected credential type",e)}:{data:null,error:new Tp("Empty credential response",e)}}catch(e){return{data:null,error:SI({error:e,options:t})}}}async function QI(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Tp("Browser returned unexpected credential type",e)}:{data:null,error:new Tp("Empty credential response",e)}}catch(e){return{data:null,error:EI({error:e,options:t})}}}const DI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},TI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pp(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(e(a)){const A=n[i];e(A)?n[i]=Pp(A,a):n[i]=Pp(a)}else n[i]=a}return n}function PI(t,e){return Pp(DI,t,e||{})}function OI(t,e){return Pp(TI,t,e||{})}class RI{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:A}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:A};const l=s??NI.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=PI(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:h}=await LI({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=OI(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:h}=await QI(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(a){return St(a)?{data:null,error:a}:{data:null,error:new KA("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Id("rpId is required for WebAuthn authentication")};try{if(!_b())return{data:null,error:new KA("Browser does not support WebAuthn",null)};const{data:a,error:A}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:A};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return St(a)?{data:null,error:a}:{data:null,error:new KA("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Id("rpId is required for WebAuthn registration")};try{if(!_b())return{data:null,error:new KA("Browser does not support WebAuthn",null)};const{data:a,error:A}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:A};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return St(a)?{data:null,error:a}:{data:null,error:new KA("Unexpected error in register",a)}}}}BI();const HI={url:Tj,storageKey:Pj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Oj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Cb(t,e,r){return await r()}const Pl={};class Ld{get jwks(){var e,r;return(r=(e=Pl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Pl[this.storageKey]=Object.assign(Object.assign({},Pl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Pl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Pl[this.storageKey]=Object.assign(Object.assign({},Pl[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},HI),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Ld.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ld.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Hn()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new wI({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=j4(i.fetch),this.lock=i.lock||Cb,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Hn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=bI:this.lock=Cb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new RI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:U4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xb(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=xb(this.memoryStorage)),Hn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${k4}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Hn()&&(r=Zj(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Hn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),$j(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:A}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",A),await this._saveSession(a),setTimeout(async()=>{A==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return St(r)?this._returnResult({error:r}):this._returnResult({error:new KA("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Mi}),{data:a,error:A}=i;if(A||!a)return this._returnResult({data:{user:null,session:null},error:A});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(St(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:u,password:h,options:p}=e;let d=null,w=null;this.flowType==="pkce"&&([d,w]=await Ql(this.storage,this.storageKey)),i=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:d,code_challenge_method:w},xform:Mi})}else if("phone"in e){const{phone:u,password:h,options:p}=e;i=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Mi})}else throw new Xh("You must provide either an email or phone number and a password");const{data:a,error:A}=i;if(A||!a)return this._returnResult({data:{user:null,session:null},error:A});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(St(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:A}=e;r=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:bb})}else if("phone"in e){const{phone:i,password:a,options:A}=e;r=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:bb})}else throw new Xh("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Ll;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(St(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,a,A,l,c,u,h,p;let d,w;if("message"in e)d=e.message,w=e.signature;else{const{chain:m,wallet:y,statement:g,options:b}=e;let B;if(Hn())if(typeof y=="object")B=y;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")B=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=y}const C=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),N=await B.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=L4(N[0]);let Q=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!Q){const k=await B.request({method:"eth_chainId"});Q=xI(k)}const P={domain:C.host,address:L,statement:g,uri:C.href,version:"1",chainId:Q,nonce:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(A=b==null?void 0:b.signInWithEthereum)===null||A===void 0?void 0:A.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.resources};d=CI(P),w=await B.request({method:"personal_sign",params:[_I(d),L]})}try{const{data:m,error:y}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:d,signature:w},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Mi});if(y)throw y;if(!m||!m.session||!m.user){const g=new Ll;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:y})}catch(m){if(St(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var r,n,s,i,a,A,l,c,u,h,p,d;let w,m;if("message"in e)w=e.message,m=e.signature;else{const{chain:y,wallet:g,statement:b,options:B}=e;let C;if(Hn())if(typeof g=="object")C=g;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))C=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=g}const N=new URL((r=B==null?void 0:B.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const L=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B==null?void 0:B.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),b?{statement:b}:null));let Q;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")Q=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)Q=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)w=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),m=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${N.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=B==null?void 0:B.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=B==null?void 0:B.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((a=B==null?void 0:B.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((A=B==null?void 0:B.signInWithSolana)===null||A===void 0)&&A.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((l=B==null?void 0:B.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((c=B==null?void 0:B.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((h=(u=B==null?void 0:B.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...B.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const L=await C.signMessage(new TextEncoder().encode(w),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=L}}try{const{data:y,error:g}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:JA(m)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Mi});if(g)throw g;if(!y||!y.session||!y.user){const b=new Ll;return this._returnResult({data:{user:null,session:null},error:b})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:g})}catch(y){if(St(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const r=await DA(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Mi});if(await jo(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const A=new Ll;return this._returnResult({data:{user:null,session:null,redirectType:null},error:A})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(St(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,A=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Mi}),{data:l,error:c}=A;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new Ll;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(St(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:A,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ql(this.storage,this.storageKey));const{error:h}=await Ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:A,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:A,options:l}=e,{data:c,error:u}=await Ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:A,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new Xh("You must provide either an email or phone number.")}catch(A){if(St(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:A}=await Ut(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Mi});if(A)throw A;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(St(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,a;try{let A=null,l=null;this.flowType==="pkce"&&([A,l]=await Ql(this.storage,this.storageKey));const c=await Ut(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:A,code_challenge_method:l}),headers:this.headers,xform:gI});return!((i=c.data)===null||i===void 0)&&i.url&&Hn()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(A){if(St(A))return this._returnResult({data:null,error:A});throw A}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new qs;const{error:s}=await Ut(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(St(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await Ut(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:A}=await Ut(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:A})}throw new Xh("You must provide either an email or phone number and a type")}catch(r){if(St(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await DA(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Em:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await DA(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Fm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=dI(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zo}):await this._useSession(async r=>{var n,s,i;const{data:a,error:A}=r;if(A)throw A;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qs}:await Ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:zo})})}catch(r){if(St(r))return Kj(r)&&(await this._removeSession(),await jo(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new qs;const a=s.session;let A=null,l=null;this.flowType==="pkce"&&e.email!=null&&([A,l]=await Ql(this.storage,this.storageKey));const{data:c,error:u}=await Ut(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:A,code_challenge_method:l}),jwt:a.access_token,xform:zo});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(St(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qs;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Nm(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:A,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!A)return{data:{user:null,session:null},error:null};i=A}else{const{data:A,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:A.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(St(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:A}=r;if(A)throw A;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new qs;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(St(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Hn())throw new Yh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Yh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new fb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new fb("No code detected.");const{data:b,error:B}=await this._exchangeCodeForSession(e.code);if(B)throw B;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:A,expires_at:l,token_type:c}=e;if(!i||!A||!a||!c)throw new Yh("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(A);let p=u+h;l&&(p=parseInt(l));const d=p-u;d*1e3<=Jl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${h}s`);const w=p-h;u-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,u):u-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,u);const{data:m,error:y}=await this._getUser(i);if(y)throw y;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:a,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(St(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await DA(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:A}=await this.admin.signOut(a,e);if(A&&!(zj(A)&&(A.status===404||A.status===401||A.status===403)))return this._returnResult({error:A})}return e!=="others"&&(await this._removeSession(),await jo(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Yj(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ql(this.storage,this.storageKey,!0));try{return await Ut(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(St(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,A,l,c,u;const{data:h,error:p}=i;if(p)throw p;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(A=e.options)===null||A===void 0?void 0:A.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ut(this.fetch,"GET",d,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Hn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(St(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:A,token:l,access_token:c,nonce:u}=e,h=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:A,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mi}),{data:p,error:d}=h;return d?this._returnResult({data:{user:null,session:null},error:d}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Ll}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:d}))}catch(s){if(St(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await Ut(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await rI(async s=>(s>0&&await tI(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ut(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Mi})),(s,i)=>{const a=200*Math.pow(2,s);return i&&km(i)&&Date.now()+a-n<Jl})}catch(n){if(this._debug(r,"error",n),St(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Hn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await DA(this.storage,this.storageKey);if(s&&this.userStorage){let a=await DA(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Xl(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Fm()}else if(s&&!s.user&&!s.user){const a=await DA(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await jo(this.storage,this.storageKey+"-user"),await Xl(this.storage,this.storageKey,s)):s.user=Fm()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Em;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Em}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),km(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:A}=await this._getUser(s.access_token);!A&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new qs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new wg;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new qs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const A={data:i.session,error:null};return this.refreshingDeferred.resolve(A),A}catch(i){if(this._debug(s,"error",i),St(i)){const a={data:null,error:i};return km(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async A=>{try{await A.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let A=0;A<i.length;A+=1)console.error(i[A]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Xl(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=wb(s);await Xl(this.storage,this.storageKey,i)}else{const s=wb(r);await Xl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await jo(this.storage,this.storageKey),await jo(this.storage,this.storageKey+"-code-verifier"),await jo(this.storage,this.storageKey+"-user"),this.userStorage&&await jo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Hn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Jl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Jl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Jl}ms, refresh threshold is ${L1} ticks`),s<=L1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof I4)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Hn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Ql(this.storage,this.storageKey),A=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(A.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ut(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const A=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await Ut(this.fetch,"POST",`${this.url}/factors`,{body:A,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?jI(e.webauthn.credential_response):II(e.webauthn.credential_response)})}:{code:e.code}),{data:A,error:l}=await Ut(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+A.expires_in},A)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",A),this._returnResult({data:A,error:l}))})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await Ut(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:A}=a;if(A.type!=="webauthn")return{data:A,error:null};switch(A.webauthn.type){case"create":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:FI(A.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:UI(A.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Nm(n.access_token);let a=null;i.aal&&(a=i.aal);let A=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(A="aal2");const c=i.amr||[];return{data:{currentLevel:a,nextLevel:A,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Ut(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new qs})})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new qs});const a=await Ut(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:A=>({data:A,error:null})});return a.data&&a.data.redirect_url&&Hn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(St(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new qs});const a=await Ut(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:A=>({data:A,error:null})});return a.data&&a.data.redirect_url&&Hn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(St(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Ut(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new qs})})}catch(e){if(St(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Ut(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new qs})})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(A=>A.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(A=>A.kid===e),n&&this.jwks_cached_at+Hj>s)return n;const{data:i,error:a}=await Ut(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(A=>A.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:d,error:w}=await this.getSession();if(w||!d.session)return this._returnResult({data:null,error:w});n=d.session.access_token}const{header:s,payload:i,signature:a,raw:{header:A,payload:l}}=Nm(n);r!=null&&r.allowExpired||lI(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:d}=await this.getUser(n);if(d)throw d;return{data:{claims:i,header:s,signature:a},error:null}}const u=cI(s.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,a,Jj(`${A}.${l}`)))throw new T1("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(St(n))return this._returnResult({data:null,error:n});throw n}}}Ld.nextInstanceID={};const MI=Ld;class zI extends MI{constructor(e){super(e)}}class KI{constructor(e,r,n){var s,i,a;this.supabaseUrl=e,this.supabaseKey=r;const A=Dj(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",A),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",A),this.storageUrl=new URL("storage/v1",A),this.functionsUrl=new URL("functions/v1",A);const l=`sb-${A.hostname.split(".")[0]}-auth-token`,c={db:kj,realtime:Fj,auth:Object.assign(Object.assign({},Nj),{storageKey:l}),global:Ej},u=Qj(n??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=Ij(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new DU(new URL("rest/v1",A).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new _j(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new IU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:A,lock:l,debug:c,throwOnError:u},h,p){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zI({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),h),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:A,lock:l,debug:c,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new ZU(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $I=(t,e,r)=>new KI(t,e,r);function VI(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}VI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const GI="https://dlbqvrsmvgjrynytmlsk.supabase.co",WI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRsYnF2cnNtdmdqcnlueXRtbHNrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIwOTk1ODAsImV4cCI6MjA3NzY3NTU4MH0.0crmxxtamB9eF16rro75UTVEqNzaRoNEjD85RpO3dGc";let ii=null,Ko=!1,rd=!1;const Qo=15e3,ga=(t,e=Qo,r="operation")=>new Promise((n,s)=>{const i=setTimeout(()=>{console.warn(` ${r} timed out after ${e}ms`),s(new Error(`Request timed out after ${e}ms - please try again`))},e);t.then(a=>{clearTimeout(i),n(a)}).catch(a=>{clearTimeout(i),s(a)})});let sr={isConnected:!0,lastConnectionCheck:Date.now(),reconnectAttempts:0,maxReconnectAttempts:5,reconnectDelay:1e3,listeners:new Set,wasHidden:!1,hiddenAt:null};const D4=5e3,T4=t=>{if(!(t!=null&&t.expires_at))return!0;const e=t.expires_at*1e3,r=60*1e3;return e-Date.now()<r},Fw=async()=>{if(ii&&!rd&&Ko)try{rd=!0;const{data:{session:t},error:e}=await ii.auth.getSession();if(e||!t){Ko=!1;return}if(!T4(t)){console.log(" Session still fresh, skipping refresh"),Ko=!1,sr.isConnected=!0;return}console.log(" Session stale, refreshing...");const{error:r}=await ga(ii.auth.refreshSession(),D4,"auth refresh");r?console.warn(" Token refresh failed:",r.message):(console.log(" Auth session refreshed"),sr.isConnected=!0),Ko=!1}catch(t){console.warn(" Auth refresh error (allowing queries to continue):",t.message),Ko=!1}finally{rd=!1}};let Sb=!1;const qI=()=>{typeof document>"u"||Sb||(Sb=!0,document.addEventListener("visibilitychange",()=>{if(document.hidden)sr.hiddenAt=Date.now(),sr.wasHidden=!0,console.log(" Tab hidden");else{const t=sr.hiddenAt?Date.now()-sr.hiddenAt:0;console.log(` Tab visible after ${Math.round(t/1e3)}s`),sr.wasHidden=!1,sr.hiddenAt=null,jm(),Zh("visibility_restored")}}),window.addEventListener("focus",()=>{(sr.wasHidden||sr.hiddenAt)&&(console.log(" Window focused"),sr.wasHidden=!1,sr.hiddenAt=null,jm(),Zh("focus_restored"))}),window.addEventListener("online",()=>{console.log(" Network online"),jm(),Zh("online")}),window.addEventListener("offline",()=>{console.log(" Network went offline"),sr.isConnected=!1,Zh("offline")}))},jm=()=>{ii&&(async()=>{try{await new Promise(r=>setTimeout(r,200));const{data:{session:t}}=await ii.auth.getSession();if(!t){console.log(" No session to recover"),sr.isConnected=!0;return}if(!T4(t)){console.log(" Session still valid after tab restore"),sr.isConnected=!0;return}console.log(" Session stale after tab restore, refreshing...");const{error:e}=await ga(ii.auth.refreshSession(),D4,"tab restore auth refresh");e?console.warn(" Tab restore refresh failed:",e.message):(console.log(" Session recovered after tab restore"),sr.isConnected=!0),Ko=!1,rd=!1}catch(t){console.warn(" Tab restore recovery error:",t.message),Ko=!1,rd=!1}})()},Eb=()=>(ii||P4(),ii),JI=async()=>{if(!ii)return!1;try{Fw();const{error:t}=await ga(ii.from("user_roles").select("count",{count:"exact",head:!0}).limit(1),5e3,"connection check");return t?(console.warn(" Connection check failed:",t.message),sr.isConnected=!1,!1):(sr.isConnected=!0,sr.reconnectAttempts=0,sr.lastConnectionCheck=Date.now(),!0)}catch(t){return console.warn(" Connection check exception:",t.message),sr.isConnected=!1,!1}},XI=async()=>(console.log(" Refreshing Supabase connection..."),Ko=!0,Fw(),sr.isConnected=!0,sr.reconnectAttempts=0,console.log(" Supabase connection refresh triggered"),!0),Zh=t=>{sr.listeners.forEach(e=>{try{e(t,sr.isConnected)}catch(r){console.error("Connection listener error:",r)}})},YI=t=>(sr.listeners.add(t),()=>sr.listeners.delete(t)),ZI=()=>({isConnected:sr.isConnected,lastCheck:sr.lastConnectionCheck,reconnectAttempts:sr.reconnectAttempts}),P4=()=>(ii||(ii=$I(GI,WI,{auth:{persistSession:!0,storageKey:"solarpack-auth",storage:window.localStorage,autoRefreshToken:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),console.log("Supabase client initialized"),qI()),ii);class eL{get client(){return Eb()}ensureAuth(){Fw().catch(()=>{})}async uploadOrderReceipt(e,r,n){if(!this.client)throw new Error("Supabase not configured");if(!e||e.type!=="application/pdf")throw new Error("Invalid file type. Only PDF receipts are allowed.");const i=`${r}.pdf`,{data:a,error:A}=await this.client.storage.from("order-receipts").upload(i,e,{cacheControl:"3600",upsert:!0});if(A)throw A;const{data:l}=this.client.storage.from("order-receipts").getPublicUrl(i),c=(l==null?void 0:l.publicUrl)||"",u=new Date().toISOString(),{data:h,error:p}=await this.client.from("orders").update({receipt_file_name:c,receipt_uploaded:!0,receipt_upload_date:u,receipt_uploaded_by:n}).eq("id",r).select().single();if(p)throw console.error("Failed to update order receipt metadata:",p),p;try{return this.transformOrderFromDB(h)}catch{return{id:h==null?void 0:h.id,documentation:{receiptInvoice:{uploaded:!0,fileName:c,uploadDate:u,uploadedBy:n}},lastUpdated:u}}}async uploadPurchaseGroupReceipt(e,r,n,s){if(!this.client)throw new Error("Supabase not configured");if(!e||e.type!=="application/pdf")throw new Error("Invalid file type. Only PDF receipts are allowed.");if(!n||n.length===0)throw new Error("At least one order ID is required.");const A=`${n[0]}.pdf`,{data:l,error:c}=await this.client.storage.from("order-receipts").upload(A,e,{cacheControl:"3600",upsert:!0});if(c)throw c;const{data:u}=this.client.storage.from("order-receipts").getPublicUrl(A),h=(u==null?void 0:u.publicUrl)||"",p=new Date().toISOString(),d=n.map((g,b)=>this.client.from("orders").update({receipt_file_name:h,receipt_uploaded:!0,receipt_upload_date:p,receipt_uploaded_by:s,purchase_group_id:r,purchase_group_primary:b===0,purchase_group_receipt_file:h}).eq("id",g).select().single()),w=await Promise.all(d),m=w.filter(g=>g.error);if(m.length>0)throw console.error("Failed to update some orders with receipt metadata:",m),new Error(`Failed to update ${m.length} order(s)`);const y=w.map(g=>this.transformOrderFromDB(g.data));return{publicUrl:h,updatedOrders:y}}constructor(){P4()}isConfigured(){return Eb()!==null}async getTeamMembers(){if(!this.client)throw new Error("Supabase not configured");this.ensureAuth();const{data:e,error:r}=await ga(this.client.from("team_members").select("*").order("order",{ascending:!0}),Qo,"getTeamMembers");if(r)throw r;const n=Array.isArray(e)?e:[],s=n.map(i=>i.user_id).filter(Boolean);if(s.length>0)try{const{data:i,error:a}=await this.client.from("user_roles").select("user_id, email").in("user_id",s);if(!a&&Array.isArray(i)){const A=new Map(i.map(l=>[l.user_id,l.email]));n.forEach(l=>{l.user_id&&A.has(l.user_id)&&(l.user_email=A.get(l.user_id)||null)})}}catch(i){console.warn("Failed to fetch linked user emails for team members",i)}return{teamMembers:n,lastUpdated:new Date().toISOString()}}async saveTeamMember(e){if(!this.client)throw new Error("Supabase not configured");if(e.id){const{data:r,error:n}=await this.client.from("team_members").upsert(e).select().single();if(n)throw n;return r}else{const{data:r,error:n}=await this.client.from("team_members").insert(e).select().single();if(n)throw n;return r}}async deleteTeamMember(e){if(!this.client)throw new Error("Supabase not configured");const{data:r}=await this.client.from("team_members").select("image").eq("id",e).single();if(r!=null&&r.image&&r.image.includes("supabase"))try{await this.deleteTeamMemberImage(r.image)}catch(s){console.warn("Failed to delete image from storage:",s)}const{error:n}=await this.client.from("team_members").delete().eq("id",e);if(n)throw n}async getUsersForTeamAssignment(){if(!this.client)throw new Error("Supabase not configured");const{data:e,error:r}=await this.client.from("user_roles").select("user_id, email, level, specific_role").in("level",["director","leader"]).order("level",{ascending:!1}).order("email",{ascending:!0});if(r)throw r;return e||[]}async updateUserSpecificRole(e,r){if(!this.client)throw new Error("Supabase not configured");if(!e)throw new Error("Invalid user id");const n={specific_role:r},{data:s,error:i}=await this.client.from("user_roles").update(n).eq("user_id",e).select().single();if(i)throw i;return s}async uploadTeamMemberImage(e,r){if(!this.client)throw new Error("Supabase not configured");if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(e.type))throw new Error("Invalid file type. Please upload a JPEG, PNG, WebP, or GIF image.");const s=5*1024*1024;if(e.size>s)throw new Error("File size too large. Maximum size is 5MB.");const i=e.name.split(".").pop(),a=Date.now(),l=`team-headshots/${`${r}-${a}.${i}`}`,{data:c,error:u}=await this.client.storage.from("team-images").upload(l,e,{cacheControl:"3600",upsert:!1});if(u)throw u;const{data:{publicUrl:h}}=this.client.storage.from("team-images").getPublicUrl(l);return h}async deleteTeamMemberImage(e){if(!this.client)throw new Error("Supabase not configured");const r=e.split("/team-images/");if(r.length<2){console.warn("Invalid image URL format:",e);return}const n=r[1],{error:s}=await this.client.storage.from("team-images").remove([n]);if(s)throw s}async getAlumni(){if(!this.client)throw new Error("Supabase not configured");this.ensureAuth();const{data:e,error:r}=await ga(this.client.from("alumni").select("*").order("order",{ascending:!1}),Qo,"getAlumni");if(r)throw r;return{alumniData:Array.isArray(e)?e:[],lastUpdated:new Date().toISOString()}}async saveAlumniSemester(e){if(!this.client)throw new Error("Supabase not configured");const{data:r,error:n}=await this.client.from("alumni").upsert(e).select().single();if(n)throw n;return r}async deleteAlumniSemester(e){if(!this.client)throw new Error("Supabase not configured");const r=typeof e=="string"?parseInt(e,10):e;if(!Number.isFinite(r))throw new Error("Invalid id for deletion");const{error:n}=await this.client.from("alumni").delete().eq("id",r);if(n)throw n}async deleteAlumniSemesterSafe(e){if(!this.client)throw new Error("Supabase not configured");if(!e||typeof e.id!="number"&&typeof e.id!="string"&&!e.semester)throw new Error("Invalid delete target");let r=e.id;if(typeof r=="string"){const s=parseInt(r,10);Number.isFinite(s)&&(r=s)}if(typeof r!="number"){const{data:s,error:i}=await this.client.from("alumni").select("id").eq("semester",e.semester).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(i)throw i;if(!(s!=null&&s.id))throw new Error("Semester not found");r=s.id}const{error:n}=await this.client.from("alumni").delete().eq("id",r);if(n)throw n}async saveAlumniOrder(e){var a;if(!this.client)throw new Error("Supabase not configured");if(!Array.isArray(e)||e.length===0)return;const r=e.filter(A=>typeof A.id=="number"&&!Number.isNaN(A.id));if(r.length===0)return;const n=r.map(({id:A,order:l})=>this.client.from("alumni").update({order:l}).eq("id",A)),i=(a=(await Promise.all(n)).find(A=>A.error))==null?void 0:a.error;if(i)throw i}async getSponsors(){if(!this.client)throw new Error("Supabase not configured");this.ensureAuth();const{data:e,error:r}=await ga(this.client.from("sponsors").select("*").order("order",{ascending:!0}),Qo,"getSponsors");if(r)throw r;const n={};return(e||[]).forEach(i=>{n[i.tier]||(n[i.tier]=[]),n[i.tier].push({id:i.id,name:i.name,logo:i.logo,website:i.website,order:i.order})}),{sponsorTiers:Object.keys(n).map(i=>({tier:i,sponsors:n[i]})),lastUpdated:new Date().toISOString()}}async saveSponsor(e){if(!this.client)throw new Error("Supabase not configured");if(e.id){const{data:r,error:n}=await this.client.from("sponsors").upsert(e).select().single();if(n)throw n;return r}else{const{data:r,error:n}=await this.client.from("sponsors").insert(e).select().single();if(n)throw n;return r}}async deleteSponsor(e){if(!this.client)throw new Error("Supabase not configured");const{data:r}=await this.client.from("sponsors").select("logo").eq("id",e).single();if(r!=null&&r.logo&&r.logo.includes("supabase"))try{await this.deleteSponsorLogo(r.logo)}catch(s){console.warn("Failed to delete logo from storage:",s)}const{error:n}=await this.client.from("sponsors").delete().eq("id",e);if(n)throw n}async uploadSponsorLogo(e,r){if(!this.client)throw new Error("Supabase not configured");if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif","image/svg+xml"].includes(e.type))throw new Error("Invalid file type. Please upload a JPEG, PNG, WebP, SVG, or GIF image.");const s=5*1024*1024;if(e.size>s)throw new Error("File size too large. Maximum size is 5MB.");const i=e.name.split(".").pop(),a=Date.now(),l=`sponsor-logos/${`${r}-${a}.${i}`}`,{data:c,error:u}=await this.client.storage.from("sponsor-logos").upload(l,e,{cacheControl:"3600",upsert:!1});if(u)throw u;const{data:{publicUrl:h}}=this.client.storage.from("sponsor-logos").getPublicUrl(l);return h}async deleteSponsorLogo(e){if(!this.client)throw new Error("Supabase not configured");const r=e.split("/sponsor-logos/");if(r.length<2){console.warn("Invalid logo URL format:",e);return}const n=r[1],{error:s}=await this.client.storage.from("sponsor-logos").remove([n]);if(s)throw s}async getScheduleData(){if(!this.client)throw new Error("Supabase not configured");this.ensureAuth();try{const[e,r]=await ga(Promise.all([this.client.from("schedule_teams").select("*").order("name",{ascending:!0}),this.client.from("schedule_projects").select("*").order("due_date",{ascending:!0})]),Qo,"getScheduleData (teams/projects)");if(e.error)throw e.error;if(r.error)throw r.error;const n=(r.data||[]).map(a=>a.id);let s=[];if(n.length>0){const{data:a,error:A}=await ga(this.client.from("schedule_tasks").select("*").in("project_id",n).order("due_date",{ascending:!0}),Qo,"getScheduleData (tasks)");if(A)throw A;s=a||[]}const i=(r.data||[]).map(a=>({...this.transformProjectFromDB(a),tasks:s.filter(A=>A.project_id===a.id).map(A=>this.transformTaskFromDB(A))}));return{teams:(e.data||[]).map(a=>({id:a.id,name:a.name,color:a.color,description:a.description})),projects:i,lastUpdated:new Date().toISOString()}}catch(e){throw console.error("Error fetching schedule data:",e),e}}async getTeams(){if(!this.client)throw new Error("Supabase not configured");const{data:e,error:r}=await this.client.from("schedule_teams").select("*").order("name",{ascending:!0});if(r)throw r;return e||[]}async saveTeam(e){if(!this.client)throw new Error("Supabase not configured");const{data:r,error:n}=await this.client.from("schedule_teams").upsert(e).select().single();if(n)throw n;return r}async deleteTeam(e){if(!this.client)throw new Error("Supabase not configured");const{error:r}=await this.client.from("schedule_teams").delete().eq("id",e);if(r)throw r}async getProjects(){if(!this.client)throw new Error("Supabase not configured");const{data:e,error:r}=await this.client.from("schedule_projects").select("*").order("due_date",{ascending:!0});if(r)throw r;return(e||[]).map(n=>this.transformProjectFromDB(n))}async saveProject(e){if(!this.client)throw new Error("Supabase not configured");const r=this.transformProjectToDB(e),{data:n,error:s}=await this.client.from("schedule_projects").upsert(r).select().single();if(s)throw s;return this.transformProjectFromDB(n)}async deleteProject(e){if(!this.client)throw new Error("Supabase not configured");const{error:r}=await this.client.from("schedule_projects").delete().eq("id",e);if(r)throw r}async updateProjectFields(e,r){if(!this.client)throw new Error("Supabase not configured");if(typeof e!="number")throw new Error("updateProjectFields: id must be a number");if(!r||typeof r!="object")throw new Error("updateProjectFields: fields must be an object");const{data:n,error:s}=await this.client.from("schedule_projects").update(r).eq("id",e).select().single();if(s)throw s;return this.transformProjectFromDB(n)}async getTasks(e=null){if(!this.client)throw new Error("Supabase not configured");let r=this.client.from("schedule_tasks").select("*").order("due_date",{ascending:!0});e&&(r=r.eq("project_id",e));const{data:n,error:s}=await r;if(s)throw s;return(n||[]).map(i=>this.transformTaskFromDB(i))}async saveTask(e){if(!this.client)throw new Error("Supabase not configured");const r=this.transformTaskToDB(e),{data:n,error:s}=await this.client.from("schedule_tasks").upsert(r).select().single();if(s)throw s;return this.transformTaskFromDB(n)}async deleteTask(e){if(!this.client)throw new Error("Supabase not configured");const{error:r}=await this.client.from("schedule_tasks").delete().eq("id",e);if(r)throw r}async updateTaskFields(e,r){if(!this.client)throw new Error("Supabase not configured");if(typeof e!="number")throw new Error("updateTaskFields: id must be a number");if(!r||typeof r!="object")throw new Error("updateTaskFields: fields must be an object");const{data:n,error:s}=await this.client.from("schedule_tasks").update(r).eq("id",e).select().single();if(s)throw s;return this.transformTaskFromDB(n)}transformProjectFromDB(e){return e?{id:e.id,title:e.title,description:e.description,team:e.team,priority:e.priority,status:e.status,startDate:e.start_date,dueDate:e.due_date,estimatedHours:e.estimated_hours||0,actualHours:e.actual_hours||0,progress:e.progress||0,assignedTo:e.assigned_to,notes:e.notes,weeklyNotes:e.weekly_notes||"",tasks:[]}:null}transformProjectToDB(e){const r={title:e.title,description:e.description,team:e.team,priority:e.priority||"medium",status:e.status||"planning",start_date:e.startDate,due_date:e.dueDate,estimated_hours:e.estimatedHours||0,actual_hours:e.actualHours||0,progress:e.progress||0,assigned_to:e.assignedTo,notes:e.notes,weekly_notes:e.weeklyNotes||null};if(e.id!==void 0&&e.id!==null){const n=typeof e.id=="string"?parseInt(e.id,10):e.id;Number.isFinite(n)&&(r.id=n)}return r}transformTaskFromDB(e){return e?{id:e.id,projectId:e.project_id,title:e.title,description:e.description,startDate:e.start_date,dueDate:e.due_date,estimatedHours:e.estimated_hours||0,actualHours:e.actual_hours||0,status:e.status,priority:e.priority,assignedTo:e.assigned_to,progress:e.progress||0,notes:e.notes}:null}transformTaskToDB(e){const r={project_id:e.projectId,title:e.title,description:e.description,start_date:e.startDate,due_date:e.dueDate,estimated_hours:e.estimatedHours||0,actual_hours:e.actualHours||0,status:e.status||"pending",priority:e.priority||"medium",assigned_to:e.assignedTo,progress:e.progress||0,notes:e.notes};if(e.id!==void 0&&e.id!==null){const n=typeof e.id=="string"?parseInt(e.id,10):e.id;Number.isFinite(n)&&(r.id=n)}return r}async getOrders(){if(!this.client)throw new Error("Supabase not configured");this.ensureAuth();const{data:e,error:r}=await ga(this.client.from("orders").select("*").order("created_at",{ascending:!1}),Qo,"getOrders");if(r)throw r;return{orders:(e||[]).map(s=>this.transformOrderFromDB(s)),lastUpdated:new Date().toISOString()}}async getOrdersWithReceipts(e,r){if(!this.client)throw new Error("Supabase not configured");const{data:n,error:s}=await this.client.from("orders").select("*").gte("submission_timestamp",e.toISOString()).lte("submission_timestamp",r.toISOString()).eq("receipt_uploaded",!0).order("submission_timestamp",{ascending:!0});if(s)throw s;return(n||[]).map(a=>this.transformOrderFromDB(a))}async downloadFileFromStorage(e,r){if(!this.client)throw new Error("Supabase not configured");const{data:n,error:s}=await this.client.storage.from(e).download(r);if(s)throw s;return n}getFileNameFromStorageUrl(e){if(!e)return null;try{const n=new URL(e).pathname.split("/");return n[n.length-1]}catch{console.warn("Failed to parse storage URL:",e);const n=e.split("/");return n[n.length-1]}}async createOrder(e){if(!this.client)throw new Error("Supabase not configured");const r=this.transformOrderToDB(e),{data:n,error:s}=await this.client.from("orders").insert(r).select().single();if(s)throw s;return this.transformOrderFromDB(n)}async updateOrder(e,r){if(!this.client)throw new Error("Supabase not configured");const{data:n,error:s}=await this.client.from("orders").select().eq("id",e).single();if(s)throw s;const i=this.transformOrderFromDB(n),a=(h,p)=>{if(!p)return h;const d=Array.isArray(h)?h.slice():{...h};return Object.keys(p).forEach(w=>{const m=p[w],y=d[w];m&&typeof m=="object"&&!Array.isArray(m)?d[w]=a(y||{},m):d[w]=m}),d},A=a(i,r),l=this.transformOrderToDB(A);l.updated_at=new Date().toISOString(),l.last_updated=new Date().toISOString();const{data:c,error:u}=await this.client.from("orders").update(l).eq("id",e).select().single();if(u)throw u;return this.transformOrderFromDB(c)}async deleteOrder(e){if(!this.client)throw new Error("Supabase not configured");const{error:r}=await this.client.from("orders").delete().eq("id",e);if(r)throw r}transformOrderFromDB(e){return e?{id:e.id,submissionTimestamp:e.submission_timestamp,submissionDetails:{subteam:e.subteam,submitterName:e.submitter_name,submitterEmail:e.submitter_email},materialDetails:{materialName:e.material_name,specifications:e.specifications,materialLink:e.material_link,supplier:e.supplier,supplierContact:e.supplier_contact},costBreakdown:{unitPrice:parseFloat(e.unit_price||0),quantity:e.quantity||1,subtotal:parseFloat(e.subtotal||0),shippingCost:parseFloat(e.shipping_cost||0),taxes:parseFloat(e.taxes||0),fees:parseFloat(e.fees||0),totalCost:parseFloat(e.total_cost||0)},projectDetails:{purpose:e.purpose,priority:e.priority||"medium",urgency:e.urgency||"flexible",neededByDate:e.needed_by_date},approvalWorkflow:{technicalDirectorApproval:{status:e.tech_approval_status||"pending",approvedBy:e.tech_approved_by,approvalDate:e.tech_approval_date,comments:e.tech_comments||"",denialReason:e.tech_denial_reason||""},projectDirectorPurchaseApproval:{status:e.project_approval_status||"pending",approvedBy:e.project_approved_by,approvalDate:e.project_approval_date,comments:e.project_comments||"",denialReason:e.project_denial_reason||""}},sponsorshipInfo:{canBeSponsored:e.can_be_sponsored||!1,sponsorContactName:e.sponsor_contact_name,sponsorContactEmail:e.sponsor_contact_email,sponsorCompany:e.sponsor_company,sponsorshipRequested:e.sponsorship_requested||!1,sponsorshipRequestDate:e.sponsorship_request_date,sponsorshipSuccessful:e.sponsorship_successful||!1,sponsorshipResponse:e.sponsorship_response||"",sponsorshipResponseDate:e.sponsorship_response_date,sponsorshipSearchStatus:e.sponsorship_search_status||"not_started"},purchaseStatus:{purchased:e.purchased||!1,purchaseDate:e.purchase_date,purchaseOrderNumber:e.purchase_order_number||"",purchaseGroupId:e.purchase_group_id||null,purchaseGroupPrimary:e.purchase_group_primary||!1,purchaseGroupReceiptFile:e.purchase_group_receipt_file||null,actualCost:e.actual_cost?parseFloat(e.actual_cost):null,purchasedBy:e.purchased_by||""},deliveryInfo:{expectedArrivalDate:e.expected_arrival_date,actualArrivalDate:e.actual_arrival_date,deliveredToSubteam:e.delivered_to_subteam||!1,deliveryConfirmedBy:e.delivery_confirmed_by||"",deliveryNotes:e.delivery_notes||"",trackingNumber:e.tracking_number||""},documentation:{receiptInvoice:{uploaded:e.receipt_uploaded||!1,fileName:e.receipt_file_name||"",uploadDate:e.receipt_upload_date,uploadedBy:e.receipt_uploaded_by||""},additionalDocuments:e.additional_documents||[]},returnInfo:{returned:e.returned||!1,returnDate:e.return_date,returnReason:e.return_reason||"",returnAuthorizedBy:e.return_authorized_by||"",refundAmount:e.refund_amount?parseFloat(e.refund_amount):null,refundProcessed:e.refund_processed||!1},status:e.status||"pending_technical_approval",lastUpdated:e.last_updated||e.updated_at,createdBy:e.created_by}:null}transformOrderToDB(e){var n,s,i,a,A,l,c,u,h,p,d,w,m,y,g,b,B,C,N,L,Q,P,k,$,D,U,H,S,ee,ge,le,ne,se,ye,re,F,V,O,q,ce,ue,de,be,Ue,Ae,Se,fe,x,I,pe,Y,K,J,xe,_e,ve,ke,Ve,Te,Ge,pt,Ze,rt,At,et,Ft,z,me,je,De,Xe,at,tt,Be,Ke,$e,Pe,it,nt;const r={submission_timestamp:e.submissionTimestamp||new Date().toISOString(),subteam:(n=e.submissionDetails)==null?void 0:n.subteam,submitter_name:(s=e.submissionDetails)==null?void 0:s.submitterName,submitter_email:(i=e.submissionDetails)==null?void 0:i.submitterEmail,created_by:e.createdBy||((a=e.submissionDetails)==null?void 0:a.submitterEmail),material_name:(A=e.materialDetails)==null?void 0:A.materialName,specifications:(l=e.materialDetails)==null?void 0:l.specifications,material_link:(c=e.materialDetails)==null?void 0:c.materialLink,supplier:(u=e.materialDetails)==null?void 0:u.supplier,supplier_contact:(h=e.materialDetails)==null?void 0:h.supplierContact,unit_price:(p=e.costBreakdown)==null?void 0:p.unitPrice,quantity:((d=e.costBreakdown)==null?void 0:d.quantity)||1,subtotal:(w=e.costBreakdown)==null?void 0:w.subtotal,shipping_cost:((m=e.costBreakdown)==null?void 0:m.shippingCost)||0,taxes:((y=e.costBreakdown)==null?void 0:y.taxes)||0,fees:((g=e.costBreakdown)==null?void 0:g.fees)||0,total_cost:(b=e.costBreakdown)==null?void 0:b.totalCost,purpose:(B=e.projectDetails)==null?void 0:B.purpose,priority:((C=e.projectDetails)==null?void 0:C.priority)||"medium",urgency:((N=e.projectDetails)==null?void 0:N.urgency)||"flexible",needed_by_date:(L=e.projectDetails)==null?void 0:L.neededByDate,tech_approval_status:((P=(Q=e.approvalWorkflow)==null?void 0:Q.technicalDirectorApproval)==null?void 0:P.status)||"pending",tech_approved_by:($=(k=e.approvalWorkflow)==null?void 0:k.technicalDirectorApproval)==null?void 0:$.approvedBy,tech_approval_date:(U=(D=e.approvalWorkflow)==null?void 0:D.technicalDirectorApproval)==null?void 0:U.approvalDate,tech_comments:((S=(H=e.approvalWorkflow)==null?void 0:H.technicalDirectorApproval)==null?void 0:S.comments)||"",tech_denial_reason:((ge=(ee=e.approvalWorkflow)==null?void 0:ee.technicalDirectorApproval)==null?void 0:ge.denialReason)||"",project_approval_status:((ne=(le=e.approvalWorkflow)==null?void 0:le.projectDirectorPurchaseApproval)==null?void 0:ne.status)||"pending",project_approved_by:(ye=(se=e.approvalWorkflow)==null?void 0:se.projectDirectorPurchaseApproval)==null?void 0:ye.approvedBy,project_approval_date:(F=(re=e.approvalWorkflow)==null?void 0:re.projectDirectorPurchaseApproval)==null?void 0:F.approvalDate,project_comments:((O=(V=e.approvalWorkflow)==null?void 0:V.projectDirectorPurchaseApproval)==null?void 0:O.comments)||"",project_denial_reason:((ce=(q=e.approvalWorkflow)==null?void 0:q.projectDirectorPurchaseApproval)==null?void 0:ce.denialReason)||"",can_be_sponsored:((ue=e.sponsorshipInfo)==null?void 0:ue.canBeSponsored)||!1,sponsor_contact_name:(de=e.sponsorshipInfo)==null?void 0:de.sponsorContactName,sponsor_contact_email:(be=e.sponsorshipInfo)==null?void 0:be.sponsorContactEmail,sponsor_company:(Ue=e.sponsorshipInfo)==null?void 0:Ue.sponsorCompany,sponsorship_requested:((Ae=e.sponsorshipInfo)==null?void 0:Ae.sponsorshipRequested)||!1,sponsorship_request_date:(Se=e.sponsorshipInfo)==null?void 0:Se.sponsorshipRequestDate,sponsorship_successful:((fe=e.sponsorshipInfo)==null?void 0:fe.sponsorshipSuccessful)||!1,sponsorship_response:((x=e.sponsorshipInfo)==null?void 0:x.sponsorshipResponse)||"",sponsorship_response_date:(I=e.sponsorshipInfo)==null?void 0:I.sponsorshipResponseDate,sponsorship_search_status:((pe=e.sponsorshipInfo)==null?void 0:pe.sponsorshipSearchStatus)||"not_started",purchased:((Y=e.purchaseStatus)==null?void 0:Y.purchased)||!1,purchase_date:(K=e.purchaseStatus)==null?void 0:K.purchaseDate,purchase_order_number:((J=e.purchaseStatus)==null?void 0:J.purchaseOrderNumber)||"",purchase_group_id:((xe=e.purchaseStatus)==null?void 0:xe.purchaseGroupId)||null,purchase_group_primary:((_e=e.purchaseStatus)==null?void 0:_e.purchaseGroupPrimary)||!1,purchase_group_receipt_file:((ve=e.purchaseStatus)==null?void 0:ve.purchaseGroupReceiptFile)||null,actual_cost:(ke=e.purchaseStatus)==null?void 0:ke.actualCost,purchased_by:((Ve=e.purchaseStatus)==null?void 0:Ve.purchasedBy)||"",expected_arrival_date:(Te=e.deliveryInfo)==null?void 0:Te.expectedArrivalDate,actual_arrival_date:(Ge=e.deliveryInfo)==null?void 0:Ge.actualArrivalDate,delivered_to_subteam:((pt=e.deliveryInfo)==null?void 0:pt.deliveredToSubteam)||!1,delivery_confirmed_by:((Ze=e.deliveryInfo)==null?void 0:Ze.deliveryConfirmedBy)||"",delivery_notes:((rt=e.deliveryInfo)==null?void 0:rt.deliveryNotes)||"",tracking_number:((At=e.deliveryInfo)==null?void 0:At.trackingNumber)||"",receipt_uploaded:((Ft=(et=e.documentation)==null?void 0:et.receiptInvoice)==null?void 0:Ft.uploaded)||!1,receipt_file_name:((me=(z=e.documentation)==null?void 0:z.receiptInvoice)==null?void 0:me.fileName)||"",receipt_upload_date:(De=(je=e.documentation)==null?void 0:je.receiptInvoice)==null?void 0:De.uploadDate,receipt_uploaded_by:((at=(Xe=e.documentation)==null?void 0:Xe.receiptInvoice)==null?void 0:at.uploadedBy)||"",additional_documents:((tt=e.documentation)==null?void 0:tt.additionalDocuments)||[],returned:((Be=e.returnInfo)==null?void 0:Be.returned)||!1,return_date:(Ke=e.returnInfo)==null?void 0:Ke.returnDate,return_reason:(($e=e.returnInfo)==null?void 0:$e.returnReason)||"",return_authorized_by:((Pe=e.returnInfo)==null?void 0:Pe.returnAuthorizedBy)||"",refund_amount:(it=e.returnInfo)==null?void 0:it.refundAmount,refund_processed:((nt=e.returnInfo)==null?void 0:nt.refundProcessed)||!1,status:e.status||"pending_technical_approval",last_updated:e.lastUpdated||new Date().toISOString()};return e.id&&(r.id=e.id),r}subscribeToTable(e,r){if(!this.client)throw new Error("Supabase not configured");return this.client.channel(`public:${e}`).on("postgres_changes",{event:"*",schema:"public",table:e},r).subscribe()}unsubscribe(e){e&&e.unsubscribe()}async getBlogs(){if(!this.client)throw new Error("Supabase not configured");this.ensureAuth();const{data:e,error:r}=await ga(this.client.from("blogs").select("*").order("created_at",{ascending:!1}),Qo,"getBlogs");if(r)throw r;return e||[]}async getBlog(e){if(!this.client)throw new Error("Supabase not configured");const{data:r,error:n}=await this.client.from("blogs").select("*").eq("id",e).single();if(n)throw n;return r}async getPublishedBlogs(){if(!this.client)throw new Error("Supabase not configured");const{data:e,error:r}=await this.client.from("blogs").select("*").eq("published",!0).order("created_at",{ascending:!1});if(r)throw r;return e||[]}async createBlog(e){if(!this.client)throw new Error("Supabase not configured");const{data:r,error:n}=await this.client.from("blogs").insert({title:e.title,author:e.author,body:e.body,image_url:e.image_url||null,link_url:e.link_url||null,link_text:e.link_text||null,published:e.published||!1}).select().single();if(n)throw n;return r}async updateBlog(e,r){if(!this.client)throw new Error("Supabase not configured");const{data:n,error:s}=await this.client.from("blogs").update({title:r.title,author:r.author,body:r.body,image_url:r.image_url||null,link_url:r.link_url||null,link_text:r.link_text||null,published:r.published}).eq("id",e).select().single();if(s)throw s;return n}async deleteBlog(e){if(!this.client)throw new Error("Supabase not configured");const{data:r}=await this.client.from("blogs").select("image_url").eq("id",e).single();if(r!=null&&r.image_url&&r.image_url.includes("supabase"))try{await this.deleteBlogImage(r.image_url)}catch(s){console.warn("Failed to delete image from storage:",s)}const{error:n}=await this.client.from("blogs").delete().eq("id",e);if(n)throw n}async uploadBlogImage(e,r){if(!this.client)throw new Error("Supabase not configured");if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(e.type))throw new Error("Invalid file type. Please upload a JPEG, PNG, WebP, or GIF image.");const s=5*1024*1024;if(e.size>s)throw new Error("File size too large. Maximum size is 5MB.");const i=e.name.split(".").pop(),a=Date.now(),l=`blog-headers/${`${r}-${a}.${i}`}`,{data:c,error:u}=await this.client.storage.from("blog-images").upload(l,e,{cacheControl:"3600",upsert:!1});if(u)throw u;const{data:{publicUrl:h}}=this.client.storage.from("blog-images").getPublicUrl(l);return h}async uploadBlogInlineImage(e,r){if(!this.client)throw new Error("Supabase not configured");if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(e.type))throw new Error("Invalid file type. Please upload a JPEG, PNG, WebP, or GIF image.");const s=5*1024*1024;if(e.size>s)throw new Error("File size too large. Maximum size is 5MB.");const i=e.name.split(".").pop(),a=Date.now(),l=`blog-inline/${`${r}-${a}.${i}`}`,{data:c,error:u}=await this.client.storage.from("blog-images").upload(l,e,{cacheControl:"3600",upsert:!1});if(u)throw u;const{data:{publicUrl:h}}=this.client.storage.from("blog-images").getPublicUrl(l);return h}async deleteBlogImage(e){if(!this.client)throw new Error("Supabase not configured");const r=e.split("/blog-images/");if(r.length<2){console.warn("Invalid image URL format:",e);return}const n=r[1],{error:s}=await this.client.storage.from("blog-images").remove([n]);if(s)throw s}async deleteBlogInlineImage(e){if(!this.client)throw new Error("Supabase not configured");if(!e)return;const r=e.split("/blog-images/");if(r.length<2){console.warn("Invalid inline image URL format:",e);return}const n=r[1],{error:s}=await this.client.storage.from("blog-images").remove([n]);if(s)throw s}async signUp(e,r,n){if(!this.client)throw new Error("Supabase not configured");const s={email:e,password:r,...n?{options:{data:n}}:{}},{data:i,error:a}=await this.client.auth.signUp(s);if(a)throw a;return i}async signIn(e,r){if(!this.client)throw new Error("Supabase not configured");const{data:n,error:s}=await this.client.auth.signInWithPassword({email:e,password:r});if(s)throw s;return n}async signOut(){if(!this.client)throw new Error("Supabase not configured");const{error:e}=await this.client.auth.signOut();if(e)throw e}async getUser(){if(!this.client)throw new Error("Supabase not configured");const{data:{user:e}}=await this.client.auth.getUser();return e}async getUserRole(){if(!this.client)throw new Error("Supabase not configured");const{data:{user:e}}=await this.client.auth.getUser();if(!e)return null;const{data:r,error:n}=await this.client.from("user_roles").select("*").eq("user_id",e.id).single();return n?(console.error("Error fetching user role:",n),{level:"member",email:e.email}):r}async upsertUserRoleForUserId(e,r={}){if(!this.client)throw new Error("Supabase not configured");const n={user_id:e,...r.email!==void 0?{email:r.email}:{},...r.first_name!==void 0?{first_name:r.first_name}:{},...r.last_name!==void 0?{last_name:r.last_name}:{},...r.phone_number!==void 0?{phone_number:r.phone_number}:{}},{data:s,error:i}=await this.client.from("user_roles").upsert(n,{onConflict:"user_id"}).select().maybeSingle();if(i)throw i;return s}async getUserProfile(){if(!this.client)throw new Error("Supabase not configured");const{data:{user:e}}=await this.client.auth.getUser();if(!e)return null;const{data:r,error:n}=await this.client.from("user_roles").select("*").eq("user_id",e.id).maybeSingle();return n&&console.warn("getUserProfile: failed to fetch user_roles row",n),{user:e,role:r||null}}async updateUserProfile(e){if(!this.client)throw new Error("Supabase not configured");const{data:{user:r}}=await this.client.auth.getUser();if(!r)throw new Error("No authenticated user");const n={user_id:r.id,...e.email!==void 0?{email:e.email}:{email:r.email},...e.first_name!==void 0?{first_name:e.first_name}:{},...e.last_name!==void 0?{last_name:e.last_name}:{},...e.phone_number!==void 0?{phone_number:e.phone_number}:{}},{data:s,error:i}=await this.client.from("user_roles").upsert(n,{onConflict:"user_id"}).select().single();if(i)throw i;return s}async updateUserRole(e,r){if(!this.client)throw new Error("Supabase not configured");const{data:n,error:s}=await this.client.from("user_roles").update({level:r}).eq("user_id",e).select().single();if(s)throw s;return n}async getAllUserRoles(){if(!this.client)throw new Error("Supabase not configured");const{data:e,error:r}=await this.client.from("user_roles").select("*").order("created_at",{ascending:!1});if(r)throw r;return e||[]}async getPendingUsers(){if(!this.client)throw new Error("Supabase not configured");const{data:e,error:r}=await this.client.from("user_roles").select("*").eq("approval_status","pending").order("created_at",{ascending:!1});if(r)throw r;return e||[]}async approveUser(e,r,n="member"){if(!this.client)throw new Error("Supabase not configured");const{data:s,error:i}=await this.client.from("user_roles").update({approval_status:"approved",approved_by:r,approved_at:new Date().toISOString(),level:n}).eq("user_id",e).select().single();if(i)throw i;return s}async rejectUser(e,r){if(!this.client)throw new Error("Supabase not configured");const{data:n,error:s}=await this.client.from("user_roles").update({approval_status:"rejected",approved_by:r,approved_at:new Date().toISOString()}).eq("user_id",e).select().single();if(s)throw s;return n}async resetPassword(e){if(!this.client)throw new Error("Supabase not configured");const{error:r}=await this.client.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});if(r)throw r}async updatePassword(e){if(!this.client)throw new Error("Supabase not configured");const{data:r,error:n}=await this.client.auth.updateUser({password:e});if(n)throw n;return r}async verifyOTP(e,r){if(!this.client)throw new Error("Supabase not configured");const{data:n,error:s}=await this.client.auth.verifyOtp({email:e,token:r,type:"email"});if(s)throw s;return n}async resendConfirmationEmail(e){if(!this.client)throw new Error("Supabase not configured");const{error:r}=await this.client.auth.resend({type:"signup",email:e});if(r)throw r}onAuthStateChange(e){if(!this.client)throw new Error("Supabase not configured");return this.client.auth.onAuthStateChange(e)}async getSession(){if(!this.client)throw new Error("Supabase not configured");const{data:{session:e}}=await this.client.auth.getSession();return e}async checkConnection(){return await JI()}async refreshConnection(){return await XI()}onConnectionChange(e){return YI(e)}getConnectionState(){return ZI()}}const ze=new eL,tL=Object.freeze(Object.defineProperty({__proto__:null,default:ze,supabaseService:ze},Symbol.toStringTag,{value:"Module"})),eo={MEMBER:"member",LEADER:"leader",DIRECTOR:"director"},rL={[eo.MEMBER]:["view_schedules","view_team","view_announcements","view_sponsors","view_alumni","view_orders"],[eo.LEADER]:["view_schedules","view_team","view_announcements","view_sponsors","view_alumni","view_orders","edit_schedules","edit_team","edit_sponsors","edit_alumni","submit_orders","edit_announcements"],[eo.DIRECTOR]:["view_schedules","view_team","view_announcements","view_sponsors","view_alumni","view_orders","edit_schedules","edit_team","edit_sponsors","edit_alumni","edit_orders","edit_announcements","approve_orders","manage_users","submit_orders"]};class nL{constructor(){this.currentUser=null,this.authSubscription=null,this.isInitialized=!1,this.initPromise=null,this.authStateListeners=new Set,this.connectionUnsubscribe=null,this.isLoadingUserData=!1,this.lastNotifiedAuthState=null,this.initializeAuth()}async initializeAuth(){return this.initPromise=this._doInitialize(),this.initPromise}async _doInitialize(){var e;try{if(!ze.isConfigured()){console.warn("Supabase not configured. Authentication disabled."),this.isInitialized=!0;return}const r=await ze.getSession();console.log("Initial session check:",r?"Session found":"No session"),r&&await this.loadUserData(),this.authSubscription||(this.authSubscription=ze.onAuthStateChange(async(n,s)=>{console.log("Auth state changed:",n,s?"with session":"no session");let i=!1;n==="SIGNED_IN"||n==="INITIAL_SESSION"?s&&(await this.loadUserData(),i=!0):n==="TOKEN_REFRESHED"?(console.log("Token refreshed silently (not reloading UI)"),s&&!this.currentUser&&(await this.loadUserData(),i=!0)):n==="SIGNED_OUT"&&(this.currentUser=null,i=!0),i&&this._notifyListeners()})),this.connectionUnsubscribe||(this.connectionUnsubscribe=ze.onConnectionChange((n,s)=>{console.log("Connection event:",n,"connected:",s),(n==="visibility_restored"||n==="focus_restored"||n==="online")&&s&&this.currentUser&&this._refreshUserDataInBackground()})),this.isInitialized=!0,console.log("Auth initialization complete, user:",((e=this.currentUser)==null?void 0:e.email)||"none")}catch(r){console.error("Error initializing auth:",r),this.isInitialized=!0}}async waitForInit(){this.initPromise&&await this.initPromise}onAuthStateChange(e){return this.authStateListeners.add(e),()=>{this.authStateListeners.delete(e)}}_notifyListeners(){var s;const e=this.isAuthenticated(),r=(s=this.currentUser)==null?void 0:s.id,n=`${e}:${r||"none"}`;if(this.lastNotifiedAuthState===n){console.log("Auth state unchanged, skipping notification");return}console.log("Auth state changed from",this.lastNotifiedAuthState,"to",n),this.lastNotifiedAuthState=n,this.authStateListeners.forEach(i=>{try{i(e,this.currentUser)}catch(a){console.error("Auth state listener error:",a)}})}_refreshUserDataInBackground(){(async()=>{try{console.log("Verifying session in background...");const e=new Promise((n,s)=>setTimeout(()=>s(new Error("timeout")),5e3));if(await Promise.race([ze.getSession(),e])){const n=!!this.currentUser;await Promise.race([this.loadUserData(),e]),!n&&this.currentUser?(console.log("User data loaded after restore"),this._notifyListeners()):console.log("Session verified silently")}else console.log("Session no longer valid"),this.currentUser=null,this._notifyListeners()}catch(e){console.warn("Background session verification skipped:",e.message)}})()}async loadUserData(){var e,r;if(this.isLoadingUserData){console.log("loadUserData already in progress, skipping...");return}this.isLoadingUserData=!0;try{const n=await ze.getUserProfile();if(!n||!n.user){this.currentUser=null;return}const{user:s,role:i}=n;try{const a=(s==null?void 0:s.user_metadata)||{};if((a.first_name||a.last_name)&&(!i||!i.first_name||!i.last_name)){await ze.updateUserProfile({...a.first_name?{first_name:a.first_name}:{},...a.last_name?{last_name:a.last_name}:{}});const l=await ze.getUserProfile();l&&l.role&&Object.assign(n,{role:l.role})}}catch(a){console.warn("Could not upsert profile metadata to user_roles:",a.message||a)}this.currentUser={id:s.id,email:s.email,level:(i==null?void 0:i.level)||eo.MEMBER,permissions:rL[(i==null?void 0:i.level)||eo.MEMBER],emailConfirmed:s.email_confirmed_at!==null,first_name:(i==null?void 0:i.first_name)||((e=s==null?void 0:s.user_metadata)==null?void 0:e.first_name)||null,last_name:(i==null?void 0:i.last_name)||((r=s==null?void 0:s.user_metadata)==null?void 0:r.last_name)||null,phone_number:(i==null?void 0:i.phone_number)||null,specific_role:(i==null?void 0:i.specific_role)||null,joined_at:s.created_at||null,approval_status:(i==null?void 0:i.approval_status)||"pending",approved_at:(i==null?void 0:i.approved_at)||null,approved_by:(i==null?void 0:i.approved_by)||null}}catch(n){console.error("Error loading user data:",n),this.currentUser=null}finally{this.isLoadingUserData=!1}}async signUp(e,r,n,s){try{const i={};n&&(i.first_name=n),s&&(i.last_name=s);const a=await ze.signUp(e,r,Object.keys(i).length?i:void 0);try{a&&a.user&&(n||s)&&await ze.upsertUserRoleForUserId(a.user.id,{first_name:n||void 0,last_name:s||void 0,email:e})}catch(l){console.warn("Signup: could not upsert names into user_roles:",(l==null?void 0:l.message)||l)}let A=!a.session;if(a.session)await this.loadUserData();else try{const l=await this.signIn(e,r);return A=!1,{...l,needsEmailConfirmation:A}}catch(l){console.warn("Auto sign-in after signup failed:",l);try{a.user&&(i.first_name||i.last_name)&&await ze.upsertUserRoleForUserId(a.user.id,{first_name:i.first_name,last_name:i.last_name,email:e})}catch(c){console.warn("Could not upsert user_roles after signup (likely RLS):",(c==null?void 0:c.message)||c)}}return{...a,needsEmailConfirmation:A}}catch(i){throw console.error("Sign up error:",i),i}}async signIn(e,r){try{const n=await ze.signIn(e,r);return await this.loadUserData(),this._notifyListeners(),n}catch(n){throw console.error("Sign in error:",n),n}}async signOut(){try{await ze.signOut(),this.currentUser=null,this._notifyListeners()}catch(e){throw console.error("Sign out error:",e),e}}async logout(){return this.signOut()}async requestPasswordReset(e){try{await ze.resetPassword(e)}catch(r){throw console.error("Password reset error:",r),r}}async updatePassword(e){try{await ze.updatePassword(e)}catch(r){throw console.error("Update password error:",r),r}}async verifyEmail(e,r){try{const n=await ze.verifyOTP(e,r);return await this.loadUserData(),n}catch(n){throw console.error("Email verification error:",n),n}}async extendSession(){try{const e=await ze.getSession();return e&&(await this.loadUserData(),this._notifyListeners()),e}catch(e){return console.warn("extendSession failed:",e),null}}async resendConfirmation(e){try{await ze.resendConfirmationEmail(e)}catch(r){throw console.error("Resend confirmation error:",r),r}}isAuthenticated(){return this.currentUser!==null&&this.currentUser.approval_status==="approved"}isApproved(){return this.currentUser!==null&&this.currentUser.approval_status==="approved"}isPending(){return this.currentUser!==null&&this.currentUser.approval_status==="pending"}isRejected(){return this.currentUser!==null&&this.currentUser.approval_status==="rejected"}hasPermission(e){return this.isAuthenticated()?this.currentUser.permissions.includes(e):!1}getLevel(){return this.isAuthenticated()?this.currentUser.level:null}getUser(){return this.currentUser}async updateUserRole(e,r){if(!this.hasPermission("manage_users"))throw new Error("Permission denied: Only directors can update user roles");try{await ze.updateUserRole(e,r)}catch(n){throw console.error("Update user role error:",n),n}}async getAllUsers(){if(!this.hasPermission("manage_users"))throw new Error("Permission denied: Only directors can view all users");try{return await ze.getAllUserRoles()}catch(e){throw console.error("Get all users error:",e),e}}cleanup(){var e,r,n;if(this.authSubscription){try{(n=(r=(e=this.authSubscription.data)==null?void 0:e.subscription)==null?void 0:r.unsubscribe)==null||n.call(r)}catch(s){console.warn("Error unsubscribing from auth:",s)}this.authSubscription=null}if(this.connectionUnsubscribe){try{this.connectionUnsubscribe()}catch(s){console.warn("Error unsubscribing from connection:",s)}this.connectionUnsubscribe=null}this.authStateListeners.clear()}}const ht=new nL;const sL=()=>{const[t,e]=W.useState(!1),[r,n]=W.useState(!1),[s,i]=W.useState(!1),a=$c(),A=Ao();W.useEffect(()=>{let y=!0;(async()=>{await ht.waitForInit(),y&&n(ht.isAuthenticated())})();const b=ht.onAuthStateChange(B=>{y&&n(B)});return()=>{y=!1,b()}},[]),W.useEffect(()=>{const y=g=>{s&&!g.target.closest(".auth-dropdown")&&i(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[s]);const l=()=>{e(!t)},c=()=>{e(!1)},u=()=>{r?i(!s):A("/login")},h=()=>{i(!1),A("/admin")},p=()=>{(async()=>{try{await ht.logout()}catch(g){console.error("Logout failed:",g)}finally{n(!1),i(!1),A("/")}})()},d=()=>{c(),A("/login")};W.useEffect(()=>{e(!1)},[a]),W.useEffect(()=>{const y=()=>{window.innerWidth>767&&t&&e(!1)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[t]),W.useEffect(()=>(document.body.style.overflow=t?"hidden":"",()=>{document.body.style.overflow=""}),[t]);const w=y=>!!(y==="/"&&a.pathname==="/"||y!=="/"&&a.pathname.startsWith(y)),m=[{path:"/",label:"Home"},{path:"/app",label:"App"},{path:"/team",label:"Team"},{path:"/alumni",label:"Alumni"},{path:"/sponsors",label:"Sponsors"},{path:"/donate",label:"Donate"},{path:"/blogs",label:"Blogs"},{path:"/contact",label:"Contact"}];return o.jsxs(o.Fragment,{children:[o.jsxs("header",{className:"header",children:[o.jsxs("button",{className:"logo",style:{background:"none",border:"none",padding:0,cursor:"pointer"},onClick:()=>{A("/")},children:[o.jsx("img",{src:"/solarpack_logo.png",alt:"SolarPack logo"}),"SolarPack"]}),o.jsx("nav",{className:"nav",children:m.map(({path:y,label:g})=>o.jsx(Ip,{to:y,className:w(y)?"active":"",children:g},y))}),o.jsx("div",{className:"auth-section",children:r?o.jsxs("div",{className:"auth-dropdown",children:[o.jsxs("button",{className:"account-btn authenticated",onClick:u,children:[o.jsx("i",{className:"fas fa-user-check","aria-hidden":"true"}),o.jsx("span",{className:"auth-text",children:"Account"}),o.jsx("i",{className:"fas fa-chevron-down dropdown-arrow","aria-hidden":"true"})]}),s&&o.jsxs("div",{className:"dropdown-menu",children:[o.jsxs("button",{onClick:h,className:"dropdown-item",children:[o.jsx("i",{className:"fas fa-tachometer-alt","aria-hidden":"true"}),"Dashboard"]}),o.jsxs("button",{onClick:p,className:"dropdown-item logout",children:[o.jsx("i",{className:"fas fa-sign-out-alt","aria-hidden":"true"}),"Logout"]})]})]}):o.jsxs("button",{className:"account-btn",onClick:u,children:[o.jsx("i",{className:"fas fa-user","aria-hidden":"true"}),o.jsx("span",{className:"auth-text",children:"Sign In"})]})}),o.jsx("button",{className:"burger",onClick:l,"aria-label":"Toggle navigation",children:o.jsx("i",{className:`fas ${t?"fa-times":"fa-bars"}`,"aria-hidden":"true"})})]}),o.jsx("div",{className:`mobile-panel ${t?"open":""}`,onClick:c,children:o.jsxs("nav",{className:"m-nav",onClick:y=>y.stopPropagation(),children:[m.map(({path:y,label:g})=>o.jsx(Ip,{to:y,className:w(y)?"active":"",onClick:c,children:g},y)),o.jsx("div",{className:"mobile-auth",children:r?o.jsxs(o.Fragment,{children:[o.jsxs("button",{className:"mobile-auth-btn authenticated",onClick:h,children:[o.jsx("i",{className:"fas fa-tachometer-alt","aria-hidden":"true"}),"Dashboard"]}),o.jsxs("button",{className:"mobile-auth-btn logout",onClick:p,children:[o.jsx("i",{className:"fas fa-sign-out-alt","aria-hidden":"true"}),"Logout"]})]}):o.jsxs("button",{className:"mobile-auth-btn",onClick:d,children:[o.jsx("i",{className:"fas fa-user","aria-hidden":"true"}),"Sign In"]})})]})})]})},iL=({children:t})=>o.jsxs(o.Fragment,{children:[o.jsx(sL,{}),o.jsx("main",{children:t}),o.jsx("footer",{className:"footer",children:" 2025 NC State SolarPack. All rights reserved."})]}),aL=({isOpen:t,onClose:e,onConfirm:r,title:n,message:s,type:i="info",confirmText:a="OK",cancelText:A="Cancel"})=>{if(W.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;const l=i==="confirm",c=()=>{r?r():e()},u=()=>{e()},h=()=>{switch(i){case"error":return o.jsxs("svg",{className:"alert-icon error",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),o.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]});case"warning":return o.jsxs("svg",{className:"alert-icon warning",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),o.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),o.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"success":return o.jsxs("svg",{className:"alert-icon success",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),o.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]});case"confirm":return o.jsxs("svg",{className:"alert-icon confirm",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"}),o.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"})]});default:return o.jsxs("svg",{className:"alert-icon info",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),o.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}};return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        .alert-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.75);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 10000;
          animation: fadeIn 0.2s ease-out;
        }

        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        @keyframes slideIn {
          from {
            transform: scale(0.9);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }

        .alert-box {
          background: var(--surface);
          border-radius: 12px;
          padding: 2rem;
          max-width: 450px;
          width: 90%;
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
          animation: slideIn 0.3s ease-out;
        }

        .alert-header {
          display: flex;
          align-items: center;
          gap: 1rem;
          margin-bottom: 1.5rem;
        }

        .alert-icon {
          width: 48px;
          height: 48px;
          flex-shrink: 0;
        }

        .alert-icon.error {
          color: #ef4444;
        }

        .alert-icon.warning {
          color: #f59e0b;
        }

        .alert-icon.success {
          color: #10b981;
        }

        .alert-icon.info {
          color: #3b82f6;
        }

        .alert-icon.confirm {
          color: #dc2626;
        }

        .alert-title {
          font-family: "Bebas Neue", sans-serif;
          font-size: 1.5rem;
          color: var(--text);
          margin: 0;
          flex: 1;
        }

        .alert-message {
          color: var(--subtxt);
          line-height: 1.6;
          margin-bottom: 2rem;
          font-size: 0.95rem;
        }

        .alert-message-section {
          margin-bottom: 1.25rem;
        }

        .alert-message-section:last-child {
          margin-bottom: 0;
        }

        .alert-message-main {
          font-size: 1rem;
          color: var(--text);
          font-weight: 500;
          margin-bottom: 0.75rem;
        }

        .alert-message-details {
          font-size: 0.9rem;
          color: var(--subtxt);
          margin-bottom: 0.5rem;
        }

        .alert-message-note {
          display: flex;
          gap: 0.75rem;
          padding: 1rem;
          background: rgba(220, 38, 38, 0.1);
          border-left: 3px solid #dc2626;
          border-radius: 6px;
          margin-top: 1rem;
        }

        .alert-message-note-icon {
          width: 20px;
          height: 20px;
          color: #dc2626;
          flex-shrink: 0;
          margin-top: 2px;
        }

        .alert-message-note-content {
          flex: 1;
        }

        .alert-message-note-title {
          font-weight: 600;
          color: #dc2626;
          margin-bottom: 0.25rem;
          font-size: 0.9rem;
        }

        .alert-message-note-text {
          font-size: 0.85rem;
          color: var(--subtxt);
          line-height: 1.5;
        }

        .alert-actions {
          display: flex;
          gap: 1rem;
          justify-content: flex-end;
        }

        .alert-btn {
          padding: 0.75rem 1.5rem;
          border-radius: 8px;
          border: none;
          cursor: pointer;
          font-size: 0.9rem;
          font-weight: 600;
          transition: all 0.2s ease;
          font-family: inherit;
        }

        .alert-btn-primary {
          background: var(--accent);
          color: white;
        }

        .alert-btn-primary:hover {
          background: #c71821;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(227, 28, 35, 0.4);
        }

        .alert-btn-secondary {
          background: transparent;
          color: var(--text);
          border: 1px solid var(--subtxt);
        }

        .alert-btn-secondary:hover {
          background: rgba(255, 255, 255, 0.05);
          border-color: var(--text);
        }

        .alert-btn-danger {
          background: #dc2626;
          color: white;
        }

        .alert-btn-danger:hover {
          background: #b91c1c;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(220, 38, 38, 0.4);
        }
      `}),o.jsx("div",{className:"alert-overlay",onClick:u,children:o.jsxs("div",{className:"alert-box",onClick:p=>p.stopPropagation(),children:[o.jsxs("div",{className:"alert-header",children:[h(),o.jsx("h3",{className:"alert-title",children:n})]}),o.jsx("div",{className:"alert-message",children:typeof s=="string"?o.jsx("p",{children:s}):s}),o.jsxs("div",{className:"alert-actions",children:[l&&o.jsx("button",{className:"alert-btn alert-btn-secondary",onClick:u,children:A}),o.jsx("button",{className:`alert-btn ${i==="confirm"?"alert-btn-danger":"alert-btn-primary"}`,onClick:c,autoFocus:!0,children:a})]})]})})]})},O4=W.createContext(null),oL=({children:t})=>{const[e,r]=W.useState([]),[n,s]=W.useState(null),i=W.useCallback(w=>new Promise(m=>{const y={id:Date.now()+Math.random(),...w,resolve:m};n?r(g=>[...g,y]):s(y)}),[n]),a=W.useCallback((w=!1)=>{n!=null&&n.resolve&&(n.type==="confirm"?n.resolve(w):n.resolve(!0)),r(m=>{const[y,...g]=m;return s(y||null),g})},[n]),A=W.useCallback(()=>{a(!0)},[a]),l=W.useCallback((w,m="Error")=>i({title:m,message:w,type:"error"}),[i]),c=W.useCallback((w,m="Warning")=>i({title:m,message:w,type:"warning"}),[i]),u=W.useCallback((w,m="Success")=>i({title:m,message:w,type:"success"}),[i]),h=W.useCallback((w,m="Confirm Action",y="Confirm",g="Cancel")=>i({title:m,message:w,type:"confirm",confirmText:y,cancelText:g}),[i]),p=W.useCallback((w,m="info")=>i({title:{error:"Error",warning:"Warning",success:"Success",info:"Information"}[m]||"Alert",message:w,type:m}),[i]),d=W.useMemo(()=>({showAlert:p,showAlertAdvanced:i,showError:l,showWarning:c,showSuccess:u,showConfirm:h}),[p,i,l,c,u,h]);return o.jsxs(O4.Provider,{value:d,children:[t,n&&o.jsx(aL,{isOpen:!0,onClose:a,onConfirm:A,title:n.title||"Alert",message:n.message||"",type:n.type||"info",confirmText:n.confirmText||"OK",cancelText:n.cancelText||"Cancel"},n.id)]})},li=()=>{const t=W.useContext(O4);if(!t)throw new Error("useAlert must be used within an AlertProvider");return t};const R4=({onLogin:t})=>{const e=Ao(),{showAlert:r}=li(),[n,s]=W.useState("login"),[i,a]=W.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[A,l]=W.useState(!1),[c,u]=W.useState(!1),h=b=>{const{name:B,value:C}=b.target;a(N=>({...N,[B]:C}))},p=b=>b.length<6?"Password must be at least 6 characters long":/[A-Z]/.test(b)?/[a-z]/.test(b)?/[0-9]/.test(b)?/[^A-Za-z0-9]/.test(b)?null:"Password must contain at least one symbol":"Password must contain at least one number":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter",d=i.password||"",w={length:d.length>=6,lower:/[a-z]/.test(d),upper:/[A-Z]/.test(d),number:/[0-9]/.test(d),symbol:/[^A-Za-z0-9]/.test(d)},m=async b=>{b.preventDefault(),l(!0);try{if(n==="signup"){if(!i.email||!i.password||!i.confirmPassword||!i.firstName||!i.lastName){r("Please fill in all fields","error"),l(!1);return}if(i.password!==i.confirmPassword){r("Passwords do not match","error"),l(!1);return}const B=p(i.password);if(B){r(B,"error"),l(!1);return}await ht.signUp(i.email,i.password,i.firstName,i.lastName),r("Account created! Awaiting approval from team leaders.","success"),e("/pending-approval")}else{if(!i.email||!i.password){r("Please enter your email and password","error"),l(!1);return}if(await ht.signIn(i.email,i.password),ht.isPending()){r("Your account is pending approval","info"),e("/pending-approval");return}if(ht.isRejected()){r("Your account request was not approved","error"),e("/pending-approval");return}r("Welcome back!","success"),t()}}catch(B){console.error("Auth error:",B);let C="An error occurred. Please try again.";B.message.includes("Invalid login credentials")?C="Invalid email or password":B.message.includes("User already registered")?C="An account with this email already exists":B.message.includes("Invalid email")?C="Please enter a valid email address":C=B.message||C,r(C,"error")}finally{l(!1)}},y=()=>{s(n==="login"?"signup":"login"),a({email:"",password:"",confirmPassword:"",firstName:"",lastName:""})},g=()=>{e("/forgot-password")};return o.jsx("div",{className:"login-container",children:o.jsxs("div",{className:"login-card",children:[o.jsxs("div",{className:"login-header",children:[o.jsxs("div",{className:"login-logo",children:[o.jsx("img",{src:"/solarpack_logo.png",alt:"SolarPack logo"}),o.jsx("h1",{className:"login-title",children:"SolarPack"})]}),o.jsx("p",{className:"login-subtitle",children:n==="login"?"Admin Dashboard Access":"Create Your Account"})]}),o.jsxs("form",{onSubmit:m,className:"login-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"email",children:"Email Address"}),o.jsx("input",{type:"email",id:"email",name:"email",className:"form-input",value:i.email,onChange:h,placeholder:"your.email@ncsu.edu",disabled:A,autoFocus:!0,autoComplete:"email",required:!0})]}),n==="signup"&&o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group half",children:[o.jsx("label",{htmlFor:"firstName",children:"First Name"}),o.jsx("input",{type:"text",id:"firstName",name:"firstName",className:"form-input",value:i.firstName,onChange:h,placeholder:"First name",disabled:A,required:!0,autoComplete:"given-name"})]}),o.jsxs("div",{className:"form-group half",children:[o.jsx("label",{htmlFor:"lastName",children:"Last Name"}),o.jsx("input",{type:"text",id:"lastName",name:"lastName",className:"form-input",value:i.lastName,onChange:h,placeholder:"Last name",disabled:A,required:!0,autoComplete:"family-name"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"password-input-wrapper",children:[o.jsx("input",{type:c?"text":"password",id:"password",name:"password",className:"form-input",value:i.password,onChange:h,placeholder:n==="signup"?"Create a strong password":"Enter your password",disabled:A,required:!0,autoComplete:n==="signup"?"new-password":"current-password"}),o.jsx("button",{type:"button",className:"password-toggle",onClick:()=>u(!c),disabled:A,"aria-pressed":c,"aria-label":c?"Hide password":"Show password",children:c?o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[o.jsx("path",{d:"M17.94 17.94A10.94 10.94 0 0 1 12 20C7 20 2.73 16.11 1 12c.47-1 .99-1.95 1.57-2.82"}),o.jsx("path",{d:"M3 3l18 18"}),o.jsx("path",{d:"M9.88 9.88A3 3 0 0 0 14.12 14.12"})]}):o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[o.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12z"}),o.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),n==="signup"&&o.jsxs("div",{children:[o.jsx("small",{className:"form-hint",children:"Password requirements"}),o.jsxs("ul",{className:"password-checklist","aria-live":"polite",children:[o.jsxs("li",{className:w.length?"met":"unmet",children:[o.jsx("span",{className:"check-icon","aria-hidden":!0,children:w.length?"":""}),o.jsx("span",{children:"Minimum 6 characters"})]}),o.jsxs("li",{className:w.lower?"met":"unmet",children:[o.jsx("span",{className:"check-icon","aria-hidden":!0,children:w.lower?"":""}),o.jsx("span",{children:"At least one lowercase letter"})]}),o.jsxs("li",{className:w.upper?"met":"unmet",children:[o.jsx("span",{className:"check-icon","aria-hidden":!0,children:w.upper?"":""}),o.jsx("span",{children:"At least one uppercase letter"})]}),o.jsxs("li",{className:w.number?"met":"unmet",children:[o.jsx("span",{className:"check-icon","aria-hidden":!0,children:w.number?"":""}),o.jsx("span",{children:"At least one number"})]}),o.jsxs("li",{className:w.symbol?"met":"unmet",children:[o.jsx("span",{className:"check-icon","aria-hidden":!0,children:w.symbol?"":""}),o.jsx("span",{children:"At least one symbol (e.g. !@#$%)"})]})]})]})]}),n==="signup"&&o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),o.jsx("input",{type:c?"text":"password",id:"confirmPassword",name:"confirmPassword",className:"form-input",value:i.confirmPassword,onChange:h,placeholder:"Re-enter your password",disabled:A,required:!0,autoComplete:"new-password"})]}),o.jsx("button",{type:"submit",className:"login-button",disabled:A,children:A?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"loading-spinner"}),n==="login"?"Signing In...":"Creating Account..."]}):n==="login"?"Sign In":"Create Account"}),o.jsxs("div",{className:"login-links",children:[n==="login"&&o.jsx("button",{type:"button",onClick:g,className:"link-button",disabled:A,children:"Forgot password?"}),o.jsx("button",{type:"button",onClick:y,className:"link-button",disabled:A,children:n==="login"?"Don't have an account? Sign up":"Already have an account? Sign in"})]})]}),n==="signup"&&o.jsx("div",{className:"login-footer",children:o.jsx("p",{className:"text-muted",children:"Your account will require approval from a team leader or director before you can access the dashboard."})})]})})},Ol={container:{width:"100%",maxWidth:1200,margin:"0 auto 2rem auto",padding:"2rem",background:"var(--card)",borderRadius:"var(--radius)",boxShadow:"0 1px 6px #0004",display:"block"},label:{fontSize:"1.2rem",fontWeight:600,marginBottom:"1rem",textAlign:"center",color:"var(--text)",letterSpacing:".02em"},barWrapper:{position:"relative",width:"100%",height:98,marginBottom:"0.5rem"},barContainer:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"100%",height:38,borderRadius:"999px",overflow:"hidden",background:"#222",boxShadow:"0 1px 6px #0002",zIndex:1,display:"block"},barFill:{height:"100%",background:"linear-gradient(90deg, var(--accent) 0%, #ff4a45 100%)",borderRadius:"999px 0 0 999px",transition:"width 0.6s cubic-bezier(.4,0,.2,1)",position:"absolute",left:0,top:0},carSticker:{position:"absolute",top:"50%",transform:"translateY(-50%)",width:136,height:136,pointerEvents:"none",zIndex:2,transition:"left 0.6s cubic-bezier(.4,0,.2,1)"}},AL=({percentage:t=0,upcomingProjects:e=[],totalProjects:r=0,completedCount:n=0})=>o.jsxs("div",{style:Ol.container,children:[o.jsxs("div",{style:Ol.label,children:[o.jsx("span",{style:{color:"var(--accent)"},children:"Car Build Progress:"})," ",t,"%"]}),o.jsxs("div",{style:Ol.barWrapper,children:[o.jsx("div",{style:Ol.barContainer,children:o.jsx("div",{style:{...Ol.barFill,width:`${t}%`}})}),o.jsx("img",{src:"/images/car_sticker.png",alt:"Car Sticker",style:{...Ol.carSticker,left:`calc(${t}% - 49px)`}})]}),e.length>0&&o.jsx("div",{style:{marginTop:"2rem",display:"flex",flexDirection:"column",gap:"0.8rem",width:"100%",marginInline:"auto",paddingInline:"1rem"},children:e.map(s=>{const i=r>0?100/r:0;return o.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.03)",borderRadius:"10px",boxShadow:"0 1px 4px #0001",padding:"0.85rem 1.2rem 0.85rem 1.6rem",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--text)",border:"1px solid rgba(255, 255, 255, 0.03)",borderLeft:"4px solid var(--accent)",width:"100%",marginInline:"auto",justifyContent:"space-between"},children:[o.jsx("span",{style:{fontWeight:600,fontSize:"1rem"},children:s.title}),o.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--accent)"},children:["+",i.toFixed(1),"%"]})]},s.id)})})]});const lL=()=>{const[t,e]=W.useState(0),[r,n]=W.useState([]),[s,i]=W.useState(0),[a,A]=W.useState(0);return W.useEffect(()=>{document.title="SolarPack",(async()=>{try{const u=(await ze.getScheduleData()).projects||[],h=u.length;if(h>0){const w=u.filter(y=>y.status==="completed").length,m=Math.round(w/h*100);e(m),i(h),A(w)}else e(0),i(0),A(0);const p=new Date,d=u.filter(w=>w.status!=="completed"&&new Date(w.dueDate)>=p).sort((w,m)=>new Date(w.dueDate)-new Date(m.dueDate)).slice(0,3);n(d)}catch{e(0),n([])}})()},[]),o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"hero",children:[o.jsx("img",{src:"/solarpack_logo.gif",alt:"SolarPack Logo"}),o.jsxs("div",{className:"hero-content",children:[o.jsx("h1",{children:"SolarPack"}),o.jsx("div",{className:"subtitle",children:"Solar Vehicle Team at NC State"}),o.jsx("p",{children:"Striving to break barriers in the sustainable vehicle industry with a hardworking group of over 80 passionate students. Join us in our journey to a more sustainable future for transportation."}),o.jsxs("a",{className:"donate-btn",href:"https://www.paypal.com/fundraiser/charity/3728956",target:"_blank",rel:"noopener","aria-label":"Donate to SolarPack via PayPal",children:[o.jsx("i",{className:"fab fa-paypal","aria-hidden":"true"}),"Donate"]})]})]}),o.jsx("div",{style:{width:"100%",background:"transparent",marginBottom:0},children:o.jsx(AL,{percentage:t,upcomingProjects:r,totalProjects:s,completedCount:a})}),o.jsxs("section",{className:"section",children:[o.jsx("img",{src:"/hero_shot.jpg",alt:"SolarPack Team"}),o.jsx("h2",{children:"Sustainable, Efficient, and Powerful."}),o.jsx("p",{children:"As NC State's first solar vehicle team, we are aiming to show the world that solar energy can be used to power a car. Along the way, we are making a solar vehicle no other team has done before."})]}),o.jsxs("section",{className:"section features",children:[o.jsxs("div",{className:"feature",children:[o.jsx("ion-icon",{name:"earth-outline"}),o.jsx("h3",{children:"Global Impact"}),o.jsx("p",{children:"We're showing the world that solar energy can power a multi-occupancy car. By building a vehicle no one has seen before, we hope to prove that sustainability and power can go hand in hand."})]}),o.jsxs("div",{className:"feature",children:[o.jsx("ion-icon",{name:"cog-outline"}),o.jsx("h3",{children:"Engineering Excellence"}),o.jsx("p",{children:"Our team thrives on creative problem solving. Members develop real-world skills as they tackle unique engineering challenges throughout our build process."})]}),o.jsxs("div",{className:"feature",children:[o.jsx("ion-icon",{name:"bulb-outline"}),o.jsx("h3",{children:"Innovation"}),o.jsx("p",{children:"Pioneering new solutions, our members are always innovatingusing every resource to bring big ideas to life and push the boundaries of solar vehicle technology."})]}),o.jsxs("div",{className:"feature",children:[o.jsx("ion-icon",{name:"hand-left-outline"}),o.jsx("h3",{children:"Collaboration"}),o.jsx("p",{children:"We partner with companies and alumni to guide our journey, building strong relationships as we promote the future of energy-efficient vehicles."})]}),o.jsxs("div",{className:"feature",children:[o.jsx("ion-icon",{name:"location-outline"}),o.jsx("h3",{children:"Rooted in the Triangle"}),o.jsx("p",{children:"Proudly representing the Research Triangle, we embody the spirit of innovation and excellence that defines our regiondriving forward as leaders in sustainable technology."})]})]}),o.jsx(cL,{}),o.jsxs("div",{className:"socials",children:[o.jsx("a",{href:"https://www.instagram.com/solarpacknc/",target:"_blank",rel:"noopener",children:o.jsx("i",{className:"fab fa-instagram"})}),o.jsx("a",{href:"https://www.linkedin.com/company/solarpack-nc-state/",target:"_blank",rel:"noopener",children:o.jsx("i",{className:"fab fa-linkedin"})}),o.jsx("a",{href:"https://www.facebook.com/SolarPackNC/",target:"_blank",rel:"noopener",children:o.jsx("i",{className:"fab fa-facebook"})})]})]})},cL=()=>{const[t,e]=W.useState(4),r=W.useRef(null),n=W.useRef(null),[s,i]=W.useState(320),[a,A]=W.useState(0),[l,c]=W.useState(0),u=["/race2025/race2025_1.jpg","/race2025/race2025_2.jpg","/race2025/race2025_3.jpg","/race2025/race2025_4.jpg","/race2025/race2025_5.jpg","/race2025/race2025_6.jpg","/race2025/race2025_7.jpg","/race2025/race2025_8.jpg","/race2025/race2025_9.jpg"],h=()=>{if(r.current&&n.current){const N=r.current.querySelector(".carousel-slide");if(N){const L=N.getBoundingClientRect(),Q=n.current.getBoundingClientRect();i(L.width),A(Q.width),c(Math.round((Q.width-L.width)/2))}}};W.useEffect(()=>{h();const N=new ResizeObserver(h);return n.current&&N.observe(n.current),()=>N.disconnect()},[]);const p=19.2,d=N=>{e(N)},w=()=>{e(N=>(N+1)%u.length)},m=()=>{e(N=>(N-1+u.length)%u.length)},y=-Math.round(t*(s+p))+l,[g,b]=W.useState(null),B=N=>{b(N)},C=N=>{if(g!==null){const L=N-g;L<-30?w():L>30&&m(),b(null)}};return o.jsxs("section",{className:"section race-carousel",children:[o.jsx("h2",{children:"2025 Race Highlights"}),o.jsxs("div",{className:"carousel-container",children:[o.jsx("button",{className:"carousel-arrow left",onClick:m,"aria-label":"Previous",children:o.jsx("i",{className:"fas fa-chevron-left"})}),o.jsx("div",{className:"carousel-viewport",ref:n,onMouseDown:N=>B(N.pageX),onMouseUp:N=>C(N.pageX),onTouchStart:N=>B(N.touches[0].pageX),onTouchEnd:N=>C(N.changedTouches[0].pageX),children:o.jsx("div",{className:"carousel-track",ref:r,style:{transform:`translateX(${y}px)`},children:u.map((N,L)=>o.jsx("div",{className:"carousel-slide",children:o.jsx("img",{src:N,alt:`Race 2025 Image ${L+1}`})},L))})}),o.jsx("button",{className:"carousel-arrow right",onClick:w,"aria-label":"Next",children:o.jsx("i",{className:"fas fa-chevron-right"})}),o.jsx("div",{className:"carousel-dots",children:u.map((N,L)=>o.jsx("span",{className:`dot ${L===t?"active":""}`,onClick:()=>d(L)},L))})]})]})},uL=()=>{W.useEffect(()=>{document.title="SolarPack  App"},[]);const t={ipad1:{image:"/images/ipad-app/Ipad 1.png",title:"Home Page",description:"The Home Page is the main dashboard for the app, providing a real-time overview of all critical vehicle and system stats. It is designed for quick-glance monitoring and immediate access to the most important data.",features:["Live Gauges: Speed, RPM, and current draw with animated arc gauges","Battery & Solar Info: Battery voltage, wattage, solar voltage, and solar power","Temperature Readouts: Motor and inverter temperatures","System Status Indicator: Animated status dot and label","Responsive Layout: Optimized for iPad with large, easy-to-read values"]},ipad2:{image:"/images/ipad-app/Ipad 2.png",title:"BMS Page",description:"The BMS (Battery Management System) Page provides a detailed, real-time overview of battery pack health, cell-level data, and system status. Essential for monitoring, diagnostics, and troubleshooting of the battery system.",features:["Pack Overview: Total battery voltage, current draw, wattage, and 12V battery voltage","State Badges: Charging/discharging status and enable signals","Cell Grid: 1010 grid of all cell voltages and temperatures, labeled and color-coded","Fault Codes: Lists active BMS fault codes","Status Indicator: Animated status dot and label for BMS power state"]},ipad3:{image:"/images/ipad-app/Ipad 3.png",title:"Motor Controller Page",description:"The Motor Controller Page provides a comprehensive, real-time view of the traction motor and its controller, including RPM, temperatures, voltages, and cooling system status. Essential for monitoring drive performance and diagnosing issues.",features:["RPM Gauge: Large animated arc gauge for motor RPM","Temperature Readouts: Motor and controller (inverter) temperatures","Voltage Monitoring: High-voltage and 12V system voltages","Cooling System Status: Visual indicators for radiator and pump status","System Status Indicator: Header with animated status dot and label"]},ipad4:{image:"/images/ipad-app/Ipad 4.png",title:"Charging Page",description:"The Charging Page provides a comprehensive, real-time overview of battery pack and solar charging status, including charge rates, voltages, estimated time remaining, and solar-only mode controls. Essential for monitoring charging performance and managing energy sources.",features:["Charging Status: Charger plugged in, requested current, charge rate, and pack voltage","Solar Charging: Solar voltage, amps, power, and charger status","Battery Visualization: Large battery icon with animated fill","Estimated Time Remaining: Calculates time to full charge","Solar-Only Mode: Toggle switch for solar-only charging","Rolling Line Chart: Real-time chart of charge rates"]},ipad5:{image:"/images/ipad-app/Ipad 5.png",title:"Low Voltage Page",description:"The Low Voltage Page provides a real-time overview of board health and auxiliary systems, including a grid of board status indicators and ignition mode controls. Essential for monitoring the health of low-voltage electronics and managing ignition states.",features:["Board Health Grid: 23 grid of board cards showing status (OK, Fault, Offline)","Ignition Mode Control: View and adjust ignition mode (OFF, ACC, ON, START)","Status Indicators: Animated status dots for live feedback","Responsive Layout: Optimized for iPad with grid-based design and large icons"]}};return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        /* Page-specific styles */
        .app-hero {
          position: relative;
          background: linear-gradient(135deg, #1a1a1a 0%, #0c0c0c 100%);
          border-radius: var(--radius);
          padding: 4rem 2rem;
          margin-bottom: 3rem;
          overflow: hidden;
          box-shadow: 0 8px 32px rgba(227, 27, 35, 0.15);
        }

        .app-hero::before {
          content: '';
          position: absolute;
          top: -50%;
          right: -20%;
          width: 600px;
          height: 600px;
          background: radial-gradient(circle, rgba(227, 27, 35, 0.15) 0%, transparent 70%);
          border-radius: 50%;
          animation: pulse 8s ease-in-out infinite;
        }

        @keyframes pulse {
          0%, 100% { transform: scale(1); opacity: 0.3; }
          50% { transform: scale(1.1); opacity: 0.5; }
        }

        .app-hero-content {
          position: relative;
          z-index: 1;
          text-align: center;
          max-width: 800px;
          margin: 0 auto;
        }

        .app-hero h1 {
          font-family: 'Bebas Neue', sans-serif;
          font-size: clamp(3rem, 10vw, 5rem);
          color: var(--accent);
          margin-bottom: 1rem;
          letter-spacing: 0.08em;
          text-shadow: 0 0 40px rgba(227, 27, 35, 0.4);
        }

        .app-hero-subtitle {
          font-size: clamp(1.1rem, 2.5vw, 1.4rem);
          color: var(--subtxt);
          line-height: 1.7;
          margin-bottom: 2.5rem;
          max-width: 700px;
          margin-left: auto;
          margin-right: auto;
        }

        /* App Buttons */
        .app-buttons {
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 1.5rem;
          flex-wrap: wrap;
          margin-top: 2rem;
        }

        .app-store-badge {
          height: 56px;
          width: auto;
          transition: transform 0.3s ease, filter 0.3s ease;
          filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.3));
        }

        .app-store-badge:hover {
          transform: translateY(-4px);
          filter: drop-shadow(0 8px 20px rgba(0, 0, 0, 0.4));
        }

        .telemetry-btn {
          background: linear-gradient(135deg, var(--accent) 0%, #c41920 100%);
          color: #fff;
          font-family: 'Bebas Neue', sans-serif;
          font-size: 1.2rem;
          font-weight: bold;
          letter-spacing: 2px;
          padding: 1.1rem 2.5rem;
          display: flex;
          align-items: center;
          gap: 0.8rem;
          border: none;
          border-radius: 10px;
          box-shadow: 0 4px 20px rgba(227, 27, 35, 0.4);
          cursor: pointer;
          transition: all 0.3s ease;
          text-transform: uppercase;
          text-decoration: none;
        }

        .telemetry-btn:hover {
          transform: translateY(-4px);
          box-shadow: 0 8px 30px rgba(227, 27, 35, 0.6);
          background: linear-gradient(135deg, #ff2831 0%, #e31b23 100%);
        }

        .telemetry-btn:active {
          transform: translateY(-2px);
        }

        /* Features Section */
        .features-section {
          margin: 4rem 0;
        }

        .features-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 2rem;
          margin-top: 3rem;
        }

        .feature-card {
          background: linear-gradient(135deg, #1a1a1a 0%, #141414 100%);
          border-radius: var(--radius);
          padding: 2rem;
          text-align: center;
          transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
          border: 1px solid transparent;
          position: relative;
          overflow: hidden;
        }

        .feature-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg, rgba(227, 27, 35, 0.1) 0%, transparent 100%);
          opacity: 0;
          transition: opacity 0.4s ease;
        }

        .feature-card:hover {
          transform: translateY(-8px);
          border-color: rgba(227, 27, 35, 0.3);
          box-shadow: 0 12px 40px rgba(227, 27, 35, 0.2);
        }

        .feature-card:hover::before {
          opacity: 1;
        }

        .feature-icon {
          font-size: 3rem;
          color: var(--accent);
          margin-bottom: 1rem;
          position: relative;
          z-index: 1;
          display: inline-block;
          transition: transform 0.4s ease;
        }

        .feature-card:hover .feature-icon {
          transform: scale(1.1) rotateY(360deg);
        }

        .feature-card h3 {
          font-family: 'Bebas Neue', sans-serif;
          font-size: 1.6rem;
          color: var(--accent);
          margin: 1rem 0 0.8rem;
          letter-spacing: 0.05em;
          position: relative;
          z-index: 1;
        }

        .feature-card p {
          font-size: 1rem;
          color: var(--subtxt);
          line-height: 1.6;
          position: relative;
          z-index: 1;
        }

        /* Section Titles */
        .section-title {
          font-family: 'Bebas Neue', sans-serif;
          font-size: clamp(2.5rem, 6vw, 3.5rem);
          text-align: center;
          color: var(--text);
          margin-bottom: 1rem;
          letter-spacing: 0.06em;
        }

        .section-subtitle {
          text-align: center;
          color: var(--subtxt);
          font-size: 1.15rem;
          max-width: 700px;
          margin: 0 auto 2rem;
          line-height: 1.6;
        }

        /* Screenshots Grid */
        .screenshots-section {
          margin: 4rem 0;
        }

        .screenshots-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 2.5rem;
          margin-top: 3rem;
        }

        .screenshot-card {
          border-radius: 12px;
          overflow: hidden;
          background: #1a1a1a;
          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
        }

        .screenshot-card img {
          width: 100%;
          height: auto;
          display: block;
        }

        /* Privacy Link */
        .privacy-link {
          text-align: center;
          margin: 4rem 0 2rem;
          font-size: 1rem;
        }

        .privacy-link a {
          color: var(--accent);
          text-decoration: none;
          opacity: 0.8;
          transition: all 0.3s ease;
          padding: 0.5rem 1rem;
          border-radius: 6px;
        }

        .privacy-link a:hover {
          opacity: 1;
          background: rgba(227, 27, 35, 0.1);
        }

        /* Responsive Design */
        @media (max-width: 968px) {
          .app-hero {
            padding: 3rem 1.5rem;
          }

          .features-grid {
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.5rem;
          }

          .screenshots-grid {
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
          }
        }

        @media (max-width: 768px) {
          .app-buttons {
            flex-direction: column;
            gap: 1.2rem;
          }

          .features-grid {
            grid-template-columns: 1fr;
          }

          .screenshots-grid {
            grid-template-columns: 1fr;
            gap: 1.5rem;
          }
        }

        @media (max-width: 480px) {
          .app-hero {
            padding: 2.5rem 1rem;
          }

          .feature-card {
            padding: 1.5rem;
          }
        }
      `}),o.jsx("div",{className:"app-hero",children:o.jsxs("div",{className:"app-hero-content",children:[o.jsx("h1",{children:"SolarPack App"}),o.jsx("p",{className:"app-hero-subtitle",children:"Experience real-time vehicle telemetry, comprehensive system monitoring, and cutting-edge solar data visualization. Built for performance, designed for insight."}),o.jsxs("div",{className:"app-buttons",children:[o.jsx("a",{href:"https://apps.apple.com/us/app/solarpack/id6748289347","aria-label":"Download on the App Store",children:o.jsx("img",{src:"/images/app_store.png",alt:"Download on the App Store",className:"app-store-badge"})}),o.jsxs("a",{href:"https://solarpack-app-server-alyv.onrender.com/#",target:"_blank",rel:"noopener noreferrer",className:"telemetry-btn",children:[o.jsx("i",{className:"fas fa-satellite-dish"}),"VIEW LIVE TELEMETRY"]})]})]})}),o.jsx("section",{className:"features-section",children:o.jsxs("div",{className:"features-grid",children:[o.jsxs("div",{className:"feature-card",children:[o.jsx("i",{className:"fas fa-tachometer-alt feature-icon"}),o.jsx("h3",{children:"Real-Time Data"}),o.jsx("p",{children:"Monitor vehicle speed, RPM, current draw, and battery metrics with live-updating gauges and visualizations."})]}),o.jsxs("div",{className:"feature-card",children:[o.jsx("i",{className:"fas fa-solar-panel feature-icon"}),o.jsx("h3",{children:"Solar Monitoring"}),o.jsx("p",{children:"Track solar voltage, power output, and charging status with dedicated solar system analytics."})]}),o.jsxs("div",{className:"feature-card",children:[o.jsx("i",{className:"fas fa-battery-full feature-icon"}),o.jsx("h3",{children:"Battery Management"}),o.jsx("p",{children:"Cell-level voltage and temperature monitoring with a comprehensive 100-cell grid display and fault detection."})]}),o.jsxs("div",{className:"feature-card",children:[o.jsx("i",{className:"fas fa-microchip feature-icon"}),o.jsx("h3",{children:"System Health"}),o.jsx("p",{children:"Complete board health monitoring with status indicators for all auxiliary systems and ignition control."})]}),o.jsxs("div",{className:"feature-card",children:[o.jsx("i",{className:"fas fa-chart-line feature-icon"}),o.jsx("h3",{children:"Analytics"}),o.jsx("p",{children:"Rolling line charts and historical data visualization for charge rates and performance metrics."})]}),o.jsxs("div",{className:"feature-card",children:[o.jsx("i",{className:"fas fa-cog feature-icon"}),o.jsx("h3",{children:"Motor Control"}),o.jsx("p",{children:"Monitor motor and controller temperatures, voltages, and cooling system status with precision gauges."})]})]})}),o.jsx("section",{className:"screenshots-section",children:o.jsx("div",{className:"screenshots-grid",children:Object.entries(t).map(([e,r])=>o.jsx("div",{className:"screenshot-card",children:o.jsx("img",{src:r.image,alt:r.title})},e))})}),o.jsx("div",{className:"privacy-link",children:o.jsx("a",{href:"/privacy-policy",children:"Privacy & Data Policy"})})]})},dL=()=>{const[t,e]=W.useState([]),[r,n]=W.useState(!0),[s,i]=W.useState(null);W.useEffect(()=>{document.title="SolarPack  Alumni",a()},[]);const a=async()=>{try{const c=await ze.getAlumni();e(c.alumniData||[]),console.log(" Loaded alumni data from Supabase:",c.alumniData.length,"semesters")}catch(c){console.error("Error loading alumni data from Supabase:",c),i(c.message),e([])}finally{n(!1)}},A=[],l=[];for(let c=0;c<t.length;c+=2){const u=t[c],h=t[c+1];u&&A.push(u),h&&l.push(h)}return r?o.jsx("div",{style:{textAlign:"center",padding:"4rem",color:"var(--subtxt)"},children:"Loading alumni data..."}):s?o.jsxs("div",{style:{textAlign:"center",padding:"4rem",color:"#dc3545"},children:["Error loading alumni data: ",s]}):o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        /* Page-specific styles */
        h1 { 
          font-family: "Bebas Neue", sans-serif; 
          font-size: clamp(2.5rem, 7vw, 4.5rem); 
          letter-spacing: 0.04em; 
          margin: 2.5rem 0 0.5rem; 
          text-align: center; 
        }
        
        .alumni-grid { 
          display: grid; 
          grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); 
          gap: 2rem; 
          max-width: 900px; 
          margin: 2.5rem auto 0; 
        }
        
        .alumni-card { 
          background: var(--card); 
          border-radius: var(--radius); 
          box-shadow: 0 1px 6px #0003; 
          padding: 2rem 1.2rem 1.2rem; 
          text-align: center; 
        }
        
        .alumni-img { 
          width: 90px; 
          height: 90px; 
          border-radius: 50%; 
          background: #222; 
          object-fit: cover; 
          margin-bottom: 1rem; 
        }
        
        .alumni-name { 
          font-family: "Bebas Neue", sans-serif; 
          font-size: 1.5rem; 
          color: var(--accent); 
          margin-bottom: 0.2rem; 
        }
        
        .alumni-role { 
          color: var(--subtxt); 
          font-size: 1.1rem; 
          margin-bottom: 0.7rem; 
        }
        
        .alumni-socials a { 
          color: var(--accent); 
          margin: 0 0.4rem; 
          font-size: 1.2rem; 
        }
        
        .alumni-socials a:hover { 
          color: #fff; 
        }
        
        .alumni-by-year {
          max-width: 900px;
          margin: 2.5rem auto 0;
        }
        
        .alumni-columns {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 2.5rem;
        }
        
        /* Responsive alumni layout: 1 column if screen < 850px */
        @media (max-width: 850px) {
          .alumni-columns {
            grid-template-columns: 1fr;
            justify-items: center;
            gap: 1.5rem;
          }
          .alumni-by-year {
            padding: 0 1rem;
          }
        }
        
        .footer { 
          text-align: center; 
          color: #888; 
          font-size: 1rem; 
          margin: 3.5rem 0 1.5rem; 
        }

        .alumni-section {
          margin-bottom: 2.5rem;
        }

        .alumni-section h2 {
          color: var(--accent);
          font-family: 'Bebas Neue', sans-serif;
          font-size: 2rem;
          margin-bottom: 0.7rem;
        }

        .alumni-section ul {
          color: var(--subtxt);
          font-size: 1.13rem;
          line-height: 1.7;
          list-style: none;
          padding: 0;
        }

        .alumni-section li {
          margin-bottom: 0.3rem;
        }

        .alumni-section b {
          color: var(--text);
        }
      `}),o.jsx("h1",{children:"Alumni"}),o.jsx("div",{className:"alumni-grid"}),o.jsx("div",{className:"alumni-by-year",children:o.jsxs("div",{className:"alumni-columns",children:[o.jsx("div",{children:A.map((c,u)=>{var h;return o.jsxs("section",{className:"alumni-section",children:[o.jsx("h2",{children:c.semester}),o.jsx("ul",{children:(h=c.leadership)==null?void 0:h.map((p,d)=>o.jsxs("li",{children:[o.jsxs("b",{children:[p.role,":"]})," ",p.name]},d))})]},u)})}),o.jsx("div",{children:l.map((c,u)=>{var h;return o.jsxs("section",{className:"alumni-section",children:[o.jsx("h2",{children:c.semester}),o.jsx("ul",{children:(h=c.leadership)==null?void 0:h.map((p,d)=>o.jsxs("li",{children:[o.jsxs("b",{children:[p.role,":"]})," ",p.name]},d))})]},u)})})]})})]})},hL=()=>{const[t,e]=W.useState([]),[r,n]=W.useState(!0),[s,i]=W.useState(null);W.useEffect(()=>{a()},[]);const a=async()=>{n(!0);try{const u=await ze.getPublishedBlogs();e(u||[])}catch(u){console.error("Error loading blogs:",u),e([])}finally{n(!1)}},A=u=>{i(u),window.scrollTo({top:0,behavior:"smooth"})},l=()=>{i(null)},c=(u,h=150)=>{if(!u)return"";const p=document.createElement("div");p.innerHTML=u;const d=p.textContent||p.innerText||"";return d.length<=h?d:d.substring(0,h).trim()+"..."};return r?o.jsx("div",{className:"blogs-page",children:o.jsx("div",{className:"blogs-container",children:o.jsx("div",{className:"loading",children:"Loading blog posts..."})})}):o.jsxs("div",{className:"blogs-page",children:[o.jsx("style",{children:`
        .blogs-page {
          min-height: 100vh;
          background: var(--bg);
          padding: 2rem 1rem;
        }

        .blogs-container {
          max-width: 1200px;
          margin: 0 auto;
        }

        .blogs-header {
          text-align: center;
          margin-bottom: 3rem;
        }

        .blogs-title {
          font-family: "Bebas Neue", sans-serif;
          font-size: clamp(2.5rem, 7vw, 4.5rem);
          letter-spacing: 0.04em;
          margin: 2.5rem 0 0.5rem;
          text-align: center;
        }

        .blogs-subtitle {
          color: var(--subtxt);
          font-size: 1.2rem;
        }

        .blogs-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
          gap: 2rem;
          margin-bottom: 3rem;
        }

        .blog-card {
          background: var(--surface);
          border-radius: var(--radius);
          overflow: hidden;
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          transition: transform 0.3s ease, box-shadow 0.3s ease;
          cursor: pointer;
          display: flex;
          flex-direction: column;
        }

        .blog-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 8px 24px rgba(0,0,0,0.25);
        }

        .blog-card-image {
          width: 100%;
          height: 200px;
          object-fit: cover;
          background: rgba(255, 255, 255, 0.05);
        }

        .blog-card-content {
          padding: 1.5rem;
          flex: 1;
          display: flex;
          flex-direction: column;
        }

        .blog-card-title {
          font-size: 1.5rem;
          font-weight: 600;
          color: var(--text);
          margin-bottom: 0.75rem;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }

        .blog-card-meta {
          display: flex;
          gap: 1rem;
          color: var(--subtxt);
          font-size: 0.9rem;
          margin-bottom: 1rem;
        }

        .blog-card-author {
          font-weight: 500;
        }

        .blog-card-date {
          opacity: 0.8;
        }

        .blog-card-excerpt {
          color: var(--text);
          line-height: 1.6;
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;
          overflow: hidden;
          margin-bottom: 1rem;
          flex: 1;
        }

        .blog-card-read-more {
          color: var(--accent);
          font-weight: 600;
          text-decoration: none;
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          transition: gap 0.3s ease;
        }

        .blog-card:hover .blog-card-read-more {
          gap: 0.75rem;
        }

        /* Full Blog Modal */
        .blog-modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.85);
          display: flex;
          align-items: flex-start;
          justify-content: center;
          z-index: 1000;
          padding: 2rem 1rem;
          overflow-y: auto;
        }

        .blog-modal {
          background: var(--surface);
          border-radius: var(--radius);
          max-width: 900px;
          width: 100%;
          margin: 2rem auto;
          box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .blog-modal-header {
          position: relative;
        }

        .blog-modal-close {
          position: absolute;
          top: 1rem;
          right: 1rem;
          background: rgba(0, 0, 0, 0.6);
          border: none;
          color: white;
          font-size: 2rem;
          width: 3rem;
          height: 3rem;
          border-radius: 50%;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: background 0.3s ease;
          z-index: 10;
        }

        .blog-modal-close:hover {
          background: rgba(0, 0, 0, 0.8);
        }

        .blog-modal-image {
          width: 100%;
          height: 400px;
          object-fit: cover;
          background: rgba(255, 255, 255, 0.05);
        }

        .blog-modal-content {
          padding: 2rem;
        }

        .blog-modal-title {
          font-family: "Bebas Neue", sans-serif;
          font-size: 2.5rem;
          color: var(--accent);
          margin: 0 0 1rem 0;
          line-height: 1.2;
        }

        .blog-modal-meta {
          display: flex;
          gap: 1.5rem;
          color: var(--subtxt);
          font-size: 1rem;
          margin-bottom: 2rem;
          padding-bottom: 1rem;
          border-bottom: 2px solid #333;
        }

        .blog-modal-author {
          font-weight: 600;
        }

        .blog-modal-date {
          opacity: 0.8;
        }

        .blog-modal-body {
          color: var(--text);
          line-height: 1.8;
          font-size: 1.1rem;
        }

        .blog-modal-body h1,
        .blog-modal-body h2,
        .blog-modal-body h3,
        .blog-modal-body h4,
        .blog-modal-body h5,
        .blog-modal-body h6 {
          color: var(--text);
          margin: 2rem 0 1rem 0;
          line-height: 1.3;
        }

        .blog-modal-body h1 {
          font-size: 2rem;
          border-bottom: 2px solid var(--accent);
          padding-bottom: 0.5rem;
        }

        .blog-modal-body h2 {
          font-size: 1.75rem;
        }

        .blog-modal-body h3 {
          font-size: 1.5rem;
        }

        .blog-modal-body h4 {
          font-size: 1.25rem;
        }

        .blog-modal-body p {
          margin-bottom: 1.5rem;
        }

        .blog-modal-body img {
          max-width: 100%;
          height: auto;
          border-radius: 8px;
          margin: 1.5rem 0;
          box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .blog-modal-body ul,
        .blog-modal-body ol {
          margin: 1rem 0 1.5rem 0;
          padding-left: 2rem;
        }

        .blog-modal-body li {
          margin-bottom: 0.5rem;
        }

        .blog-modal-body blockquote {
          border-left: 4px solid var(--accent);
          padding-left: 1.5rem;
          margin: 1.5rem 0;
          color: var(--subtxt);
          font-style: italic;
          background: rgba(227, 23, 23, 0.05);
          padding: 1rem 1.5rem;
          border-radius: 0 8px 8px 0;
        }

        .blog-modal-body code {
          background: #2d2d2d;
          padding: 0.2rem 0.4rem;
          border-radius: 4px;
          font-family: 'Courier New', monospace;
          font-size: 0.9em;
          color: #f8f8f2;
        }

        .blog-modal-body pre {
          background: #2d2d2d;
          padding: 1.5rem;
          border-radius: 8px;
          overflow-x: auto;
          margin: 1.5rem 0;
          border: 1px solid #444;
        }

        .blog-modal-body pre code {
          background: none;
          padding: 0;
        }

        .blog-modal-body table {
          width: 100%;
          border-collapse: collapse;
          margin: 1.5rem 0;
          background: var(--bg);
        }

        .blog-modal-body th,
        .blog-modal-body td {
          padding: 0.75rem;
          border: 1px solid #444;
          text-align: left;
        }

        .blog-modal-body th {
          background: rgba(227, 23, 23, 0.1);
          font-weight: 600;
        }

        .blog-modal-body a {
          color: var(--accent);
          text-decoration: none;
          border-bottom: 1px solid transparent;
          transition: border-color 0.3s ease;
        }

        .blog-modal-body a:hover {
          border-bottom: 1px solid var(--accent);
        }

        .blog-modal-body strong {
          font-weight: 700;
          color: var(--text);
        }

        .blog-modal-body em {
          font-style: italic;
          color: var(--subtxt);
        }

        .blog-link-button {
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          background: var(--accent);
          color: white;
          padding: 0.75rem 1.5rem;
          border-radius: 6px;
          text-decoration: none;
          font-weight: 600;
          margin-bottom: 2rem;
          transition: all 0.3s ease;
          border: none;
          cursor: pointer;
        }

        .blog-link-button:hover {
          background: #c71821;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(227, 23, 23, 0.3);
        }

        .blog-link-button:active {
          transform: translateY(0);
        }

        .loading {
          text-align: center;
          padding: 4rem 1rem;
          color: var(--subtxt);
          font-size: 1.2rem;
        }

        .empty-state {
          text-align: center;
          padding: 4rem 1rem;
          color: var(--subtxt);
        }

        .empty-state h3 {
          font-size: 2rem;
          color: var(--text);
          margin-bottom: 1rem;
        }

        .empty-state p {
          font-size: 1.1rem;
        }

        @media (max-width: 768px) {
          .blogs-grid {
            grid-template-columns: 1fr;
            gap: 1.5rem;
          }

          .blog-modal {
            margin: 0;
            border-radius: 0;
            min-height: 100vh;
          }

          .blog-modal-image {
            height: 250px;
          }

          .blog-modal-content {
            padding: 1.5rem;
          }

          .blog-modal-title {
            font-size: 2rem;
          }

          .blog-modal-body {
            font-size: 1rem;
          }

          .blog-modal-body h1 {
            font-size: 1.75rem;
          }

          .blog-modal-body h2 {
            font-size: 1.5rem;
          }

          .blog-modal-body h3 {
            font-size: 1.25rem;
          }
        }
      `}),o.jsxs("div",{className:"blogs-container",children:[o.jsxs("div",{className:"blogs-header",children:[o.jsx("h1",{className:"blogs-title",children:"Blog"}),o.jsx("p",{className:"blogs-subtitle",children:"Latest updates and stories from the NC State SolarPack team"})]}),t.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("h3",{children:"No blog posts yet"}),o.jsx("p",{children:"Check back soon for updates from our team!"})]}):o.jsx("div",{className:"blogs-grid",children:t.map(u=>o.jsxs("div",{className:"blog-card",onClick:()=>A(u),children:[u.image_url&&o.jsx("img",{src:u.image_url,alt:u.title,className:"blog-card-image"}),o.jsxs("div",{className:"blog-card-content",children:[o.jsx("h2",{className:"blog-card-title",children:u.title}),o.jsxs("div",{className:"blog-card-meta",children:[o.jsxs("span",{className:"blog-card-author",children:["By ",u.author]}),o.jsx("span",{className:"blog-card-date",children:new Date(u.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),o.jsx("div",{className:"blog-card-excerpt",dangerouslySetInnerHTML:{__html:c(u.body)||"No content available..."}}),o.jsx("span",{className:"blog-card-read-more",children:"Read More "})]})]},u.id))})]}),s&&o.jsx("div",{className:"blog-modal-overlay",onClick:l,children:o.jsxs("div",{className:"blog-modal",onClick:u=>u.stopPropagation(),children:[o.jsxs("div",{className:"blog-modal-header",children:[o.jsx("button",{className:"blog-modal-close",onClick:l,children:""}),s.image_url&&o.jsx("img",{src:s.image_url,alt:s.title,className:"blog-modal-image"})]}),o.jsxs("div",{className:"blog-modal-content",children:[o.jsx("h1",{className:"blog-modal-title",children:s.title}),o.jsxs("div",{className:"blog-modal-meta",children:[o.jsxs("span",{className:"blog-modal-author",children:["By ",s.author]}),o.jsx("span",{className:"blog-modal-date",children:new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),s.link_url&&o.jsxs("a",{href:s.link_url,target:"_blank",rel:"noopener noreferrer",className:"blog-link-button",children:[s.link_text||"Read More"," "]}),o.jsx("div",{className:"blog-modal-body",dangerouslySetInnerHTML:{__html:s.body}})]})]})})]})},fL=()=>(W.useEffect(()=>{document.title="SolarPack  Contact"},[]),o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        /* Page-specific styles */
        h1 { 
          font-family: "Bebas Neue", sans-serif; 
          font-size: clamp(2.5rem, 7vw, 4.5rem); 
          letter-spacing: 0.04em; 
          margin: 2.5rem 0 0.5rem; 
          text-align: center; 
        }
        
        .contact-section { 
          background: var(--card); 
          border-radius: var(--radius); 
          box-shadow: 0 1px 6px #0003; 
          padding: 2.5rem 1.5rem; 
          max-width: 600px; 
          margin: 2.5rem auto 0; 
          text-align: center; 
        }
        
        .contact-info { 
          color: var(--subtxt); 
          font-size: 1.1rem; 
          margin-bottom: 1.5rem; 
        }
        
        .contact-socials a { 
          color: var(--accent); 
          margin: 0 0.5rem; 
          font-size: 1.5rem; 
        }
        
        .contact-socials a:hover { 
          color: #fff; 
        }
        
        .footer { 
          text-align: center; 
          color: #888; 
          font-size: 1rem; 
          margin: 3.5rem 0 1.5rem; 
        }
        
        .contact-info a[href^="mailto"] { 
          color: var(--accent); 
          text-decoration: underline; 
        }
        
        .contact-info a[href^="mailto"]:hover { 
          color: #fff; 
        }
      `}),o.jsx("h1",{children:"Contact Us"}),o.jsxs("div",{className:"contact-section",children:[o.jsxs("div",{className:"contact-info",children:[o.jsxs("p",{children:["Email us at ",o.jsx("a",{href:"mailto:solarpacknc@ncsu.edu",children:"solarpacknc@ncsu.edu"})]}),o.jsx("p",{children:"Or reach out on our socials below!"})]}),o.jsxs("div",{className:"contact-socials",children:[o.jsx("a",{href:"https://www.instagram.com/solarpacknc/",title:"Instagram",target:"_blank",rel:"noopener",children:o.jsx("i",{className:"fab fa-instagram"})}),o.jsx("a",{href:"https://www.linkedin.com/company/solarpack-nc-state/",title:"LinkedIn",target:"_blank",rel:"noopener",children:o.jsx("i",{className:"fab fa-linkedin"})}),o.jsx("a",{href:"https://www.facebook.com/SolarPackNC/",title:"Facebook",target:"_blank",rel:"noopener",children:o.jsx("i",{className:"fab fa-facebook"})})]})]})]})),pL=()=>{const[t,e]=W.useState(null),[r,n]=W.useState(""),[s,i]=W.useState(!1);W.useEffect(()=>{document.title="SolarPack  Donate"},[]);const a=[5,50,100,200],A=u=>{e(u),n(u.toString()),i(!0)},l=u=>{const h=u.target.value;n(h),h&&parseFloat(h)>=1?(e(parseFloat(h)),i(!0)):i(!1)},c=()=>{t&&t>=1&&window.open("https://www.paypal.com/fundraiser/charity/3728956","_blank")};return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        /* Page-specific styles */
        h1 { 
          font-family: "Bebas Neue", sans-serif; 
          font-size: clamp(2.5rem, 7vw, 4.5rem); 
          letter-spacing: 0.04em; 
          margin: 2.5rem 0 0.5rem; 
          text-align: center; 
        }
        
        .donate-section { 
          background: var(--card); 
          border-radius: var(--radius); 
          box-shadow: 0 1px 6px #0003; 
          padding: 2.5rem 1.5rem; 
          max-width: 600px; 
          margin: 2.5rem auto 0; 
          text-align: center; 
        }
        
        .donate-btn { 
          display: inline-block; 
          background: var(--accent); 
          color: #fff; 
          font-size: 1.2rem; 
          font-weight: 600; 
          padding: 0.9rem 2.2rem; 
          border: none; 
          border-radius: var(--radius); 
          margin-top: 1.5rem; 
          cursor: pointer; 
          transition: background 0.15s; 
          text-decoration: none; 
        }
        
        .donate-btn:hover { 
          background: #b71c1c; 
        }

        .footer { 
          text-align: center; 
          color: #888; 
          font-size: 1rem; 
          margin: 3.5rem 0 1.5rem; 
        }

        .donation-choices-group {
          display: flex;
          gap: 0.7rem;
          align-items: center;
          justify-content: center;
          margin-top: 0.5rem;
          flex-wrap: wrap;
        }
        
        .donation-choice {
          background: var(--accent);
          color: #fff;
          border: none;
          border-radius: 8px;
          font-size: 1.08rem;
          font-weight: 600;
          padding: 0.6rem 1.3rem;
          cursor: pointer;
          transition: background 0.18s, box-shadow 0.18s;
          box-shadow: 0 1px 4px #0002;
          outline: none;
        }
        
        .donation-choice.active, .donation-choice:focus {
          background: #b71c1c;
          box-shadow: 0 2px 8px #0003;
        }
        
        .donation-choice:hover {
          background: #c0392b;
        }
        
        #donation-amount {
          border: 1.5px solid var(--accent);
          border-radius: 8px;
          padding: 0.6rem 1rem;
          font-size: 1.08rem;
          width: 160px;
          margin-left: 0.7rem;
          transition: border-color 0.18s;
          background: var(--surface);
          color: var(--text);
        }
        
        #donation-amount:focus {
          border-color: #b71c1c;
          outline: none;
        }
        
        .selected-amount-display {
          font-size: 1.7rem;
          font-weight: 700;
          color: var(--accent);
          margin: 1.2rem auto 0.7rem auto;
          text-align: center;
          letter-spacing: 0.02em;
        }

        .donate-note { 
          margin-top: 1.5rem; 
          color: var(--subtxt); 
          font-size: 0.82rem; 
          line-height: 1.4; 
        }

        .donation-uses {
          text-align: left;
          max-width: 420px;
          margin: 1.5rem auto;
          color: var(--subtxt);
          font-size: 1.08rem;
          line-height: 1.7;
        }

        .donation-uses li {
          margin-bottom: 0.5rem;
        }

        .donation-uses b {
          color: var(--text);
        }
      `}),o.jsx("h1",{children:"Support Our Mission"}),o.jsxs("div",{className:"donate-section",children:[o.jsx("p",{children:"Your donation helps us build, innovate, and compete in solar car challenges. Every contribution makes a difference!"}),o.jsxs("form",{style:{margin:"2rem 0"},children:[o.jsxs("div",{style:{marginBottom:"1.2rem"},children:[o.jsx("label",{htmlFor:"donation-amount",style:{fontWeight:"600",marginBottom:"0.7rem",display:"block"},children:"Choose an amount:"}),o.jsxs("div",{className:"donation-choices-group",children:[a.map(u=>o.jsxs("button",{type:"button",className:`donation-choice ${t===u?"active":""}`,onClick:()=>A(u),children:["$",u]},u)),o.jsx("input",{type:"number",min:"1",step:"1",id:"donation-amount",placeholder:"Custom amount",value:r,onChange:l})]})]}),s&&t&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"selected-amount-display",children:["You are donating: $",parseFloat(t).toFixed(2)]}),o.jsxs("button",{type:"button",className:"donate-btn",onClick:c,children:[o.jsx("i",{className:"fab fa-paypal",style:{marginRight:"0.5rem"}}),"Donate with PayPal"]})]})]}),o.jsxs("ul",{className:"donation-uses",children:[o.jsxs("li",{children:[o.jsx("b",{children:"Aeroshell Construction:"})," The largest portion of your donation will go directly toward building our new carbon fiber aeroshell, which is essential for our car's performance and efficiency."]}),o.jsxs("li",{children:[o.jsx("b",{children:"Regulatory Components:"})," We need to purchase fasteners, wires, and other small accessories to meet strict race regulationsincluding the battery box, ballast boxes, and other required safety features."]}),o.jsxs("li",{children:[o.jsx("b",{children:"2026 Race Preparation:"})," Your support helps us meet all technical and safety requirements so we can compete in the 2026 solar car race and represent NC State on a national stage."]})]}),o.jsx("p",{className:"donate-note",children:"We are a 501(c)(3) charitable organization, EIN: 81-4817863. All the contributions are tax deductible. No goods or services will be provided for the contribution."})]})]})},gL=`
.privacy-container {
  max-width: 700px;
  margin: 0 auto;
  padding: 3rem 1.2rem 5rem;
  min-height: 60vh;
}

.privacy-container h1 {
  font-family: "Bebas Neue", sans-serif;
  font-size: clamp(2.5rem, 6vw, 4rem);
  letter-spacing: 0.04em;
  margin: 0 0 0.4rem;
  text-align: center;
  color: var(--txt);
}

.effective-date {
  color: var(--subtxt);
  text-align: center;
  font-size: 1.05rem;
  margin-bottom: 2.5rem;
}

/* Accordion blocks */
.policy-section {
  margin-bottom: 1.2rem;
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.2);
  overflow: hidden;
}

.policy-toggle {
  all: unset;
  display: flex;
  align-items: center;
  width: 100%;
  cursor: pointer;
  padding: 1.1rem 1.2rem;
  font-size: 1.15rem;
  font-weight: 600;
  color: var(--txt);
  transition: background 0.15s;
}

.policy-toggle:hover {
  background: #222;
}

.chevron {
  font-size: 1.9rem;
  line-height: 0;
  margin-right: 0.4rem;
  color: var(--accent);
  transition: transform 0.28s cubic-bezier(.4,2,.6,1);
}

.policy-content {
  padding: 1.15rem 2.2rem 1.2rem 2.7rem;
  font-size: 1.05rem;
  line-height: 1.7;
  color: var(--subtxt);
  overflow: hidden;
  max-height: 0;
  opacity: 0;
  transition: max-height 0.35s cubic-bezier(.4,2,.6,1), opacity 0.25s;
}

.policy-content.open {
  max-height: 2000px;   /* big enough to show any section */
  opacity: 1;
}

@media (max-width: 600px) {
  .policy-content {
    padding: 1rem 0.9rem 1.1rem 1.2rem;
  }
}

.policy-content ul {
  padding-left: 1.4rem;
  margin: 0.6rem 0 0;
}

.policy-content li + li { 
  margin-top: 0.55rem; 
}

.policy-content a {
  color: var(--accent);
  text-decoration: none;
}

.policy-content a:hover { 
  text-decoration: underline; 
}

.footer-note {
  color: #888;
  text-align: center;
  font-size: 0.95rem;
  margin-top: 2.2rem;
}
`,mL=()=>{const[t,e]=W.useState({0:!0});W.useEffect(()=>{document.title="SolarPack  Privacy Policy"},[]);const r=s=>{e(i=>({...i,[s]:!i[s]}))},n=[{title:"Summary",content:o.jsxs("p",{children:["We collect a minimal set of data points ",o.jsx("strong",{children:"only"})," to make the app function and to help us understand and improve performance. We do",o.jsx("em",{children:" not"})," use your data for advertising, marketing, personalization, or tracking across other apps."]})},{title:"Data We Collect",content:o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Precise Location"}),"  Enables GPS-based features such as lap timing and detailed telemetry."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Coarse Location"}),"  Provides general region information (e.g., for Bluetooth proximity) when precise GPS is unnecessary."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Device ID"}),"  Helps differentiate hardware models and debug device-specific issues."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Product Interaction"}),"  Anonymous aggregate data on how you navigate the app (e.g., tab switches) to improve user experience."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Crash Data"}),"  Automatic crash reports allow us to diagnose bugs and improve stability."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Performance Data"}),"  Metrics like launch time and connection latency help us monitor and optimize performance."]})]})},{title:"Data We Don't Collect",content:o.jsxs("ul",{children:[o.jsx("li",{children:"Contact information (name, email, phone, address)"}),o.jsx("li",{children:"User-generated content (photos, messages, files)"}),o.jsx("li",{children:"Payment or financial details"}),o.jsx("li",{children:"Advertising identifiers or usage for ad targeting"}),o.jsx("li",{children:"Health, biometric, or other sensitive personal data"})]})},{title:"Tracking",content:o.jsxs("p",{children:["Our app ",o.jsx("strong",{children:"does not"})," use any data for cross-app or cross-company tracking as defined by Apple. No data is shared with data brokers or ad networks."]})},{title:"Third-Party Services",content:o.jsx("p",{children:"We use trusted third-party services (e.g., Firebase) solely for analytics, crash reporting, and cloud data storage. Each provider is contractually bound to process data only on our behalf and not for their own marketing or advertising."})},{title:"Data Retention",content:o.jsx("p",{children:"Telemetry and analytics data are stored for the shortest duration necessary to fulfill the purposes outlined above, after which they are either deleted or fully anonymized."})},{title:"Contact Us",content:o.jsxs("p",{children:["Questions? Open an issue on"," ",o.jsx("a",{href:"https://github.com/NCSU-Solarpack",target:"_blank",rel:"noopener noreferrer",children:"GitHub"})," ","or email us at"," ",o.jsx("a",{href:"mailto:solarpacknc@ncsu.edu",children:"solarpacknc@ncsu.edu"}),"."]})}];return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:gL}),o.jsxs("div",{className:"privacy-container",children:[o.jsx("h1",{children:"SOLARPACK Privacy & Data"}),o.jsxs("div",{className:"effective-date",children:[o.jsx("strong",{children:"Effective Date:"})," July8, 2025"]}),o.jsx("div",{id:"policy",children:n.map((s,i)=>o.jsxs("div",{className:"policy-section",children:[o.jsxs("button",{className:"policy-toggle",onClick:()=>r(i),children:[o.jsx("span",{className:"chevron",style:{transform:t[i]?"rotate(90deg)":"rotate(0deg)"},children:""}),s.title.includes("Don't")?o.jsxs(o.Fragment,{children:["Data We ",o.jsx("em",{children:"Don't"})," Collect"]}):s.title]}),o.jsx("div",{className:`policy-content ${t[i]?"open":""}`,children:s.content})]},i))}),o.jsx("div",{className:"footer-note",children:" End of Policy "})]})]})},vL=()=>{const[t,e]=W.useState([]),[r,n]=W.useState(!0);return W.useEffect(()=>{document.title="SolarPack  Sponsors",(async()=>{try{const i=await ze.getSponsors();e(i.sponsorTiers||[])}catch(i){console.error("Error loading sponsors from Supabase",i),e([])}finally{n(!1)}})()},[]),o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        body {
          font-family: 'DM Sans', sans-serif;
          background: #0e0e0e;
          color: #fff;
        }
        
        main {
          max-width: 1000px;
          margin: 0 auto;
          padding: 2rem 1rem;
        }
        
        h1 {
          font-family: 'Bebas Neue', sans-serif;
          font-size: clamp(2.5rem, 7vw, 4.5rem);
          letter-spacing: 0.04em;
          margin: 2.5rem 0 0.5rem;
          text-align: center;
        }
        
        .tier {
          margin-bottom: 2.5rem;
        }
        
        .tier h2 {
          font-family: 'Bebas Neue', sans-serif;
          font-size: 2rem;
          color: #e53935;
          text-align: left;
          margin-bottom: 1rem;
        }
        
        .sponsor-logos {
          display: flex;
          flex-wrap: wrap;
          gap: 2rem;
          justify-content: left;
          align-items: center;
        }
        
        .sponsor-logos img {
          background: #222;
          border-radius: 10px;
          box-shadow: 0 2px 12px #0005;
          padding: 1.5rem;
          max-width: 320px;
          max-height: 180px;
          object-fit: contain;
        }
        
        .placeholder {
          color: #888;
          font-size: 1.1rem;
          padding: 2rem 0;
        }

        .sponsor-contact {
          text-align: center;
          color: #cecece;
          margin-top: 3rem;
        }

        .sponsor-contact a {
          color: #e53935;
          text-decoration: underline;
        }
      `}),o.jsxs("main",{children:[o.jsx("h1",{children:"Sponsors"}),t.map((s,i)=>o.jsxs("section",{className:"tier",children:[o.jsx("h2",{children:s.tier}),o.jsx("div",{className:"sponsor-logos",children:s.sponsors&&s.sponsors.length>0?s.sponsors.map((a,A)=>a.website?o.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",style:{cursor:"pointer"},children:o.jsx("img",{src:a.logo||a.image,alt:a.name,title:a.name})},A):o.jsx("img",{src:a.logo||a.image,alt:a.name,title:a.name},A)):o.jsx("span",{className:"placeholder",children:s.placeholder||`No ${s.tier.toLowerCase()} yet.`})})]},i)),o.jsxs("p",{className:"sponsor-contact",children:["Interested in sponsoring Fenrir or supporting our team?"," ",o.jsx("a",{href:"https://www.paypal.com/fundraiser/charity/3728956",target:"_blank",rel:"noopener",children:"Donate"})," ","or"," ",o.jsx("a",{href:"/contact",children:"Contact us"})," for more info!"]})]})]})},wL=()=>{const[t,e]=W.useState([]),[r,n]=W.useState(!0),[s,i]=W.useState(null),[a,A]=W.useState(null),l=150;W.useEffect(()=>{document.title="SolarPack  Team",c()},[]);const c=async()=>{try{const m=((await ze.getTeamMembers()).teamMembers||[]).sort((y,g)=>(y.order||0)-(g.order||0));e(m),console.log(" Loaded team data from Supabase:",m.length,"members")}catch(w){console.error("Error loading team data from Supabase:",w),i(w.message),e([])}finally{n(!1)}},u=w=>{A(w),document.body.style.overflow="hidden"},h=()=>{A(null),document.body.style.overflow=""},p=w=>!w||w.length<=l?w:w.substring(0,l)+"...",d=w=>w&&w.length>l;return r?o.jsx("div",{style:{textAlign:"center",padding:"4rem",color:"var(--subtxt)"},children:"Loading team data..."}):s?o.jsxs("div",{style:{textAlign:"center",padding:"4rem",color:"#dc3545"},children:["Error loading team data: ",s]}):o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        /* Page-specific styles */
        h1 { 
          font-family: "Bebas Neue", sans-serif; 
          font-size: clamp(2.5rem, 7vw, 4.5rem); 
          letter-spacing: 0.04em; 
          margin: 2.5rem 0 0.5rem; 
          text-align: center; 
        }
        
        .team-grid { 
          display: grid; 
          grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); 
          gap: 2rem; 
          max-width: 900px; 
          margin: 2.5rem auto 0; 
        }
        
        .member-card { 
          background: var(--surface); 
          border-radius: var(--radius); 
          box-shadow: 0 4px 24px #0006; 
          padding: 2rem 1.2rem 1.2rem; 
          text-align: center; 
        }
        
        .member-img { 
          width: 90px; 
          height: 90px; 
          border-radius: 50%; 
          background: #222; 
          object-fit: cover; 
          margin-bottom: 1rem; 
        }
        
        .member-name { 
          font-family: "Bebas Neue", sans-serif; 
          font-size: 1.5rem; 
          color: var(--accent); 
          margin-bottom: 0.2rem; 
        }
        
        .member-role { 
          color: var(--subtxt); 
          font-size: 1.1rem; 
          margin-bottom: 0.7rem; 
        }
        
        .member-socials a { 
          color: var(--accent); 
          margin: 0 0.4rem; 
          font-size: 1.2rem; 
        }
        
        .member-socials a:hover { 
          color: #fff; 
        }
        
        .footer { 
          text-align: center; 
          color: #888; 
          font-size: 1rem; 
          margin: 3.5rem 0 1.5rem; 
        }

        .member-bio {
          color: var(--subtxt);
          font-size: 0.98rem;
          margin-bottom: 0.7rem;
          line-height: 1.5;
        }

        .read-more-btn {
          background: transparent;
          border: none;
          color: var(--accent);
          font-size: 0.95rem;
          cursor: pointer;
          padding: 0.35rem 0.6rem;
          margin-top: 0.5rem;
          text-transform: uppercase;
          letter-spacing: 0.08em;
          font-weight: 600;
          border-radius: 6px;
          display: inline-flex;
          align-items: center;
          gap: 0.4rem;
          transition: color 0.18s ease, background 0.18s ease, transform 0.12s ease;
        }

        .read-more-btn:hover {
          background: rgba(255,255,255,0.04);
          color: #fff;
          transform: translateY(-2px);
        }

        /* Modal Styles */
        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.85);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1000;
          padding: 2rem;
        }

        .modal-content {
          background: var(--surface);
          border-radius: var(--radius);
          max-width: 600px;
          width: 100%;
          max-height: 80vh;
          overflow-y: auto;
          position: relative;
          padding: 2.5rem;
          box-shadow: 0 8px 32px rgba(0,0,0,0.5);
        }

        .modal-header {
          display: flex;
          flex-direction: column;
          align-items: center;
          margin-bottom: 1.5rem;
        }

        .modal-img {
          width: 120px;
          height: 120px;
          border-radius: 50%;
          background: #222;
          object-fit: cover;
          margin-bottom: 1rem;
        }

        .modal-name {
          font-family: "Bebas Neue", sans-serif;
          font-size: 2rem;
          color: var(--accent);
          margin-bottom: 0.3rem;
        }

        .modal-role {
          color: var(--subtxt);
          font-size: 1.2rem;
          margin-bottom: 0.5rem;
        }

        .modal-bio {
          color: var(--text);
          font-size: 1rem;
          line-height: 1.7;
          margin-bottom: 1rem;
        }

        .member-contact {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          justify-content: center;
          margin-top: 0.5rem;
        }

        .contact-link {
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          color: var(--accent);
          text-decoration: none;
          font-weight: 600;
        }

        .contact-link svg { width: 18px; height: 18px; }

        .close-modal-btn {
          position: absolute;
          top: 1rem;
          right: 1rem;
          background: none;
          border: none;
          color: var(--text);
          font-size: 2rem;
          cursor: pointer;
          transition: color 0.3s ease;
          width: 40px;
          height: 40px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .close-modal-btn:hover {
          color: var(--accent);
        }

        @media (max-width: 768px) {
          .modal-overlay {
            padding: 1rem;
          }

          .modal-content {
            padding: 2rem 1.5rem;
          }

          .modal-name {
            font-size: 1.7rem;
          }
        }
      `}),o.jsx("h1",{children:"Meet the Team"}),t.length===0?o.jsxs("div",{style:{textAlign:"center",padding:"4rem",color:"var(--subtxt)"},children:[o.jsx("p",{children:"No team members found."}),o.jsx("p",{style:{fontSize:"0.9rem",marginTop:"1rem"},children:"Check the browser console for more details."})]}):o.jsx("div",{className:"team-grid",children:t.map((w,m)=>o.jsxs("div",{className:"member-card",children:[o.jsx("img",{src:w.image,alt:w.name,className:"member-img"}),o.jsx("div",{className:"member-name",children:w.name}),o.jsx("div",{className:"member-role",children:w.role}),o.jsx("p",{className:"member-bio",children:p(w.bio)}),d(w.bio)&&o.jsx("button",{className:"read-more-btn",onClick:()=>u(w),children:"Read More"})]},m))}),a&&o.jsx("div",{className:"modal-overlay",onClick:h,children:o.jsxs("div",{className:"modal-content",onClick:w=>w.stopPropagation(),children:[o.jsx("button",{className:"close-modal-btn",onClick:h,children:""}),o.jsxs("div",{className:"modal-header",children:[o.jsx("img",{src:a.image,alt:a.name,className:"modal-img"}),o.jsx("div",{className:"modal-name",children:a.name}),o.jsx("div",{className:"modal-role",children:a.role})]}),o.jsx("p",{className:"modal-bio",children:a.bio}),(a.user_email||a.email)&&o.jsx("div",{style:{display:"flex",justifyContent:"flex-start",marginTop:"1rem",paddingLeft:"0.25rem"},children:o.jsxs("a",{className:"contact-link",href:`mailto:${a.user_email||a.email}`,title:`Email ${a.name}`,children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M4 4h16v16H4z"}),o.jsx("polyline",{points:"22,6 12,13 2,6"})]}),o.jsx("span",{style:{marginLeft:"0.5rem"},children:a.user_email||a.email})]})})]})})]})},yL=`
/* 404 Not Found Page Styles */
.not-found-container {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: calc(100vh - 128px);
  padding: 2rem 1rem;
  text-align: center;
}

.not-found-content {
  max-width: 500px;
  width: 100%;
}

.not-found-content h1 {
  font-family: "Bebas Neue", sans-serif;
  font-size: 2.5rem;
  color: var(--text);
  margin-bottom: 1rem;
  letter-spacing: 0.05em;
}

.error-code {
  font-family: "Bebas Neue", sans-serif;
  font-size: 4rem;
  color: var(--accent);
  margin-bottom: 1.5rem;
  letter-spacing: 0.1em;
}

.not-found-content p {
  color: var(--subtxt);
  font-size: 1rem;
  line-height: 1.6;
  margin-bottom: 2rem;
}

.error-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  flex-wrap: wrap;
}

.home-btn,
.contact-btn {
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  text-decoration: none;
  font-weight: 500;
  font-size: 0.9rem;
  transition: all var(--speed);
  border: 2px solid;
}

.home-btn {
  background: var(--accent);
  color: white;
  border-color: var(--accent);
}

.home-btn:hover {
  background: #c41820;
  border-color: #c41820;
}

.contact-btn {
  background: transparent;
  color: var(--text);
  border-color: var(--text);
}

.contact-btn:hover {
  background: var(--text);
  color: var(--bg);
}

/* Responsive Design */
@media (max-width: 768px) {
  .not-found-content h1 {
    font-size: 2rem;
  }

  .error-code {
    font-size: 3rem;
  }

  .error-actions {
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
  }

  .home-btn,
  .contact-btn {
    width: 100%;
    max-width: 200px;
  }
}
`,bL=()=>(W.useEffect(()=>{document.title="Page Not Found - SolarPack"},[]),o.jsxs(o.Fragment,{children:[o.jsx("style",{children:yL}),o.jsx("div",{className:"not-found-container",children:o.jsxs("div",{className:"not-found-content",children:[o.jsx("h1",{children:"Page Not Found"}),o.jsx("div",{className:"error-code",children:"404"}),o.jsx("p",{children:"The page you're looking for doesn't exist or may have been moved."}),o.jsxs("div",{className:"error-actions",children:[o.jsx(Ip,{to:"/",className:"home-btn",children:"Back to Home"}),o.jsx(Ip,{to:"/contact",className:"contact-btn",children:"Contact Us"})]})]})})]})),BL="modulepreload",xL=function(t){return"/"+t},kb={},Wf=function(e,r,n){if(!r||r.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=xL(i),i in kb)return;kb[i]=!0;const a=i.endsWith(".css"),A=a?'[rel="stylesheet"]':"";if(!!n)for(let u=s.length-1;u>=0;u--){const h=s[u];if(h.href===i&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${A}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":BL,a||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),a)return new Promise((u,h)=>{c.addEventListener("load",u),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},Zd=(t,e=2e3)=>{const[r,n]=W.useState("synced"),[s,i]=W.useState(null),[a,A]=W.useState(null),l=W.useRef(null),c=W.useRef(null),u=W.useRef(null),h=W.useRef(!1),p=W.useRef(!0),d=W.useRef(0),w=3,m=W.useCallback(L=>{if(!L)return null;const Q=L.teamMembers||L.alumni||L.sponsors||L.schedules||L.orders||[],P=JSON.stringify(Q);let k=0;for(let $=0;$<P.length;$++){const D=P.charCodeAt($);k=(k<<5)-k+D,k=k&k}return console.log(" Hash calculated:",k,"for",Q.length,"items"),k},[]),y=W.useCallback(async(L=!1)=>{if(!h.current&&!p.current)try{const Q=await t(),P=m(Q);d.current=0,A(null),l.current=P,c.current===null?(console.log(" Initial load - displayed hash set:",P),c.current=P,n("synced"),i(new Date)):P!==c.current?(console.log(" Data mismatch! Displayed:",c.current,"Supabase:",P),r!=="new-data"&&(console.log(" New data detected from Supabase - notifying user"),n("new-data")),i(new Date)):(r!=="saving"&&r!=="new-data"&&n("synced"),i(new Date))}catch(Q){if(console.error("Error checking for updates:",Q),d.current++,d.current>=w){console.warn(" Multiple sync failures - connection may be lost"),A(Q.message),n("error");try{await ze.refreshConnection()&&(console.log(" Connection restored after sync failures"),d.current=0,A(null),n("synced"),setTimeout(()=>y(!0),1e3))}catch(P){console.error("Failed to reconnect:",P)}}else L||setTimeout(()=>y(!0),1e3)}},[t,m,r]);W.useEffect(()=>{const L=async()=>{document.hidden||(console.log(" Tab visible - checking Supabase sync status"),await new Promise(Q=>setTimeout(Q,500)),d.current=0,A(null),y())};return document.addEventListener("visibilitychange",L),()=>{document.removeEventListener("visibilitychange",L)}},[y]),W.useEffect(()=>ze.onConnectionChange((Q,P)=>{console.log(" Connection state changed:",Q,P),Q==="visibility_restored"||Q==="focus_restored"?(d.current=0,y()):Q==="online"?(d.current=0,A(null),y()):Q==="offline"&&(n("error"),A("Network connection lost"))}),[y]),W.useEffect(()=>(y(),(()=>{u.current&&clearInterval(u.current),u.current=setInterval(()=>{document.hidden||y()},e)})(),()=>{u.current&&clearInterval(u.current)}),[e,y]);const g=W.useCallback(()=>{h.current=!0,n("saving")},[]),b=W.useCallback(async()=>{h.current=!1;try{const L=await t(),Q=m(L);l.current=Q,c.current=Q,console.log(" Save complete - hashes updated to:",Q),n("synced"),i(new Date),d.current=0,A(null)}catch(L){if(console.error("Error after save:",L),console.log(" Refreshing connection after save error..."),await ze.refreshConnection())try{const P=await t(),k=m(P);l.current=k,c.current=k,n("synced"),i(new Date)}catch(P){console.error("Retry also failed:",P),n("error"),A("Failed to verify save - please refresh the page")}else n("error"),A("Connection lost - please refresh the page")}},[t,m]),B=W.useCallback(async()=>{try{const L=await t(),Q=m(L);c.current=Q,l.current=Q,console.log(" User refreshed - displayed hash updated to:",Q),n("synced"),i(new Date),p.current=!1,d.current=0,A(null)}catch(L){if(console.error("Error acknowledging new data:",L),await ze.refreshConnection())try{const P=await t(),k=m(P);c.current=k,l.current=k,n("synced"),i(new Date),p.current=!1}catch{n("error"),A("Failed to load data - please refresh the page")}}},[t,m]),C=W.useCallback(L=>{const Q=m(L);console.log(" Component displaying data with hash:",Q),c.current=Q,l.current=Q,p.current=!1},[m]),N=W.useCallback(async()=>{n("reconnecting"),await ze.refreshConnection()?(d.current=0,A(null),y()):(n("error"),A("Failed to reconnect - please refresh the page"))},[y]);return{status:r,lastSync:s,connectionError:a,startSaving:g,finishSaving:b,acknowledgeNewData:B,setDisplayedData:C,forceReconnect:N}},eh=({status:t,lastSync:e,onRefresh:r,connectionError:n})=>{const[s,i]=W.useState(!1),a={synced:{icon:"",text:"Up to date",color:"#4CAF50",bgColor:"rgba(76, 175, 80, 0.1)",pulse:!1},saving:{icon:"",text:"Saving...",color:"#FF9800",bgColor:"rgba(255, 152, 0, 0.1)",pulse:!0},"new-data":{icon:"",text:"Click to update",color:"#E31820",bgColor:"rgba(227, 24, 32, 0.1)",pulse:!0,clickable:!0},reconnecting:{icon:"",text:"Reconnecting...",color:"#FF9800",bgColor:"rgba(255, 152, 0, 0.1)",pulse:!0},error:{icon:"",text:"Connection lost",color:"#f44336",bgColor:"rgba(244, 67, 54, 0.1)",pulse:!0,clickable:!0}},A=a[t]||a.synced,l=()=>{if(!e)return"";const h=Date.now()-e.getTime();return h<3e3?"just now":h<6e4?`${Math.floor(h/1e3)}s ago`:h<36e5?`${Math.floor(h/6e4)}m ago`:e.toLocaleTimeString()},c=()=>{A.clickable&&r&&r()};return o.jsxs("div",{className:"sync-status-badge",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onClick:c,style:{cursor:A.clickable?"pointer":"default"},children:[o.jsx("style",{children:`
        .sync-status-badge {
          position: relative;
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          padding: 0.5rem 0.75rem;
          border-radius: 20px;
          background: ${A.bgColor};
          border: 1px solid ${A.color}40;
          transition: all 0.3s ease;
          user-select: none;
        }

        .sync-status-badge:hover {
          background: ${A.bgColor}cc;
          transform: translateY(-1px);
        }

        .sync-icon {
          font-size: 0.9rem;
          display: flex;
          align-items: center;
          justify-content: center;
          animation: ${A.pulse?"pulse 2s ease-in-out infinite":"none"};
        }

        .sync-text {
          font-size: 0.85rem;
          color: ${A.color};
          font-weight: 500;
          white-space: nowrap;
        }

        .sync-dot {
          width: 6px;
          height: 6px;
          border-radius: 50%;
          background: ${A.color};
          animation: ${A.pulse?"pulse 2s ease-in-out infinite":"none"};
        }

        .sync-tooltip {
          position: absolute;
          bottom: calc(100% + 8px);
          left: 50%;
          transform: translateX(-50%);
          background: #2a2a2a;
          color: #fff;
          padding: 0.5rem 0.75rem;
          border-radius: 6px;
          font-size: 0.75rem;
          white-space: nowrap;
          pointer-events: none;
          opacity: 0;
          transition: opacity 0.2s ease;
          z-index: 1000;
          box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .sync-tooltip::after {
          content: '';
          position: absolute;
          top: 100%;
          left: 50%;
          transform: translateX(-50%);
          border: 6px solid transparent;
          border-top-color: #2a2a2a;
        }

        .sync-tooltip.visible {
          opacity: 1;
        }

        @keyframes pulse {
          0%, 100% {
            opacity: 1;
            transform: scale(1);
          }
          50% {
            opacity: 0.7;
            transform: scale(1.1);
          }
        }

        @keyframes spin {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }

        .sync-icon.checking {
          animation: spin 1s linear infinite;
        }
      `}),o.jsx("span",{className:`sync-icon ${t==="checking"?"checking":""}`,children:A.icon}),o.jsx("span",{className:"sync-text",children:A.text}),t==="synced"&&o.jsx("div",{className:"sync-dot"}),s&&o.jsx("div",{className:`sync-tooltip ${s?"visible":""}`,children:t==="new-data"?"Click to refresh and see updates":t==="error"?n||"Connection lost - click to retry":t==="reconnecting"?"Attempting to restore connection...":e?`Last checked: ${l()}`:"Real-time sync active"})]})},H4=W.forwardRef((t,e)=>{const[r,n]=W.useState({teamMembers:[],lastUpdated:""}),[s,i]=W.useState(!1),[a,A]=W.useState(null),[l,c]=W.useState(!0),[u,h]=W.useState(null),[p,d]=W.useState(null),[w,m]=W.useState(null),[y,g]=W.useState(null),[b,B]=W.useState(!1),[C,N]=W.useState([]),L=["Project Director","Technical Director","Aerodynamics","High Voltage","System Architecture","Structures","Vehicle Dynamics","Low Voltage","Business"],{showError:Q,showConfirm:P}=li(),{status:k,lastSync:$,connectionError:D,startSaving:U,finishSaving:H,acknowledgeNewData:S,setDisplayedData:ee,forceReconnect:ge}=Zd(()=>ze.getTeamMembers(),2e3),le=async()=>{k==="error"&&await ge(),await S(),await ne()};W.useImperativeHandle(e,()=>({handleAddMember:()=>{A({id:Date.now(),name:"",role:"",image:"",bio:"",email:"",linkedin:"",order:r.teamMembers.length+1}),m(null),g(null),i(!0)}})),W.useEffect(()=>{ne(),se()},[]),W.useEffect(()=>{const x=async()=>{!document.hidden&&!l&&(console.log(" Tab visible - refreshing team data"),await new Promise(I=>setTimeout(I,300)),ne())};return document.addEventListener("visibilitychange",x),()=>document.removeEventListener("visibilitychange",x)},[l]);const ne=async()=>{console.log("Loading team data from Supabase..."),c(!0);try{const x=await ze.getTeamMembers();if(console.log("Loaded team data:",x),!x||!x.teamMembers)throw console.error("Invalid data structure received:",x),new Error("Invalid team data structure");console.log(` Successfully loaded ${x.teamMembers.length} team members from Supabase`),n(x),ee(x)}catch(x){console.error("Error loading team data:",x),await Q(`Failed to load team data: ${x.message}`,"Load Error"),n({teamMembers:[],lastUpdated:""})}finally{c(!1)}},se=async()=>{try{const x=await ze.getUsersForTeamAssignment();N(x),console.log(` Loaded ${x.length} users for team assignment`)}catch(x){console.error("Error loading users:",x),await Q(`Failed to load users: ${x.message}`,"Load Error")}},ye=x=>{A({...x}),m(null),g(x.image||null),i(!0)},re=()=>{A({id:Date.now(),name:"",role:"",image:"",bio:"",email:"",linkedin:"",order:r.teamMembers.length+1}),m(null),g(null),i(!0)},F=async x=>{if(!x)return;if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(x.type)){await Q("Please upload a JPEG, PNG, WebP, or GIF image.","Invalid File Type");return}const pe=5*1024*1024;if(x.size>pe){await Q("Maximum file size is 5MB. Please choose a smaller image.","File Too Large");return}m(x);const Y=new FileReader;Y.onloadend=()=>{g(Y.result)},Y.readAsDataURL(x)},V=x=>{x.preventDefault(),x.stopPropagation();const I=x.dataTransfer.files[0];I&&F(I)},O=x=>{x.preventDefault(),x.stopPropagation()},q=()=>{m(null),g(null),A({...a,image:""})},ce=async()=>{if(!a.name||!a.role){await Q("Please fill in the Name and Role fields.","Missing Required Fields");return}if(!a.bio||a.bio.trim()===""){await Q("Please add a bio for this team member.","Bio Required");return}if(!y&&!a.image){await Q("Please upload a profile image for this team member.","Image Required");return}i(!1);const x={...a};A(null),U();try{if(w){B(!0);try{const I=await ze.uploadTeamMemberImage(w,x.id);x.image=I,console.log(" Image uploaded successfully:",I)}catch(I){throw console.error("Error uploading image:",I),await Q(`Failed to upload image: ${I.message}`,"Upload Error"),I}finally{B(!1)}}if(x.user_id)try{await ze.updateUserSpecificRole(x.user_id,x.role||null),console.log(" Updated assigned user specific_role")}catch(I){console.error("Error updating user specific_role:",I),await Q(`Failed to update assigned user's role: ${I.message}`,"User Role Update Error")}await ze.saveTeamMember(x),await ne(),m(null),g(null),console.log(" Team member saved successfully")}catch(I){console.error("Error saving team member:",I),await Q(`Failed to save: ${I.message}`,"Save Error")}finally{H()}},ue=async x=>{if(await P("This action cannot be undone. The team member and their associated image will be permanently deleted.","Delete Team Member?","Delete","Cancel")){U();try{await ze.deleteTeamMember(x),await ne(),console.log(" Team member deleted successfully")}catch(pe){console.error("Error deleting team member:",pe),await Q(`Failed to delete: ${pe.message}`,"Delete Error")}finally{H()}}},de=(x,I)=>{h(I),x.dataTransfer.effectAllowed="move"},be=(x,I)=>{x.preventDefault(),x.dataTransfer.dropEffect="move",u&&I.id!==u.id&&d(I)},Ue=x=>{x.currentTarget===x.target&&d(null)},Ae=async(x,I)=>{if(x.preventDefault(),!u||u.id===I.id){h(null),d(null);return}U();try{const pe=[...r.teamMembers],Y=pe.findIndex(_e=>_e.id===u.id),K=pe.findIndex(_e=>_e.id===I.id),[J]=pe.splice(Y,1);pe.splice(K,0,J);const xe=pe.map((_e,ve)=>({..._e,order:ve+1}));for(const _e of xe)await ze.saveTeamMember(_e);await ne(),console.log(" Team order updated successfully")}catch(pe){console.error("Error updating team order:",pe),await Q(`Failed to update order: ${pe.message}`,"Reorder Error")}finally{h(null),d(null),H()}},Se=()=>{h(null),d(null)},fe=ht.hasPermission("edit_team");return l?o.jsx("div",{className:"loading",children:"Loading team data..."}):o.jsxs("div",{className:"team-manager",children:[o.jsx("style",{children:`
        .team-manager-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 2rem;
        }

        .team-manager-title {
          font-family: "Bebas Neue", sans-serif;
          font-size: 2rem;
          color: var(--text);
          margin: 0;
        }

        .header-buttons {
          display: flex;
          gap: 1rem;
          align-items: center;
        }

        .add-member-btn {
          background: var(--accent);
          color: white;
          border: none;
          padding: 0.75rem 1.5rem;
          border-radius: 6px;
          cursor: pointer;
          font-size: 0.9rem;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          transition: background 0.3s ease;
        }

        .add-member-btn:hover {
          background: #c71821;
          transform: translateY(-1px);
        }

        .no-data-message {
          text-align: center;
          padding: 4rem 2rem;
          background: var(--surface);
          border-radius: var(--radius);
          border: 2px dashed rgba(255, 255, 255, 0.2);
          color: var(--text);
        }

        .team-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
          gap: 1.5rem;
          margin-bottom: 2rem;
        }

        .member-card {
          background: linear-gradient(180deg, rgba(0,0,0,0.1), var(--surface));
          border: 1px solid rgba(255,255,255,0.03);
          border-radius: var(--radius);
          padding: 1.5rem;
          box-shadow: 0 6px 18px rgba(0,0,0,0.45);
          transition: transform 0.3s ease, opacity 0.3s ease;
          position: relative;
          display: flex;
          flex-direction: column;
          min-height: 250px;
        }

        .member-card:hover {
          transform: translateY(-2px);
        }

        .member-card.dragging {
          opacity: 0.5;
          transform: scale(0.95);
        }

        .member-card.drag-over {
          border: 2px solid var(--accent);
          transform: translateY(-2px);
        }

        .drag-handle {
          position: absolute;
          top: 0.75rem;
          right: 0.75rem;
          cursor: grab;
          padding: 0.25rem;
          color: var(--subtxt);
          transition: color 0.3s ease;
          width: 24px;
          height: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .drag-handle:hover {
          color: var(--accent);
        }

        .drag-handle:active {
          cursor: grabbing;
        }

        .drag-handle svg {
          width: 20px;
          height: 20px;
        }

        .member-header {
          display: flex;
          align-items: center;
          gap: 1rem;
          margin-bottom: 1rem;
        }

        .member-avatar {
          width: 60px;
          height: 60px;
          border-radius: 50%;
          background: #333;
          object-fit: cover;
        }

        .member-info h3 {
          color: var(--accent);
          margin: 0 0 0.25rem 0;
          font-size: 1.1rem;
        }

        .member-role {
          color: var(--subtxt);
          font-size: 0.9rem;
          margin: 0;
        }

        .member-bio {
          color: var(--text);
          font-size: 0.9rem;
          line-height: 1.4;
          margin-bottom: 1rem;
          flex-grow: 1;
        }

        .member-actions {
          display: flex;
          gap: 0.5rem;
          justify-content: flex-end;
          margin-top: auto;
        }

        .action-btn {
          padding: 0.5rem;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          width: 36px;
          height: 36px;
        }

        .action-btn svg {
          width: 18px;
          height: 18px;
        }

        .edit-btn {
          background: var(--accent);
          color: white;
        }

        .edit-btn:hover {
          background: #c71821;
          transform: translateY(-2px);
        }

        .delete-btn {
          background: #dc2626;
          color: white;
        }

        .delete-btn:hover {
          background: #b91c1c;
          transform: translateY(-2px);
        }

        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.8);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1000;
        }

        .modal-content {
          background: var(--surface);
          padding: 2rem;
          border-radius: var(--radius);
          max-width: 500px;
          width: 90%;
          max-height: 80vh;
          overflow-y: auto;
        }

        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1.5rem;
        }

        .modal-title {
          font-family: "Bebas Neue", sans-serif;
          font-size: 1.5rem;
          color: var(--text);
          margin: 0;
        }

        .close-btn {
          background: none;
          border: none;
          color: var(--subtxt);
          cursor: pointer;
          font-size: 1.5rem;
        }

        .form-group {
          margin-bottom: 1rem;
        }

        .form-label {
          display: block;
          color: var(--text);
          margin-bottom: 0.5rem;
          font-weight: 500;
        }

        .form-input, .form-textarea {
          width: 100%;
          padding: 0.75rem;
          border: 2px solid #333;
          border-radius: 6px;
          background: #1a1a1a;
          color: var(--text);
          font-size: 0.9rem;
          font-family: inherit;
          resize: vertical;
        }

        .form-input:focus, .form-textarea:focus {
          outline: none;
          border-color: var(--accent);
        }

        .form-textarea {
          min-height: 100px;
        }

        .image-upload-area {
          width: 100%;
          min-height: 200px;
          border: 2px dashed #333;
          border-radius: 8px;
          background: #1a1a1a;
          cursor: pointer;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          position: relative;
          overflow: hidden;
        }

        .image-upload-area:hover {
          border-color: var(--accent);
          background: #222;
        }

        .image-upload-area.has-image {
          min-height: 250px;
          border-style: solid;
        }

        .upload-placeholder {
          text-align: center;
          padding: 2rem;
          color: var(--subtxt);
        }

        .upload-placeholder svg {
          width: 48px;
          height: 48px;
          margin: 0 auto 1rem;
          opacity: 0.6;
        }

        .upload-placeholder p {
          margin: 0.5rem 0;
        }

        .upload-hint {
          font-size: 0.75rem;
          opacity: 0.7;
        }

        .image-preview-container {
          width: 100%;
          height: 100%;
          position: relative;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 1rem;
        }

        .image-preview {
          max-width: 100%;
          max-height: 300px;
          border-radius: 6px;
          object-fit: contain;
        }

        .remove-image-btn {
          position: absolute;
          top: 1rem;
          right: 1rem;
          background: rgba(220, 38, 38, 0.9);
          color: white;
          border: none;
          border-radius: 50%;
          width: 32px;
          height: 32px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
          z-index: 10;
        }

        .remove-image-btn:hover {
          background: #dc2626;
          transform: scale(1.1);
        }

        .remove-image-btn svg {
          width: 16px;
          height: 16px;
        }

        .upload-status {
          color: var(--accent);
          font-size: 0.85rem;
          margin-top: 0.5rem;
          text-align: center;
        }

        .modal-actions {
          display: flex;
          gap: 1rem;
          justify-content: flex-end;
          margin-top: 2rem;
        }

        .save-btn {
          background: var(--accent);
          color: white;
          border: none;
          padding: 0.75rem 1.5rem;
          border-radius: 6px;
          cursor: pointer;
          font-size: 0.9rem;
          font-weight: 500;
          transition: all 0.3s ease;
        }

        .save-btn:hover {
          background: #c71821;
          transform: translateY(-1px);
        }

        .cancel-btn {
          background: transparent;
          color: var(--text);
          border: 1px solid var(--subtxt);
          padding: 0.75rem 1.5rem;
          border-radius: 6px;
          cursor: pointer;
          font-size: 0.9rem;
          font-weight: 500;
          transition: all 0.3s ease;
        }

        .cancel-btn:hover {
          background: var(--surface);
          border-color: var(--text);
        }

        .loading {
          text-align: center;
          color: var(--subtxt);
          padding: 2rem;
        }

        .no-permission {
          text-align: center;
          color: var(--subtxt);
          padding: 2rem;
        }
      `}),o.jsxs("div",{className:"team-manager-header",children:[o.jsx("h2",{className:"team-manager-title",children:"Team Management"}),o.jsxs("div",{className:"header-buttons",children:[o.jsx(eh,{status:k,lastSync:$,onRefresh:le,connectionError:D}),fe&&o.jsxs("button",{className:"add-member-btn",onClick:re,children:[o.jsx("span",{children:"+"}),"Add Member"]})]})]}),r.teamMembers.length===0?o.jsxs("div",{className:"no-data-message",children:[o.jsx("p",{style:{fontSize:"1.2rem",marginBottom:"1rem"},children:"No team members found"}),o.jsx("p",{style:{color:"var(--subtxt)",marginBottom:"1rem"},children:"The team data file is empty or couldn't be loaded."}),fe&&o.jsx("button",{onClick:re,className:"add-member-btn",children:"Add Your First Team Member"})]}):o.jsx("div",{className:"team-grid",children:r.teamMembers.sort((x,I)=>(x.order||0)-(I.order||0)).map(x=>o.jsxs("div",{className:`member-card ${(u==null?void 0:u.id)===x.id?"dragging":""} ${(p==null?void 0:p.id)===x.id?"drag-over":""}`,draggable:fe,onDragStart:I=>de(I,x),onDragOver:I=>be(I,x),onDragLeave:Ue,onDrop:I=>Ae(I,x),onDragEnd:Se,children:[fe&&o.jsx("div",{className:"drag-handle",title:"Drag to reorder",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),o.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),o.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),o.jsxs("div",{className:"member-header",children:[o.jsx("img",{src:x.image||"/images/headshots/default.jpg",alt:x.name,className:"member-avatar",onError:I=>I.target.src="/images/headshots/default.jpg"}),o.jsxs("div",{className:"member-info",children:[o.jsx("h3",{children:x.name}),o.jsx("p",{className:"member-role",children:x.role})]})]}),o.jsx("p",{className:"member-bio",children:x.bio&&x.bio.length>150?x.bio.substring(0,150)+"...":x.bio}),fe&&o.jsxs("div",{className:"member-actions",children:[o.jsx("button",{className:"action-btn edit-btn",onClick:()=>ye(x),title:"Edit member",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),o.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),o.jsx("button",{className:"action-btn delete-btn",onClick:()=>ue(x.id),title:"Delete member",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("polyline",{points:"3 6 5 6 21 6"}),o.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),o.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),o.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})]},x.id))}),s&&a&&o.jsx("div",{className:"modal-overlay",onClick:()=>i(!1),children:o.jsxs("div",{className:"modal-content",onClick:x=>x.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h3",{className:"modal-title",children:[a.id&&r.teamMembers.find(x=>x.id===a.id)?"Edit":"Add"," Team Member"]}),o.jsx("button",{className:"close-btn",onClick:()=>i(!1),children:""})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Name *"}),o.jsx("input",{type:"text",className:"form-input",value:a.name,onChange:x=>A({...a,name:x.target.value}),placeholder:"Full name"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Role *"}),o.jsxs("select",{className:"form-input",value:a.role||"",onChange:x=>A({...a,role:x.target.value}),children:[o.jsx("option",{value:"",children:"-- Select Role --"}),L.map(x=>o.jsx("option",{value:x,children:x},x))]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Profile Image *"}),o.jsxs("div",{className:`image-upload-area ${y?"has-image":""}`,onDrop:V,onDragOver:O,onClick:()=>document.getElementById("image-file-input").click(),children:[y?o.jsxs("div",{className:"image-preview-container",children:[o.jsx("img",{src:y,alt:"Preview",className:"image-preview"}),o.jsx("button",{className:"remove-image-btn",onClick:x=>{x.stopPropagation(),q()},title:"Remove image",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}):o.jsxs("div",{className:"upload-placeholder",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"17 8 12 3 7 8"}),o.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),o.jsx("p",{children:"Drop image here or click to upload"}),o.jsx("p",{className:"upload-hint",children:"JPG, PNG, WebP, or GIF  Max 5MB"})]}),o.jsx("input",{id:"image-file-input",type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:x=>F(x.target.files[0]),style:{display:"none"}})]}),b&&o.jsx("p",{className:"upload-status",children:"Uploading image..."})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Bio *"}),o.jsx("textarea",{className:"form-textarea",value:a.bio,onChange:x=>A({...a,bio:x.target.value}),placeholder:"Brief description of role and background..."})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Assign to User Account (Optional)"}),o.jsxs("select",{className:"form-input",value:a.user_id||"",onChange:x=>{const I=x.target.value||null,pe=C.find(Y=>Y.user_id===I);A({...a,user_id:I||null,role:(pe==null?void 0:pe.specific_role)||a.role})},children:[o.jsx("option",{value:"",children:"-- None (No user assigned) --"}),C.map(x=>o.jsxs("option",{value:x.user_id,children:[x.email," - ",x.level.toUpperCase(),x.specific_role?` (${x.specific_role})`:""]},x.user_id))]}),o.jsx("p",{style:{color:"var(--subtxt)",fontSize:"0.8rem",marginTop:"0.5rem"},children:"Link this team member to a user account with Director or Leader permissions"})]}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"cancel-btn",onClick:()=>i(!1),children:"Cancel"}),o.jsx("button",{className:"save-btn",onClick:ce,children:"Save Member"})]})]})})]})});H4.displayName="TeamManager";const Qu=t=>t?t.charAt(0).toUpperCase()+t.slice(1):"",Nb=t=>t?new Date(t).toLocaleDateString("en-US",{month:"short",year:"numeric"}):"";function _L({currentUserLevel:t,targetLevel:e,userId:r,userEmail:n,onUpdated:s,canEdit:i}){const{showConfirm:a,showSuccess:A,showError:l}=li(),[c,u]=W.useState(e),[h,p]=W.useState(!1);W.useEffect(()=>{u(e||"member")},[e]);const d=()=>{let g=[];t==="director"?g=["member","leader","director"]:t==="leader"?g=["member","leader"]:g=[];const b=[...g,e||"member"];return Array.from(new Set(b))},w=async g=>{const b=g.target.value;if(b===c)return;if(!await a(`Change role for ${n} from ${Qu(c)} to ${Qu(b)}?`,"Confirm Role Change")){u(e);return}try{p(!0),await ze.updateUserRole(r,b),await A(`Updated ${n} to ${Qu(b)}`),s&&await s()}catch(C){console.error("Error updating role:",C),await l(`Failed to update role: ${C.message}`,"Update Error"),u(e)}finally{p(!1)}},m=d(),y=m.length>1&&i;return o.jsxs("div",{className:`role-dropdown-wrapper ${y?"clickable":""}`,children:[o.jsx("select",{className:"role-select-styled",value:c,onChange:w,disabled:h||!y,"aria-label":`Change role for ${n}`,children:m.map(g=>o.jsx("option",{value:g,children:Qu(g)},g))}),y&&o.jsx("span",{className:"chevron","aria-hidden":!0,children:o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}const M4=W.forwardRef((t,e)=>{const[r,n]=W.useState([]),[s,i]=W.useState([]),[a,A]=W.useState(!0),[l,c]=W.useState("approved"),[u,h]=W.useState(null),{showError:p,showConfirm:d,showSuccess:w}=li();W.useImperativeHandle(e,()=>({})),W.useEffect(()=>{(async()=>{if(ht.waitForInit)try{await ht.waitForInit()}catch(L){console.warn("Auth waitForInit failed:",L)}const N=ht.getUser();N&&h(N.level),await m(),await y()})()},[]),W.useEffect(()=>{const N=async()=>{!document.hidden&&!a&&(console.log(" Tab visible - refreshing users"),await new Promise(L=>setTimeout(L,300)),m(),y())};return document.addEventListener("visibilitychange",N),()=>document.removeEventListener("visibilitychange",N)},[a]);const m=async()=>{A(!0);try{const L=(await ze.getAllUserRoles()||[]).filter($=>$.approval_status==="approved"),Q={director:3,leader:2,member:1},k=L.slice().sort(($,D)=>{const U=Q[$.level]||0,H=Q[D.level]||0;if(H!==U)return H-U;const S=($.full_name||$.name||$.email||"").toLowerCase(),ee=(D.full_name||D.name||D.email||"").toLowerCase();return S.localeCompare(ee)}).map($=>({...$,level:$.level||"member"}));console.log(" Loaded approved users:",k),n(k)}catch(N){console.error("Error loading users:",N),await p(`Failed to load users: ${N.message}`,"Load Error"),n([])}finally{A(!1)}},y=async()=>{try{const N=await ze.getPendingUsers();console.log(" Loaded pending users:",N),i(N||[])}catch(N){console.error("Error loading pending users:",N),i([])}},g=N=>u==="director"||u==="leader"&&(N==="member"||N==="leader"),b=()=>u==="leader"||u==="director",B=async(N,L,Q="member")=>{const P=ht.getUser();if(!(!P||!await d(`Approve ${L} as ${Qu(Q)}?`,"Approve User")))try{await ze.approveUser(N,P.id,Q),await w(`Successfully approved ${L}`),await y(),await m()}catch($){console.error("Error approving user:",$),await p(`Failed to approve user: ${$.message}`,"Approval Error")}},C=async(N,L)=>{const Q=ht.getUser();if(!(!Q||!await d(`Reject account request from ${L}? This action cannot be undone.`,"Reject User")))try{await ze.rejectUser(N,Q.id),await w(`Rejected account request from ${L}`),await y()}catch(k){console.error("Error rejecting user:",k),await p(`Failed to reject user: ${k.message}`,"Rejection Error")}};return a?o.jsx("div",{className:"user-manager-loading",children:"Loading users..."}):o.jsxs("div",{className:"user-manager",children:[o.jsxs("div",{className:"user-manager-tabs",children:[o.jsxs("button",{className:`tab ${l==="approved"?"active":""}`,onClick:()=>c("approved"),children:["Approved Users (",r.length,")"]}),b()&&o.jsxs("button",{className:`tab ${l==="pending"?"active":""}`,onClick:()=>c("pending"),children:["Pending Requests (",s.length,")"]})]}),l==="approved"&&o.jsx("div",{className:"user-list",children:o.jsxs("table",{className:"user-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Name"}),o.jsx("th",{children:"Email"}),o.jsx("th",{children:"Role"}),o.jsx("th",{children:"Joined"})]})}),o.jsx("tbody",{children:r.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:4,style:{textAlign:"center",padding:"2rem"},children:"No approved users found"})}):r.map(N=>o.jsxs("tr",{children:[o.jsx("td",{className:"user-email",children:N.first_name||N.last_name?`${(N.first_name||"").trim()} ${(N.last_name||"").trim()}`.trim():N.full_name||N.name||N.email}),o.jsx("td",{className:"user-email",children:N.email}),o.jsx("td",{className:"role-cell",children:o.jsx(_L,{currentUserLevel:u,targetLevel:N.level,userId:N.user_id,userEmail:N.email,onUpdated:m,canEdit:g(N.level)})}),o.jsx("td",{className:"joined-cell",children:Nb(N.created_at)})]},N.id))})]})}),l==="pending"&&b()&&o.jsx("div",{className:"pending-user-list",children:o.jsxs("table",{className:"user-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Name"}),o.jsx("th",{children:"Email"}),o.jsx("th",{children:"Requested"}),o.jsx("th",{children:"Assign Role"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:s.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,style:{textAlign:"center",padding:"2rem"},children:"No pending requests"})}):s.map(N=>o.jsxs("tr",{children:[o.jsx("td",{className:"user-email",children:N.first_name||N.last_name?`${(N.first_name||"").trim()} ${(N.last_name||"").trim()}`.trim():N.full_name||N.name||N.email}),o.jsx("td",{className:"user-email",children:N.email}),o.jsx("td",{className:"joined-cell",children:Nb(N.created_at)}),o.jsx("td",{className:"role-cell",children:o.jsxs("select",{className:"role-select-styled pending-role-select",defaultValue:"member",id:`role-${N.id}`,"aria-label":`Select role for ${N.email}`,children:[o.jsx("option",{value:"member",children:"Member"}),(u==="leader"||u==="director")&&o.jsx("option",{value:"leader",children:"Leader"}),u==="director"&&o.jsx("option",{value:"director",children:"Director"})]})}),o.jsx("td",{className:"actions-cell",children:o.jsxs("div",{className:"action-buttons",children:[o.jsx("button",{className:"btn-approve",onClick:()=>{const L=document.getElementById(`role-${N.id}`),Q=(L==null?void 0:L.value)||"member";B(N.user_id,N.email,Q)},title:"Approve user",children:" Approve"}),o.jsx("button",{className:"btn-reject",onClick:()=>C(N.user_id,N.email),title:"Reject user",children:" Reject"})]})})]},N.id))})]})}),o.jsxs("div",{className:"user-manager-info",children:[o.jsx("h4",{children:"Permission Levels:"}),o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Directors"})," can manage all users (promote/demote anyone)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Leaders"})," can manage members and other leaders"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Members"})," can only view the user list"]})]})]})]})});M4.displayName="UserManager";function ef({value:t,options:e,color:r,onChange:n,disabled:s=!1,className:i=""}){var u;const[a,A]=W.useState(!1),l=W.useRef(null);W.useEffect(()=>{if(!a)return;const h=p=>{l.current&&!l.current.contains(p.target)&&A(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[a]);const c=h=>{s||(A(!1),h!==t&&(n==null||n(h)))};return o.jsxs("div",{ref:l,className:`status-dropdown ${i}`,style:{position:"relative",display:"inline-block"},onClick:h=>h.stopPropagation(),children:[o.jsxs("button",{type:"button",className:"project-status",disabled:s,onClick:()=>!s&&A(h=>!h),title:s?t:`Change status (currently ${t})`,style:{backgroundColor:r,cursor:s?"default":"pointer",border:"none"},children:[((u=t==null?void 0:t.toUpperCase)==null?void 0:u.call(t))||String(t),!s&&" ",!s&&o.jsx("i",{className:`fas fa-chevron-${a?"up":"down"}`,style:{marginLeft:6}})]}),a&&o.jsx("div",{className:"status-dropdown-menu",style:{position:"absolute",right:0,top:"110%",background:"var(--card)",border:"1px solid var(--muted)",borderRadius:8,padding:6,boxShadow:"0 8px 24px #0008",zIndex:20,minWidth:200},children:e.map(h=>o.jsxs("button",{type:"button",onClick:()=>c(h),className:"status-option",style:{display:"flex",alignItems:"center",gap:8,width:"100%",textAlign:"left",padding:"8px 10px",border:"none",background:"transparent",color:"var(--text)",borderRadius:6,cursor:"pointer"},children:[o.jsx("span",{style:{width:10,height:10,borderRadius:"50%",background:h===t?"var(--accent)":"var(--muted)"}}),o.jsx("span",{style:{fontWeight:h===t?700:500},children:h.toUpperCase()}),h===t&&o.jsx("i",{className:"fas fa-check",style:{marginLeft:"auto",color:"var(--accent)"}})]},h))})]})}function Fb({value:t,placeholder:e="Add weekly notes... (click to edit)",onSave:r,rows:n=3,autoSaveOnBlur:s=!0,disabled:i=!1}){const[a,A]=W.useState(!1),[l,c]=W.useState(t||""),[u,h]=W.useState(!1),[p,d]=W.useState(!1),w=W.useRef(null),m=W.useRef(null);W.useEffect(()=>{c(t||"")},[t]),W.useEffect(()=>{a&&m.current&&m.current.focus()},[a]);const y=async()=>{if(!(!u||p||i))try{d(!0),await(r==null?void 0:r(l)),h(!1)}finally{d(!1)}};return W.useEffect(()=>{if(!a)return;const g=b=>{w.current&&!w.current.contains(b.target)&&(s&&y(),A(!1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[a,s,l,u]),o.jsx("div",{ref:w,className:"inline-notes-editor",style:{position:"relative"},onClick:g=>g.stopPropagation(),onMouseDown:g=>g.stopPropagation(),children:a?o.jsxs("div",{style:{position:"relative"},children:[o.jsx("textarea",{ref:m,value:l,onChange:g=>{c(g.target.value),h(!0)},rows:n,disabled:i,placeholder:e,style:{width:"100%",resize:"vertical",padding:"0.75rem",background:"var(--card)",color:"var(--text)",border:"1px solid var(--muted)",borderRadius:8,fontSize:"0.9rem",outline:"none",boxShadow:"0 2px 12px #0004"}}),(u||p)&&o.jsxs("button",{type:"button",className:"confirm-btn",onClick:async()=>{await y(),A(!1)},disabled:p,title:p?"Saving...":"Save notes",style:{position:"absolute",right:16,bottom:16,border:"none",borderRadius:8,padding:"6px 10px",background:"var(--accent)",color:"#fff",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:6},children:[o.jsx("i",{className:`fas fa-${p?"spinner fa-spin":"check"}`}),o.jsx("span",{children:p?"Saving":"Save"})]})]}):o.jsx("div",{className:"notes-display",onClick:()=>!i&&A(!0),style:{fontSize:"0.85rem",color:"var(--subtxt)",whiteSpace:"pre-wrap",maxHeight:"6.5em",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:5,WebkitBoxOrient:"vertical",cursor:i?"default":"text"},children:l&&l.trim().length>0?l:o.jsx("span",{style:{color:"var(--muted)"},children:e})})})}const z4=W.forwardRef((t,e)=>{const{showAlert:r,showConfirm:n}=li(),[s,i]=W.useState({teams:[],projects:[],lastUpdated:""}),[a,A]=W.useState("overview"),[l,c]=W.useState(!1),[u,h]=W.useState(null),[p,d]=W.useState(!0),[w,m]=W.useState("all"),[y,g]=W.useState("all"),[b,B]=W.useState("priority"),[C,N]=W.useState(null),[L,Q]=W.useState(null);W.useState("month");const[P,k]=W.useState(new Date),[$,D]=W.useState({}),H=ht.getLevel()===eo.DIRECTOR,S=ht.hasPermission("edit_schedules"),ee=H;W.useImperativeHandle(e,()=>({handleAddProject:()=>{h({type:"project",title:"",description:"",team:w!=="all"?w:"director",priority:"medium",status:"planning",startDate:new Date().toISOString().split("T")[0],dueDate:"",estimatedHours:0,actualHours:0,progress:0,assignedTo:"",weeklyNotes:"",tasks:[]}),c(!0)}}));const ge=W.useRef({projects:null,tasks:null}),le=W.useRef(!1),ne=()=>{ge.current.projects&&ze.unsubscribe(ge.current.projects),ge.current.tasks&&ze.unsubscribe(ge.current.tasks);try{ge.current.projects=ze.subscribeToTable("schedule_projects",se),ge.current.tasks=ze.subscribeToTable("schedule_tasks",se),console.log(" Real-time subscriptions set up for schedule data")}catch(z){console.warn("Failed to set up subscriptions:",z)}};W.useEffect(()=>{ye(),ne();const z=()=>{document.hidden||(console.log(" Tab visible - refreshing schedule data"),ye())};return document.addEventListener("visibilitychange",z),()=>{ze.unsubscribe(ge.current.projects),ze.unsubscribe(ge.current.tasks),document.removeEventListener("visibilitychange",z)}},[]);const se=()=>{ye()},ye=async()=>{if(le.current){console.log(" Already loading schedule data, skipping...");return}le.current=!0,d(!0);try{if(!ze.isConfigured()){r("Supabase is not configured. Please set up your environment variables.","error");return}const z=await ze.getScheduleData();i(z)}catch(z){console.error("Error loading schedule data:",z),z.message&&z.message.includes("timed out")?r("Connection timed out. Please try again.","error"):r(`Failed to load schedule data: ${z.message}`,"error")}finally{le.current=!1,d(!1)}},re=z=>{const me=(O||[]).find(je=>je.id===z);return me?me.name:z},F=z=>{const me=(O||[]).find(je=>je.id===z);return me?me.color:"#6c757d"},V=z=>{if(!z)return z;const me=String(z).toLowerCase();return me==="technical-director"||me==="project-director"||/technical director|project director/i.test(String(z))?"director":z},O=W.useMemo(()=>{const z={};return(s.teams||[]).forEach(je=>{const De=V(je.id);z[De]?!z[De].color&&je.color&&(z[De].color=je.color):z[De]={id:De,name:De==="director"?"Director":je.name,color:je.color||"#6c757d"}}),(s.projects||[]).some(je=>V(je.team)==="director")&&!z.director&&(z.director={id:"director",name:"Director",color:"#6c757d"}),Object.values(z)},[s.teams,s.projects]),q=z=>{if(!z)return"";const[me,je,De]=z.split("-");return new Date(parseInt(me),parseInt(je)-1,parseInt(De)).toLocaleDateString()},ce=(z,me)=>{if(!z)return"";const[je,De,Xe]=z.split("-");return new Date(parseInt(je),parseInt(De)-1,parseInt(Xe)).toLocaleDateString("en-US",me)},ue=z=>{if(!z)return null;const[me,je,De]=z.split("-");return new Date(parseInt(me),parseInt(je)-1,parseInt(De))},de=(z,me)=>{if(me==="completed"||me==="cancelled")return!1;const je=new Date;return je.setHours(0,0,0,0),ue(z)<je},be=(z,me)=>{if(de(me,z))return"#dc3545";switch(z){case"completed":return"#28a745";case"in-progress":return"#6c757d";case"pending":return"#ffc107";case"planning":return"#6c757d";case"on-hold":return"#6c757d";case"cancelled":return"#6c757d";case"critical":return"#dc3545";default:return"#6c757d"}},Ue=z=>{switch(z){case"planning":return"Planning";case"pending":return"Pending";case"in-progress":return"In Progress";case"completed":return"Completed";case"on-hold":return"On Hold";case"cancelled":return"Canceled";default:return String(z||"").toString()}},Ae=["planning","in-progress","completed","on-hold","cancelled"],Se=["in-progress","completed","blocked","cancelled"],fe=[{value:"priority",label:"Priority"},{value:"due-asc",label:"Due Date "},{value:"due-desc",label:"Due Date "},{value:"title-asc",label:"Title AZ"},{value:"title-desc",label:"Title ZA"},{value:"status",label:"Status"}],x=(z,me,je=b)=>{const De=tt=>tt?ue(tt):new Date(864e13),Xe=de(z.dueDate,z.status),at=de(me.dueDate,me.status);switch(je){case"priority":if(Xe!==at)return Xe?-1:1;const tt=De(z.dueDate),Be=De(me.dueDate),Ke=Xt=>Xt==="completed"||Xt==="cancelled",$e=Ke(z.status),Pe=Ke(me.status);if($e&&Pe)return Be-tt;if($e!==Pe)return $e?1:-1;if(tt-Be!==0)return tt-Be;const it={critical:3,high:2,medium:1,low:0},nt=it[z.priority]||0,Et=it[me.priority]||0;return nt!==Et?Et-nt:z.title.localeCompare(me.title);case"due-asc":return De(z.dueDate)-De(me.dueDate);case"due-desc":return De(me.dueDate)-De(z.dueDate);case"title-asc":return z.title.localeCompare(me.title);case"title-desc":return me.title.localeCompare(z.title);case"status":const Ir=Xt=>Ae.indexOf(Xt)===-1?Ae.length:Ae.indexOf(Xt);return Ir(z.status)-Ir(me.status)||z.title.localeCompare(me.title);default:return 0}},I=async(z,me)=>{if(!S){r("You do not have permission to change project status. Only team leaders and directors can edit schedules.","error");return}try{const je=me==="completed"?100:K(z.startDate,z.dueDate,me);i(De=>({...De,projects:De.projects.map(Xe=>Xe.id===z.id?{...Xe,status:me,progress:je}:Xe)})),await ze.updateProjectFields(z.id,{status:me,progress:je})}catch(je){console.error("Failed to update project status:",je),r(`Failed to update status: ${je.message}`,"error"),await ye()}},pe=async(z,me,je)=>{if(!S){r("You do not have permission to change task status. Only team leaders and directors can edit schedules.","error");return}try{const De=je==="completed"?100:K(me.startDate,me.dueDate,je);i(Xe=>({...Xe,projects:Xe.projects.map(at=>at.id===z?{...at,tasks:(at.tasks||[]).map(tt=>tt.id===me.id?{...tt,status:je,progress:De}:tt)}:at)})),await ze.updateTaskFields(me.id,{status:je,progress:De})}catch(De){console.error("Failed to update task status:",De),r(`Failed to update task status: ${De.message}`,"error"),await ye()}},Y=async(z,me)=>{if(!S){r("You do not have permission to edit weekly notes. Only team leaders and directors can edit schedules.","error");return}try{i(je=>({...je,projects:je.projects.map(De=>De.id===z.id?{...De,weeklyNotes:me}:De)})),await ze.updateProjectFields(z.id,{weekly_notes:me}),r("Weekly notes saved","success")}catch(je){console.error("Failed to save weekly notes:",je),r(`Failed to save weekly notes: ${je.message}`,"error"),await ye()}},K=(z,me,je)=>{if(je==="completed"||je==="cancelled")return 100;if(!z||!me)return 0;const De=ue(z),Xe=ue(me),at=new Date;if(at.setHours(0,0,0,0),at<De)return 0;if(at>Xe)return 100;const tt=Xe-De,Be=at-De,Ke=Math.round(Be/tt*100);return Math.max(0,Math.min(100,Ke))},J=()=>{if(!S){r("You do not have permission to add projects. Only team leaders and directors can edit schedules.","error");return}h({type:"project",title:"",description:"",team:w!=="all"?w:"director",priority:"medium",status:"planning",startDate:new Date().toISOString().split("T")[0],dueDate:"",estimatedHours:0,actualHours:0,progress:0,assignedTo:"",weeklyNotes:"",tasks:[]}),c(!0)},xe=z=>{if(!S){r("You do not have permission to edit projects. Only team leaders and directors can edit schedules.","error");return}h({...z,type:"project"}),c(!0)},_e=(z,me)=>{if(!S){r("You do not have permission to edit tasks. Only team leaders and directors can edit schedules.","error");return}h({...z,type:"project",editingTaskId:me.id}),c(!0)},ve=async(z,me)=>{if(!S){r("You do not have permission to delete tasks. Only team leaders and directors can edit schedules.","error");return}if(await n("Are you sure you want to delete this task? This action cannot be undone.","Delete Task","Delete","Cancel"))try{await ze.deleteTask(me),r("Task deleted successfully!","success"),await ye()}catch(De){console.error("Error deleting task:",De),r(`Failed to delete task: ${De.message}`,"error")}},ke=(z,me)=>{me.stopPropagation(),D(je=>({...je,[z]:!je[z]}))},Ve=z=>{if(!S){r("You do not have permission to add tasks. Only team leaders and directors can edit schedules.","error");return}const me=s.projects.find(De=>De.id===z),je={projectId:z,title:"",description:"",startDate:new Date().toISOString().split("T")[0],dueDate:"",estimatedHours:0,status:"pending",priority:"medium",assignedTo:""};h({...me,type:"project",tasks:[...me.tasks||[],je]}),c(!0)},Te=async()=>{try{if(!u)return;if(!S){r("You do not have permission to save changes. Only team leaders and directors can edit schedules.","error");return}if(u.type==="project"){if(!u.title||u.title.trim()===""){r("Project title is required","error");return}if(!u.priority||u.priority.trim()===""){r("Project priority is required","error");return}if(!u.status||u.status.trim()===""){r("Project status is required","error");return}if(!u.assignedTo||u.assignedTo.trim()===""){r("Project assigned to is required","error");return}if(!u.startDate||u.startDate.trim()===""){r("Project start date is required","error");return}if(!u.dueDate||u.dueDate.trim()===""){r("Project due date is required","error");return}if(!u.team||u.team.trim()===""){r("Project team is required","error");return}if(u.tasks&&u.tasks.length>0)for(const[je,De]of u.tasks.entries()){if(!De.title||De.title.trim()===""){r(`Task ${je+1}: Title is required`,"error");return}if(!De.priority||De.priority.trim()===""){r(`Task ${je+1}: Priority is required`,"error");return}if(!De.status||De.status.trim()===""){r(`Task ${je+1}: Status is required`,"error");return}if(!De.assignedTo||De.assignedTo.trim()===""){r(`Task ${je+1}: Assigned to is required`,"error");return}if(!De.startDate||De.startDate.trim()===""){r(`Task ${je+1}: Start date is required`,"error");return}if(!De.dueDate||De.dueDate.trim()===""){r(`Task ${je+1}: Due date is required`,"error");return}}const z={...u};delete z.type,z.progress=K(z.startDate,z.dueDate,z.status);const me=await ze.saveProject(z);if(z.tasks&&z.tasks.length>0)for(const je of z.tasks){const De={...je,projectId:me.id};De.progress=K(De.startDate,De.dueDate,De.status),await ze.saveTask(De)}r("Project saved successfully!","success")}c(!1),h(null),await ye()}catch(z){console.error("Error saving item:",z),r(`Failed to save: ${z.message}`,"error")}},Ge=async(z,me)=>{if(!S){r("You do not have permission to delete items. Only team leaders and directors can edit schedules.","error");return}const je=z==="project"?"project":"item",De=z==="project"?o.jsxs("div",{className:"alert-message-section",children:[o.jsx("div",{className:"alert-message-main",children:"Are you sure you want to delete this project?"}),o.jsx("div",{className:"alert-message-details",children:"This action cannot be undone and will delete all associated tasks."}),o.jsxs("div",{className:"alert-message-note",children:[o.jsxs("svg",{className:"alert-message-note-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),o.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),o.jsxs("div",{className:"alert-message-note-content",children:[o.jsx("div",{className:"alert-message-note-title",children:"Note:"}),o.jsx("div",{className:"alert-message-note-text",children:`We prefer not to delete projects as it's valuable to keep a record of past work for tracking and reference purposes. Consider marking the project as "Completed" or "Cancelled" instead, unless deletion is absolutely necessary.`})]})]})]}):`Are you sure you want to delete this ${je}? This action cannot be undone.`;if(await n(De,`Delete ${je.charAt(0).toUpperCase()+je.slice(1)}`,"Delete","Cancel"))try{z==="project"&&(await ze.deleteProject(me),r("Project deleted successfully!","success")),await ye()}catch(at){console.error("Error deleting item:",at),r(`Failed to delete: ${at.message}`,"error")}},pt=(z,me="team")=>w==="all"?z:z.filter(je=>V(je[me])===w),Ze=z=>{const me=z.getFullYear(),je=z.getMonth(),De=new Date(me,je,1),at=new Date(me,je+1,0).getDate(),tt=De.getDay(),Be=[];for(let Ke=0;Ke<tt;Ke++)Be.push(null);for(let Ke=1;Ke<=at;Ke++)Be.push(new Date(me,je,Ke));return Be},rt=z=>{const me=z.toISOString().split("T")[0];return s.projects.filter(De=>De.dueDate===me).map(De=>({...De,itemType:"project"}))},At=z=>{const me=rt(z);Q({date:z,items:me})},et=W.useMemo(()=>(O||[]).map(z=>{const me=s.projects.filter(tt=>V(tt.team)===z.id),je=me.filter(tt=>tt.status==="completed").length,De=me.filter(tt=>tt.status==="in-progress"||tt.status==="planning").length,Xe=me.filter(tt=>de(tt.dueDate,tt.status)).length,at=me.length>0?Math.round(me.reduce((tt,Be)=>tt+K(Be.startDate,Be.dueDate,Be.status),0)/me.length):0;return{...z,totalProjects:me.length,completed:je,active:De,overdue:Xe,avgProgress:at}}),[s]),Ft=W.useMemo(()=>{const z=s.projects.length,me=s.projects.filter(at=>at.status==="completed").length,je=s.projects.filter(at=>at.status==="in-progress").length,De=s.projects.filter(at=>de(at.dueDate,at.status)).length,Xe=z>0?Math.round(s.projects.reduce((at,tt)=>at+K(tt.startDate,tt.dueDate,tt.status),0)/z):0;return{totalProjects:z,completed:me,inProgress:je,overdue:De,avgProgress:Xe}},[s]);return p?o.jsx("div",{className:"loading",children:"Loading schedule data..."}):o.jsxs("div",{className:"schedule-manager",children:[o.jsx("div",{className:"schedule-header",children:o.jsx("h1",{className:"schedule-title",children:"Schedule Manager"})}),o.jsxs("div",{className:"view-tabs",children:[o.jsxs("div",{className:"view-tabs-left",children:[o.jsx("button",{className:`view-tab ${a==="overview"?"active":""}`,onClick:()=>A("overview"),children:"Overview"}),o.jsx("button",{className:`view-tab ${a==="calendar"?"active":""}`,onClick:()=>A("calendar"),children:"Calendar"}),o.jsx("button",{className:`view-tab ${a==="projects"?"active":""}`,onClick:()=>A("projects"),children:"Projects"})]}),S&&o.jsxs("button",{className:"add-button",onClick:J,children:[o.jsx("i",{className:"fas fa-plus"})," New Project"]})]}),a==="overview"&&o.jsxs("div",{className:"overview-dashboard",children:[o.jsxs("div",{className:"stats-grid",children:[o.jsxs("div",{className:"stat-card",onClick:()=>{A("projects"),m("all"),g("all")},style:{cursor:"pointer"},title:"Click to view all projects",children:[o.jsx("div",{className:"stat-label",children:"Total Projects"}),o.jsx("div",{className:"stat-value",children:Ft.totalProjects})]}),o.jsxs("div",{className:"stat-card",onClick:()=>{A("projects"),m("all"),g("completed")},style:{cursor:"pointer"},title:"Click to view completed projects",children:[o.jsx("div",{className:"stat-label",children:"Completed"}),o.jsxs("div",{className:"stat-value",style:{color:"var(--subtxt)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[Ft.completed,o.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--muted)"},children:[Ft.totalProjects>0?Math.round(Ft.completed/Ft.totalProjects*100):0,"%"]})]})]}),o.jsxs("div",{className:"stat-card",onClick:()=>{A("projects"),m("all"),g("in-progress")},style:{cursor:"pointer"},title:"Click to view in-progress projects",children:[o.jsx("div",{className:"stat-label",children:"In Progress"}),o.jsx("div",{className:"stat-value",style:{color:"var(--text)"},children:Ft.inProgress})]}),o.jsxs("div",{className:"stat-card",onClick:()=>{A("projects"),m("all"),g("overdue")},style:{cursor:"pointer"},title:"Click to view overdue projects",children:[o.jsx("div",{className:"stat-label",children:"Overdue"}),o.jsx("div",{className:"stat-value",style:{color:"var(--accent)"},children:Ft.overdue})]}),o.jsxs("div",{className:"stat-card",onClick:()=>{A("projects"),m("all"),g("all")},style:{cursor:"pointer"},title:"Click to view all projects",children:[o.jsxs("div",{className:"stat-label",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:["Avg Progress",o.jsx("span",{title:"Average progress is calculated by averaging the percent completion of all projects, based on their start and due dates, and current status. Completed projects are 100%. Projects in progress or planning are calculated by how far along the timeline they are.",style:{cursor:"help",color:"var(--accent)",fontSize:"1.1rem"},children:o.jsx("i",{className:"fas fa-info-circle"})})]}),o.jsxs("div",{className:"stat-value",children:[Ft.avgProgress,"%"]})]})]}),o.jsx("h2",{className:"section-title",children:"Teams Overview"}),o.jsx("div",{className:"teams-overview",children:et.map(z=>o.jsxs("div",{className:"team-card",style:{"--team-color":z.color},onClick:()=>{m(z.id),g("all"),A("projects")},children:[o.jsx("div",{className:"team-header",children:o.jsx("h3",{className:"team-name",children:z.name})}),o.jsxs("div",{className:"team-progress",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",fontSize:"0.9rem"},children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{style:{fontWeight:"bold"},children:[z.avgProgress,"%"]})]}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:`${z.avgProgress}%`,backgroundColor:"var(--accent)"}})})]}),o.jsxs("div",{className:"team-stats",children:[o.jsxs("div",{className:"team-stat",children:[o.jsx("div",{className:"team-stat-value",style:{color:"var(--subtxt)"},children:z.completed}),o.jsx("div",{className:"team-stat-label",children:"Done"})]}),o.jsxs("div",{className:"team-stat",children:[o.jsx("div",{className:"team-stat-value",style:{color:"var(--text)"},children:z.active}),o.jsx("div",{className:"team-stat-label",children:"Active"})]}),o.jsxs("div",{className:"team-stat",children:[o.jsx("div",{className:"team-stat-value",style:{color:"var(--accent)"},children:z.overdue}),o.jsx("div",{className:"team-stat-label",children:"Overdue"})]})]})]},z.id))}),o.jsxs("div",{className:"upcoming-deadlines",children:[o.jsx("h2",{className:"section-title",children:"Upcoming Deadlines"}),(()=>{const z=s.projects.filter(me=>me.status!=="completed"&&me.dueDate).sort((me,je)=>ue(me.dueDate)-ue(je.dueDate)).slice(0,4);return z.length===0?o.jsx("p",{style:{color:"var(--subtxt)",textAlign:"center",padding:"2rem"},children:"No upcoming deadlines"}):z.map(me=>o.jsxs("div",{className:"deadline-item",style:{"--team-color":F(me.team)},onClick:()=>N(me),children:[o.jsxs("div",{className:"deadline-info",children:[o.jsx("div",{className:"deadline-title",children:me.title}),o.jsxs("div",{className:"deadline-meta",children:[re(me.team),"  ",me.assignedTo,"  ",K(me.startDate,me.dueDate,me.status),"% complete"]})]}),o.jsx("div",{className:"deadline-date",children:ce(me.dueDate,{month:"short",day:"numeric"})})]},me.id))})()]})]}),a==="calendar"&&o.jsxs("div",{className:"calendar-view",children:[o.jsxs("div",{className:"calendar-header",children:[o.jsxs("div",{className:"calendar-nav",children:[o.jsx("button",{className:"calendar-arrow-btn","aria-label":"Previous month",onClick:()=>{const z=new Date(P);z.setMonth(z.getMonth()-1),k(z)},children:o.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})}),o.jsx("div",{className:"calendar-month",children:P.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),o.jsx("button",{className:"calendar-arrow-btn","aria-label":"Next month",onClick:()=>{const z=new Date(P);z.setMonth(z.getMonth()+1),k(z)},children:o.jsx("i",{className:"fas fa-chevron-right","aria-hidden":"true"})})]}),o.jsx("button",{className:"calendar-nav-btn",onClick:()=>k(new Date),children:"Today"})]}),o.jsxs("div",{className:"calendar-grid",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(z=>o.jsx("div",{className:"calendar-day-header",children:z},z)),Ze(P).map((z,me)=>{if(!z)return o.jsx("div",{className:"calendar-day empty"},`empty-${me}`);const je=rt(z),De=z.toDateString()===new Date().toDateString();return o.jsxs("div",{className:`calendar-day ${De?"today":""}`,onClick:()=>At(z),children:[o.jsx("div",{className:"calendar-date",children:z.getDate()}),o.jsxs("div",{className:"calendar-items",children:[je.slice(0,2).map(Xe=>o.jsx("div",{className:"calendar-item",style:{backgroundColor:F(Xe.team)},onClick:at=>{at.stopPropagation(),Xe.itemType==="project"&&N(Xe)},title:Xe.title,children:Xe.title},`${Xe.itemType}-${Xe.id}`)),je.length>2&&o.jsxs("div",{className:"calendar-more",onClick:Xe=>{Xe.stopPropagation(),At(z)},title:`${je.length} items on this day`,children:["+",je.length-2," more"]})]})]},z.toISOString())})]})]}),a==="projects"&&o.jsxs("div",{children:[o.jsx("div",{className:"projects-header",children:o.jsxs("div",{className:"filters",children:[o.jsx("label",{htmlFor:"team-filter",style:{fontWeight:600,color:"var(--text)"},children:"Filter by Team:"}),o.jsxs("select",{id:"team-filter",className:"team-filter",value:w,onChange:z=>m(z.target.value),children:[o.jsx("option",{value:"all",children:"All Teams"}),(O||[]).map(z=>o.jsx("option",{value:z.id,children:z.name},z.id))]}),o.jsx("label",{htmlFor:"status-filter",style:{fontWeight:600,color:"var(--text)"},children:"Status:"}),o.jsxs("select",{id:"status-filter",className:"team-filter",value:y,onChange:z=>g(z.target.value),children:[o.jsx("option",{value:"all",children:"All Statuses"}),Ae.map(z=>o.jsx("option",{value:z,children:Ue(z)},z)),o.jsx("option",{value:"overdue",children:"Overdue"})]}),o.jsx("label",{htmlFor:"sort-select",style:{fontWeight:600,color:"var(--text)"},children:"Sort:"}),o.jsx("select",{id:"sort-select",className:"team-filter",value:b,onChange:z=>B(z.target.value),children:fe.map(z=>o.jsx("option",{value:z.value,children:z.label},z.value))})]})}),o.jsx("div",{className:"projects-grid",children:pt(s.projects).filter(z=>y==="all"?!0:y==="overdue"?de(z.dueDate,z.status):z.status===y).sort((z,me)=>x(z,me,b)).map(z=>o.jsxs("div",{className:`project-card ${de(z.dueDate,z.status)?"overdue":""}`,style:{"--team-color":F(z.team)},onClick:()=>N(z),children:[o.jsxs("div",{className:"project-header",style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[o.jsxs("div",{className:"project-header-left",style:{flex:1,minWidth:0},children:[o.jsx("h3",{className:"project-title",style:{margin:0,wordBreak:"break-word",whiteSpace:"normal"},children:z.title}),o.jsx("div",{className:"project-team",style:{backgroundColor:"var(--muted)"},children:re(z.team)})]}),o.jsx("div",{className:"project-status-wrapper",style:{flex:"0 0 auto",whiteSpace:"nowrap",alignSelf:"center"},children:S?o.jsx(ef,{value:z.status,options:Ae,color:be(z.status,z.dueDate),onChange:me=>I(z,me),className:"status-dropdown"}):o.jsx("div",{className:"project-status",style:{backgroundColor:be(z.status,z.dueDate),whiteSpace:"nowrap"},children:de(z.dueDate,z.status)?"OVERDUE":z.status.toUpperCase()})})]}),o.jsx("p",{children:z.description}),o.jsxs("div",{className:"project-progress",children:[o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:`${K(z.startDate,z.dueDate,z.status)}%`,backgroundColor:"var(--accent)"}})}),o.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:["Progress: ",K(z.startDate,z.dueDate,z.status),"%"]})]}),o.jsxs("div",{className:"project-meta",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",margin:"1rem 0",fontSize:"0.9rem",color:"var(--subtxt)"},children:[o.jsxs("div",{style:{gridColumn:"1 / 2"},children:[o.jsx("strong",{children:"Assigned:"})," ",z.assignedTo]}),o.jsxs("div",{style:{gridColumn:"2 / 3"},children:[o.jsx("strong",{children:"Due:"})," ",o.jsx("span",{className:de(z.dueDate,z.status)?"due-date-overdue":"",children:q(z.dueDate)})]}),o.jsxs("div",{style:{gridColumn:"1 / 2",gridRow:"2 / 3"},children:[o.jsx("strong",{children:"Priority:"})," ",z.priority]}),o.jsxs("div",{style:{gridColumn:"2 / 3",gridRow:"2 / 3"},children:[o.jsx("strong",{children:"Hours:"})," ",z.actualHours,"/",z.estimatedHours]})]}),z.tasks.length>0&&o.jsxs("div",{className:"tasks-section",children:[o.jsxs("div",{className:"tasks-header",onClick:me=>ke(z.id,me),style:{cursor:"pointer",userSelect:"none"},children:[o.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[o.jsx("i",{className:`fas fa-chevron-${$[z.id]?"down":"right"}`}),"Tasks (",z.tasks.length,")"]}),S&&$[z.id]&&o.jsx("button",{className:"add-button",style:{fontSize:"0.8rem",padding:"0.5rem 1rem"},onClick:me=>{me.stopPropagation(),Ve(z.id)},children:"+ Task"})]}),$[z.id]&&o.jsx("div",{className:"tasks-list",children:z.tasks.map(me=>o.jsxs("div",{className:"task-item",children:[o.jsxs("div",{className:"task-info",children:[o.jsx("div",{className:"task-title",children:me.title}),o.jsxs("div",{className:"task-meta",children:["Due: ",q(me.dueDate)," | Progress: ",K(me.startDate,me.dueDate,me.status),"%"]})]}),o.jsxs("div",{className:"task-actions",children:[S?o.jsx(ef,{value:me.status,options:Se,color:be(me.status,me.dueDate),onChange:je=>pe(z.id,me,je),className:"task-status"}):o.jsx("div",{className:"project-status",style:{backgroundColor:be(me.status,me.dueDate),fontSize:"0.7rem",padding:"0.25rem 0.5rem"},children:de(me.dueDate,me.status)?"OVERDUE":me.status.toUpperCase()}),S&&o.jsxs("div",{className:"task-buttons",children:[o.jsx("button",{className:"icon-btn edit",title:"Edit task",onClick:je=>{je.stopPropagation(),_e(z,me)},children:o.jsx("i",{className:"fas fa-edit"})}),o.jsx("button",{className:"icon-btn delete",title:"Delete task",onClick:je=>{je.stopPropagation(),ve(z.id,me.id)},children:o.jsx("i",{className:"fas fa-trash"})})]})]})]},me.id))})]}),o.jsxs("div",{className:"weekly-notes-section",onClick:me=>me.stopPropagation(),style:{marginTop:"1rem",padding:"0.75rem",background:"var(--card)",borderRadius:"8px",border:"1px solid var(--muted)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",fontWeight:600,fontSize:"0.9rem",color:"var(--text)"},children:[o.jsx("i",{className:"fas fa-clipboard-list",style:{color:"var(--accent)"}}),"Weekly Notes"]}),o.jsx(Fb,{value:z.weeklyNotes,onSave:me=>Y(z,me),disabled:!S,rows:4,placeholder:"Add weekly notes..."})]}),S&&o.jsxs("div",{className:"action-buttons",style:{marginTop:"1rem"},children:[o.jsx("button",{className:"icon-btn edit",title:"Edit project",onClick:me=>{me.stopPropagation(),xe(z)},children:o.jsx("i",{className:"fas fa-edit"})}),o.jsx("button",{className:"icon-btn delete",title:"Delete project",onClick:me=>{me.stopPropagation(),Ge("project",z.id)},children:o.jsx("i",{className:"fas fa-trash"})})]})]},z.id))})]}),L&&!l&&!C&&o.jsx("div",{className:"modal-overlay",onClick:z=>{z.target===z.currentTarget&&Q(null)},children:o.jsxs("div",{className:"modal",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{className:"modal-title",children:L.date.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),o.jsx("button",{className:"close-btn",onClick:()=>Q(null),children:""})]}),L.items.length===0?o.jsx("p",{style:{color:"var(--subtxt)",textAlign:"center",padding:"1rem"},children:"No projects due on this day."}):o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:L.items.map(z=>o.jsxs("div",{className:"deadline-item",style:{"--team-color":F(z.team)},onClick:()=>{N(z),Q(null)},children:[o.jsxs("div",{className:"deadline-info",children:[o.jsx("div",{className:"deadline-title",children:z.title}),o.jsxs("div",{className:"deadline-meta",children:[re(z.team),"  ",z.assignedTo,"  ",K(z.startDate,z.dueDate,z.status),"% complete"]})]}),o.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:o.jsx("div",{className:"project-status",style:{backgroundColor:be(z.status,z.dueDate)},children:de(z.dueDate,z.status)?"OVERDUE":z.status.toUpperCase()})})]},z.id))}),o.jsx("div",{className:"modal-actions",children:o.jsx("button",{className:"cancel-btn",onClick:()=>Q(null),children:"Close"})})]})}),C&&!l&&o.jsx("div",{className:"modal-overlay",onClick:z=>{z.target===z.currentTarget&&N(null)},children:o.jsxs("div",{className:"modal project-detail-modal",children:[o.jsxs("div",{className:"modal-project-header",style:{display:"flex",alignItems:"flex-start",gap:"1rem",justifyContent:"space-between"},children:[o.jsxs("div",{className:"modal-project-info",style:{flex:1,minWidth:0},children:[o.jsx("h2",{style:{margin:0,wordBreak:"break-word",whiteSpace:"normal"},children:C.title}),o.jsxs("div",{className:"modal-badges",children:[o.jsx("div",{className:"project-team",style:{backgroundColor:"var(--muted)"},children:re(C.team)}),S?o.jsx(ef,{value:C.status,options:Ae,color:be(C.status,C.dueDate),onChange:z=>I(C,z)}):o.jsx("div",{className:"project-status",style:{backgroundColor:be(C.status,C.dueDate)},children:de(C.dueDate,C.status)?"OVERDUE":C.status.toUpperCase()}),o.jsx("div",{className:"project-status",style:{backgroundColor:C.priority==="critical"?"var(--accent)":"var(--muted)"},children:C.priority.toUpperCase()})]})]}),o.jsx("button",{className:"close-btn",onClick:()=>N(null),children:""})]}),o.jsx("p",{style:{color:"var(--subtxt)",marginBottom:"1.5rem"},children:C.description}),o.jsxs("div",{className:"modal-project-meta",children:[o.jsxs("div",{className:"meta-item",children:[o.jsx("div",{className:"meta-label",children:"Assigned To"}),o.jsx("div",{className:"meta-value",children:C.assignedTo})]}),o.jsxs("div",{className:"meta-item",children:[o.jsx("div",{className:"meta-label",children:"Start Date"}),o.jsx("div",{className:"meta-value",children:q(C.startDate)})]}),o.jsxs("div",{className:"meta-item",children:[o.jsx("div",{className:"meta-label",children:"Due Date"}),o.jsx("div",{className:"meta-value",children:q(C.dueDate)})]}),o.jsxs("div",{className:"meta-item",children:[o.jsx("div",{className:"meta-label",children:"Progress"}),o.jsxs("div",{className:"meta-value",children:[K(C.startDate,C.dueDate,C.status),"%"]})]}),o.jsxs("div",{className:"meta-item",children:[o.jsx("div",{className:"meta-label",children:"Hours"}),o.jsxs("div",{className:"meta-value",children:[C.actualHours," / ",C.estimatedHours]})]})]}),o.jsxs("div",{className:"project-progress",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[o.jsx("span",{style:{fontWeight:600,color:"var(--text)"},children:"Overall Progress"}),o.jsxs("span",{style:{fontWeight:700,color:"var(--accent)"},children:[K(C.startDate,C.dueDate,C.status),"%"]})]}),o.jsx("div",{className:"progress-bar",style:{height:"12px"},children:o.jsx("div",{className:"progress-fill",style:{width:`${K(C.startDate,C.dueDate,C.status)}%`,backgroundColor:"var(--accent)"}})})]}),C.tasks&&C.tasks.length>0&&o.jsxs("div",{className:"modal-tasks-section",children:[o.jsx("div",{className:"modal-tasks-header",children:o.jsxs("h3",{className:"section-title",children:["Tasks (",C.tasks.length,")"]})}),o.jsx("div",{className:"task-list",children:C.tasks.map(z=>o.jsxs("div",{className:"task-card",children:[o.jsxs("div",{className:"task-header",children:[o.jsxs("div",{className:"task-title-group",children:[o.jsx("h4",{children:z.title}),o.jsx("div",{className:"task-description",children:z.description})]}),S?o.jsx(ef,{value:z.status,options:Se,color:be(z.status,z.dueDate),onChange:me=>pe(C.id,z,me),className:"task-status"}):o.jsx("div",{className:"project-status",style:{backgroundColor:be(z.status,z.dueDate),fontSize:"0.75rem",padding:"0.4rem 0.75rem",marginLeft:"1rem"},children:de(z.dueDate,z.status)?"OVERDUE":z.status.toUpperCase()})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",fontSize:"0.85rem",color:"var(--subtxt)",marginTop:"0.75rem"},children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Assigned:"})," ",z.assignedTo]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Due:"})," ",q(z.dueDate)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Priority:"})," ",z.priority]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Est. Hours:"})," ",z.estimatedHours]})]}),o.jsxs("div",{className:"task-progress-section",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",fontSize:"0.9rem"},children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{style:{fontWeight:"bold"},children:[K(z.startDate,z.dueDate,z.status),"%"]})]}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:`${K(z.startDate,z.dueDate,z.status)}%`,backgroundColor:"var(--accent)"}})})]})]},z.id))})]}),o.jsxs("div",{className:"modal-weekly-notes-section",onClick:z=>z.stopPropagation(),style:{marginTop:"1.5rem",padding:"1rem",background:"var(--card)",borderRadius:"8px",border:"1px solid var(--muted)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem",fontWeight:600,fontSize:"1rem",color:"var(--text)"},children:[o.jsx("i",{className:"fas fa-clipboard-list",style:{color:"var(--accent)"}}),"Weekly Notes"]}),o.jsx(Fb,{value:C.weeklyNotes,onSave:z=>Y(C,z),disabled:!S,rows:6,placeholder:"Add weekly notes..."})]}),o.jsxs("div",{className:"modal-actions",children:[S&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{className:"edit-btn",style:{padding:"0.75rem 1.5rem"},onClick:()=>{xe(C),N(null)},children:[o.jsx("i",{className:"fas fa-edit"})," Edit Project"]}),o.jsxs("button",{className:"delete-btn",style:{padding:"0.75rem 1.5rem"},onClick:()=>{Ge("project",C.id),N(null)},children:[o.jsx("i",{className:"fas fa-trash"})," Delete Project"]})]}),o.jsx("button",{className:"cancel-btn",style:{padding:"0.75rem 1.5rem"},onClick:()=>N(null),children:"Close"})]})]})}),l&&u&&o.jsx("div",{className:"modal-overlay",onClick:z=>z.target===z.currentTarget&&c(!1),children:o.jsxs("div",{className:"modal",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{className:"modal-title",children:s.projects.find(z=>z.id===u.id)?"Edit Project":"Add Project"}),o.jsx("button",{className:"close-btn",onClick:()=>c(!1),children:""})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Title ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsx("input",{type:"text",className:"form-input",value:u.title,onChange:z=>h({...u,title:z.target.value}),placeholder:"Enter project title",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Description"}),o.jsx("textarea",{className:"form-textarea",value:u.description,onChange:z=>h({...u,description:z.target.value}),placeholder:"Enter project description"})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Team ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsx("select",{className:"form-select",value:u.team,onChange:z=>h({...u,team:z.target.value}),required:!0,children:(O||[]).map(z=>o.jsx("option",{value:z.id,children:z.name},z.id))})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Priority ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsxs("select",{className:"form-select",value:u.priority,onChange:z=>h({...u,priority:z.target.value}),required:!0,children:[o.jsx("option",{value:"low",children:"Low"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"critical",children:"Critical"})]})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Status ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsxs("select",{className:"form-select",value:u.status,onChange:z=>h({...u,status:z.target.value}),required:!0,children:[o.jsx("option",{value:"planning",children:"Planning"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"on-hold",children:"On Hold"}),o.jsx("option",{value:"cancelled",children:"Canceled"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Assigned To ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsx("input",{type:"text",className:"form-input",placeholder:"Team Lead / Owner Name",value:u.assignedTo,onChange:z=>h({...u,assignedTo:z.target.value}),required:!0})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Start Date ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsx("input",{type:"date",className:"form-input",value:u.startDate,onChange:z=>h({...u,startDate:z.target.value}),required:!0,disabled:u.id&&!ee,style:u.id&&!ee?{backgroundColor:"var(--card)",cursor:"not-allowed",opacity:.7}:{}}),u.id&&!ee&&o.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--accent)",marginTop:"0.25rem",fontStyle:"italic"},children:[o.jsx("i",{className:"fas fa-lock",style:{marginRight:"0.25rem"}}),"Only directors can edit dates after project creation"]})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Due Date ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsx("input",{type:"date",className:"form-input",value:u.dueDate,onChange:z=>h({...u,dueDate:z.target.value}),required:!0,disabled:u.id&&!ee,style:u.id&&!ee?{backgroundColor:"var(--card)",cursor:"not-allowed",opacity:.7}:{}}),u.id&&!ee&&o.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--accent)",marginTop:"0.25rem",fontStyle:"italic"},children:[o.jsx("i",{className:"fas fa-lock",style:{marginRight:"0.25rem"}}),"Only directors can edit dates after project creation"]})]})]}),!u.id&&o.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--subtxt)",marginBottom:"1rem",padding:"0.5rem",background:"var(--card)",borderRadius:"4px",border:"1px solid var(--muted)"},children:[o.jsx("i",{className:"fas fa-info-circle",style:{marginRight:"0.5rem"}}),ee?"As a director, you can edit project dates even after creation.":"As a team leader, you can set dates when creating this project. Once created, only directors can edit project dates. Please be thorough and careful when setting these dates."]}),o.jsx("div",{className:"form-row",children:o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Estimated Hours"}),o.jsx("input",{type:"number",className:"form-input",value:u.estimatedHours,onChange:z=>h({...u,estimatedHours:parseInt(z.target.value)||0})})]})}),u.startDate&&u.dueDate&&o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Calculated Progress"}),o.jsxs("div",{style:{padding:"0.75rem",background:"var(--card)",borderRadius:"8px",color:"var(--text)"},children:[K(u.startDate,u.dueDate,u.status),"%",o.jsx("span",{style:{color:"var(--subtxt)",fontSize:"0.9rem",marginLeft:"0.5rem"},children:"(Auto-calculated based on timeline)"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:["Weekly Notes",o.jsx("span",{title:"These notes are meant to be updated each week. When you save, the new notes will replace the previous version. Use this to track weekly progress and updates.",style:{cursor:"help",color:"var(--accent)",fontSize:"1rem"},children:o.jsx("i",{className:"fas fa-info-circle"})})]}),o.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--subtxt)",marginBottom:"0.5rem",padding:"0.5rem",background:"var(--card)",borderRadius:"4px",border:"1px solid var(--muted)"},children:[o.jsx("i",{className:"fas fa-lightbulb",style:{marginRight:"0.5rem",color:"var(--accent)"}}),'These notes are designed to be updated weekly. Each save overwrites the previous notes, so keep this as a "current status" field.']}),o.jsx("textarea",{className:"form-textarea",value:u.weeklyNotes||"",onChange:z=>h({...u,weeklyNotes:z.target.value}),placeholder:"Add weekly notes about project progress, blockers, or updates...",style:{minHeight:"120px"}})]}),o.jsxs("div",{className:"tasks-management-section",children:[o.jsx("h3",{children:"Tasks Management"}),o.jsx("div",{className:"tasks-list",children:u.tasks.map((z,me)=>o.jsxs("div",{className:"task-edit-item",children:[o.jsxs("div",{className:"task-edit-header",children:[o.jsxs("h4",{children:["Task ",me+1]}),o.jsx("button",{type:"button",className:"delete-btn",onClick:()=>{const je=u.tasks.filter((De,Xe)=>Xe!==me);h({...u,tasks:je})},children:"Remove"})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Task Title ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsx("input",{type:"text",className:"form-input",value:z.title,onChange:je=>{const De=[...u.tasks];De[me]={...z,title:je.target.value},h({...u,tasks:De})},placeholder:"Enter task title",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Task Description"}),o.jsx("textarea",{className:"form-textarea",style:{minHeight:"60px"},value:z.description,onChange:je=>{const De=[...u.tasks];De[me]={...z,description:je.target.value},h({...u,tasks:De})},placeholder:"Enter task description"})]}),(!z.id||typeof z.id!="number")&&o.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--subtxt)",marginBottom:"0.75rem",padding:"0.5rem",background:"var(--card)",borderRadius:"4px",border:"1px solid var(--muted)"},children:[o.jsx("i",{className:"fas fa-info-circle",style:{marginRight:"0.5rem"}}),ee?"As a director, you can edit task dates at any time.":"As a team leader, you can set dates when creating this task. Once created, only directors can edit task dates. Please be thorough and careful when setting these dates."]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Start Date ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsx("input",{type:"date",className:"form-input",value:z.startDate,onChange:je=>{const De=[...u.tasks];De[me]={...z,startDate:je.target.value},h({...u,tasks:De})},required:!0,disabled:z.id&&typeof z.id=="number"&&!ee,style:z.id&&typeof z.id=="number"&&!ee?{backgroundColor:"var(--card)",cursor:"not-allowed",opacity:.7}:{}}),z.id&&typeof z.id=="number"&&!ee&&o.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--accent)",marginTop:"0.25rem",fontStyle:"italic"},children:[o.jsx("i",{className:"fas fa-lock",style:{marginRight:"0.25rem"}}),"Only directors can edit dates after task creation"]})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Due Date ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsx("input",{type:"date",className:"form-input",value:z.dueDate,onChange:je=>{const De=[...u.tasks];De[me]={...z,dueDate:je.target.value},h({...u,tasks:De})},required:!0,disabled:z.id&&typeof z.id=="number"&&!ee,style:z.id&&typeof z.id=="number"&&!ee?{backgroundColor:"var(--card)",cursor:"not-allowed",opacity:.7}:{}}),z.id&&typeof z.id=="number"&&!ee&&o.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--accent)",marginTop:"0.25rem",fontStyle:"italic"},children:[o.jsx("i",{className:"fas fa-lock",style:{marginRight:"0.25rem"}}),"Only directors can edit dates after task creation"]})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Status ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsxs("select",{className:"form-select",value:z.status,onChange:je=>{const De=[...u.tasks];De[me]={...z,status:je.target.value},h({...u,tasks:De})},required:!0,children:[o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"completed",children:"Completed"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Priority ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsxs("select",{className:"form-select",value:z.priority,onChange:je=>{const De=[...u.tasks];De[me]={...z,priority:je.target.value},h({...u,tasks:De})},required:!0,children:[o.jsx("option",{value:"low",children:"Low"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"critical",children:"Critical"})]})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Assigned To ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsx("input",{type:"text",className:"form-input",placeholder:"Team Lead / Owner Name",value:z.assignedTo,onChange:je=>{const De=[...u.tasks];De[me]={...z,assignedTo:je.target.value},h({...u,tasks:De})},required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Estimated Hours"}),o.jsx("input",{type:"number",className:"form-input",value:z.estimatedHours,onChange:je=>{const De=[...u.tasks];De[me]={...z,estimatedHours:parseInt(je.target.value)||0},h({...u,tasks:De})}})]})]}),z.startDate&&z.dueDate&&o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Calculated Progress"}),o.jsxs("div",{style:{padding:"0.75rem",background:"var(--card)",borderRadius:"8px",color:"var(--text)"},children:[K(z.startDate,z.dueDate,z.status),"%",o.jsx("span",{style:{color:"var(--subtxt)",fontSize:"0.9rem",marginLeft:"0.5rem"},children:"(Auto-calculated based on timeline)"})]})]})]},z.id||me))}),o.jsx("button",{type:"button",className:"add-button",onClick:()=>{const z={id:"temp-"+Date.now(),title:"",description:"",startDate:new Date().toISOString().split("T")[0],dueDate:"",estimatedHours:0,status:"pending",priority:"medium",assignedTo:""};h({...u,tasks:[...u.tasks,z]})},children:"+ Add Task"})]})]}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"cancel-btn",onClick:()=>c(!1),children:"Cancel"}),o.jsx("button",{className:"save-btn",onClick:Te,children:"Save"})]})]})})]})});z4.displayName="ScheduleManager";/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SL=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),Ub=t=>{const e=SL(t);return e.charAt(0).toUpperCase()+e.slice(1)},K4=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),EL=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=W.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...A},l)=>W.createElement("svg",{ref:l,...kL,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:K4("lucide",s),...!i&&!EL(A)&&{"aria-hidden":"true"},...A},[...a.map(([c,u])=>W.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=(t,e)=>{const r=W.forwardRef(({className:n,...s},i)=>W.createElement(NL,{ref:i,iconNode:e,className:K4(`lucide-${CL(Ub(t))}`,`lucide-${t}`,n),...s}));return r.displayName=Ub(t),r};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],$4=In("award",FL);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],jL=In("book-open",UL);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],LL=In("calendar",IL);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],DL=In("chart-column",QL);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],PL=In("folder",TL);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],V4=In("graduation-cap",OL);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],HL=In("grip-vertical",RL);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],zL=In("newspaper",ML);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],$L=In("package",KL);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],G4=In("pen",VL);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nd=In("plus",GL);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],jb=In("save",WL);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ib=In("settings",qL);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],XL=In("shopping-cart",JL);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qf=In("trash-2",YL);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],eQ=In("upload",ZL);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],W4=In("users",tQ);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],P1=In("x",rQ),q4=W.forwardRef((t,e)=>{var Ae;const[r,n]=W.useState([]),[s,i]=W.useState(!0),[a,A]=W.useState(null),[l,c]=W.useState(null),[u,h]=W.useState({semester:"",leadership:[]}),[p,d]=W.useState(!1),[w,m]=W.useState(null),[y,g]=W.useState(null),{showError:b,showConfirm:B}=li(),{status:C,lastSync:N,connectionError:L,startSaving:Q,finishSaving:P,acknowledgeNewData:k,setDisplayedData:$,forceReconnect:D}=Zd(()=>ze.getAlumni(),2e3);W.useEffect(()=>{H()},[]),W.useEffect(()=>{const Se=async()=>{!document.hidden&&!s&&(console.log(" Tab visible - refreshing alumni"),await new Promise(fe=>setTimeout(fe,300)),H())};return document.addEventListener("visibilitychange",Se),()=>document.removeEventListener("visibilitychange",Se)},[s]),W.useEffect(()=>{},[C]);const U=async()=>{C==="error"&&await D(),await H(),k()};W.useImperativeHandle(e,()=>({handleAddSemester:()=>{d(!0)}}));const H=async()=>{console.log("Loading alumni data from Supabase..."),i(!0);try{const Se=await ze.getAlumni();if(console.log("Loaded alumni data:",Se),!Se||!Se.alumniData)throw console.error("Invalid data structure received:",Se),new Error("Invalid alumni data structure");console.log(` Successfully loaded ${Se.alumniData.length} alumni semesters from Supabase`),n(Se.alumniData),$(Se)}catch(Se){console.error("Error loading alumni data:",Se),await b(`Failed to load alumni data: ${Se.message}`,"Load Error"),n([])}finally{i(!1)}},S=(Se,fe)=>{c({...Se}),A(fe)},ee=async()=>{if(!l.semester.trim()){await b("Please enter a semester name.","Missing Required Field");return}A(null);const Se={...l};c(null),Q();try{await ze.saveAlumniSemester(Se),await H(),$({alumniData:r}),console.log(" Alumni semester saved successfully")}catch(fe){console.error("Error saving alumni semester:",fe),await b(`Failed to save: ${fe.message}`,"Save Error")}finally{P()}},ge=Se=>fe=>{a===null&&(m(Se),fe.dataTransfer.effectAllowed="move")},le=Se=>fe=>{a!==null||w===null||g(Se)},ne=Se=>{a!==null||w===null||Se.preventDefault()},se=async Se=>{if(a!==null||w===null||y===null)return;Se.preventDefault();const fe=[...r],[x]=fe.splice(w,1);fe.splice(y,0,x);const I=fe.length,pe=fe.map((Y,K)=>({...Y,order:I-K}));n(pe),m(null),g(null);try{Q();const Y=pe.map(K=>({id:K.id,order:K.order})).filter(K=>typeof K.id=="number"&&!Number.isNaN(K.id));await ze.saveAlumniOrder(Y),$({alumniData:pe})}catch(Y){console.error("Failed to save new alumni order:",Y),await b(`Failed to save new order: ${Y.message}`,"Save Order Error")}finally{P()}},ye=()=>{A(null),c(null)},re=async()=>{if(!u.semester.trim()){await b("Please enter a semester name.","Missing Required Field");return}d(!1);const Se=r.length>0?Math.max(...r.map(x=>typeof x.order=="number"?x.order:0)):0,fe={...u,leadership:u.leadership||[],order:Se+1};h({semester:"",leadership:[]}),Q();try{await ze.saveAlumniSemester(fe),await H(),$({alumniData:r}),console.log(" Alumni semester added successfully")}catch(x){console.error("Error adding alumni semester:",x),await b(`Failed to add semester: ${x.message}`,"Save Error")}finally{P()}},F=async(Se,fe)=>{if(await B(`This action cannot be undone. The semester "${fe}" and all its leadership data will be permanently deleted.`,"Delete Alumni Semester?","Delete","Cancel")){Q();try{const I=typeof Se=="number"?Se:Se??null;await ze.deleteAlumniSemesterSafe({id:I,semester:fe});const pe=r.filter(Y=>Y.id!==Se);n(pe),await H(),$({alumniData:pe}),console.log(" Alumni semester deleted successfully")}catch(I){console.error("Error deleting alumni semester:",I),await b(`Failed to delete: ${I.message}`,"Delete Error")}finally{P()}}},V=(Se,fe)=>{c({...l,[Se]:fe})},O=()=>{const Se=[...l.leadership||[],{role:"",name:""}];c({...l,leadership:Se})},q=(Se,fe,x)=>{const I=[...l.leadership];I[Se][fe]=x,c({...l,leadership:I})},ce=Se=>{const fe=l.leadership.filter((x,I)=>I!==Se);c({...l,leadership:fe})},ue=()=>{const Se=[...u.leadership||[],{role:"",name:""}];h({...u,leadership:Se})},de=(Se,fe,x)=>{const I=[...u.leadership];I[Se][fe]=x,h({...u,leadership:I})},be=Se=>{const fe=u.leadership.filter((x,I)=>I!==Se);h({...u,leadership:fe})},Ue=ht.hasPermission("edit_alumni");return s?o.jsxs("div",{className:"loading-container",children:[o.jsx("div",{className:"loading-spinner"}),o.jsx("p",{children:"Loading alumni data..."})]}):o.jsxs("div",{className:"alumni-manager",children:[o.jsx("style",{children:`
        .alumni-manager {
          max-width: 1100px;
          margin: 0 auto;
          padding: 0 1rem;
        }

        .alumni-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 2rem;
        }

        .alumni-title {
          font-family: 'Bebas Neue', sans-serif;
          font-size: 2rem;
          color: var(--text);
          margin: 0;
        }

        .action-buttons {
          display: flex;
          gap: 1rem;
        }

        .btn {
          background: var(--accent);
          color: white;
          border: none;
          padding: 0.75rem 1.5rem;
          border-radius: 6px;
          cursor: pointer;
          font-size: 0.9rem;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          transition: all 0.3s ease;
        }

        .btn:hover {
          background: #c71821;
          transform: translateY(-1px);
        }

        .btn:disabled {
          background: #666;
          cursor: not-allowed;
          transform: none;
        }

        .btn-secondary {
          background: #666;
        }

        .btn-secondary:hover {
          background: #777;
        }

        .semester-card {
          background: var(--surface);
          padding: 1.5rem;
          border-radius: var(--radius);
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          transition: box-shadow .2s ease, transform .1s ease, border-color .2s ease;
        }

        .semester-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1rem;
          gap: 0.75rem;
        }

        .semester-title-row {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          min-width: 0; /* allows children to shrink for ellipsis */
          flex: 1;
        }

        .semester-title {
          font-size: 1.5rem;
          font-weight: bold;
          color: var(--text);
          margin: 0;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        .semester-actions {
          display: flex;
          gap: 0.5rem;
          padding-left: 0.5rem; /* breathing room between title/input and actions */
        }

        .btn-small {
          padding: 0.5rem;
          font-size: 0.8rem;
          min-width: auto;
        }

        .form-group {
          margin-bottom: 1rem;
        }

        .form-label {
          display: block;
          margin-bottom: 0.5rem;
          color: var(--text);
          font-weight: 500;
        }

        .form-input {
          width: 100%;
          padding: 0.75rem;
          border: 1px solid #333;
          border-radius: 6px;
          background: var(--bg);
          color: var(--text);
          font-size: 0.9rem;
        }

        .form-input:focus {
          outline: none;
          border-color: var(--accent);
          box-shadow: 0 0 0 2px rgba(220, 53, 69, 0.2);
        }

        .leadership-list {
          margin-top: 1rem;
        }

        .leadership-item {
          display: grid;
          grid-template-columns: 1fr 1fr auto;
          gap: 1rem;
          align-items: center;
          padding: 0.75rem;
          background: var(--bg);
          border-radius: 6px;
          margin-bottom: 0.5rem;
        }

        .leadership-item input {
          margin-bottom: 0;
        }

        .leadership-item-readonly {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 0.75rem;
          background: var(--bg);
          border-radius: 6px;
          margin-bottom: 0.5rem;
        }

        .leadership-role-name {
          color: var(--text);
          font-size: 0.95rem;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        /* Grid layout for semesters */
        .semesters-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: 1rem;
          align-items: start;
        }

        /* Drag visual */
        .semester-card.drag-over {
          outline: 2px dashed var(--accent);
          outline-offset: -6px;
          transform: scale(0.995);
        }

        .leadership-role-name .role {
          font-weight: bold;
          color: var(--accent);
        }

        .add-semester-form {
          background: var(--surface);
          padding: 1.5rem;
          border-radius: var(--radius);
          margin-bottom: 1.5rem;
          border: 2px dashed #333;
        }

        .loading-container {
          text-align: center;
          padding: 2rem;
          color: var(--text);
        }

        .loading-spinner {
          width: 40px;
          height: 40px;
          border: 3px solid #333;
          border-top: 3px solid var(--accent);
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin: 0 auto 1rem;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        .empty-state {
          text-align: center;
          padding: 3rem;
          color: var(--subtxt);
        }

        .empty-state-icon {
          font-size: 4rem;
          margin-bottom: 1rem;
          opacity: 0.5;
        }

        @media (max-width: 768px) {
          .alumni-header {
            flex-direction: column;
            gap: 1rem;
            align-items: stretch;
          }

          .action-buttons {
            justify-content: center;
          }

          .leadership-item {
            grid-template-columns: 1fr;
          }

          .leadership-item-readonly {
            flex-direction: column;
            align-items: flex-start;
          }
        }
      `}),o.jsxs("div",{className:"alumni-header",children:[o.jsx("h2",{className:"alumni-title",children:"Alumni Management"}),o.jsxs("div",{className:"action-buttons",style:{alignItems:"center"},children:[o.jsx(eh,{status:C,lastSync:N,onRefresh:U,connectionError:L}),Ue&&o.jsxs("button",{className:"btn",onClick:()=>d(!p),children:[o.jsx(nd,{size:18}),"Add Semester"]})]})]}),p&&o.jsxs("div",{className:"add-semester-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Semester"}),o.jsx("input",{type:"text",className:"form-input",value:u.semester,onChange:Se=>h({...u,semester:Se.target.value}),placeholder:"e.g., Fall 2025"})]}),o.jsxs("div",{className:"leadership-list",children:[o.jsx("h4",{style:{color:"var(--text)",marginBottom:"1rem"},children:"Leadership"}),(Ae=u.leadership)==null?void 0:Ae.map((Se,fe)=>o.jsxs("div",{className:"leadership-item",children:[o.jsx("input",{type:"text",className:"form-input",value:Se.role,onChange:x=>de(fe,"role",x.target.value),placeholder:"Role (e.g., Project Director)"}),o.jsx("input",{type:"text",className:"form-input",value:Se.name,onChange:x=>de(fe,"name",x.target.value),placeholder:"Name"}),o.jsx("button",{className:"btn btn-small btn-secondary",onClick:()=>be(fe),children:o.jsx(qf,{size:16})})]},fe)),o.jsxs("button",{className:"btn btn-small",onClick:ue,style:{marginTop:"0.5rem"},children:[o.jsx(nd,{size:16}),"Add Leadership Role"]})]}),o.jsxs("div",{className:"action-buttons",style:{marginTop:"1rem"},children:[o.jsxs("button",{className:"btn",onClick:re,children:[o.jsx(jb,{size:18}),"Save Semester"]}),o.jsxs("button",{className:"btn btn-secondary",onClick:()=>{d(!1),h({semester:"",leadership:[]})},children:[o.jsx(P1,{size:18}),"Cancel"]})]})]}),r.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-state-icon",children:""}),o.jsx("h3",{children:"No Alumni Data"}),o.jsx("p",{children:"Start by adding your first semester of alumni data."})]}):o.jsx("div",{className:"semesters-grid",onDragOver:ne,onDrop:se,children:r.map((Se,fe)=>{var x,I;return o.jsxs("div",{className:`semester-card${y===fe?" drag-over":""}`,draggable:Ue&&a===null,onDragStart:ge(fe),onDragEnter:le(fe),children:[o.jsxs("div",{className:"semester-header",children:[a===fe?o.jsx("input",{type:"text",className:"form-input",value:l.semester,onChange:pe=>V("semester",pe.target.value),style:{maxWidth:"420px"}}):o.jsxs("div",{className:"semester-title-row",children:[Ue&&o.jsx("span",{title:"Drag to reorder",style:{cursor:"grab",color:"var(--subtxt)"},children:o.jsx(HL,{size:18})}),o.jsx("h3",{className:"semester-title",children:Se.semester})]}),o.jsx("div",{className:"semester-actions",children:a===fe?o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"btn btn-small",onClick:ee,children:o.jsx(jb,{size:16})}),o.jsx("button",{className:"btn btn-small btn-secondary",onClick:ye,children:o.jsx(P1,{size:16})})]}):o.jsx(o.Fragment,{children:Ue&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"btn btn-small",onClick:()=>S(Se,fe),children:o.jsx(G4,{size:16})}),o.jsx("button",{className:"btn btn-small btn-secondary",onClick:()=>F(Se.id,Se.semester),children:o.jsx(qf,{size:16})})]})})})]}),o.jsxs("div",{className:"leadership-list",children:[o.jsx("h4",{style:{color:"var(--text)",marginBottom:"1rem"},children:"Leadership"}),a===fe?o.jsxs(o.Fragment,{children:[(x=l.leadership)==null?void 0:x.map((pe,Y)=>o.jsxs("div",{className:"leadership-item",children:[o.jsx("input",{type:"text",className:"form-input",value:pe.role,onChange:K=>q(Y,"role",K.target.value),placeholder:"Role (e.g., Project Director)"}),o.jsx("input",{type:"text",className:"form-input",value:pe.name,onChange:K=>q(Y,"name",K.target.value),placeholder:"Name"}),o.jsx("button",{className:"btn btn-small btn-secondary",onClick:()=>ce(Y),children:o.jsx(qf,{size:16})})]},Y)),o.jsxs("button",{className:"btn btn-small",onClick:O,children:[o.jsx(nd,{size:16}),"Add Leadership Role"]})]}):(I=Se.leadership)==null?void 0:I.map((pe,Y)=>o.jsx("div",{className:"leadership-item-readonly",children:o.jsxs("div",{className:"leadership-role-name",children:[o.jsxs("span",{className:"role",children:[pe.role,":"]})," ",pe.name]})},Y))]})]},Se.id||fe)})})]})});q4.displayName="AlumniManager";const J4=W.forwardRef((t,e)=>{const[r,n]=W.useState([]),[s,i]=W.useState(!0),[a,A]=W.useState(null),[l,c]=W.useState(!1),[u,h]=W.useState(null),[p,d]=W.useState(null),[w,m]=W.useState(!1),{showError:y,showConfirm:g}=li(),{status:b,lastSync:B,connectionError:C,startSaving:N,finishSaving:L,acknowledgeNewData:Q,setDisplayedData:P,forceReconnect:k}=Zd(()=>ze.getSponsors(),2e3);W.useEffect(()=>{D()},[]),W.useEffect(()=>{const O=async()=>{!document.hidden&&!s&&(console.log(" Tab visible - refreshing sponsors"),await new Promise(q=>setTimeout(q,300)),D())};return document.addEventListener("visibilitychange",O),()=>document.removeEventListener("visibilitychange",O)},[s]);const $=async()=>{b==="error"&&await k(),await D(),Q()};W.useImperativeHandle(e,()=>({handleAddSponsor:()=>{H()}}));const D=async()=>{console.log("Loading sponsor data from Supabase..."),i(!0);try{const O=await ze.getSponsors();if(console.log("Loaded sponsor data:",O),!O||!O.sponsorTiers)throw console.error("Invalid data structure received:",O),new Error("Invalid sponsor data structure");console.log(` Successfully loaded ${O.sponsorTiers.length} sponsor tiers from Supabase`),n(O.sponsorTiers),P(O)}catch(O){console.error("Error loading sponsor data:",O),await y(`Failed to load sponsor data: ${O.message}`,"Load Error"),n([])}finally{i(!1)}},U=(O,q)=>{A({...O,tier:q}),h(null),d(O.logo||null),c(!0)},H=(O="Platinum Sponsors")=>{A({id:Date.now(),name:"",tier:O,logo:"",website:"",order:0}),h(null),d(null),c(!0)},S=async O=>{if(!O)return;if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif","image/svg+xml"].includes(O.type)){await y("Please upload a JPEG, PNG, WebP, SVG, or GIF image.","Invalid File Type");return}const ce=5*1024*1024;if(O.size>ce){await y("Maximum file size is 5MB. Please choose a smaller image.","File Too Large");return}h(O);const ue=new FileReader;ue.onloadend=()=>{d(ue.result)},ue.readAsDataURL(O)},ee=O=>{O.preventDefault(),O.stopPropagation();const q=O.dataTransfer.files[0];q&&S(q)},ge=O=>{O.preventDefault(),O.stopPropagation()},le=()=>{h(null),d(null),A({...a,logo:""})},ne=async()=>{if(!a.name||!a.tier){await y("Please fill in the Name and Tier fields.","Missing Required Fields");return}if(!p&&!a.logo){await y("Please upload a logo for this sponsor.","Logo Required");return}c(!1);const O={...a};A(null),N();try{if(u){m(!0);try{const q=await ze.uploadSponsorLogo(u,O.id);O.logo=q,console.log(" Logo uploaded successfully:",q)}catch(q){throw console.error("Error uploading logo:",q),await y(`Failed to upload logo: ${q.message}`,"Upload Error"),q}finally{m(!1)}}await ze.saveSponsor(O),await D(),h(null),d(null),console.log(" Sponsor saved successfully")}catch(q){console.error("Error saving sponsor:",q),await y(`Failed to save: ${q.message}`,"Save Error")}finally{L()}},se=async O=>{if(await g("This action cannot be undone. The sponsor and their associated logo will be permanently deleted.","Delete Sponsor?","Delete","Cancel")){N();try{await ze.deleteSponsor(O),await D(),console.log(" Sponsor deleted successfully")}catch(ce){console.error("Error deleting sponsor:",ce),await y(`Failed to delete: ${ce.message}`,"Delete Error")}finally{L()}}},ye=()=>{c(!1),A(null),h(null),d(null)},re=O=>{const q=O.toLowerCase();return q.includes("platinum")?"":q.includes("gold")?"":q.includes("silver")?"":q.includes("bronze")?"":""},F=ht.hasPermission("edit_sponsors");if(s)return o.jsx("div",{className:"loading",children:"Loading sponsor data..."});const V=["Platinum Sponsors","Gold Sponsors","Silver Sponsors","Bronze Sponsors"];return o.jsxs("div",{className:"sponsors-manager",children:[o.jsx("style",{children:`
        .sponsors-manager {
          max-width: 1400px;
          margin: 0 auto;
          padding: 0 1rem;
        }

        .sponsors-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 2rem;
          flex-wrap: wrap;
          gap: 1rem;
        }

        .sponsors-title {
          font-family: 'Bebas Neue', sans-serif;
          font-size: 2rem;
          color: var(--text);
          margin: 0;
        }

        .header-buttons {
          display: flex;
          gap: 1rem;
          align-items: center;
        }

        .add-sponsor-btn {
          background: var(--accent);
          color: white;
          border: none;
          padding: 0.75rem 1.5rem;
          border-radius: 6px;
          cursor: pointer;
          font-size: 0.9rem;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          transition: all 0.3s ease;
        }

        .add-sponsor-btn:hover {
          background: #c71821;
          transform: translateY(-1px);
        }

        .tier-section {
          margin-bottom: 3rem;
        }

        .tier-header {
          display: flex;
          align-items: center;
          gap: 0.75rem;
          margin-bottom: 1.5rem;
          padding-bottom: 0.75rem;
          border-bottom: 2px solid var(--accent);
        }

        .tier-title {
          font-family: 'Bebas Neue', sans-serif;
          font-size: 1.75rem;
          color: var(--text);
          margin: 0;
        }

        .sponsors-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
          gap: 1.5rem;
        }

        .sponsor-card {
          background: var(--surface);
          border-radius: var(--radius);
          padding: 1.5rem;
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          transition: transform 0.3s ease;
          display: flex;
          flex-direction: column;
          align-items: center;
          text-align: center;
        }

        .sponsor-card:hover {
          transform: translateY(-2px);
        }

        .sponsor-logo-container {
          width: 100%;
          height: 120px;
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 1rem;
          background: rgba(255, 255, 255, 0.05);
          border-radius: 6px;
          padding: 1rem;
        }

        .sponsor-logo {
          max-width: 100%;
          max-height: 100%;
          object-fit: contain;
        }

        .sponsor-name {
          font-size: 1.1rem;
          font-weight: 600;
          color: var(--text);
          margin: 0;
        }

        .sponsor-actions {
          display: flex;
          gap: 0.5rem;
          margin-top: auto;
          width: 100%;
          justify-content: center;
        }

        .action-btn {
          padding: 0.5rem;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          width: 36px;
          height: 36px;
        }

        .action-btn svg {
          width: 18px;
          height: 18px;
        }

        .edit-btn {
          background: var(--accent);
          color: white;
        }

        .edit-btn:hover {
          background: #c71821;
          transform: translateY(-2px);
        }

        .delete-btn {
          background: #dc2626;
          color: white;
        }

        .delete-btn:hover {
          background: #b91c1c;
          transform: translateY(-2px);
        }

        .no-sponsors {
          text-align: center;
          padding: 3rem 1rem;
          background: var(--surface);
          border-radius: var(--radius);
          border: 2px dashed rgba(255, 255, 255, 0.2);
          color: var(--subtxt);
        }

        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.8);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1000;
        }

        .modal-content {
          background: var(--surface);
          padding: 2rem;
          border-radius: var(--radius);
          max-width: 500px;
          width: 90%;
          max-height: 80vh;
          overflow-y: auto;
        }

        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1.5rem;
        }

        .modal-title {
          font-family: 'Bebas Neue', sans-serif;
          font-size: 1.5rem;
          color: var(--text);
          margin: 0;
        }

        .close-btn {
          background: none;
          border: none;
          color: var(--subtxt);
          cursor: pointer;
          font-size: 1.5rem;
        }

        .form-group {
          margin-bottom: 1rem;
        }

        .form-label {
          display: block;
          color: var(--text);
          margin-bottom: 0.5rem;
          font-weight: 500;
        }

        .form-input, .form-select {
          width: 100%;
          padding: 0.75rem;
          border: 2px solid #333;
          border-radius: 6px;
          background: #1a1a1a;
          color: var(--text);
          font-size: 0.9rem;
          font-family: inherit;
        }

        .form-input:focus, .form-select:focus {
          outline: none;
          border-color: var(--accent);
        }

        .logo-upload-area {
          width: 100%;
          min-height: 200px;
          border: 2px dashed #333;
          border-radius: 8px;
          background: #1a1a1a;
          cursor: pointer;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          position: relative;
          overflow: hidden;
        }

        .logo-upload-area:hover {
          border-color: var(--accent);
          background: #222;
        }

        .logo-upload-area.has-logo {
          min-height: 250px;
          border-style: solid;
        }

        .upload-placeholder {
          text-align: center;
          padding: 2rem;
          color: var(--subtxt);
        }

        .upload-placeholder svg {
          width: 48px;
          height: 48px;
          margin: 0 auto 1rem;
          opacity: 0.6;
        }

        .upload-placeholder p {
          margin: 0.5rem 0;
        }

        .upload-hint {
          font-size: 0.75rem;
          opacity: 0.7;
        }

        .logo-preview-container {
          width: 100%;
          height: 100%;
          position: relative;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 1rem;
        }

        .logo-preview {
          max-width: 100%;
          max-height: 300px;
          border-radius: 6px;
          object-fit: contain;
        }

        .remove-logo-btn {
          position: absolute;
          top: 1rem;
          right: 1rem;
          background: rgba(220, 38, 38, 0.9);
          color: white;
          border: none;
          border-radius: 50%;
          width: 32px;
          height: 32px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
          z-index: 10;
        }

        .remove-logo-btn:hover {
          background: #dc2626;
          transform: scale(1.1);
        }

        .remove-logo-btn svg {
          width: 16px;
          height: 16px;
        }

        .upload-status {
          color: var(--accent);
          font-size: 0.85rem;
          margin-top: 0.5rem;
          text-align: center;
        }

        .modal-actions {
          display: flex;
          gap: 1rem;
          justify-content: flex-end;
          margin-top: 2rem;
        }

        .save-btn {
          background: var(--accent);
          color: white;
          border: none;
          padding: 0.75rem 1.5rem;
          border-radius: 6px;
          cursor: pointer;
          font-size: 0.9rem;
          font-weight: 500;
          transition: all 0.3s ease;
        }

        .save-btn:hover {
          background: #c71821;
          transform: translateY(-1px);
        }

        .cancel-btn {
          background: transparent;
          color: var(--text);
          border: 1px solid var(--subtxt);
          padding: 0.75rem 1.5rem;
          border-radius: 6px;
          cursor: pointer;
          font-size: 0.9rem;
          font-weight: 500;
          transition: all 0.3s ease;
        }

        .cancel-btn:hover {
          background: var(--surface);
          border-color: var(--text);
        }

        .loading {
          text-align: center;
          color: var(--subtxt);
          padding: 2rem;
        }

        @media (max-width: 768px) {
          .sponsors-grid {
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
          }
        }
      `}),o.jsxs("div",{className:"sponsors-header",children:[o.jsx("h2",{className:"sponsors-title",children:"Sponsors Management"}),o.jsxs("div",{className:"header-buttons",children:[o.jsx(eh,{status:b,lastSync:B,onRefresh:$,connectionError:C}),F&&o.jsxs("button",{className:"add-sponsor-btn",onClick:()=>H(),children:[o.jsx(nd,{size:18}),"Add Sponsor"]})]})]}),V.map(O=>{var ce;const q=((ce=r.find(ue=>ue.tier===O))==null?void 0:ce.sponsors)||[];return o.jsxs("div",{className:"tier-section",children:[o.jsxs("div",{className:"tier-header",children:[o.jsx("span",{style:{fontSize:"1.5rem"},children:re(O)}),o.jsx("h3",{className:"tier-title",children:O})]}),q.length===0?o.jsx("div",{className:"no-sponsors",children:o.jsxs("p",{children:["No ",O.toLowerCase()," yet"]})}):o.jsx("div",{className:"sponsors-grid",children:q.map(ue=>o.jsxs("div",{className:"sponsor-card",children:[o.jsx("div",{className:"sponsor-logo-container",children:o.jsx("img",{src:ue.logo,alt:ue.name,className:"sponsor-logo",onError:de=>{de.target.style.display="none"}})}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:"center",marginBottom:"0.5rem"},children:[o.jsx("div",{className:"sponsor-name",children:ue.name}),ue.website&&o.jsx("a",{href:ue.website,target:"_blank",rel:"noopener noreferrer",title:ue.website,style:{color:"var(--accent)",display:"flex",alignItems:"center",transition:"transform 0.2s ease"},onMouseOver:de=>de.currentTarget.style.transform="scale(1.2)",onMouseOut:de=>de.currentTarget.style.transform="scale(1)",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),o.jsx("polyline",{points:"15 3 21 3 21 9"}),o.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})})]}),F&&o.jsxs("div",{className:"sponsor-actions",children:[o.jsx("button",{className:"action-btn edit-btn",onClick:()=>U(ue,O),title:"Edit sponsor",children:o.jsx(G4,{})}),o.jsx("button",{className:"action-btn delete-btn",onClick:()=>se(ue.id),title:"Delete sponsor",children:o.jsx(qf,{})})]})]},ue.id))})]},O)}),l&&a&&o.jsx("div",{className:"modal-overlay",onClick:ye,children:o.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h3",{className:"modal-title",children:[a.id&&r.some(O=>O.sponsors.some(q=>q.id===a.id))?"Edit":"Add"," Sponsor"]}),o.jsx("button",{className:"close-btn",onClick:ye,children:""})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Sponsor Name *"}),o.jsx("input",{type:"text",className:"form-input",value:a.name,onChange:O=>A({...a,name:O.target.value}),placeholder:"Company or organization name"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Tier *"}),o.jsx("select",{className:"form-select",value:a.tier,onChange:O=>A({...a,tier:O.target.value}),children:V.map(O=>o.jsx("option",{value:O,children:O},O))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Logo *"}),o.jsxs("div",{className:`logo-upload-area ${p?"has-logo":""}`,onDrop:ee,onDragOver:ge,onClick:()=>document.getElementById("logo-file-input").click(),children:[p?o.jsxs("div",{className:"logo-preview-container",children:[o.jsx("img",{src:p,alt:"Preview",className:"logo-preview"}),o.jsx("button",{className:"remove-logo-btn",onClick:O=>{O.stopPropagation(),le()},title:"Remove logo",children:o.jsx(P1,{size:16})})]}):o.jsxs("div",{className:"upload-placeholder",children:[o.jsx(eQ,{size:48,style:{margin:"0 auto 1rem",opacity:.6}}),o.jsx("p",{children:"Drop logo here or click to upload"}),o.jsx("p",{className:"upload-hint",children:"JPG, PNG, WebP, SVG, or GIF  Max 5MB"})]}),o.jsx("input",{id:"logo-file-input",type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif,image/svg+xml",onChange:O=>S(O.target.files[0]),style:{display:"none"}})]}),w&&o.jsx("p",{className:"upload-status",children:"Uploading logo..."})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Website (Optional)"}),o.jsx("input",{type:"text",className:"form-input",value:a.website||"",onChange:O=>A({...a,website:O.target.value}),placeholder:"https://example.com"})]}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"cancel-btn",onClick:ye,children:"Cancel"}),o.jsx("button",{className:"save-btn",onClick:ne,children:"Save Sponsor"})]})]})})]})});J4.displayName="SponsorsManager";function tf(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var X4={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,s,i){function a(c,u){if(!s[c]){if(!n[c]){var h=typeof tf=="function"&&tf;if(!u&&h)return h(c,!0);if(A)return A(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var d=s[c]={exports:{}};n[c][0].call(d.exports,function(w){var m=n[c][1][w];return a(m||w)},d,d.exports,r,n,s,i)}return s[c].exports}for(var A=typeof tf=="function"&&tf,l=0;l<i.length;l++)a(i[l]);return a}({1:[function(r,n,s){var i=r("./utils"),a=r("./support"),A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(l){for(var c,u,h,p,d,w,m,y=[],g=0,b=l.length,B=b,C=i.getTypeOf(l)!=="string";g<l.length;)B=b-g,h=C?(c=l[g++],u=g<b?l[g++]:0,g<b?l[g++]:0):(c=l.charCodeAt(g++),u=g<b?l.charCodeAt(g++):0,g<b?l.charCodeAt(g++):0),p=c>>2,d=(3&c)<<4|u>>4,w=1<B?(15&u)<<2|h>>6:64,m=2<B?63&h:64,y.push(A.charAt(p)+A.charAt(d)+A.charAt(w)+A.charAt(m));return y.join("")},s.decode=function(l){var c,u,h,p,d,w,m=0,y=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var b,B=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===A.charAt(64)&&B--,l.charAt(l.length-2)===A.charAt(64)&&B--,B%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=a.uint8array?new Uint8Array(0|B):new Array(0|B);m<l.length;)c=A.indexOf(l.charAt(m++))<<2|(p=A.indexOf(l.charAt(m++)))>>4,u=(15&p)<<4|(d=A.indexOf(l.charAt(m++)))>>2,h=(3&d)<<6|(w=A.indexOf(l.charAt(m++))),b[y++]=c,d!==64&&(b[y++]=u),w!==64&&(b[y++]=h);return b}},{"./support":30,"./utils":32}],2:[function(r,n,s){var i=r("./external"),a=r("./stream/DataWorker"),A=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(u,h,p,d,w){this.compressedSize=u,this.uncompressedSize=h,this.crc32=p,this.compression=d,this.compressedContent=w}c.prototype={getContentWorker:function(){var u=new a(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return u.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new a(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,h,p){return u.pipe(new A).pipe(new l("uncompressedSize")).pipe(h.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,s){var i=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,s){var i=r("./utils"),a=function(){for(var A,l=[],c=0;c<256;c++){A=c;for(var u=0;u<8;u++)A=1&A?3988292384^A>>>1:A>>>1;l[c]=A}return l}();n.exports=function(A,l){return A!==void 0&&A.length?i.getTypeOf(A)!=="string"?function(c,u,h,p){var d=a,w=p+h;c^=-1;for(var m=p;m<w;m++)c=c>>>8^d[255&(c^u[m])];return-1^c}(0|l,A,A.length,0):function(c,u,h,p){var d=a,w=p+h;c^=-1;for(var m=p;m<w;m++)c=c>>>8^d[255&(c^u.charCodeAt(m))];return-1^c}(0|l,A,A.length,0):0}},{"./utils":32}],5:[function(r,n,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,n,s){var i=null;i=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:i}},{lie:37}],7:[function(r,n,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),A=r("./utils"),l=r("./stream/GenericWorker"),c=i?"uint8array":"array";function u(h,p){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=p,this.meta={}}s.magic="\b\0",A.inherits(u,l),u.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(A.transformTo(c,h.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(p){h.push({data:p,meta:h.meta})}},s.compressWorker=function(h){return new u("Deflate",h)},s.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,s){function i(d,w){var m,y="";for(m=0;m<w;m++)y+=String.fromCharCode(255&d),d>>>=8;return y}function a(d,w,m,y,g,b){var B,C,N=d.file,L=d.compression,Q=b!==c.utf8encode,P=A.transformTo("string",b(N.name)),k=A.transformTo("string",c.utf8encode(N.name)),$=N.comment,D=A.transformTo("string",b($)),U=A.transformTo("string",c.utf8encode($)),H=k.length!==N.name.length,S=U.length!==$.length,ee="",ge="",le="",ne=N.dir,se=N.date,ye={crc32:0,compressedSize:0,uncompressedSize:0};w&&!m||(ye.crc32=d.crc32,ye.compressedSize=d.compressedSize,ye.uncompressedSize=d.uncompressedSize);var re=0;w&&(re|=8),Q||!H&&!S||(re|=2048);var F=0,V=0;ne&&(F|=16),g==="UNIX"?(V=798,F|=function(q,ce){var ue=q;return q||(ue=ce?16893:33204),(65535&ue)<<16}(N.unixPermissions,ne)):(V=20,F|=function(q){return 63&(q||0)}(N.dosPermissions)),B=se.getUTCHours(),B<<=6,B|=se.getUTCMinutes(),B<<=5,B|=se.getUTCSeconds()/2,C=se.getUTCFullYear()-1980,C<<=4,C|=se.getUTCMonth()+1,C<<=5,C|=se.getUTCDate(),H&&(ge=i(1,1)+i(u(P),4)+k,ee+="up"+i(ge.length,2)+ge),S&&(le=i(1,1)+i(u(D),4)+U,ee+="uc"+i(le.length,2)+le);var O="";return O+=`
\0`,O+=i(re,2),O+=L.magic,O+=i(B,2),O+=i(C,2),O+=i(ye.crc32,4),O+=i(ye.compressedSize,4),O+=i(ye.uncompressedSize,4),O+=i(P.length,2),O+=i(ee.length,2),{fileRecord:h.LOCAL_FILE_HEADER+O+P+ee,dirRecord:h.CENTRAL_FILE_HEADER+i(V,2)+O+i(D.length,2)+"\0\0\0\0"+i(F,4)+i(y,4)+P+ee+D}}var A=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),u=r("../crc32"),h=r("../signature");function p(d,w,m,y){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=m,this.encodeFileName=y,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}A.inherits(p,l),p.prototype.push=function(d){var w=d.meta.percent||0,m=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:m?(w+100*(m-y-1))/m:100}}))},p.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var w=this.streamFiles&&!d.file.dir;if(w){var m=a(d,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(d){this.accumulate=!1;var w=this.streamFiles&&!d.file.dir,m=a(d,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),w)this.push({data:function(y){return h.DATA_DESCRIPTOR+i(y.crc32,4)+i(y.compressedSize,4)+i(y.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var d=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var m=this.bytesWritten-d,y=function(g,b,B,C,N){var L=A.transformTo("string",N(C));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(g,2)+i(g,2)+i(b,4)+i(B,4)+i(L.length,2)+L}(this.dirRecords.length,m,d,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(d){this._sources.push(d);var w=this;return d.on("data",function(m){w.processChunk(m)}),d.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),d.on("error",function(m){w.error(m)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(d){var w=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var m=0;m<w.length;m++)try{w[m].error(d)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,w=0;w<d.length;w++)d[w].lock()},n.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,s){var i=r("../compressions"),a=r("./ZipFileWorker");s.generateWorker=function(A,l,c){var u=new a(l.streamFiles,c,l.platform,l.encodeFileName),h=0;try{A.forEach(function(p,d){h++;var w=function(b,B){var C=b||B,N=i[C];if(!N)throw new Error(C+" is not a valid compression method !");return N}(d.options.compression,l.compression),m=d.options.compressionOptions||l.compressionOptions||{},y=d.dir,g=d.date;d._compressWorker(w,m).withStreamInfo("file",{name:p,dir:y,date:g,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(u)}),u.entriesCount=h}catch(p){u.error(p)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new i;for(var A in this)typeof this[A]!="function"&&(a[A]=this[A]);return a}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.10.1",i.loadAsync=function(a,A){return new i().loadAsync(a,A)},i.external=r("./external"),n.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,s){var i=r("./utils"),a=r("./external"),A=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),u=r("./nodejsUtils");function h(p){return new a.Promise(function(d,w){var m=p.decompressed.getContentWorker().pipe(new c);m.on("error",function(y){w(y)}).on("end",function(){m.streamInfo.crc32!==p.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}n.exports=function(p,d){var w=this;return d=i.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:A.utf8decode}),u.isNode&&u.isStream(p)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",p,!0,d.optimizedBinaryString,d.base64).then(function(m){var y=new l(d);return y.load(m),y}).then(function(m){var y=[a.Promise.resolve(m)],g=m.files;if(d.checkCRC32)for(var b=0;b<g.length;b++)y.push(h(g[b]));return a.Promise.all(y)}).then(function(m){for(var y=m.shift(),g=y.files,b=0;b<g.length;b++){var B=g[b],C=B.fileNameStr,N=i.resolve(B.fileNameStr);w.file(N,B.decompressed,{binary:!0,optimizedBinaryString:!0,date:B.date,dir:B.dir,comment:B.fileCommentStr.length?B.fileCommentStr:null,unixPermissions:B.unixPermissions,dosPermissions:B.dosPermissions,createFolders:d.createFolders}),B.dir||(w.file(N).unsafeOriginalName=C)}return y.zipComment.length&&(w.comment=y.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,s){var i=r("../utils"),a=r("../stream/GenericWorker");function A(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}i.inherits(A,a),A.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},A.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},A.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=A},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,s){var i=r("readable-stream").Readable;function a(A,l,c){i.call(this,l),this._helper=A;var u=this;A.on("data",function(h,p){u.push(h)||u._helper.pause(),c&&c(p)}).on("error",function(h){u.emit("error",h)}).on("end",function(){u.push(null)})}r("../utils").inherits(a,i),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,n,s){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,a);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,a)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var a=new Buffer(i);return a.fill(0),a},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,n,s){function i(N,L,Q){var P,k=A.getTypeOf(L),$=A.extend(Q||{},u);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(N=g(N)),$.createFolders&&(P=y(N))&&b.call(this,P,!0);var D=k==="string"&&$.binary===!1&&$.base64===!1;Q&&Q.binary!==void 0||($.binary=!D),(L instanceof h&&L.uncompressedSize===0||$.dir||!L||L.length===0)&&($.base64=!1,$.binary=!0,L="",$.compression="STORE",k="string");var U=null;U=L instanceof h||L instanceof l?L:w.isNode&&w.isStream(L)?new m(N,L):A.prepareContent(N,L,$.binary,$.optimizedBinaryString,$.base64);var H=new p(N,U,$);this.files[N]=H}var a=r("./utf8"),A=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),u=r("./defaults"),h=r("./compressedObject"),p=r("./zipObject"),d=r("./generate"),w=r("./nodejsUtils"),m=r("./nodejs/NodejsStreamInputAdapter"),y=function(N){N.slice(-1)==="/"&&(N=N.substring(0,N.length-1));var L=N.lastIndexOf("/");return 0<L?N.substring(0,L):""},g=function(N){return N.slice(-1)!=="/"&&(N+="/"),N},b=function(N,L){return L=L!==void 0?L:u.createFolders,N=g(N),this.files[N]||i.call(this,N,null,{dir:!0,createFolders:L}),this.files[N]};function B(N){return Object.prototype.toString.call(N)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(N){var L,Q,P;for(L in this.files)P=this.files[L],(Q=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&N(Q,P)},filter:function(N){var L=[];return this.forEach(function(Q,P){N(Q,P)&&L.push(P)}),L},file:function(N,L,Q){if(arguments.length!==1)return N=this.root+N,i.call(this,N,L,Q),this;if(B(N)){var P=N;return this.filter(function($,D){return!D.dir&&P.test($)})}var k=this.files[this.root+N];return k&&!k.dir?k:null},folder:function(N){if(!N)return this;if(B(N))return this.filter(function(k,$){return $.dir&&N.test(k)});var L=this.root+N,Q=b.call(this,L),P=this.clone();return P.root=Q.name,P},remove:function(N){N=this.root+N;var L=this.files[N];if(L||(N.slice(-1)!=="/"&&(N+="/"),L=this.files[N]),L&&!L.dir)delete this.files[N];else for(var Q=this.filter(function(k,$){return $.name.slice(0,N.length)===N}),P=0;P<Q.length;P++)delete this.files[Q[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(N){var L,Q={};try{if((Q=A.extend(N||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=Q.type.toLowerCase(),Q.compression=Q.compression.toUpperCase(),Q.type==="binarystring"&&(Q.type="string"),!Q.type)throw new Error("No output type specified.");A.checkSupport(Q.type),Q.platform!=="darwin"&&Q.platform!=="freebsd"&&Q.platform!=="linux"&&Q.platform!=="sunos"||(Q.platform="UNIX"),Q.platform==="win32"&&(Q.platform="DOS");var P=Q.comment||this.comment||"";L=d.generateWorker(this,Q,P)}catch(k){(L=new l("error")).error(k)}return new c(L,Q.type||"string",Q.mimeType)},generateAsync:function(N,L){return this.generateInternalStream(N).accumulate(L)},generateNodeStream:function(N,L){return(N=N||{}).type||(N.type="nodebuffer"),this.generateInternalStream(N).toNodejsStream(L)}};n.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,s){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,s){var i=r("./DataReader");function a(A){i.call(this,A);for(var l=0;l<this.data.length;l++)A[l]=255&A[l]}r("../utils").inherits(a,i),a.prototype.byteAt=function(A){return this.data[this.zero+A]},a.prototype.lastIndexOfSignature=function(A){for(var l=A.charCodeAt(0),c=A.charCodeAt(1),u=A.charCodeAt(2),h=A.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===c&&this.data[p+2]===u&&this.data[p+3]===h)return p-this.zero;return-1},a.prototype.readAndCheckSignature=function(A){var l=A.charCodeAt(0),c=A.charCodeAt(1),u=A.charCodeAt(2),h=A.charCodeAt(3),p=this.readData(4);return l===p[0]&&c===p[1]&&u===p[2]&&h===p[3]},a.prototype.readData=function(A){if(this.checkOffset(A),A===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+A);return this.index+=A,l},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,n,s){var i=r("../utils");function a(A){this.data=A,this.length=A.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(A){this.checkIndex(this.index+A)},checkIndex:function(A){if(this.length<this.zero+A||A<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+A+"). Corrupted zip ?")},setIndex:function(A){this.checkIndex(A),this.index=A},skip:function(A){this.setIndex(this.index+A)},byteAt:function(){},readInt:function(A){var l,c=0;for(this.checkOffset(A),l=this.index+A-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=A,c},readString:function(A){return i.transformTo("string",this.readData(A))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var A=this.readInt(4);return new Date(Date.UTC(1980+(A>>25&127),(A>>21&15)-1,A>>16&31,A>>11&31,A>>5&63,(31&A)<<1))}},n.exports=a},{"../utils":32}],19:[function(r,n,s){var i=r("./Uint8ArrayReader");function a(A){i.call(this,A)}r("../utils").inherits(a,i),a.prototype.readData=function(A){this.checkOffset(A);var l=this.data.slice(this.zero+this.index,this.zero+this.index+A);return this.index+=A,l},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,s){var i=r("./DataReader");function a(A){i.call(this,A)}r("../utils").inherits(a,i),a.prototype.byteAt=function(A){return this.data.charCodeAt(this.zero+A)},a.prototype.lastIndexOfSignature=function(A){return this.data.lastIndexOf(A)-this.zero},a.prototype.readAndCheckSignature=function(A){return A===this.readData(4)},a.prototype.readData=function(A){this.checkOffset(A);var l=this.data.slice(this.zero+this.index,this.zero+this.index+A);return this.index+=A,l},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,n,s){var i=r("./ArrayReader");function a(A){i.call(this,A)}r("../utils").inherits(a,i),a.prototype.readData=function(A){if(this.checkOffset(A),A===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+A);return this.index+=A,l},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,s){var i=r("../utils"),a=r("../support"),A=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),u=r("./Uint8ArrayReader");n.exports=function(h){var p=i.getTypeOf(h);return i.checkSupport(p),p!=="string"||a.uint8array?p==="nodebuffer"?new c(h):a.uint8array?new u(i.transformTo("uint8array",h)):new A(i.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,s){var i=r("./GenericWorker"),a=r("../utils");function A(l){i.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(A,i),A.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},n.exports=A},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,s){var i=r("./GenericWorker"),a=r("../crc32");function A(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(A,i),A.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=A},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,s){var i=r("../utils"),a=r("./GenericWorker");function A(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(A,a),A.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},n.exports=A},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,s){var i=r("../utils"),a=r("./GenericWorker");function A(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=i.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}i.inherits(A,a),A.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},A.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},A.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},A.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=A},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,s){function i(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,A){return this._listeners[a].push(A),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,A){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,A)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var A=this;return a.on("data",function(l){A.processChunk(l)}),a.on("end",function(){A.end()}),a.on("error",function(l){A.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,A){return this.extraStreamInfo[a]=A,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=i},{}],29:[function(r,n,s){var i=r("../utils"),a=r("./ConvertWorker"),A=r("./GenericWorker"),l=r("../base64"),c=r("../support"),u=r("../external"),h=null;if(c.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(w,m){return new u.Promise(function(y,g){var b=[],B=w._internalType,C=w._outputType,N=w._mimeType;w.on("data",function(L,Q){b.push(L),m&&m(Q)}).on("error",function(L){b=[],g(L)}).on("end",function(){try{var L=function(Q,P,k){switch(Q){case"blob":return i.newBlob(i.transformTo("arraybuffer",P),k);case"base64":return l.encode(P);default:return i.transformTo(Q,P)}}(C,function(Q,P){var k,$=0,D=null,U=0;for(k=0;k<P.length;k++)U+=P[k].length;switch(Q){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(D=new Uint8Array(U),k=0;k<P.length;k++)D.set(P[k],$),$+=P[k].length;return D;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+Q+"'")}}(B,b),N);y(L)}catch(Q){g(Q)}b=[]}).resume()})}function d(w,m,y){var g=m;switch(m){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=m,this._mimeType=y,i.checkSupport(g),this._worker=w.pipe(new a(g)),w.lock()}catch(b){this._worker=new A("error"),this._worker.error(b)}}d.prototype={accumulate:function(w){return p(this,w)},on:function(w,m){var y=this;return w==="data"?this._worker.on(w,function(g){m.call(y,g.data,g.meta)}):this._worker.on(w,function(){i.delay(m,arguments,y)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},w)}},n.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),s.blob=a.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,s){for(var i=r("./utils"),a=r("./support"),A=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}s.utf8encode=function(d){return a.nodebuffer?A.newBufferFrom(d,"utf-8"):function(w){var m,y,g,b,B,C=w.length,N=0;for(b=0;b<C;b++)(64512&(y=w.charCodeAt(b)))==55296&&b+1<C&&(64512&(g=w.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(g-56320),b++),N+=y<128?1:y<2048?2:y<65536?3:4;for(m=a.uint8array?new Uint8Array(N):new Array(N),b=B=0;B<N;b++)(64512&(y=w.charCodeAt(b)))==55296&&b+1<C&&(64512&(g=w.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(g-56320),b++),y<128?m[B++]=y:(y<2048?m[B++]=192|y>>>6:(y<65536?m[B++]=224|y>>>12:(m[B++]=240|y>>>18,m[B++]=128|y>>>12&63),m[B++]=128|y>>>6&63),m[B++]=128|63&y);return m}(d)},s.utf8decode=function(d){return a.nodebuffer?i.transformTo("nodebuffer",d).toString("utf-8"):function(w){var m,y,g,b,B=w.length,C=new Array(2*B);for(m=y=0;m<B;)if((g=w[m++])<128)C[y++]=g;else if(4<(b=c[g]))C[y++]=65533,m+=b-1;else{for(g&=b===2?31:b===3?15:7;1<b&&m<B;)g=g<<6|63&w[m++],b--;1<b?C[y++]=65533:g<65536?C[y++]=g:(g-=65536,C[y++]=55296|g>>10&1023,C[y++]=56320|1023&g)}return C.length!==y&&(C.subarray?C=C.subarray(0,y):C.length=y),i.applyFromCharCode(C)}(d=i.transformTo(a.uint8array?"uint8array":"array",d))},i.inherits(h,l),h.prototype.processChunk=function(d){var w=i.transformTo(a.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var m=w;(w=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),w.set(m,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var y=function(b,B){var C;for((B=B||b.length)>b.length&&(B=b.length),C=B-1;0<=C&&(192&b[C])==128;)C--;return C<0||C===0?B:C+c[b[C]]>B?C:B}(w),g=w;y!==w.length&&(a.uint8array?(g=w.subarray(0,y),this.leftOver=w.subarray(y,w.length)):(g=w.slice(0,y),this.leftOver=w.slice(y,w.length))),this.push({data:s.utf8decode(g),meta:d.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=h,i.inherits(p,l),p.prototype.processChunk=function(d){this.push({data:s.utf8encode(d.data),meta:d.meta})},s.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,s){var i=r("./support"),a=r("./base64"),A=r("./nodejsUtils"),l=r("./external");function c(m){return m}function u(m,y){for(var g=0;g<m.length;++g)y[g]=255&m.charCodeAt(g);return y}r("setimmediate"),s.newBlob=function(m,y){s.checkSupport("blob");try{return new Blob([m],{type:y})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(m),g.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(m,y,g){var b=[],B=0,C=m.length;if(C<=g)return String.fromCharCode.apply(null,m);for(;B<C;)y==="array"||y==="nodebuffer"?b.push(String.fromCharCode.apply(null,m.slice(B,Math.min(B+g,C)))):b.push(String.fromCharCode.apply(null,m.subarray(B,Math.min(B+g,C)))),B+=g;return b.join("")},stringifyByChar:function(m){for(var y="",g=0;g<m.length;g++)y+=String.fromCharCode(m[g]);return y},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,A.allocBuffer(1)).length===1}catch{return!1}}()}};function p(m){var y=65536,g=s.getTypeOf(m),b=!0;if(g==="uint8array"?b=h.applyCanBeUsed.uint8array:g==="nodebuffer"&&(b=h.applyCanBeUsed.nodebuffer),b)for(;1<y;)try{return h.stringifyByChunk(m,g,y)}catch{y=Math.floor(y/2)}return h.stringifyByChar(m)}function d(m,y){for(var g=0;g<m.length;g++)y[g]=m[g];return y}s.applyFromCharCode=p;var w={};w.string={string:c,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return w.string.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:function(m){return u(m,A.allocBuffer(m.length))}},w.array={string:p,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return A.newBufferFrom(m)}},w.arraybuffer={string:function(m){return p(new Uint8Array(m))},array:function(m){return d(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return A.newBufferFrom(new Uint8Array(m))}},w.uint8array={string:p,array:function(m){return d(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return A.newBufferFrom(m)}},w.nodebuffer={string:p,array:function(m){return d(m,new Array(m.length))},arraybuffer:function(m){return w.nodebuffer.uint8array(m).buffer},uint8array:function(m){return d(m,new Uint8Array(m.length))},nodebuffer:c},s.transformTo=function(m,y){if(y=y||"",!m)return y;s.checkSupport(m);var g=s.getTypeOf(y);return w[g][m](y)},s.resolve=function(m){for(var y=m.split("/"),g=[],b=0;b<y.length;b++){var B=y[b];B==="."||B===""&&b!==0&&b!==y.length-1||(B===".."?g.pop():g.push(B))}return g.join("/")},s.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":i.nodebuffer&&A.isBuffer(m)?"nodebuffer":i.uint8array&&m instanceof Uint8Array?"uint8array":i.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(m){if(!i[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(m){var y,g,b="";for(g=0;g<(m||"").length;g++)b+="\\x"+((y=m.charCodeAt(g))<16?"0":"")+y.toString(16).toUpperCase();return b},s.delay=function(m,y,g){setImmediate(function(){m.apply(g||null,y||[])})},s.inherits=function(m,y){function g(){}g.prototype=y.prototype,m.prototype=new g},s.extend=function(){var m,y,g={};for(m=0;m<arguments.length;m++)for(y in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],y)&&g[y]===void 0&&(g[y]=arguments[m][y]);return g},s.prepareContent=function(m,y,g,b,B){return l.Promise.resolve(y).then(function(C){return i.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new l.Promise(function(N,L){var Q=new FileReader;Q.onload=function(P){N(P.target.result)},Q.onerror=function(P){L(P.target.error)},Q.readAsArrayBuffer(C)}):C}).then(function(C){var N=s.getTypeOf(C);return N?(N==="arraybuffer"?C=s.transformTo("uint8array",C):N==="string"&&(B?C=a.decode(C):g&&b!==!0&&(C=function(L){return u(L,i.uint8array?new Uint8Array(L.length):new Array(L.length))}(C))),C):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,s){var i=r("./reader/readerFor"),a=r("./utils"),A=r("./signature"),l=r("./zipEntry"),c=r("./support");function u(h){this.files=[],this.loadOptions=h}u.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(p)+", expected "+a.pretty(h)+")")}},isSignature:function(h,p){var d=this.reader.index;this.reader.setIndex(h);var w=this.reader.readString(4)===p;return this.reader.setIndex(d),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),p=c.uint8array?"uint8array":"array",d=a.transformTo(p,h);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,p,d,w=this.zip64EndOfCentralSize-44;0<w;)h=this.reader.readInt(2),p=this.reader.readInt(4),d=this.reader.readData(p),this.zip64ExtensibleData[h]={id:h,length:p,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,p;for(h=0;h<this.files.length;h++)p=this.files[h],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(A.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(A.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(A.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,A.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var p=h;if(this.checkSignature(A.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(A.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(A.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,A.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(A.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(A.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var w=p-d;if(0<w)this.isSignature(p,A.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,s){var i=r("./reader/readerFor"),a=r("./utils"),A=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),u=r("./compressions"),h=r("./support");function p(d,w){this.options=d,this.loadOptions=w}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var w,m;if(d.skip(22),this.fileNameLength=d.readInt(2),m=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(y){for(var g in u)if(Object.prototype.hasOwnProperty.call(u,g)&&u[g].magic===y)return u[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new A(this.compressedSize,this.uncompressedSize,this.crc32,w,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var w=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(w),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var w,m,y,g=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<g;)w=d.readInt(2),m=d.readInt(2),y=d.readData(m),this.extraFields[w]={id:w,length:m,value:y};d.setIndex(g)},handleUTF8:function(){var d=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var m=a.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var g=a.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var w=i(d.value);return w.readInt(1)!==1||l(this.fileName)!==w.readInt(4)?null:c.utf8decode(w.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var w=i(d.value);return w.readInt(1)!==1||l(this.fileComment)!==w.readInt(4)?null:c.utf8decode(w.readData(d.length-5))}return null}},n.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,s){function i(w,m,y){this.name=w,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=m,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var a=r("./stream/StreamHelper"),A=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),u=r("./stream/GenericWorker");i.prototype={internalStream:function(w){var m=null,y="string";try{if(!w)throw new Error("No output type specified.");var g=(y=w.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),m=this._decompressWorker();var b=!this._dataBinary;b&&!g&&(m=m.pipe(new l.Utf8EncodeWorker)),!b&&g&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(B){(m=new u("error")).error(B)}return new a(m,y,"")},async:function(w,m){return this.internalStream(w).accumulate(m)},nodeStream:function(w,m){return this.internalStream(w||"nodebuffer").toNodejsStream(m)},_compressWorker:function(w,m){if(this._data instanceof c&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(y,w,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new A(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<h.length;d++)i.prototype[h[d]]=p;n.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,s){(function(i){var a,A,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var c=0,u=new l(w),h=i.document.createTextNode("");u.observe(h,{characterData:!0}),a=function(){h.data=c=++c%2}}else if(i.setImmediate||i.MessageChannel===void 0)a="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var m=i.document.createElement("script");m.onreadystatechange=function(){w(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},i.document.documentElement.appendChild(m)}:function(){setTimeout(w,0)};else{var p=new i.MessageChannel;p.port1.onmessage=w,a=function(){p.port2.postMessage(0)}}var d=[];function w(){var m,y;A=!0;for(var g=d.length;g;){for(y=d,d=[],m=-1;++m<g;)y[m]();g=d.length}A=!1}n.exports=function(m){d.push(m)!==1||A||a()}}).call(this,typeof Ja<"u"?Ja:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,s){var i=r("immediate");function a(){}var A={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function h(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,g!==a&&m(this,g)}function p(g,b,B){this.promise=g,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof B=="function"&&(this.onRejected=B,this.callRejected=this.otherCallRejected)}function d(g,b,B){i(function(){var C;try{C=b(B)}catch(N){return A.reject(g,N)}C===g?A.reject(g,new TypeError("Cannot resolve promise with itself")):A.resolve(g,C)})}function w(g){var b=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof b=="function")return function(){b.apply(g,arguments)}}function m(g,b){var B=!1;function C(Q){B||(B=!0,A.reject(g,Q))}function N(Q){B||(B=!0,A.resolve(g,Q))}var L=y(function(){b(N,C)});L.status==="error"&&C(L.value)}function y(g,b){var B={};try{B.value=g(b),B.status="success"}catch(C){B.status="error",B.value=C}return B}(n.exports=h).prototype.finally=function(g){if(typeof g!="function")return this;var b=this.constructor;return this.then(function(B){return b.resolve(g()).then(function(){return B})},function(B){return b.resolve(g()).then(function(){throw B})})},h.prototype.catch=function(g){return this.then(null,g)},h.prototype.then=function(g,b){if(typeof g!="function"&&this.state===c||typeof b!="function"&&this.state===l)return this;var B=new this.constructor(a);return this.state!==u?d(B,this.state===c?g:b,this.outcome):this.queue.push(new p(B,g,b)),B},p.prototype.callFulfilled=function(g){A.resolve(this.promise,g)},p.prototype.otherCallFulfilled=function(g){d(this.promise,this.onFulfilled,g)},p.prototype.callRejected=function(g){A.reject(this.promise,g)},p.prototype.otherCallRejected=function(g){d(this.promise,this.onRejected,g)},A.resolve=function(g,b){var B=y(w,b);if(B.status==="error")return A.reject(g,B.value);var C=B.value;if(C)m(g,C);else{g.state=c,g.outcome=b;for(var N=-1,L=g.queue.length;++N<L;)g.queue[N].callFulfilled(b)}return g},A.reject=function(g,b){g.state=l,g.outcome=b;for(var B=-1,C=g.queue.length;++B<C;)g.queue[B].callRejected(b);return g},h.resolve=function(g){return g instanceof this?g:A.resolve(new this(a),g)},h.reject=function(g){var b=new this(a);return A.reject(b,g)},h.all=function(g){var b=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=g.length,C=!1;if(!B)return this.resolve([]);for(var N=new Array(B),L=0,Q=-1,P=new this(a);++Q<B;)k(g[Q],Q);return P;function k($,D){b.resolve($).then(function(U){N[D]=U,++L!==B||C||(C=!0,A.resolve(P,N))},function(U){C||(C=!0,A.reject(P,U))})}},h.race=function(g){var b=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=g.length,C=!1;if(!B)return this.resolve([]);for(var N=-1,L=new this(a);++N<B;)Q=g[N],b.resolve(Q).then(function(P){C||(C=!0,A.resolve(L,P))},function(P){C||(C=!0,A.reject(L,P))});var Q;return L}},{immediate:36}],38:[function(r,n,s){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,s){var i=r("./zlib/deflate"),a=r("./utils/common"),A=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),u=Object.prototype.toString,h=0,p=-1,d=0,w=8;function m(g){if(!(this instanceof m))return new m(g);this.options=a.assign({level:p,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},g||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var B=i.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(B!==h)throw new Error(l[B]);if(b.header&&i.deflateSetHeader(this.strm,b.header),b.dictionary){var C;if(C=typeof b.dictionary=="string"?A.string2buf(b.dictionary):u.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(B=i.deflateSetDictionary(this.strm,C))!==h)throw new Error(l[B]);this._dict_set=!0}}function y(g,b){var B=new m(b);if(B.push(g,!0),B.err)throw B.msg||l[B.err];return B.result}m.prototype.push=function(g,b){var B,C,N=this.strm,L=this.options.chunkSize;if(this.ended)return!1;C=b===~~b?b:b===!0?4:0,typeof g=="string"?N.input=A.string2buf(g):u.call(g)==="[object ArrayBuffer]"?N.input=new Uint8Array(g):N.input=g,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new a.Buf8(L),N.next_out=0,N.avail_out=L),(B=i.deflate(N,C))!==1&&B!==h)return this.onEnd(B),!(this.ended=!0);N.avail_out!==0&&(N.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(A.buf2binstring(a.shrinkBuf(N.output,N.next_out))):this.onData(a.shrinkBuf(N.output,N.next_out)))}while((0<N.avail_in||N.avail_out===0)&&B!==1);return C===4?(B=i.deflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===h):C!==2||(this.onEnd(h),!(N.avail_out=0))},m.prototype.onData=function(g){this.chunks.push(g)},m.prototype.onEnd=function(g){g===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},s.Deflate=m,s.deflate=y,s.deflateRaw=function(g,b){return(b=b||{}).raw=!0,y(g,b)},s.gzip=function(g,b){return(b=b||{}).gzip=!0,y(g,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,s){var i=r("./zlib/inflate"),a=r("./utils/common"),A=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),u=r("./zlib/zstream"),h=r("./zlib/gzheader"),p=Object.prototype.toString;function d(m){if(!(this instanceof d))return new d(m);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},m||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||m&&m.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&!(15&y.windowBits)&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var g=i.inflateInit2(this.strm,y.windowBits);if(g!==l.Z_OK)throw new Error(c[g]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function w(m,y){var g=new d(y);if(g.push(m,!0),g.err)throw g.msg||c[g.err];return g.result}d.prototype.push=function(m,y){var g,b,B,C,N,L,Q=this.strm,P=this.options.chunkSize,k=this.options.dictionary,$=!1;if(this.ended)return!1;b=y===~~y?y:y===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?Q.input=A.binstring2buf(m):p.call(m)==="[object ArrayBuffer]"?Q.input=new Uint8Array(m):Q.input=m,Q.next_in=0,Q.avail_in=Q.input.length;do{if(Q.avail_out===0&&(Q.output=new a.Buf8(P),Q.next_out=0,Q.avail_out=P),(g=i.inflate(Q,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&k&&(L=typeof k=="string"?A.string2buf(k):p.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,g=i.inflateSetDictionary(this.strm,L)),g===l.Z_BUF_ERROR&&$===!0&&(g=l.Z_OK,$=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);Q.next_out&&(Q.avail_out!==0&&g!==l.Z_STREAM_END&&(Q.avail_in!==0||b!==l.Z_FINISH&&b!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(B=A.utf8border(Q.output,Q.next_out),C=Q.next_out-B,N=A.buf2string(Q.output,B),Q.next_out=C,Q.avail_out=P-C,C&&a.arraySet(Q.output,Q.output,B,C,0),this.onData(N)):this.onData(a.shrinkBuf(Q.output,Q.next_out)))),Q.avail_in===0&&Q.avail_out===0&&($=!0)}while((0<Q.avail_in||Q.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(g=i.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):b!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(Q.avail_out=0))},d.prototype.onData=function(m){this.chunks.push(m)},d.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},s.Inflate=d,s.inflate=w,s.inflateRaw=function(m,y){return(y=y||{}).raw=!0,w(m,y)},s.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var h in u)u.hasOwnProperty(h)&&(l[h]=u[h])}}return l},s.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,u,h,p){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+h),p);else for(var d=0;d<h;d++)l[p+d]=c[u+d]},flattenChunks:function(l){var c,u,h,p,d,w;for(c=h=0,u=l.length;c<u;c++)h+=l[c].length;for(w=new Uint8Array(h),c=p=0,u=l.length;c<u;c++)d=l[c],w.set(d,p),p+=d.length;return w}},A={arraySet:function(l,c,u,h,p){for(var d=0;d<h;d++)l[p+d]=c[u+d]},flattenChunks:function(l){return[].concat.apply([],l)}};s.setTyped=function(l){l?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,a)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,A))},s.setTyped(i)},{}],42:[function(r,n,s){var i=r("./common"),a=!0,A=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{A=!1}for(var l=new i.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(h,p){if(p<65537&&(h.subarray&&A||!h.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(h,p));for(var d="",w=0;w<p;w++)d+=String.fromCharCode(h[w]);return d}l[254]=l[254]=1,s.string2buf=function(h){var p,d,w,m,y,g=h.length,b=0;for(m=0;m<g;m++)(64512&(d=h.charCodeAt(m)))==55296&&m+1<g&&(64512&(w=h.charCodeAt(m+1)))==56320&&(d=65536+(d-55296<<10)+(w-56320),m++),b+=d<128?1:d<2048?2:d<65536?3:4;for(p=new i.Buf8(b),m=y=0;y<b;m++)(64512&(d=h.charCodeAt(m)))==55296&&m+1<g&&(64512&(w=h.charCodeAt(m+1)))==56320&&(d=65536+(d-55296<<10)+(w-56320),m++),d<128?p[y++]=d:(d<2048?p[y++]=192|d>>>6:(d<65536?p[y++]=224|d>>>12:(p[y++]=240|d>>>18,p[y++]=128|d>>>12&63),p[y++]=128|d>>>6&63),p[y++]=128|63&d);return p},s.buf2binstring=function(h){return u(h,h.length)},s.binstring2buf=function(h){for(var p=new i.Buf8(h.length),d=0,w=p.length;d<w;d++)p[d]=h.charCodeAt(d);return p},s.buf2string=function(h,p){var d,w,m,y,g=p||h.length,b=new Array(2*g);for(d=w=0;d<g;)if((m=h[d++])<128)b[w++]=m;else if(4<(y=l[m]))b[w++]=65533,d+=y-1;else{for(m&=y===2?31:y===3?15:7;1<y&&d<g;)m=m<<6|63&h[d++],y--;1<y?b[w++]=65533:m<65536?b[w++]=m:(m-=65536,b[w++]=55296|m>>10&1023,b[w++]=56320|1023&m)}return u(b,w)},s.utf8border=function(h,p){var d;for((p=p||h.length)>h.length&&(p=h.length),d=p-1;0<=d&&(192&h[d])==128;)d--;return d<0||d===0?p:d+l[h[d]]>p?d:p}},{"./common":41}],43:[function(r,n,s){n.exports=function(i,a,A,l){for(var c=65535&i|0,u=i>>>16&65535|0,h=0;A!==0;){for(A-=h=2e3<A?2e3:A;u=u+(c=c+a[l++]|0)|0,--h;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(r,n,s){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,s){var i=function(){for(var a,A=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;A[l]=a}return A}();n.exports=function(a,A,l,c){var u=i,h=c+l;a^=-1;for(var p=c;p<h;p++)a=a>>>8^u[255&(a^A[p])];return-1^a}},{}],46:[function(r,n,s){var i,a=r("../utils/common"),A=r("./trees"),l=r("./adler32"),c=r("./crc32"),u=r("./messages"),h=0,p=4,d=0,w=-2,m=-1,y=4,g=2,b=8,B=9,C=286,N=30,L=19,Q=2*C+1,P=15,k=3,$=258,D=$+k+1,U=42,H=113,S=1,ee=2,ge=3,le=4;function ne(x,I){return x.msg=u[I],I}function se(x){return(x<<1)-(4<x?9:0)}function ye(x){for(var I=x.length;0<=--I;)x[I]=0}function re(x){var I=x.state,pe=I.pending;pe>x.avail_out&&(pe=x.avail_out),pe!==0&&(a.arraySet(x.output,I.pending_buf,I.pending_out,pe,x.next_out),x.next_out+=pe,I.pending_out+=pe,x.total_out+=pe,x.avail_out-=pe,I.pending-=pe,I.pending===0&&(I.pending_out=0))}function F(x,I){A._tr_flush_block(x,0<=x.block_start?x.block_start:-1,x.strstart-x.block_start,I),x.block_start=x.strstart,re(x.strm)}function V(x,I){x.pending_buf[x.pending++]=I}function O(x,I){x.pending_buf[x.pending++]=I>>>8&255,x.pending_buf[x.pending++]=255&I}function q(x,I){var pe,Y,K=x.max_chain_length,J=x.strstart,xe=x.prev_length,_e=x.nice_match,ve=x.strstart>x.w_size-D?x.strstart-(x.w_size-D):0,ke=x.window,Ve=x.w_mask,Te=x.prev,Ge=x.strstart+$,pt=ke[J+xe-1],Ze=ke[J+xe];x.prev_length>=x.good_match&&(K>>=2),_e>x.lookahead&&(_e=x.lookahead);do if(ke[(pe=I)+xe]===Ze&&ke[pe+xe-1]===pt&&ke[pe]===ke[J]&&ke[++pe]===ke[J+1]){J+=2,pe++;do;while(ke[++J]===ke[++pe]&&ke[++J]===ke[++pe]&&ke[++J]===ke[++pe]&&ke[++J]===ke[++pe]&&ke[++J]===ke[++pe]&&ke[++J]===ke[++pe]&&ke[++J]===ke[++pe]&&ke[++J]===ke[++pe]&&J<Ge);if(Y=$-(Ge-J),J=Ge-$,xe<Y){if(x.match_start=I,_e<=(xe=Y))break;pt=ke[J+xe-1],Ze=ke[J+xe]}}while((I=Te[I&Ve])>ve&&--K!=0);return xe<=x.lookahead?xe:x.lookahead}function ce(x){var I,pe,Y,K,J,xe,_e,ve,ke,Ve,Te=x.w_size;do{if(K=x.window_size-x.lookahead-x.strstart,x.strstart>=Te+(Te-D)){for(a.arraySet(x.window,x.window,Te,Te,0),x.match_start-=Te,x.strstart-=Te,x.block_start-=Te,I=pe=x.hash_size;Y=x.head[--I],x.head[I]=Te<=Y?Y-Te:0,--pe;);for(I=pe=Te;Y=x.prev[--I],x.prev[I]=Te<=Y?Y-Te:0,--pe;);K+=Te}if(x.strm.avail_in===0)break;if(xe=x.strm,_e=x.window,ve=x.strstart+x.lookahead,ke=K,Ve=void 0,Ve=xe.avail_in,ke<Ve&&(Ve=ke),pe=Ve===0?0:(xe.avail_in-=Ve,a.arraySet(_e,xe.input,xe.next_in,Ve,ve),xe.state.wrap===1?xe.adler=l(xe.adler,_e,Ve,ve):xe.state.wrap===2&&(xe.adler=c(xe.adler,_e,Ve,ve)),xe.next_in+=Ve,xe.total_in+=Ve,Ve),x.lookahead+=pe,x.lookahead+x.insert>=k)for(J=x.strstart-x.insert,x.ins_h=x.window[J],x.ins_h=(x.ins_h<<x.hash_shift^x.window[J+1])&x.hash_mask;x.insert&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[J+k-1])&x.hash_mask,x.prev[J&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=J,J++,x.insert--,!(x.lookahead+x.insert<k)););}while(x.lookahead<D&&x.strm.avail_in!==0)}function ue(x,I){for(var pe,Y;;){if(x.lookahead<D){if(ce(x),x.lookahead<D&&I===h)return S;if(x.lookahead===0)break}if(pe=0,x.lookahead>=k&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+k-1])&x.hash_mask,pe=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),pe!==0&&x.strstart-pe<=x.w_size-D&&(x.match_length=q(x,pe)),x.match_length>=k)if(Y=A._tr_tally(x,x.strstart-x.match_start,x.match_length-k),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=k){for(x.match_length--;x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+k-1])&x.hash_mask,pe=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart,--x.match_length!=0;);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else Y=A._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(Y&&(F(x,!1),x.strm.avail_out===0))return S}return x.insert=x.strstart<k-1?x.strstart:k-1,I===p?(F(x,!0),x.strm.avail_out===0?ge:le):x.last_lit&&(F(x,!1),x.strm.avail_out===0)?S:ee}function de(x,I){for(var pe,Y,K;;){if(x.lookahead<D){if(ce(x),x.lookahead<D&&I===h)return S;if(x.lookahead===0)break}if(pe=0,x.lookahead>=k&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+k-1])&x.hash_mask,pe=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=k-1,pe!==0&&x.prev_length<x.max_lazy_match&&x.strstart-pe<=x.w_size-D&&(x.match_length=q(x,pe),x.match_length<=5&&(x.strategy===1||x.match_length===k&&4096<x.strstart-x.match_start)&&(x.match_length=k-1)),x.prev_length>=k&&x.match_length<=x.prev_length){for(K=x.strstart+x.lookahead-k,Y=A._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-k),x.lookahead-=x.prev_length-1,x.prev_length-=2;++x.strstart<=K&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+k-1])&x.hash_mask,pe=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),--x.prev_length!=0;);if(x.match_available=0,x.match_length=k-1,x.strstart++,Y&&(F(x,!1),x.strm.avail_out===0))return S}else if(x.match_available){if((Y=A._tr_tally(x,0,x.window[x.strstart-1]))&&F(x,!1),x.strstart++,x.lookahead--,x.strm.avail_out===0)return S}else x.match_available=1,x.strstart++,x.lookahead--}return x.match_available&&(Y=A._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0),x.insert=x.strstart<k-1?x.strstart:k-1,I===p?(F(x,!0),x.strm.avail_out===0?ge:le):x.last_lit&&(F(x,!1),x.strm.avail_out===0)?S:ee}function be(x,I,pe,Y,K){this.good_length=x,this.max_lazy=I,this.nice_length=pe,this.max_chain=Y,this.func=K}function Ue(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*Q),this.dyn_dtree=new a.Buf16(2*(2*N+1)),this.bl_tree=new a.Buf16(2*(2*L+1)),ye(this.dyn_ltree),ye(this.dyn_dtree),ye(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(P+1),this.heap=new a.Buf16(2*C+1),ye(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*C+1),ye(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ae(x){var I;return x&&x.state?(x.total_in=x.total_out=0,x.data_type=g,(I=x.state).pending=0,I.pending_out=0,I.wrap<0&&(I.wrap=-I.wrap),I.status=I.wrap?U:H,x.adler=I.wrap===2?0:1,I.last_flush=h,A._tr_init(I),d):ne(x,w)}function Se(x){var I=Ae(x);return I===d&&function(pe){pe.window_size=2*pe.w_size,ye(pe.head),pe.max_lazy_match=i[pe.level].max_lazy,pe.good_match=i[pe.level].good_length,pe.nice_match=i[pe.level].nice_length,pe.max_chain_length=i[pe.level].max_chain,pe.strstart=0,pe.block_start=0,pe.lookahead=0,pe.insert=0,pe.match_length=pe.prev_length=k-1,pe.match_available=0,pe.ins_h=0}(x.state),I}function fe(x,I,pe,Y,K,J){if(!x)return w;var xe=1;if(I===m&&(I=6),Y<0?(xe=0,Y=-Y):15<Y&&(xe=2,Y-=16),K<1||B<K||pe!==b||Y<8||15<Y||I<0||9<I||J<0||y<J)return ne(x,w);Y===8&&(Y=9);var _e=new Ue;return(x.state=_e).strm=x,_e.wrap=xe,_e.gzhead=null,_e.w_bits=Y,_e.w_size=1<<_e.w_bits,_e.w_mask=_e.w_size-1,_e.hash_bits=K+7,_e.hash_size=1<<_e.hash_bits,_e.hash_mask=_e.hash_size-1,_e.hash_shift=~~((_e.hash_bits+k-1)/k),_e.window=new a.Buf8(2*_e.w_size),_e.head=new a.Buf16(_e.hash_size),_e.prev=new a.Buf16(_e.w_size),_e.lit_bufsize=1<<K+6,_e.pending_buf_size=4*_e.lit_bufsize,_e.pending_buf=new a.Buf8(_e.pending_buf_size),_e.d_buf=1*_e.lit_bufsize,_e.l_buf=3*_e.lit_bufsize,_e.level=I,_e.strategy=J,_e.method=pe,Se(x)}i=[new be(0,0,0,0,function(x,I){var pe=65535;for(pe>x.pending_buf_size-5&&(pe=x.pending_buf_size-5);;){if(x.lookahead<=1){if(ce(x),x.lookahead===0&&I===h)return S;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var Y=x.block_start+pe;if((x.strstart===0||x.strstart>=Y)&&(x.lookahead=x.strstart-Y,x.strstart=Y,F(x,!1),x.strm.avail_out===0)||x.strstart-x.block_start>=x.w_size-D&&(F(x,!1),x.strm.avail_out===0))return S}return x.insert=0,I===p?(F(x,!0),x.strm.avail_out===0?ge:le):(x.strstart>x.block_start&&(F(x,!1),x.strm.avail_out),S)}),new be(4,4,8,4,ue),new be(4,5,16,8,ue),new be(4,6,32,32,ue),new be(4,4,16,16,de),new be(8,16,32,32,de),new be(8,16,128,128,de),new be(8,32,128,256,de),new be(32,128,258,1024,de),new be(32,258,258,4096,de)],s.deflateInit=function(x,I){return fe(x,I,b,15,8,0)},s.deflateInit2=fe,s.deflateReset=Se,s.deflateResetKeep=Ae,s.deflateSetHeader=function(x,I){return x&&x.state?x.state.wrap!==2?w:(x.state.gzhead=I,d):w},s.deflate=function(x,I){var pe,Y,K,J;if(!x||!x.state||5<I||I<0)return x?ne(x,w):w;if(Y=x.state,!x.output||!x.input&&x.avail_in!==0||Y.status===666&&I!==p)return ne(x,x.avail_out===0?-5:w);if(Y.strm=x,pe=Y.last_flush,Y.last_flush=I,Y.status===U)if(Y.wrap===2)x.adler=0,V(Y,31),V(Y,139),V(Y,8),Y.gzhead?(V(Y,(Y.gzhead.text?1:0)+(Y.gzhead.hcrc?2:0)+(Y.gzhead.extra?4:0)+(Y.gzhead.name?8:0)+(Y.gzhead.comment?16:0)),V(Y,255&Y.gzhead.time),V(Y,Y.gzhead.time>>8&255),V(Y,Y.gzhead.time>>16&255),V(Y,Y.gzhead.time>>24&255),V(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),V(Y,255&Y.gzhead.os),Y.gzhead.extra&&Y.gzhead.extra.length&&(V(Y,255&Y.gzhead.extra.length),V(Y,Y.gzhead.extra.length>>8&255)),Y.gzhead.hcrc&&(x.adler=c(x.adler,Y.pending_buf,Y.pending,0)),Y.gzindex=0,Y.status=69):(V(Y,0),V(Y,0),V(Y,0),V(Y,0),V(Y,0),V(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),V(Y,3),Y.status=H);else{var xe=b+(Y.w_bits-8<<4)<<8;xe|=(2<=Y.strategy||Y.level<2?0:Y.level<6?1:Y.level===6?2:3)<<6,Y.strstart!==0&&(xe|=32),xe+=31-xe%31,Y.status=H,O(Y,xe),Y.strstart!==0&&(O(Y,x.adler>>>16),O(Y,65535&x.adler)),x.adler=1}if(Y.status===69)if(Y.gzhead.extra){for(K=Y.pending;Y.gzindex<(65535&Y.gzhead.extra.length)&&(Y.pending!==Y.pending_buf_size||(Y.gzhead.hcrc&&Y.pending>K&&(x.adler=c(x.adler,Y.pending_buf,Y.pending-K,K)),re(x),K=Y.pending,Y.pending!==Y.pending_buf_size));)V(Y,255&Y.gzhead.extra[Y.gzindex]),Y.gzindex++;Y.gzhead.hcrc&&Y.pending>K&&(x.adler=c(x.adler,Y.pending_buf,Y.pending-K,K)),Y.gzindex===Y.gzhead.extra.length&&(Y.gzindex=0,Y.status=73)}else Y.status=73;if(Y.status===73)if(Y.gzhead.name){K=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>K&&(x.adler=c(x.adler,Y.pending_buf,Y.pending-K,K)),re(x),K=Y.pending,Y.pending===Y.pending_buf_size)){J=1;break}J=Y.gzindex<Y.gzhead.name.length?255&Y.gzhead.name.charCodeAt(Y.gzindex++):0,V(Y,J)}while(J!==0);Y.gzhead.hcrc&&Y.pending>K&&(x.adler=c(x.adler,Y.pending_buf,Y.pending-K,K)),J===0&&(Y.gzindex=0,Y.status=91)}else Y.status=91;if(Y.status===91)if(Y.gzhead.comment){K=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>K&&(x.adler=c(x.adler,Y.pending_buf,Y.pending-K,K)),re(x),K=Y.pending,Y.pending===Y.pending_buf_size)){J=1;break}J=Y.gzindex<Y.gzhead.comment.length?255&Y.gzhead.comment.charCodeAt(Y.gzindex++):0,V(Y,J)}while(J!==0);Y.gzhead.hcrc&&Y.pending>K&&(x.adler=c(x.adler,Y.pending_buf,Y.pending-K,K)),J===0&&(Y.status=103)}else Y.status=103;if(Y.status===103&&(Y.gzhead.hcrc?(Y.pending+2>Y.pending_buf_size&&re(x),Y.pending+2<=Y.pending_buf_size&&(V(Y,255&x.adler),V(Y,x.adler>>8&255),x.adler=0,Y.status=H)):Y.status=H),Y.pending!==0){if(re(x),x.avail_out===0)return Y.last_flush=-1,d}else if(x.avail_in===0&&se(I)<=se(pe)&&I!==p)return ne(x,-5);if(Y.status===666&&x.avail_in!==0)return ne(x,-5);if(x.avail_in!==0||Y.lookahead!==0||I!==h&&Y.status!==666){var _e=Y.strategy===2?function(ve,ke){for(var Ve;;){if(ve.lookahead===0&&(ce(ve),ve.lookahead===0)){if(ke===h)return S;break}if(ve.match_length=0,Ve=A._tr_tally(ve,0,ve.window[ve.strstart]),ve.lookahead--,ve.strstart++,Ve&&(F(ve,!1),ve.strm.avail_out===0))return S}return ve.insert=0,ke===p?(F(ve,!0),ve.strm.avail_out===0?ge:le):ve.last_lit&&(F(ve,!1),ve.strm.avail_out===0)?S:ee}(Y,I):Y.strategy===3?function(ve,ke){for(var Ve,Te,Ge,pt,Ze=ve.window;;){if(ve.lookahead<=$){if(ce(ve),ve.lookahead<=$&&ke===h)return S;if(ve.lookahead===0)break}if(ve.match_length=0,ve.lookahead>=k&&0<ve.strstart&&(Te=Ze[Ge=ve.strstart-1])===Ze[++Ge]&&Te===Ze[++Ge]&&Te===Ze[++Ge]){pt=ve.strstart+$;do;while(Te===Ze[++Ge]&&Te===Ze[++Ge]&&Te===Ze[++Ge]&&Te===Ze[++Ge]&&Te===Ze[++Ge]&&Te===Ze[++Ge]&&Te===Ze[++Ge]&&Te===Ze[++Ge]&&Ge<pt);ve.match_length=$-(pt-Ge),ve.match_length>ve.lookahead&&(ve.match_length=ve.lookahead)}if(ve.match_length>=k?(Ve=A._tr_tally(ve,1,ve.match_length-k),ve.lookahead-=ve.match_length,ve.strstart+=ve.match_length,ve.match_length=0):(Ve=A._tr_tally(ve,0,ve.window[ve.strstart]),ve.lookahead--,ve.strstart++),Ve&&(F(ve,!1),ve.strm.avail_out===0))return S}return ve.insert=0,ke===p?(F(ve,!0),ve.strm.avail_out===0?ge:le):ve.last_lit&&(F(ve,!1),ve.strm.avail_out===0)?S:ee}(Y,I):i[Y.level].func(Y,I);if(_e!==ge&&_e!==le||(Y.status=666),_e===S||_e===ge)return x.avail_out===0&&(Y.last_flush=-1),d;if(_e===ee&&(I===1?A._tr_align(Y):I!==5&&(A._tr_stored_block(Y,0,0,!1),I===3&&(ye(Y.head),Y.lookahead===0&&(Y.strstart=0,Y.block_start=0,Y.insert=0))),re(x),x.avail_out===0))return Y.last_flush=-1,d}return I!==p?d:Y.wrap<=0?1:(Y.wrap===2?(V(Y,255&x.adler),V(Y,x.adler>>8&255),V(Y,x.adler>>16&255),V(Y,x.adler>>24&255),V(Y,255&x.total_in),V(Y,x.total_in>>8&255),V(Y,x.total_in>>16&255),V(Y,x.total_in>>24&255)):(O(Y,x.adler>>>16),O(Y,65535&x.adler)),re(x),0<Y.wrap&&(Y.wrap=-Y.wrap),Y.pending!==0?d:1)},s.deflateEnd=function(x){var I;return x&&x.state?(I=x.state.status)!==U&&I!==69&&I!==73&&I!==91&&I!==103&&I!==H&&I!==666?ne(x,w):(x.state=null,I===H?ne(x,-3):d):w},s.deflateSetDictionary=function(x,I){var pe,Y,K,J,xe,_e,ve,ke,Ve=I.length;if(!x||!x.state||(J=(pe=x.state).wrap)===2||J===1&&pe.status!==U||pe.lookahead)return w;for(J===1&&(x.adler=l(x.adler,I,Ve,0)),pe.wrap=0,Ve>=pe.w_size&&(J===0&&(ye(pe.head),pe.strstart=0,pe.block_start=0,pe.insert=0),ke=new a.Buf8(pe.w_size),a.arraySet(ke,I,Ve-pe.w_size,pe.w_size,0),I=ke,Ve=pe.w_size),xe=x.avail_in,_e=x.next_in,ve=x.input,x.avail_in=Ve,x.next_in=0,x.input=I,ce(pe);pe.lookahead>=k;){for(Y=pe.strstart,K=pe.lookahead-(k-1);pe.ins_h=(pe.ins_h<<pe.hash_shift^pe.window[Y+k-1])&pe.hash_mask,pe.prev[Y&pe.w_mask]=pe.head[pe.ins_h],pe.head[pe.ins_h]=Y,Y++,--K;);pe.strstart=Y,pe.lookahead=k-1,ce(pe)}return pe.strstart+=pe.lookahead,pe.block_start=pe.strstart,pe.insert=pe.lookahead,pe.lookahead=0,pe.match_length=pe.prev_length=k-1,pe.match_available=0,x.next_in=_e,x.input=ve,x.avail_in=xe,pe.wrap=J,d},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,s){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,s){n.exports=function(i,a){var A,l,c,u,h,p,d,w,m,y,g,b,B,C,N,L,Q,P,k,$,D,U,H,S,ee;A=i.state,l=i.next_in,S=i.input,c=l+(i.avail_in-5),u=i.next_out,ee=i.output,h=u-(a-i.avail_out),p=u+(i.avail_out-257),d=A.dmax,w=A.wsize,m=A.whave,y=A.wnext,g=A.window,b=A.hold,B=A.bits,C=A.lencode,N=A.distcode,L=(1<<A.lenbits)-1,Q=(1<<A.distbits)-1;e:do{B<15&&(b+=S[l++]<<B,B+=8,b+=S[l++]<<B,B+=8),P=C[b&L];t:for(;;){if(b>>>=k=P>>>24,B-=k,(k=P>>>16&255)===0)ee[u++]=65535&P;else{if(!(16&k)){if(!(64&k)){P=C[(65535&P)+(b&(1<<k)-1)];continue t}if(32&k){A.mode=12;break e}i.msg="invalid literal/length code",A.mode=30;break e}$=65535&P,(k&=15)&&(B<k&&(b+=S[l++]<<B,B+=8),$+=b&(1<<k)-1,b>>>=k,B-=k),B<15&&(b+=S[l++]<<B,B+=8,b+=S[l++]<<B,B+=8),P=N[b&Q];r:for(;;){if(b>>>=k=P>>>24,B-=k,!(16&(k=P>>>16&255))){if(!(64&k)){P=N[(65535&P)+(b&(1<<k)-1)];continue r}i.msg="invalid distance code",A.mode=30;break e}if(D=65535&P,B<(k&=15)&&(b+=S[l++]<<B,(B+=8)<k&&(b+=S[l++]<<B,B+=8)),d<(D+=b&(1<<k)-1)){i.msg="invalid distance too far back",A.mode=30;break e}if(b>>>=k,B-=k,(k=u-h)<D){if(m<(k=D-k)&&A.sane){i.msg="invalid distance too far back",A.mode=30;break e}if(H=g,(U=0)===y){if(U+=w-k,k<$){for($-=k;ee[u++]=g[U++],--k;);U=u-D,H=ee}}else if(y<k){if(U+=w+y-k,(k-=y)<$){for($-=k;ee[u++]=g[U++],--k;);if(U=0,y<$){for($-=k=y;ee[u++]=g[U++],--k;);U=u-D,H=ee}}}else if(U+=y-k,k<$){for($-=k;ee[u++]=g[U++],--k;);U=u-D,H=ee}for(;2<$;)ee[u++]=H[U++],ee[u++]=H[U++],ee[u++]=H[U++],$-=3;$&&(ee[u++]=H[U++],1<$&&(ee[u++]=H[U++]))}else{for(U=u-D;ee[u++]=ee[U++],ee[u++]=ee[U++],ee[u++]=ee[U++],2<($-=3););$&&(ee[u++]=ee[U++],1<$&&(ee[u++]=ee[U++]))}break}}break}}while(l<c&&u<p);l-=$=B>>3,b&=(1<<(B-=$<<3))-1,i.next_in=l,i.next_out=u,i.avail_in=l<c?c-l+5:5-(l-c),i.avail_out=u<p?p-u+257:257-(u-p),A.hold=b,A.bits=B}},{}],49:[function(r,n,s){var i=r("../utils/common"),a=r("./adler32"),A=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),u=1,h=2,p=0,d=-2,w=1,m=852,y=592;function g(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function B(U){var H;return U&&U.state?(H=U.state,U.total_in=U.total_out=H.total=0,U.msg="",H.wrap&&(U.adler=1&H.wrap),H.mode=w,H.last=0,H.havedict=0,H.dmax=32768,H.head=null,H.hold=0,H.bits=0,H.lencode=H.lendyn=new i.Buf32(m),H.distcode=H.distdyn=new i.Buf32(y),H.sane=1,H.back=-1,p):d}function C(U){var H;return U&&U.state?((H=U.state).wsize=0,H.whave=0,H.wnext=0,B(U)):d}function N(U,H){var S,ee;return U&&U.state?(ee=U.state,H<0?(S=0,H=-H):(S=1+(H>>4),H<48&&(H&=15)),H&&(H<8||15<H)?d:(ee.window!==null&&ee.wbits!==H&&(ee.window=null),ee.wrap=S,ee.wbits=H,C(U))):d}function L(U,H){var S,ee;return U?(ee=new b,(U.state=ee).window=null,(S=N(U,H))!==p&&(U.state=null),S):d}var Q,P,k=!0;function $(U){if(k){var H;for(Q=new i.Buf32(512),P=new i.Buf32(32),H=0;H<144;)U.lens[H++]=8;for(;H<256;)U.lens[H++]=9;for(;H<280;)U.lens[H++]=7;for(;H<288;)U.lens[H++]=8;for(c(u,U.lens,0,288,Q,0,U.work,{bits:9}),H=0;H<32;)U.lens[H++]=5;c(h,U.lens,0,32,P,0,U.work,{bits:5}),k=!1}U.lencode=Q,U.lenbits=9,U.distcode=P,U.distbits=5}function D(U,H,S,ee){var ge,le=U.state;return le.window===null&&(le.wsize=1<<le.wbits,le.wnext=0,le.whave=0,le.window=new i.Buf8(le.wsize)),ee>=le.wsize?(i.arraySet(le.window,H,S-le.wsize,le.wsize,0),le.wnext=0,le.whave=le.wsize):(ee<(ge=le.wsize-le.wnext)&&(ge=ee),i.arraySet(le.window,H,S-ee,ge,le.wnext),(ee-=ge)?(i.arraySet(le.window,H,S-ee,ee,0),le.wnext=ee,le.whave=le.wsize):(le.wnext+=ge,le.wnext===le.wsize&&(le.wnext=0),le.whave<le.wsize&&(le.whave+=ge))),0}s.inflateReset=C,s.inflateReset2=N,s.inflateResetKeep=B,s.inflateInit=function(U){return L(U,15)},s.inflateInit2=L,s.inflate=function(U,H){var S,ee,ge,le,ne,se,ye,re,F,V,O,q,ce,ue,de,be,Ue,Ae,Se,fe,x,I,pe,Y,K=0,J=new i.Buf8(4),xe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return d;(S=U.state).mode===12&&(S.mode=13),ne=U.next_out,ge=U.output,ye=U.avail_out,le=U.next_in,ee=U.input,se=U.avail_in,re=S.hold,F=S.bits,V=se,O=ye,I=p;e:for(;;)switch(S.mode){case w:if(S.wrap===0){S.mode=13;break}for(;F<16;){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}if(2&S.wrap&&re===35615){J[S.check=0]=255&re,J[1]=re>>>8&255,S.check=A(S.check,J,2,0),F=re=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&re)<<8)+(re>>8))%31){U.msg="incorrect header check",S.mode=30;break}if((15&re)!=8){U.msg="unknown compression method",S.mode=30;break}if(F-=4,x=8+(15&(re>>>=4)),S.wbits===0)S.wbits=x;else if(x>S.wbits){U.msg="invalid window size",S.mode=30;break}S.dmax=1<<x,U.adler=S.check=1,S.mode=512&re?10:12,F=re=0;break;case 2:for(;F<16;){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}if(S.flags=re,(255&S.flags)!=8){U.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){U.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=re>>8&1),512&S.flags&&(J[0]=255&re,J[1]=re>>>8&255,S.check=A(S.check,J,2,0)),F=re=0,S.mode=3;case 3:for(;F<32;){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}S.head&&(S.head.time=re),512&S.flags&&(J[0]=255&re,J[1]=re>>>8&255,J[2]=re>>>16&255,J[3]=re>>>24&255,S.check=A(S.check,J,4,0)),F=re=0,S.mode=4;case 4:for(;F<16;){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}S.head&&(S.head.xflags=255&re,S.head.os=re>>8),512&S.flags&&(J[0]=255&re,J[1]=re>>>8&255,S.check=A(S.check,J,2,0)),F=re=0,S.mode=5;case 5:if(1024&S.flags){for(;F<16;){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}S.length=re,S.head&&(S.head.extra_len=re),512&S.flags&&(J[0]=255&re,J[1]=re>>>8&255,S.check=A(S.check,J,2,0)),F=re=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(se<(q=S.length)&&(q=se),q&&(S.head&&(x=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),i.arraySet(S.head.extra,ee,le,q,x)),512&S.flags&&(S.check=A(S.check,ee,q,le)),se-=q,le+=q,S.length-=q),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(se===0)break e;for(q=0;x=ee[le+q++],S.head&&x&&S.length<65536&&(S.head.name+=String.fromCharCode(x)),x&&q<se;);if(512&S.flags&&(S.check=A(S.check,ee,q,le)),se-=q,le+=q,x)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(se===0)break e;for(q=0;x=ee[le+q++],S.head&&x&&S.length<65536&&(S.head.comment+=String.fromCharCode(x)),x&&q<se;);if(512&S.flags&&(S.check=A(S.check,ee,q,le)),se-=q,le+=q,x)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;F<16;){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}if(re!==(65535&S.check)){U.msg="header crc mismatch",S.mode=30;break}F=re=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),U.adler=S.check=0,S.mode=12;break;case 10:for(;F<32;){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}U.adler=S.check=g(re),F=re=0,S.mode=11;case 11:if(S.havedict===0)return U.next_out=ne,U.avail_out=ye,U.next_in=le,U.avail_in=se,S.hold=re,S.bits=F,2;U.adler=S.check=1,S.mode=12;case 12:if(H===5||H===6)break e;case 13:if(S.last){re>>>=7&F,F-=7&F,S.mode=27;break}for(;F<3;){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}switch(S.last=1&re,F-=1,3&(re>>>=1)){case 0:S.mode=14;break;case 1:if($(S),S.mode=20,H!==6)break;re>>>=2,F-=2;break e;case 2:S.mode=17;break;case 3:U.msg="invalid block type",S.mode=30}re>>>=2,F-=2;break;case 14:for(re>>>=7&F,F-=7&F;F<32;){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}if((65535&re)!=(re>>>16^65535)){U.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&re,F=re=0,S.mode=15,H===6)break e;case 15:S.mode=16;case 16:if(q=S.length){if(se<q&&(q=se),ye<q&&(q=ye),q===0)break e;i.arraySet(ge,ee,le,q,ne),se-=q,le+=q,ye-=q,ne+=q,S.length-=q;break}S.mode=12;break;case 17:for(;F<14;){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}if(S.nlen=257+(31&re),re>>>=5,F-=5,S.ndist=1+(31&re),re>>>=5,F-=5,S.ncode=4+(15&re),re>>>=4,F-=4,286<S.nlen||30<S.ndist){U.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;F<3;){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}S.lens[xe[S.have++]]=7&re,re>>>=3,F-=3}for(;S.have<19;)S.lens[xe[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,pe={bits:S.lenbits},I=c(0,S.lens,0,19,S.lencode,0,S.work,pe),S.lenbits=pe.bits,I){U.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;be=(K=S.lencode[re&(1<<S.lenbits)-1])>>>16&255,Ue=65535&K,!((de=K>>>24)<=F);){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}if(Ue<16)re>>>=de,F-=de,S.lens[S.have++]=Ue;else{if(Ue===16){for(Y=de+2;F<Y;){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}if(re>>>=de,F-=de,S.have===0){U.msg="invalid bit length repeat",S.mode=30;break}x=S.lens[S.have-1],q=3+(3&re),re>>>=2,F-=2}else if(Ue===17){for(Y=de+3;F<Y;){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}F-=de,x=0,q=3+(7&(re>>>=de)),re>>>=3,F-=3}else{for(Y=de+7;F<Y;){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}F-=de,x=0,q=11+(127&(re>>>=de)),re>>>=7,F-=7}if(S.have+q>S.nlen+S.ndist){U.msg="invalid bit length repeat",S.mode=30;break}for(;q--;)S.lens[S.have++]=x}}if(S.mode===30)break;if(S.lens[256]===0){U.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,pe={bits:S.lenbits},I=c(u,S.lens,0,S.nlen,S.lencode,0,S.work,pe),S.lenbits=pe.bits,I){U.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,pe={bits:S.distbits},I=c(h,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,pe),S.distbits=pe.bits,I){U.msg="invalid distances set",S.mode=30;break}if(S.mode=20,H===6)break e;case 20:S.mode=21;case 21:if(6<=se&&258<=ye){U.next_out=ne,U.avail_out=ye,U.next_in=le,U.avail_in=se,S.hold=re,S.bits=F,l(U,O),ne=U.next_out,ge=U.output,ye=U.avail_out,le=U.next_in,ee=U.input,se=U.avail_in,re=S.hold,F=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;be=(K=S.lencode[re&(1<<S.lenbits)-1])>>>16&255,Ue=65535&K,!((de=K>>>24)<=F);){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}if(be&&!(240&be)){for(Ae=de,Se=be,fe=Ue;be=(K=S.lencode[fe+((re&(1<<Ae+Se)-1)>>Ae)])>>>16&255,Ue=65535&K,!(Ae+(de=K>>>24)<=F);){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}re>>>=Ae,F-=Ae,S.back+=Ae}if(re>>>=de,F-=de,S.back+=de,S.length=Ue,be===0){S.mode=26;break}if(32&be){S.back=-1,S.mode=12;break}if(64&be){U.msg="invalid literal/length code",S.mode=30;break}S.extra=15&be,S.mode=22;case 22:if(S.extra){for(Y=S.extra;F<Y;){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}S.length+=re&(1<<S.extra)-1,re>>>=S.extra,F-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;be=(K=S.distcode[re&(1<<S.distbits)-1])>>>16&255,Ue=65535&K,!((de=K>>>24)<=F);){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}if(!(240&be)){for(Ae=de,Se=be,fe=Ue;be=(K=S.distcode[fe+((re&(1<<Ae+Se)-1)>>Ae)])>>>16&255,Ue=65535&K,!(Ae+(de=K>>>24)<=F);){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}re>>>=Ae,F-=Ae,S.back+=Ae}if(re>>>=de,F-=de,S.back+=de,64&be){U.msg="invalid distance code",S.mode=30;break}S.offset=Ue,S.extra=15&be,S.mode=24;case 24:if(S.extra){for(Y=S.extra;F<Y;){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}S.offset+=re&(1<<S.extra)-1,re>>>=S.extra,F-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){U.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(ye===0)break e;if(q=O-ye,S.offset>q){if((q=S.offset-q)>S.whave&&S.sane){U.msg="invalid distance too far back",S.mode=30;break}ce=q>S.wnext?(q-=S.wnext,S.wsize-q):S.wnext-q,q>S.length&&(q=S.length),ue=S.window}else ue=ge,ce=ne-S.offset,q=S.length;for(ye<q&&(q=ye),ye-=q,S.length-=q;ge[ne++]=ue[ce++],--q;);S.length===0&&(S.mode=21);break;case 26:if(ye===0)break e;ge[ne++]=S.length,ye--,S.mode=21;break;case 27:if(S.wrap){for(;F<32;){if(se===0)break e;se--,re|=ee[le++]<<F,F+=8}if(O-=ye,U.total_out+=O,S.total+=O,O&&(U.adler=S.check=S.flags?A(S.check,ge,O,ne-O):a(S.check,ge,O,ne-O)),O=ye,(S.flags?re:g(re))!==S.check){U.msg="incorrect data check",S.mode=30;break}F=re=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;F<32;){if(se===0)break e;se--,re+=ee[le++]<<F,F+=8}if(re!==(4294967295&S.total)){U.msg="incorrect length check",S.mode=30;break}F=re=0}S.mode=29;case 29:I=1;break e;case 30:I=-3;break e;case 31:return-4;case 32:default:return d}return U.next_out=ne,U.avail_out=ye,U.next_in=le,U.avail_in=se,S.hold=re,S.bits=F,(S.wsize||O!==U.avail_out&&S.mode<30&&(S.mode<27||H!==4))&&D(U,U.output,U.next_out,O-U.avail_out)?(S.mode=31,-4):(V-=U.avail_in,O-=U.avail_out,U.total_in+=V,U.total_out+=O,S.total+=O,S.wrap&&O&&(U.adler=S.check=S.flags?A(S.check,ge,O,U.next_out-O):a(S.check,ge,O,U.next_out-O)),U.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(V==0&&O===0||H===4)&&I===p&&(I=-5),I)},s.inflateEnd=function(U){if(!U||!U.state)return d;var H=U.state;return H.window&&(H.window=null),U.state=null,p},s.inflateGetHeader=function(U,H){var S;return U&&U.state&&2&(S=U.state).wrap?((S.head=H).done=!1,p):d},s.inflateSetDictionary=function(U,H){var S,ee=H.length;return U&&U.state?(S=U.state).wrap!==0&&S.mode!==11?d:S.mode===11&&a(1,H,ee,0)!==S.check?-3:D(U,H,ee,ee)?(S.mode=31,-4):(S.havedict=1,p):d},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,s){var i=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],A=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(u,h,p,d,w,m,y,g){var b,B,C,N,L,Q,P,k,$,D=g.bits,U=0,H=0,S=0,ee=0,ge=0,le=0,ne=0,se=0,ye=0,re=0,F=null,V=0,O=new i.Buf16(16),q=new i.Buf16(16),ce=null,ue=0;for(U=0;U<=15;U++)O[U]=0;for(H=0;H<d;H++)O[h[p+H]]++;for(ge=D,ee=15;1<=ee&&O[ee]===0;ee--);if(ee<ge&&(ge=ee),ee===0)return w[m++]=20971520,w[m++]=20971520,g.bits=1,0;for(S=1;S<ee&&O[S]===0;S++);for(ge<S&&(ge=S),U=se=1;U<=15;U++)if(se<<=1,(se-=O[U])<0)return-1;if(0<se&&(u===0||ee!==1))return-1;for(q[1]=0,U=1;U<15;U++)q[U+1]=q[U]+O[U];for(H=0;H<d;H++)h[p+H]!==0&&(y[q[h[p+H]]++]=H);if(Q=u===0?(F=ce=y,19):u===1?(F=a,V-=257,ce=A,ue-=257,256):(F=l,ce=c,-1),U=S,L=m,ne=H=re=0,C=-1,N=(ye=1<<(le=ge))-1,u===1&&852<ye||u===2&&592<ye)return 1;for(;;){for(P=U-ne,$=y[H]<Q?(k=0,y[H]):y[H]>Q?(k=ce[ue+y[H]],F[V+y[H]]):(k=96,0),b=1<<U-ne,S=B=1<<le;w[L+(re>>ne)+(B-=b)]=P<<24|k<<16|$|0,B!==0;);for(b=1<<U-1;re&b;)b>>=1;if(b!==0?(re&=b-1,re+=b):re=0,H++,--O[U]==0){if(U===ee)break;U=h[p+y[H]]}if(ge<U&&(re&N)!==C){for(ne===0&&(ne=ge),L+=S,se=1<<(le=U-ne);le+ne<ee&&!((se-=O[le+ne])<=0);)le++,se<<=1;if(ye+=1<<le,u===1&&852<ye||u===2&&592<ye)return 1;w[C=re&N]=ge<<24|le<<16|L-m|0}}return re!==0&&(w[L+re]=U-ne<<24|64<<16|0),g.bits=ge,0}},{"../utils/common":41}],51:[function(r,n,s){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,s){var i=r("../utils/common"),a=0,A=1;function l(K){for(var J=K.length;0<=--J;)K[J]=0}var c=0,u=29,h=256,p=h+1+u,d=30,w=19,m=2*p+1,y=15,g=16,b=7,B=256,C=16,N=17,L=18,Q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=new Array(2*(p+2));l(D);var U=new Array(2*d);l(U);var H=new Array(512);l(H);var S=new Array(256);l(S);var ee=new Array(u);l(ee);var ge,le,ne,se=new Array(d);function ye(K,J,xe,_e,ve){this.static_tree=K,this.extra_bits=J,this.extra_base=xe,this.elems=_e,this.max_length=ve,this.has_stree=K&&K.length}function re(K,J){this.dyn_tree=K,this.max_code=0,this.stat_desc=J}function F(K){return K<256?H[K]:H[256+(K>>>7)]}function V(K,J){K.pending_buf[K.pending++]=255&J,K.pending_buf[K.pending++]=J>>>8&255}function O(K,J,xe){K.bi_valid>g-xe?(K.bi_buf|=J<<K.bi_valid&65535,V(K,K.bi_buf),K.bi_buf=J>>g-K.bi_valid,K.bi_valid+=xe-g):(K.bi_buf|=J<<K.bi_valid&65535,K.bi_valid+=xe)}function q(K,J,xe){O(K,xe[2*J],xe[2*J+1])}function ce(K,J){for(var xe=0;xe|=1&K,K>>>=1,xe<<=1,0<--J;);return xe>>>1}function ue(K,J,xe){var _e,ve,ke=new Array(y+1),Ve=0;for(_e=1;_e<=y;_e++)ke[_e]=Ve=Ve+xe[_e-1]<<1;for(ve=0;ve<=J;ve++){var Te=K[2*ve+1];Te!==0&&(K[2*ve]=ce(ke[Te]++,Te))}}function de(K){var J;for(J=0;J<p;J++)K.dyn_ltree[2*J]=0;for(J=0;J<d;J++)K.dyn_dtree[2*J]=0;for(J=0;J<w;J++)K.bl_tree[2*J]=0;K.dyn_ltree[2*B]=1,K.opt_len=K.static_len=0,K.last_lit=K.matches=0}function be(K){8<K.bi_valid?V(K,K.bi_buf):0<K.bi_valid&&(K.pending_buf[K.pending++]=K.bi_buf),K.bi_buf=0,K.bi_valid=0}function Ue(K,J,xe,_e){var ve=2*J,ke=2*xe;return K[ve]<K[ke]||K[ve]===K[ke]&&_e[J]<=_e[xe]}function Ae(K,J,xe){for(var _e=K.heap[xe],ve=xe<<1;ve<=K.heap_len&&(ve<K.heap_len&&Ue(J,K.heap[ve+1],K.heap[ve],K.depth)&&ve++,!Ue(J,_e,K.heap[ve],K.depth));)K.heap[xe]=K.heap[ve],xe=ve,ve<<=1;K.heap[xe]=_e}function Se(K,J,xe){var _e,ve,ke,Ve,Te=0;if(K.last_lit!==0)for(;_e=K.pending_buf[K.d_buf+2*Te]<<8|K.pending_buf[K.d_buf+2*Te+1],ve=K.pending_buf[K.l_buf+Te],Te++,_e===0?q(K,ve,J):(q(K,(ke=S[ve])+h+1,J),(Ve=Q[ke])!==0&&O(K,ve-=ee[ke],Ve),q(K,ke=F(--_e),xe),(Ve=P[ke])!==0&&O(K,_e-=se[ke],Ve)),Te<K.last_lit;);q(K,B,J)}function fe(K,J){var xe,_e,ve,ke=J.dyn_tree,Ve=J.stat_desc.static_tree,Te=J.stat_desc.has_stree,Ge=J.stat_desc.elems,pt=-1;for(K.heap_len=0,K.heap_max=m,xe=0;xe<Ge;xe++)ke[2*xe]!==0?(K.heap[++K.heap_len]=pt=xe,K.depth[xe]=0):ke[2*xe+1]=0;for(;K.heap_len<2;)ke[2*(ve=K.heap[++K.heap_len]=pt<2?++pt:0)]=1,K.depth[ve]=0,K.opt_len--,Te&&(K.static_len-=Ve[2*ve+1]);for(J.max_code=pt,xe=K.heap_len>>1;1<=xe;xe--)Ae(K,ke,xe);for(ve=Ge;xe=K.heap[1],K.heap[1]=K.heap[K.heap_len--],Ae(K,ke,1),_e=K.heap[1],K.heap[--K.heap_max]=xe,K.heap[--K.heap_max]=_e,ke[2*ve]=ke[2*xe]+ke[2*_e],K.depth[ve]=(K.depth[xe]>=K.depth[_e]?K.depth[xe]:K.depth[_e])+1,ke[2*xe+1]=ke[2*_e+1]=ve,K.heap[1]=ve++,Ae(K,ke,1),2<=K.heap_len;);K.heap[--K.heap_max]=K.heap[1],function(Ze,rt){var At,et,Ft,z,me,je,De=rt.dyn_tree,Xe=rt.max_code,at=rt.stat_desc.static_tree,tt=rt.stat_desc.has_stree,Be=rt.stat_desc.extra_bits,Ke=rt.stat_desc.extra_base,$e=rt.stat_desc.max_length,Pe=0;for(z=0;z<=y;z++)Ze.bl_count[z]=0;for(De[2*Ze.heap[Ze.heap_max]+1]=0,At=Ze.heap_max+1;At<m;At++)$e<(z=De[2*De[2*(et=Ze.heap[At])+1]+1]+1)&&(z=$e,Pe++),De[2*et+1]=z,Xe<et||(Ze.bl_count[z]++,me=0,Ke<=et&&(me=Be[et-Ke]),je=De[2*et],Ze.opt_len+=je*(z+me),tt&&(Ze.static_len+=je*(at[2*et+1]+me)));if(Pe!==0){do{for(z=$e-1;Ze.bl_count[z]===0;)z--;Ze.bl_count[z]--,Ze.bl_count[z+1]+=2,Ze.bl_count[$e]--,Pe-=2}while(0<Pe);for(z=$e;z!==0;z--)for(et=Ze.bl_count[z];et!==0;)Xe<(Ft=Ze.heap[--At])||(De[2*Ft+1]!==z&&(Ze.opt_len+=(z-De[2*Ft+1])*De[2*Ft],De[2*Ft+1]=z),et--)}}(K,J),ue(ke,pt,K.bl_count)}function x(K,J,xe){var _e,ve,ke=-1,Ve=J[1],Te=0,Ge=7,pt=4;for(Ve===0&&(Ge=138,pt=3),J[2*(xe+1)+1]=65535,_e=0;_e<=xe;_e++)ve=Ve,Ve=J[2*(_e+1)+1],++Te<Ge&&ve===Ve||(Te<pt?K.bl_tree[2*ve]+=Te:ve!==0?(ve!==ke&&K.bl_tree[2*ve]++,K.bl_tree[2*C]++):Te<=10?K.bl_tree[2*N]++:K.bl_tree[2*L]++,ke=ve,pt=(Te=0)===Ve?(Ge=138,3):ve===Ve?(Ge=6,3):(Ge=7,4))}function I(K,J,xe){var _e,ve,ke=-1,Ve=J[1],Te=0,Ge=7,pt=4;for(Ve===0&&(Ge=138,pt=3),_e=0;_e<=xe;_e++)if(ve=Ve,Ve=J[2*(_e+1)+1],!(++Te<Ge&&ve===Ve)){if(Te<pt)for(;q(K,ve,K.bl_tree),--Te!=0;);else ve!==0?(ve!==ke&&(q(K,ve,K.bl_tree),Te--),q(K,C,K.bl_tree),O(K,Te-3,2)):Te<=10?(q(K,N,K.bl_tree),O(K,Te-3,3)):(q(K,L,K.bl_tree),O(K,Te-11,7));ke=ve,pt=(Te=0)===Ve?(Ge=138,3):ve===Ve?(Ge=6,3):(Ge=7,4)}}l(se);var pe=!1;function Y(K,J,xe,_e){O(K,(c<<1)+(_e?1:0),3),function(ve,ke,Ve,Te){be(ve),Te&&(V(ve,Ve),V(ve,~Ve)),i.arraySet(ve.pending_buf,ve.window,ke,Ve,ve.pending),ve.pending+=Ve}(K,J,xe,!0)}s._tr_init=function(K){pe||(function(){var J,xe,_e,ve,ke,Ve=new Array(y+1);for(ve=_e=0;ve<u-1;ve++)for(ee[ve]=_e,J=0;J<1<<Q[ve];J++)S[_e++]=ve;for(S[_e-1]=ve,ve=ke=0;ve<16;ve++)for(se[ve]=ke,J=0;J<1<<P[ve];J++)H[ke++]=ve;for(ke>>=7;ve<d;ve++)for(se[ve]=ke<<7,J=0;J<1<<P[ve]-7;J++)H[256+ke++]=ve;for(xe=0;xe<=y;xe++)Ve[xe]=0;for(J=0;J<=143;)D[2*J+1]=8,J++,Ve[8]++;for(;J<=255;)D[2*J+1]=9,J++,Ve[9]++;for(;J<=279;)D[2*J+1]=7,J++,Ve[7]++;for(;J<=287;)D[2*J+1]=8,J++,Ve[8]++;for(ue(D,p+1,Ve),J=0;J<d;J++)U[2*J+1]=5,U[2*J]=ce(J,5);ge=new ye(D,Q,h+1,p,y),le=new ye(U,P,0,d,y),ne=new ye(new Array(0),k,0,w,b)}(),pe=!0),K.l_desc=new re(K.dyn_ltree,ge),K.d_desc=new re(K.dyn_dtree,le),K.bl_desc=new re(K.bl_tree,ne),K.bi_buf=0,K.bi_valid=0,de(K)},s._tr_stored_block=Y,s._tr_flush_block=function(K,J,xe,_e){var ve,ke,Ve=0;0<K.level?(K.strm.data_type===2&&(K.strm.data_type=function(Te){var Ge,pt=4093624447;for(Ge=0;Ge<=31;Ge++,pt>>>=1)if(1&pt&&Te.dyn_ltree[2*Ge]!==0)return a;if(Te.dyn_ltree[18]!==0||Te.dyn_ltree[20]!==0||Te.dyn_ltree[26]!==0)return A;for(Ge=32;Ge<h;Ge++)if(Te.dyn_ltree[2*Ge]!==0)return A;return a}(K)),fe(K,K.l_desc),fe(K,K.d_desc),Ve=function(Te){var Ge;for(x(Te,Te.dyn_ltree,Te.l_desc.max_code),x(Te,Te.dyn_dtree,Te.d_desc.max_code),fe(Te,Te.bl_desc),Ge=w-1;3<=Ge&&Te.bl_tree[2*$[Ge]+1]===0;Ge--);return Te.opt_len+=3*(Ge+1)+5+5+4,Ge}(K),ve=K.opt_len+3+7>>>3,(ke=K.static_len+3+7>>>3)<=ve&&(ve=ke)):ve=ke=xe+5,xe+4<=ve&&J!==-1?Y(K,J,xe,_e):K.strategy===4||ke===ve?(O(K,2+(_e?1:0),3),Se(K,D,U)):(O(K,4+(_e?1:0),3),function(Te,Ge,pt,Ze){var rt;for(O(Te,Ge-257,5),O(Te,pt-1,5),O(Te,Ze-4,4),rt=0;rt<Ze;rt++)O(Te,Te.bl_tree[2*$[rt]+1],3);I(Te,Te.dyn_ltree,Ge-1),I(Te,Te.dyn_dtree,pt-1)}(K,K.l_desc.max_code+1,K.d_desc.max_code+1,Ve+1),Se(K,K.dyn_ltree,K.dyn_dtree)),de(K),_e&&be(K)},s._tr_tally=function(K,J,xe){return K.pending_buf[K.d_buf+2*K.last_lit]=J>>>8&255,K.pending_buf[K.d_buf+2*K.last_lit+1]=255&J,K.pending_buf[K.l_buf+K.last_lit]=255&xe,K.last_lit++,J===0?K.dyn_ltree[2*xe]++:(K.matches++,J--,K.dyn_ltree[2*(S[xe]+h+1)]++,K.dyn_dtree[2*F(J)]++),K.last_lit===K.lit_bufsize-1},s._tr_align=function(K){O(K,2,3),q(K,B,D),function(J){J.bi_valid===16?(V(J,J.bi_buf),J.bi_buf=0,J.bi_valid=0):8<=J.bi_valid&&(J.pending_buf[J.pending++]=255&J.bi_buf,J.bi_buf>>=8,J.bi_valid-=8)}(K)}},{"../utils/common":41}],53:[function(r,n,s){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,s){(function(i){(function(a,A){if(!a.setImmediate){var l,c,u,h,p=1,d={},w=!1,m=a.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(a);y=y&&y.setTimeout?y:a,l={}.toString.call(a.process)==="[object process]"?function(C){process.nextTick(function(){b(C)})}:function(){if(a.postMessage&&!a.importScripts){var C=!0,N=a.onmessage;return a.onmessage=function(){C=!1},a.postMessage("","*"),a.onmessage=N,C}}()?(h="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",B,!1):a.attachEvent("onmessage",B),function(C){a.postMessage(h+C,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(C){b(C.data)},function(C){u.port2.postMessage(C)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(C){var N=m.createElement("script");N.onreadystatechange=function(){b(C),N.onreadystatechange=null,c.removeChild(N),N=null},c.appendChild(N)}):function(C){setTimeout(b,0,C)},y.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var N=new Array(arguments.length-1),L=0;L<N.length;L++)N[L]=arguments[L+1];var Q={callback:C,args:N};return d[p]=Q,l(p),p++},y.clearImmediate=g}function g(C){delete d[C]}function b(C){if(w)setTimeout(b,0,C);else{var N=d[C];if(N){w=!0;try{(function(L){var Q=L.callback,P=L.args;switch(P.length){case 0:Q();break;case 1:Q(P[0]);break;case 2:Q(P[0],P[1]);break;case 3:Q(P[0],P[1],P[2]);break;default:Q.apply(A,P)}})(N)}finally{g(C),w=!1}}}}function B(C){C.source===a&&typeof C.data=="string"&&C.data.indexOf(h)===0&&b(+C.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Ja<"u"?Ja:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(X4);var nQ=X4.exports;const sQ=o5(nQ);var Y4={exports:{}};(function(t,e){(function(r,n){n()})(Ja,function(){function r(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function n(c,u,h){var p=new XMLHttpRequest;p.open("GET",c),p.responseType="blob",p.onload=function(){l(p.response,u,h)},p.onerror=function(){console.error("could not download file")},p.send()}function s(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function i(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ja=="object"&&Ja.global===Ja?Ja:void 0,A=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!A?function(c,u,h){var p=a.URL||a.webkitURL,d=document.createElement("a");u=u||c.name||"download",d.download=u,d.rel="noopener",typeof c=="string"?(d.href=c,d.origin===location.origin?i(d):s(d.href)?n(c,u,h):i(d,d.target="_blank")):(d.href=p.createObjectURL(c),setTimeout(function(){p.revokeObjectURL(d.href)},4e4),setTimeout(function(){i(d)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,h){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(r(c,h),u);else if(s(c))n(c,u,h);else{var p=document.createElement("a");p.href=c,p.target="_blank",setTimeout(function(){i(p)})}}:function(c,u,h,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof c=="string")return n(c,u,h);var d=c.type==="application/octet-stream",w=/constructor/i.test(a.HTMLElement)||a.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||d&&w||A)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var B=y.result;B=m?B:B.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=B:location=B,p=null},y.readAsDataURL(c)}else{var g=a.URL||a.webkitURL,b=g.createObjectURL(c);p?p.location=b:location.href=b,p=null,setTimeout(function(){g.revokeObjectURL(b)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})(Y4);var iQ=Y4.exports;function lr(t){"@babel/helpers - typeof";return lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lr(t)}var Xi=Uint8Array,ri=Uint16Array,Uw=Int32Array,jw=new Xi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Iw=new Xi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Lb=new Xi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Z4=function(t,e){for(var r=new ri(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new Uw(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},eS=Z4(jw,2),aQ=eS.b,O1=eS.r;aQ[28]=258,O1[258]=28;var oQ=Z4(Iw,0),Qb=oQ.r,R1=new ri(32768);for(var Ur=0;Ur<32768;++Ur){var Io=(Ur&43690)>>1|(Ur&21845)<<1;Io=(Io&52428)>>2|(Io&13107)<<2,Io=(Io&61680)>>4|(Io&3855)<<4,R1[Ur]=((Io&65280)>>8|(Io&255)<<8)>>1}var sd=function(t,e,r){for(var n=t.length,s=0,i=new ri(e);s<n;++s)t[s]&&++i[t[s]-1];var a=new ri(e);for(s=1;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;var A;if(r){A=new ri(1<<e);var l=15-e;for(s=0;s<n;++s)if(t[s])for(var c=s<<4|t[s],u=e-t[s],h=a[t[s]-1]++<<u,p=h|(1<<u)-1;h<=p;++h)A[R1[h]>>l]=c}else for(A=new ri(n),s=0;s<n;++s)t[s]&&(A[s]=R1[a[t[s]-1]++]>>15-t[s]);return A},ul=new Xi(288);for(var Ur=0;Ur<144;++Ur)ul[Ur]=8;for(var Ur=144;Ur<256;++Ur)ul[Ur]=9;for(var Ur=256;Ur<280;++Ur)ul[Ur]=7;for(var Ur=280;Ur<288;++Ur)ul[Ur]=8;var Op=new Xi(32);for(var Ur=0;Ur<32;++Ur)Op[Ur]=5;var AQ=sd(ul,9,0),lQ=sd(Op,5,0),tS=function(t){return(t+7)/8|0},cQ=function(t,e,r){return(e==null||e<0)&&(e=0),(r==null||r>t.length)&&(r=t.length),new Xi(t.subarray(e,r))},Ha=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},xu=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Im=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return{t:nS,l:0};if(s==1){var a=new Xi(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(N,L){return N.f-L.f}),r.push({s:-1,f:25001});var A=r[0],l=r[1],c=0,u=1,h=2;for(r[0]={s:-1,f:A.f+l.f,l:A,r:l};u!=s-1;)A=r[r[c].f<r[h].f?c++:h++],l=r[c!=u&&r[c].f<r[h].f?c++:h++],r[u++]={s:-1,f:A.f+l.f,l:A,r:l};for(var p=i[0].s,n=1;n<s;++n)i[n].s>p&&(p=i[n].s);var d=new ri(p+1),w=H1(r[u-1],d,0);if(w>e){var n=0,m=0,y=w-e,g=1<<y;for(i.sort(function(L,Q){return d[Q.s]-d[L.s]||L.f-Q.f});n<s;++n){var b=i[n].s;if(d[b]>e)m+=g-(1<<w-d[b]),d[b]=e;else break}for(m>>=y;m>0;){var B=i[n].s;d[B]<e?m-=1<<e-d[B]++-1:++n}for(;n>=0&&m;--n){var C=i[n].s;d[C]==e&&(--d[C],++m)}w=e}return{t:new Xi(d),l:w}},H1=function(t,e,r){return t.s==-1?Math.max(H1(t.l,e,r+1),H1(t.r,e,r+1)):e[t.s]=r},Db=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ri(++e),n=0,s=t[0],i=1,a=function(l){r[n++]=l},A=1;A<=e;++A)if(t[A]==s&&A!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=t[A]}return{c:r.subarray(0,n),n:e}},_u=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},rS=function(t,e,r){var n=r.length,s=tS(e+2);t[s]=n&255,t[s+1]=n>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<n;++i)t[s+i+4]=r[i];return(s+4+n)*8},Tb=function(t,e,r,n,s,i,a,A,l,c,u){Ha(e,u++,r),++s[256];for(var h=Im(s,15),p=h.t,d=h.l,w=Im(i,15),m=w.t,y=w.l,g=Db(p),b=g.c,B=g.n,C=Db(m),N=C.c,L=C.n,Q=new ri(19),P=0;P<b.length;++P)++Q[b[P]&31];for(var P=0;P<N.length;++P)++Q[N[P]&31];for(var k=Im(Q,7),$=k.t,D=k.l,U=19;U>4&&!$[Lb[U-1]];--U);var H=c+5<<3,S=_u(s,ul)+_u(i,Op)+a,ee=_u(s,p)+_u(i,m)+a+14+3*U+_u(Q,$)+2*Q[16]+3*Q[17]+7*Q[18];if(l>=0&&H<=S&&H<=ee)return rS(e,u,t.subarray(l,l+c));var ge,le,ne,se;if(Ha(e,u,1+(ee<S)),u+=2,ee<S){ge=sd(p,d,0),le=p,ne=sd(m,y,0),se=m;var ye=sd($,D,0);Ha(e,u,B-257),Ha(e,u+5,L-1),Ha(e,u+10,U-4),u+=14;for(var P=0;P<U;++P)Ha(e,u+3*P,$[Lb[P]]);u+=3*U;for(var re=[b,N],F=0;F<2;++F)for(var V=re[F],P=0;P<V.length;++P){var O=V[P]&31;Ha(e,u,ye[O]),u+=$[O],O>15&&(Ha(e,u,V[P]>>5&127),u+=V[P]>>12)}}else ge=AQ,le=ul,ne=lQ,se=Op;for(var P=0;P<A;++P){var q=n[P];if(q>255){var O=q>>18&31;xu(e,u,ge[O+257]),u+=le[O+257],O>7&&(Ha(e,u,q>>23&31),u+=jw[O]);var ce=q&31;xu(e,u,ne[ce]),u+=se[ce],ce>3&&(xu(e,u,q>>5&8191),u+=Iw[ce])}else xu(e,u,ge[q]),u+=le[q]}return xu(e,u,ge[256]),u+le[256]},uQ=new Uw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nS=new Xi(0),dQ=function(t,e,r,n,s,i){var a=i.z||t.length,A=new Xi(n+a+5*(1+Math.ceil(a/7e3))+s),l=A.subarray(n,A.length-s),c=i.l,u=(i.r||0)&7;if(e){u&&(l[0]=i.r>>3);for(var h=uQ[e-1],p=h>>13,d=h&8191,w=(1<<r)-1,m=i.p||new ri(32768),y=i.h||new ri(w+1),g=Math.ceil(r/3),b=2*g,B=function(x){return(t[x]^t[x+1]<<g^t[x+2]<<b)&w},C=new Uw(25e3),N=new ri(288),L=new ri(32),Q=0,P=0,k=i.i||0,$=0,D=i.w||0,U=0;k+2<a;++k){var H=B(k),S=k&32767,ee=y[H];if(m[S]=ee,y[H]=S,D<=k){var ge=a-k;if((Q>7e3||$>24576)&&(ge>423||!c)){u=Tb(t,l,0,C,N,L,P,$,U,k-U,u),$=Q=P=0,U=k;for(var le=0;le<286;++le)N[le]=0;for(var le=0;le<30;++le)L[le]=0}var ne=2,se=0,ye=d,re=S-ee&32767;if(ge>2&&H==B(k-re))for(var F=Math.min(p,ge)-1,V=Math.min(32767,k),O=Math.min(258,ge);re<=V&&--ye&&S!=ee;){if(t[k+ne]==t[k+ne-re]){for(var q=0;q<O&&t[k+q]==t[k+q-re];++q);if(q>ne){if(ne=q,se=re,q>F)break;for(var ce=Math.min(re,q-2),ue=0,le=0;le<ce;++le){var de=k-re+le&32767,be=m[de],Ue=de-be&32767;Ue>ue&&(ue=Ue,ee=de)}}}S=ee,ee=m[S],re+=S-ee&32767}if(se){C[$++]=268435456|O1[ne]<<18|Qb[se];var Ae=O1[ne]&31,Se=Qb[se]&31;P+=jw[Ae]+Iw[Se],++N[257+Ae],++L[Se],D=k+ne,++Q}else C[$++]=t[k],++N[t[k]]}}for(k=Math.max(k,D);k<a;++k)C[$++]=t[k],++N[t[k]];u=Tb(t,l,c,C,N,L,P,$,U,k-U,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=y,i.p=m,i.i=k,i.w=D)}else{for(var k=i.w||0;k<a+c;k+=65535){var fe=k+65535;fe>=a&&(l[u/8|0]=c,fe=a),u=rS(l,u+1,t.subarray(k,fe))}i.i=a}return cQ(A,0,n+tS(u)+s)},sS=function(){var t=1,e=0;return{p:function(r){for(var n=t,s=e,i=r.length|0,a=0;a!=i;){for(var A=Math.min(a+2655,i);a<A;++a)s+=n+=r[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}t=n,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},hQ=function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new Xi(i.length+t.length);a.set(i),a.set(t,i.length),t=a,s.w=i.length}return dQ(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,s)},iS=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},fQ=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=sS();s.p(e.dictionary),iS(t,2,s.d())}};function M1(t,e){e||(e={});var r=sS();r.p(t);var n=hQ(t,e,e.dictionary?6:2,4);return fQ(n,e),iS(n,n.length-4,r.d()),n}var pQ=typeof TextDecoder<"u"&&new TextDecoder,gQ=0;try{pQ.decode(nS,{stream:!0}),gQ=1}catch{}function mQ(t){if(Array.isArray(t))return t}function vQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,a,A=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(A.push(n.value),A.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw s}}return A}}function Pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function wQ(t,e){if(t){if(typeof t=="string")return Pb(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pb(t,e):void 0}}function yQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ob(t,e){return mQ(t)||vQ(t,e)||wQ(t,e)||yQ()}function Rb(t,e="utf8"){return new TextDecoder(e).decode(t)}const bQ=new TextEncoder;function BQ(t){return bQ.encode(t)}const xQ=1024*8,_Q=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Lm={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Lw{constructor(e=xQ,r={}){Ar(this,"buffer");Ar(this,"byteLength");Ar(this,"byteOffset");Ar(this,"length");Ar(this,"offset");Ar(this,"lastWrittenByte");Ar(this,"littleEndian");Ar(this,"_data");Ar(this,"_mark");Ar(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const s=r.offset?r.offset>>>0:0,i=e.byteLength-s;let a=s;(ArrayBuffer.isView(e)||e instanceof Lw)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+s),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Lm[r].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===_Q&&r!=="uint8"&&r!=="int8"){const A=new Uint8Array(this.buffer.slice(s,s+n));A.reverse();const l=new Lm[r](A.buffer);return this.offset+=n,l.reverse(),l}const a=new Lm[r](i);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return Rb(this.readBytes(e))}decodeText(e=1,r="utf8"){return Rb(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(BQ(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const CQ=4,Hb=0,Mb=1,SQ=2;function qc(t){let e=t.length;for(;--e>=0;)t[e]=0}const EQ=0,aS=1,kQ=2,NQ=3,FQ=258,Qw=29,th=256,Qd=th+1+Qw,xc=30,Dw=19,oS=2*Qd+1,XA=15,Qm=16,UQ=7,Tw=256,AS=16,lS=17,cS=18,z1=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Jf=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),jQ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),uS=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),IQ=512,Wa=new Array((Qd+2)*2);qc(Wa);const id=new Array(xc*2);qc(id);const Dd=new Array(IQ);qc(Dd);const Td=new Array(FQ-NQ+1);qc(Td);const Pw=new Array(Qw);qc(Pw);const Rp=new Array(xc);qc(Rp);function Dm(t,e,r,n,s){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=s,this.has_stree=t&&t.length}let dS,hS,fS;function Tm(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const pS=t=>t<256?Dd[t]:Dd[256+(t>>>7)],Pd=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Is=(t,e,r)=>{t.bi_valid>Qm-r?(t.bi_buf|=e<<t.bi_valid&65535,Pd(t,t.bi_buf),t.bi_buf=e>>Qm-t.bi_valid,t.bi_valid+=r-Qm):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},va=(t,e,r)=>{Is(t,r[e*2],r[e*2+1])},gS=(t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},LQ=t=>{t.bi_valid===16?(Pd(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},QQ=(t,e)=>{const r=e.dyn_tree,n=e.max_code,s=e.stat_desc.static_tree,i=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,A=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,u,h,p,d,w,m=0;for(p=0;p<=XA;p++)t.bl_count[p]=0;for(r[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<oS;c++)u=t.heap[c],p=r[r[u*2+1]*2+1]+1,p>l&&(p=l,m++),r[u*2+1]=p,!(u>n)&&(t.bl_count[p]++,d=0,u>=A&&(d=a[u-A]),w=r[u*2],t.opt_len+=w*(p+d),i&&(t.static_len+=w*(s[u*2+1]+d)));if(m!==0){do{for(p=l-1;t.bl_count[p]===0;)p--;t.bl_count[p]--,t.bl_count[p+1]+=2,t.bl_count[l]--,m-=2}while(m>0);for(p=l;p!==0;p--)for(u=t.bl_count[p];u!==0;)h=t.heap[--c],!(h>n)&&(r[h*2+1]!==p&&(t.opt_len+=(p-r[h*2+1])*r[h*2],r[h*2+1]=p),u--)}},mS=(t,e,r)=>{const n=new Array(XA+1);let s=0,i,a;for(i=1;i<=XA;i++)s=s+r[i-1]<<1,n[i]=s;for(a=0;a<=e;a++){let A=t[a*2+1];A!==0&&(t[a*2]=gS(n[A]++,A))}},DQ=()=>{let t,e,r,n,s;const i=new Array(XA+1);for(r=0,n=0;n<Qw-1;n++)for(Pw[n]=r,t=0;t<1<<z1[n];t++)Td[r++]=n;for(Td[r-1]=n,s=0,n=0;n<16;n++)for(Rp[n]=s,t=0;t<1<<Jf[n];t++)Dd[s++]=n;for(s>>=7;n<xc;n++)for(Rp[n]=s<<7,t=0;t<1<<Jf[n]-7;t++)Dd[256+s++]=n;for(e=0;e<=XA;e++)i[e]=0;for(t=0;t<=143;)Wa[t*2+1]=8,t++,i[8]++;for(;t<=255;)Wa[t*2+1]=9,t++,i[9]++;for(;t<=279;)Wa[t*2+1]=7,t++,i[7]++;for(;t<=287;)Wa[t*2+1]=8,t++,i[8]++;for(mS(Wa,Qd+1,i),t=0;t<xc;t++)id[t*2+1]=5,id[t*2]=gS(t,5);dS=new Dm(Wa,z1,th+1,Qd,XA),hS=new Dm(id,Jf,0,xc,XA),fS=new Dm(new Array(0),jQ,0,Dw,UQ)},vS=t=>{let e;for(e=0;e<Qd;e++)t.dyn_ltree[e*2]=0;for(e=0;e<xc;e++)t.dyn_dtree[e*2]=0;for(e=0;e<Dw;e++)t.bl_tree[e*2]=0;t.dyn_ltree[Tw*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},wS=t=>{t.bi_valid>8?Pd(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},zb=(t,e,r,n)=>{const s=e*2,i=r*2;return t[s]<t[i]||t[s]===t[i]&&n[e]<=n[r]},Pm=(t,e,r)=>{const n=t.heap[r];let s=r<<1;for(;s<=t.heap_len&&(s<t.heap_len&&zb(e,t.heap[s+1],t.heap[s],t.depth)&&s++,!zb(e,n,t.heap[s],t.depth));)t.heap[r]=t.heap[s],r=s,s<<=1;t.heap[r]=n},Kb=(t,e,r)=>{let n,s,i=0,a,A;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+i++]&255,n+=(t.pending_buf[t.sym_buf+i++]&255)<<8,s=t.pending_buf[t.sym_buf+i++],n===0?va(t,s,e):(a=Td[s],va(t,a+th+1,e),A=z1[a],A!==0&&(s-=Pw[a],Is(t,s,A)),n--,a=pS(n),va(t,a,r),A=Jf[a],A!==0&&(n-=Rp[a],Is(t,n,A)));while(i<t.sym_next);va(t,Tw,e)},K1=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,s=e.stat_desc.has_stree,i=e.stat_desc.elems;let a,A,l=-1,c;for(t.heap_len=0,t.heap_max=oS,a=0;a<i;a++)r[a*2]!==0?(t.heap[++t.heap_len]=l=a,t.depth[a]=0):r[a*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,r[c*2]=1,t.depth[c]=0,t.opt_len--,s&&(t.static_len-=n[c*2+1]);for(e.max_code=l,a=t.heap_len>>1;a>=1;a--)Pm(t,r,a);c=i;do a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Pm(t,r,1),A=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=A,r[c*2]=r[a*2]+r[A*2],t.depth[c]=(t.depth[a]>=t.depth[A]?t.depth[a]:t.depth[A])+1,r[a*2+1]=r[A*2+1]=c,t.heap[1]=c++,Pm(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],QQ(t,e),mS(r,l,t.bl_count)},$b=(t,e,r)=>{let n,s=-1,i,a=e[0*2+1],A=0,l=7,c=4;for(a===0&&(l=138,c=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)i=a,a=e[(n+1)*2+1],!(++A<l&&i===a)&&(A<c?t.bl_tree[i*2]+=A:i!==0?(i!==s&&t.bl_tree[i*2]++,t.bl_tree[AS*2]++):A<=10?t.bl_tree[lS*2]++:t.bl_tree[cS*2]++,A=0,s=i,a===0?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))},Vb=(t,e,r)=>{let n,s=-1,i,a=e[0*2+1],A=0,l=7,c=4;for(a===0&&(l=138,c=3),n=0;n<=r;n++)if(i=a,a=e[(n+1)*2+1],!(++A<l&&i===a)){if(A<c)do va(t,i,t.bl_tree);while(--A!==0);else i!==0?(i!==s&&(va(t,i,t.bl_tree),A--),va(t,AS,t.bl_tree),Is(t,A-3,2)):A<=10?(va(t,lS,t.bl_tree),Is(t,A-3,3)):(va(t,cS,t.bl_tree),Is(t,A-11,7));A=0,s=i,a===0?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}},TQ=t=>{let e;for($b(t,t.dyn_ltree,t.l_desc.max_code),$b(t,t.dyn_dtree,t.d_desc.max_code),K1(t,t.bl_desc),e=Dw-1;e>=3&&t.bl_tree[uS[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},PQ=(t,e,r,n)=>{let s;for(Is(t,e-257,5),Is(t,r-1,5),Is(t,n-4,4),s=0;s<n;s++)Is(t,t.bl_tree[uS[s]*2+1],3);Vb(t,t.dyn_ltree,e-1),Vb(t,t.dyn_dtree,r-1)},OQ=t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return Hb;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Mb;for(r=32;r<th;r++)if(t.dyn_ltree[r*2]!==0)return Mb;return Hb};let Gb=!1;const RQ=t=>{Gb||(DQ(),Gb=!0),t.l_desc=new Tm(t.dyn_ltree,dS),t.d_desc=new Tm(t.dyn_dtree,hS),t.bl_desc=new Tm(t.bl_tree,fS),t.bi_buf=0,t.bi_valid=0,vS(t)},yS=(t,e,r,n)=>{Is(t,(EQ<<1)+(n?1:0),3),wS(t),Pd(t,r),Pd(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},HQ=t=>{Is(t,aS<<1,3),va(t,Tw,Wa),LQ(t)},MQ=(t,e,r,n)=>{let s,i,a=0;t.level>0?(t.strm.data_type===SQ&&(t.strm.data_type=OQ(t)),K1(t,t.l_desc),K1(t,t.d_desc),a=TQ(t),s=t.opt_len+3+7>>>3,i=t.static_len+3+7>>>3,i<=s&&(s=i)):s=i=r+5,r+4<=s&&e!==-1?yS(t,e,r,n):t.strategy===CQ||i===s?(Is(t,(aS<<1)+(n?1:0),3),Kb(t,Wa,id)):(Is(t,(kQ<<1)+(n?1:0),3),PQ(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),Kb(t,t.dyn_ltree,t.dyn_dtree)),vS(t),n&&wS(t)},zQ=(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(Td[r]+th+1)*2]++,t.dyn_dtree[pS(e)*2]++),t.sym_next===t.sym_end);var KQ=RQ,$Q=yS,VQ=MQ,GQ=zQ,WQ=HQ,qQ={_tr_init:KQ,_tr_stored_block:$Q,_tr_flush_block:VQ,_tr_tally:GQ,_tr_align:WQ};const JQ=(t,e,r,n)=>{let s=t&65535|0,i=t>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do s=s+e[n++]|0,i=i+s|0;while(--a);s%=65521,i%=65521}return s|i<<16|0};var Od=JQ;const XQ=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},YQ=new Uint32Array(XQ()),ZQ=(t,e,r,n)=>{const s=YQ,i=n+r;t^=-1;for(let a=n;a<i;a++)t=t>>>8^s[(t^e[a])&255];return t^-1};var Nn=ZQ,Tc={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},rh={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:e6,_tr_stored_block:$1,_tr_flush_block:t6,_tr_tally:lA,_tr_align:r6}=qQ,{Z_NO_FLUSH:cA,Z_PARTIAL_FLUSH:n6,Z_FULL_FLUSH:s6,Z_FINISH:Si,Z_BLOCK:Wb,Z_OK:zn,Z_STREAM_END:qb,Z_STREAM_ERROR:Ba,Z_DATA_ERROR:i6,Z_BUF_ERROR:Om,Z_DEFAULT_COMPRESSION:a6,Z_FILTERED:o6,Z_HUFFMAN_ONLY:rf,Z_RLE:A6,Z_FIXED:l6,Z_DEFAULT_STRATEGY:c6,Z_UNKNOWN:u6,Z_DEFLATED:yg}=rh,d6=9,h6=15,f6=8,p6=29,g6=256,V1=g6+1+p6,m6=30,v6=19,w6=2*V1+1,y6=15,Gt=3,qo=258,xa=qo+Gt+1,b6=32,Pc=42,Ow=57,G1=69,W1=73,q1=91,J1=103,YA=113,Du=666,ys=1,Jc=2,dl=3,Xc=4,B6=3,ZA=(t,e)=>(t.msg=Tc[e],e),Jb=t=>t*2-(t>4?9:0),$o=t=>{let e=t.length;for(;--e>=0;)t[e]=0},x6=t=>{let e,r,n,s=t.w_size;e=t.hash_size,n=e;do r=t.head[--n],t.head[n]=r>=s?r-s:0;while(--e);e=s,n=e;do r=t.prev[--n],t.prev[n]=r>=s?r-s:0;while(--e)};let _6=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,uA=_6;const Xs=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},ni=(t,e)=>{t6(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Xs(t.strm)},Zt=(t,e)=>{t.pending_buf[t.pending++]=e},Cu=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},X1=(t,e,r,n)=>{let s=t.avail_in;return s>n&&(s=n),s===0?0:(t.avail_in-=s,e.set(t.input.subarray(t.next_in,t.next_in+s),r),t.state.wrap===1?t.adler=Od(t.adler,e,s,r):t.state.wrap===2&&(t.adler=Nn(t.adler,e,s,r)),t.next_in+=s,t.total_in+=s,s)},bS=(t,e)=>{let r=t.max_chain_length,n=t.strstart,s,i,a=t.prev_length,A=t.nice_match;const l=t.strstart>t.w_size-xa?t.strstart-(t.w_size-xa):0,c=t.window,u=t.w_mask,h=t.prev,p=t.strstart+qo;let d=c[n+a-1],w=c[n+a];t.prev_length>=t.good_match&&(r>>=2),A>t.lookahead&&(A=t.lookahead);do if(s=e,!(c[s+a]!==w||c[s+a-1]!==d||c[s]!==c[n]||c[++s]!==c[n+1])){n+=2,s++;do;while(c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&n<p);if(i=qo-(p-n),n=p-qo,i>a){if(t.match_start=e,a=i,i>=A)break;d=c[n+a-1],w=c[n+a]}}while((e=h[e&u])>l&&--r!==0);return a<=t.lookahead?a:t.lookahead},Oc=t=>{const e=t.w_size;let r,n,s;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-xa)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),x6(t),n+=e),t.strm.avail_in===0)break;if(r=X1(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=Gt)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=uA(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=uA(t,t.ins_h,t.window[s+Gt-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<Gt)););}while(t.lookahead<xa&&t.strm.avail_in!==0)},BS=(t,e)=>{let r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,s,i,a=0,A=t.strm.avail_in;do{if(n=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i||(i=t.strm.avail_out-i,s=t.strstart-t.block_start,n>s+t.strm.avail_in&&(n=s+t.strm.avail_in),n>i&&(n=i),n<r&&(n===0&&e!==Si||e===cA||n!==s+t.strm.avail_in)))break;a=e===Si&&n===s+t.strm.avail_in?1:0,$1(t,0,0,a),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,Xs(t.strm),s&&(s>n&&(s=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+s),t.strm.next_out),t.strm.next_out+=s,t.strm.avail_out-=s,t.strm.total_out+=s,t.block_start+=s,n-=s),n&&(X1(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(a===0);return A-=t.strm.avail_in,A&&(A>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=A&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-A,t.strm.next_in),t.strstart),t.strstart+=A,t.insert+=A>t.w_size-t.insert?t.w_size-t.insert:A),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),a?Xc:e!==cA&&e!==Si&&t.strm.avail_in===0&&t.strstart===t.block_start?Jc:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(X1(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,r=i>t.w_size?t.w_size:i,s=t.strstart-t.block_start,(s>=r||(s||e===Si)&&e!==cA&&t.strm.avail_in===0&&s<=i)&&(n=s>i?i:s,a=e===Si&&t.strm.avail_in===0&&n===s?1:0,$1(t,t.block_start,n,a),t.block_start+=n,Xs(t.strm)),a?dl:ys)},Rm=(t,e)=>{let r,n;for(;;){if(t.lookahead<xa){if(Oc(t),t.lookahead<xa&&e===cA)return ys;if(t.lookahead===0)break}if(r=0,t.lookahead>=Gt&&(t.ins_h=uA(t,t.ins_h,t.window[t.strstart+Gt-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-xa&&(t.match_length=bS(t,r)),t.match_length>=Gt)if(n=lA(t,t.strstart-t.match_start,t.match_length-Gt),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Gt){t.match_length--;do t.strstart++,t.ins_h=uA(t,t.ins_h,t.window[t.strstart+Gt-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=uA(t,t.ins_h,t.window[t.strstart+1]);else n=lA(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(ni(t,!1),t.strm.avail_out===0))return ys}return t.insert=t.strstart<Gt-1?t.strstart:Gt-1,e===Si?(ni(t,!0),t.strm.avail_out===0?dl:Xc):t.sym_next&&(ni(t,!1),t.strm.avail_out===0)?ys:Jc},Rl=(t,e)=>{let r,n,s;for(;;){if(t.lookahead<xa){if(Oc(t),t.lookahead<xa&&e===cA)return ys;if(t.lookahead===0)break}if(r=0,t.lookahead>=Gt&&(t.ins_h=uA(t,t.ins_h,t.window[t.strstart+Gt-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Gt-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-xa&&(t.match_length=bS(t,r),t.match_length<=5&&(t.strategy===o6||t.match_length===Gt&&t.strstart-t.match_start>4096)&&(t.match_length=Gt-1)),t.prev_length>=Gt&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-Gt,n=lA(t,t.strstart-1-t.prev_match,t.prev_length-Gt),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=s&&(t.ins_h=uA(t,t.ins_h,t.window[t.strstart+Gt-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Gt-1,t.strstart++,n&&(ni(t,!1),t.strm.avail_out===0))return ys}else if(t.match_available){if(n=lA(t,0,t.window[t.strstart-1]),n&&ni(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return ys}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=lA(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Gt-1?t.strstart:Gt-1,e===Si?(ni(t,!0),t.strm.avail_out===0?dl:Xc):t.sym_next&&(ni(t,!1),t.strm.avail_out===0)?ys:Jc},C6=(t,e)=>{let r,n,s,i;const a=t.window;for(;;){if(t.lookahead<=qo){if(Oc(t),t.lookahead<=qo&&e===cA)return ys;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Gt&&t.strstart>0&&(s=t.strstart-1,n=a[s],n===a[++s]&&n===a[++s]&&n===a[++s])){i=t.strstart+qo;do;while(n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&s<i);t.match_length=qo-(i-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Gt?(r=lA(t,1,t.match_length-Gt),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=lA(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(ni(t,!1),t.strm.avail_out===0))return ys}return t.insert=0,e===Si?(ni(t,!0),t.strm.avail_out===0?dl:Xc):t.sym_next&&(ni(t,!1),t.strm.avail_out===0)?ys:Jc},S6=(t,e)=>{let r;for(;;){if(t.lookahead===0&&(Oc(t),t.lookahead===0)){if(e===cA)return ys;break}if(t.match_length=0,r=lA(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(ni(t,!1),t.strm.avail_out===0))return ys}return t.insert=0,e===Si?(ni(t,!0),t.strm.avail_out===0?dl:Xc):t.sym_next&&(ni(t,!1),t.strm.avail_out===0)?ys:Jc};function da(t,e,r,n,s){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=s}const Tu=[new da(0,0,0,0,BS),new da(4,4,8,4,Rm),new da(4,5,16,8,Rm),new da(4,6,32,32,Rm),new da(4,4,16,16,Rl),new da(8,16,32,32,Rl),new da(8,16,128,128,Rl),new da(8,32,128,256,Rl),new da(32,128,258,1024,Rl),new da(32,258,258,4096,Rl)],E6=t=>{t.window_size=2*t.w_size,$o(t.head),t.max_lazy_match=Tu[t.level].max_lazy,t.good_match=Tu[t.level].good_length,t.nice_match=Tu[t.level].nice_length,t.max_chain_length=Tu[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Gt-1,t.match_available=0,t.ins_h=0};function k6(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=yg,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(w6*2),this.dyn_dtree=new Uint16Array((2*m6+1)*2),this.bl_tree=new Uint16Array((2*v6+1)*2),$o(this.dyn_ltree),$o(this.dyn_dtree),$o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(y6+1),this.heap=new Uint16Array(2*V1+1),$o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*V1+1),$o(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const nh=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Pc&&e.status!==Ow&&e.status!==G1&&e.status!==W1&&e.status!==q1&&e.status!==J1&&e.status!==YA&&e.status!==Du?1:0},xS=t=>{if(nh(t))return ZA(t,Ba);t.total_in=t.total_out=0,t.data_type=u6;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?Ow:e.wrap?Pc:YA,t.adler=e.wrap===2?0:1,e.last_flush=-2,e6(e),zn},_S=t=>{const e=xS(t);return e===zn&&E6(t.state),e},N6=(t,e)=>nh(t)||t.state.wrap!==2?Ba:(t.state.gzhead=e,zn),CS=(t,e,r,n,s,i)=>{if(!t)return Ba;let a=1;if(e===a6&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),s<1||s>d6||r!==yg||n<8||n>15||e<0||e>9||i<0||i>l6||n===8&&a!==1)return ZA(t,Ba);n===8&&(n=9);const A=new k6;return t.state=A,A.strm=t,A.status=Pc,A.wrap=a,A.gzhead=null,A.w_bits=n,A.w_size=1<<A.w_bits,A.w_mask=A.w_size-1,A.hash_bits=s+7,A.hash_size=1<<A.hash_bits,A.hash_mask=A.hash_size-1,A.hash_shift=~~((A.hash_bits+Gt-1)/Gt),A.window=new Uint8Array(A.w_size*2),A.head=new Uint16Array(A.hash_size),A.prev=new Uint16Array(A.w_size),A.lit_bufsize=1<<s+6,A.pending_buf_size=A.lit_bufsize*4,A.pending_buf=new Uint8Array(A.pending_buf_size),A.sym_buf=A.lit_bufsize,A.sym_end=(A.lit_bufsize-1)*3,A.level=e,A.strategy=i,A.method=r,_S(t)},F6=(t,e)=>CS(t,e,yg,h6,f6,c6),U6=(t,e)=>{if(nh(t)||e>Wb||e<0)return t?ZA(t,Ba):Ba;const r=t.state;if(!t.output||t.avail_in!==0&&!t.input||r.status===Du&&e!==Si)return ZA(t,t.avail_out===0?Om:Ba);const n=r.last_flush;if(r.last_flush=e,r.pending!==0){if(Xs(t),t.avail_out===0)return r.last_flush=-1,zn}else if(t.avail_in===0&&Jb(e)<=Jb(n)&&e!==Si)return ZA(t,Om);if(r.status===Du&&t.avail_in!==0)return ZA(t,Om);if(r.status===Pc&&r.wrap===0&&(r.status=YA),r.status===Pc){let s=yg+(r.w_bits-8<<4)<<8,i=-1;if(r.strategy>=rf||r.level<2?i=0:r.level<6?i=1:r.level===6?i=2:i=3,s|=i<<6,r.strstart!==0&&(s|=b6),s+=31-s%31,Cu(r,s),r.strstart!==0&&(Cu(r,t.adler>>>16),Cu(r,t.adler&65535)),t.adler=1,r.status=YA,Xs(t),r.pending!==0)return r.last_flush=-1,zn}if(r.status===Ow){if(t.adler=0,Zt(r,31),Zt(r,139),Zt(r,8),r.gzhead)Zt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Zt(r,r.gzhead.time&255),Zt(r,r.gzhead.time>>8&255),Zt(r,r.gzhead.time>>16&255),Zt(r,r.gzhead.time>>24&255),Zt(r,r.level===9?2:r.strategy>=rf||r.level<2?4:0),Zt(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Zt(r,r.gzhead.extra.length&255),Zt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=Nn(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=G1;else if(Zt(r,0),Zt(r,0),Zt(r,0),Zt(r,0),Zt(r,0),Zt(r,r.level===9?2:r.strategy>=rf||r.level<2?4:0),Zt(r,B6),r.status=YA,Xs(t),r.pending!==0)return r.last_flush=-1,zn}if(r.status===G1){if(r.gzhead.extra){let s=r.pending,i=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let A=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+A),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>s&&(t.adler=Nn(t.adler,r.pending_buf,r.pending-s,s)),r.gzindex+=A,Xs(t),r.pending!==0)return r.last_flush=-1,zn;s=0,i-=A}let a=new Uint8Array(r.gzhead.extra);r.pending_buf.set(a.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>s&&(t.adler=Nn(t.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=W1}if(r.status===W1){if(r.gzhead.name){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(t.adler=Nn(t.adler,r.pending_buf,r.pending-s,s)),Xs(t),r.pending!==0)return r.last_flush=-1,zn;s=0}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,Zt(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(t.adler=Nn(t.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=q1}if(r.status===q1){if(r.gzhead.comment){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(t.adler=Nn(t.adler,r.pending_buf,r.pending-s,s)),Xs(t),r.pending!==0)return r.last_flush=-1,zn;s=0}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,Zt(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(t.adler=Nn(t.adler,r.pending_buf,r.pending-s,s))}r.status=J1}if(r.status===J1){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Xs(t),r.pending!==0))return r.last_flush=-1,zn;Zt(r,t.adler&255),Zt(r,t.adler>>8&255),t.adler=0}if(r.status=YA,Xs(t),r.pending!==0)return r.last_flush=-1,zn}if(t.avail_in!==0||r.lookahead!==0||e!==cA&&r.status!==Du){let s=r.level===0?BS(r,e):r.strategy===rf?S6(r,e):r.strategy===A6?C6(r,e):Tu[r.level].func(r,e);if((s===dl||s===Xc)&&(r.status=Du),s===ys||s===dl)return t.avail_out===0&&(r.last_flush=-1),zn;if(s===Jc&&(e===n6?r6(r):e!==Wb&&($1(r,0,0,!1),e===s6&&($o(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Xs(t),t.avail_out===0))return r.last_flush=-1,zn}return e!==Si?zn:r.wrap<=0?qb:(r.wrap===2?(Zt(r,t.adler&255),Zt(r,t.adler>>8&255),Zt(r,t.adler>>16&255),Zt(r,t.adler>>24&255),Zt(r,t.total_in&255),Zt(r,t.total_in>>8&255),Zt(r,t.total_in>>16&255),Zt(r,t.total_in>>24&255)):(Cu(r,t.adler>>>16),Cu(r,t.adler&65535)),Xs(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?zn:qb)},j6=t=>{if(nh(t))return Ba;const e=t.state.status;return t.state=null,e===YA?ZA(t,i6):zn},I6=(t,e)=>{let r=e.length;if(nh(t))return Ba;const n=t.state,s=n.wrap;if(s===2||s===1&&n.status!==Pc||n.lookahead)return Ba;if(s===1&&(t.adler=Od(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){s===0&&($o(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(e.subarray(r-n.w_size,r),0),e=l,r=n.w_size}const i=t.avail_in,a=t.next_in,A=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,Oc(n);n.lookahead>=Gt;){let l=n.strstart,c=n.lookahead-(Gt-1);do n.ins_h=uA(n,n.ins_h,n.window[l+Gt-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--c);n.strstart=l,n.lookahead=Gt-1,Oc(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Gt-1,n.match_available=0,t.next_in=a,t.input=A,t.avail_in=i,n.wrap=s,zn};var L6=F6,Q6=CS,D6=_S,T6=xS,P6=N6,O6=U6,R6=j6,H6=I6,M6="pako deflate (from Nodeca project)",ad={deflateInit:L6,deflateInit2:Q6,deflateReset:D6,deflateResetKeep:T6,deflateSetHeader:P6,deflate:O6,deflateEnd:R6,deflateSetDictionary:H6,deflateInfo:M6};const z6=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var K6=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)z6(r,n)&&(t[n]=r[n])}}return t},$6=t=>{let e=0;for(let n=0,s=t.length;n<s;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,s=0,i=t.length;n<i;n++){let a=t[n];r.set(a,s),s+=a.length}return r},bg={assign:K6,flattenChunks:$6};let SS=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{SS=!1}const Rd=new Uint8Array(256);for(let t=0;t<256;t++)Rd[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Rd[254]=Rd[254]=1;var V6=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,s,i,a=t.length,A=0;for(s=0;s<a;s++)r=t.charCodeAt(s),(r&64512)===55296&&s+1<a&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),A+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(A),i=0,s=0;i<A;s++)r=t.charCodeAt(s),(r&64512)===55296&&s+1<a&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const G6=(t,e)=>{if(e<65534&&t.subarray&&SS)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var W6=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let a=t[n++];if(a<128){i[s++]=a;continue}let A=Rd[a];if(A>4){i[s++]=65533,n+=A-1;continue}for(a&=A===2?31:A===3?15:7;A>1&&n<r;)a=a<<6|t[n++]&63,A--;if(A>1){i[s++]=65533;continue}a<65536?i[s++]=a:(a-=65536,i[s++]=55296|a>>10&1023,i[s++]=56320|a&1023)}return G6(i,s)},q6=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Rd[t[r]]>e?r:e},Hd={string2buf:V6,buf2string:W6,utf8border:q6};function J6(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ES=J6;const kS=Object.prototype.toString,{Z_NO_FLUSH:X6,Z_SYNC_FLUSH:Y6,Z_FULL_FLUSH:Z6,Z_FINISH:e8,Z_OK:Hp,Z_STREAM_END:t8,Z_DEFAULT_COMPRESSION:r8,Z_DEFAULT_STRATEGY:n8,Z_DEFLATED:s8}=rh;function Rw(t){this.options=bg.assign({level:r8,method:s8,chunkSize:16384,windowBits:15,memLevel:8,strategy:n8},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ES,this.strm.avail_out=0;let r=ad.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Hp)throw new Error(Tc[r]);if(e.header&&ad.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=Hd.string2buf(e.dictionary):kS.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=ad.deflateSetDictionary(this.strm,n),r!==Hp)throw new Error(Tc[r]);this._dict_set=!0}}Rw.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let s,i;if(this.ended)return!1;for(e===~~e?i=e:i=e===!0?e8:X6,typeof t=="string"?r.input=Hd.string2buf(t):kS.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(i===Y6||i===Z6)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(s=ad.deflate(r,i),s===t8)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),s=ad.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===Hp;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};Rw.prototype.onData=function(t){this.chunks.push(t)};Rw.prototype.onEnd=function(t){t===Hp&&(this.result=bg.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const nf=16209,i8=16191;var a8=function(e,r){let n,s,i,a,A,l,c,u,h,p,d,w,m,y,g,b,B,C,N,L,Q,P,k,$;const D=e.state;n=e.next_in,k=e.input,s=n+(e.avail_in-5),i=e.next_out,$=e.output,a=i-(r-e.avail_out),A=i+(e.avail_out-257),l=D.dmax,c=D.wsize,u=D.whave,h=D.wnext,p=D.window,d=D.hold,w=D.bits,m=D.lencode,y=D.distcode,g=(1<<D.lenbits)-1,b=(1<<D.distbits)-1;e:do{w<15&&(d+=k[n++]<<w,w+=8,d+=k[n++]<<w,w+=8),B=m[d&g];t:for(;;){if(C=B>>>24,d>>>=C,w-=C,C=B>>>16&255,C===0)$[i++]=B&65535;else if(C&16){N=B&65535,C&=15,C&&(w<C&&(d+=k[n++]<<w,w+=8),N+=d&(1<<C)-1,d>>>=C,w-=C),w<15&&(d+=k[n++]<<w,w+=8,d+=k[n++]<<w,w+=8),B=y[d&b];r:for(;;){if(C=B>>>24,d>>>=C,w-=C,C=B>>>16&255,C&16){if(L=B&65535,C&=15,w<C&&(d+=k[n++]<<w,w+=8,w<C&&(d+=k[n++]<<w,w+=8)),L+=d&(1<<C)-1,L>l){e.msg="invalid distance too far back",D.mode=nf;break e}if(d>>>=C,w-=C,C=i-a,L>C){if(C=L-C,C>u&&D.sane){e.msg="invalid distance too far back",D.mode=nf;break e}if(Q=0,P=p,h===0){if(Q+=c-C,C<N){N-=C;do $[i++]=p[Q++];while(--C);Q=i-L,P=$}}else if(h<C){if(Q+=c+h-C,C-=h,C<N){N-=C;do $[i++]=p[Q++];while(--C);if(Q=0,h<N){C=h,N-=C;do $[i++]=p[Q++];while(--C);Q=i-L,P=$}}}else if(Q+=h-C,C<N){N-=C;do $[i++]=p[Q++];while(--C);Q=i-L,P=$}for(;N>2;)$[i++]=P[Q++],$[i++]=P[Q++],$[i++]=P[Q++],N-=3;N&&($[i++]=P[Q++],N>1&&($[i++]=P[Q++]))}else{Q=i-L;do $[i++]=$[Q++],$[i++]=$[Q++],$[i++]=$[Q++],N-=3;while(N>2);N&&($[i++]=$[Q++],N>1&&($[i++]=$[Q++]))}}else if(C&64){e.msg="invalid distance code",D.mode=nf;break e}else{B=y[(B&65535)+(d&(1<<C)-1)];continue r}break}}else if(C&64)if(C&32){D.mode=i8;break e}else{e.msg="invalid literal/length code",D.mode=nf;break e}else{B=m[(B&65535)+(d&(1<<C)-1)];continue t}break}}while(n<s&&i<A);N=w>>3,n-=N,w-=N<<3,d&=(1<<w)-1,e.next_in=n,e.next_out=i,e.avail_in=n<s?5+(s-n):5-(n-s),e.avail_out=i<A?257+(A-i):257-(i-A),D.hold=d,D.bits=w};const Hl=15,Xb=852,Yb=592,Zb=0,Hm=1,eB=2,o8=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),A8=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),l8=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),c8=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),u8=(t,e,r,n,s,i,a,A)=>{const l=A.bits;let c=0,u=0,h=0,p=0,d=0,w=0,m=0,y=0,g=0,b=0,B,C,N,L,Q,P=null,k;const $=new Uint16Array(Hl+1),D=new Uint16Array(Hl+1);let U=null,H,S,ee;for(c=0;c<=Hl;c++)$[c]=0;for(u=0;u<n;u++)$[e[r+u]]++;for(d=l,p=Hl;p>=1&&$[p]===0;p--);if(d>p&&(d=p),p===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,A.bits=1,0;for(h=1;h<p&&$[h]===0;h++);for(d<h&&(d=h),y=1,c=1;c<=Hl;c++)if(y<<=1,y-=$[c],y<0)return-1;if(y>0&&(t===Zb||p!==1))return-1;for(D[1]=0,c=1;c<Hl;c++)D[c+1]=D[c]+$[c];for(u=0;u<n;u++)e[r+u]!==0&&(a[D[e[r+u]]++]=u);if(t===Zb?(P=U=a,k=20):t===Hm?(P=o8,U=A8,k=257):(P=l8,U=c8,k=0),b=0,u=0,c=h,Q=i,w=d,m=0,N=-1,g=1<<d,L=g-1,t===Hm&&g>Xb||t===eB&&g>Yb)return 1;for(;;){H=c-m,a[u]+1<k?(S=0,ee=a[u]):a[u]>=k?(S=U[a[u]-k],ee=P[a[u]-k]):(S=32+64,ee=0),B=1<<c-m,C=1<<w,h=C;do C-=B,s[Q+(b>>m)+C]=H<<24|S<<16|ee|0;while(C!==0);for(B=1<<c-1;b&B;)B>>=1;if(B!==0?(b&=B-1,b+=B):b=0,u++,--$[c]===0){if(c===p)break;c=e[r+a[u]]}if(c>d&&(b&L)!==N){for(m===0&&(m=d),Q+=h,w=c-m,y=1<<w;w+m<p&&(y-=$[w+m],!(y<=0));)w++,y<<=1;if(g+=1<<w,t===Hm&&g>Xb||t===eB&&g>Yb)return 1;N=b&L,s[N]=d<<24|w<<16|Q-i|0}}return b!==0&&(s[Q+b]=c-m<<24|64<<16|0),A.bits=d,0};var od=u8;const d8=0,NS=1,FS=2,{Z_FINISH:tB,Z_BLOCK:h8,Z_TREES:sf,Z_OK:hl,Z_STREAM_END:f8,Z_NEED_DICT:p8,Z_STREAM_ERROR:Ii,Z_DATA_ERROR:US,Z_MEM_ERROR:jS,Z_BUF_ERROR:g8,Z_DEFLATED:rB}=rh,Bg=16180,nB=16181,sB=16182,iB=16183,aB=16184,oB=16185,AB=16186,lB=16187,cB=16188,uB=16189,Mp=16190,Ma=16191,Mm=16192,dB=16193,zm=16194,hB=16195,fB=16196,pB=16197,gB=16198,af=16199,of=16200,mB=16201,vB=16202,wB=16203,yB=16204,bB=16205,Km=16206,BB=16207,xB=16208,Lr=16209,IS=16210,LS=16211,m8=852,v8=592,w8=15,y8=w8,_B=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function b8(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const vl=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Bg||e.mode>LS?1:0},QS=t=>{if(vl(t))return Ii;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Bg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(m8),e.distcode=e.distdyn=new Int32Array(v8),e.sane=1,e.back=-1,hl},DS=t=>{if(vl(t))return Ii;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,QS(t)},TS=(t,e)=>{let r;if(vl(t))return Ii;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ii:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,DS(t))},PS=(t,e)=>{if(!t)return Ii;const r=new b8;t.state=r,r.strm=t,r.window=null,r.mode=Bg;const n=TS(t,e);return n!==hl&&(t.state=null),n},B8=t=>PS(t,y8);let CB=!0,$m,Vm;const x8=t=>{if(CB){$m=new Int32Array(512),Vm=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(od(NS,t.lens,0,288,$m,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;od(FS,t.lens,0,32,Vm,0,t.work,{bits:5}),CB=!1}t.lencode=$m,t.lenbits=9,t.distcode=Vm,t.distbits=5},OS=(t,e,r,n)=>{let s;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(e.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(e.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},_8=(t,e)=>{let r,n,s,i,a,A,l,c,u,h,p,d,w,m,y=0,g,b,B,C,N,L,Q,P;const k=new Uint8Array(4);let $,D;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(vl(t)||!t.output||!t.input&&t.avail_in!==0)return Ii;r=t.state,r.mode===Ma&&(r.mode=Mm),a=t.next_out,s=t.output,l=t.avail_out,i=t.next_in,n=t.input,A=t.avail_in,c=r.hold,u=r.bits,h=A,p=l,P=hl;e:for(;;)switch(r.mode){case Bg:if(r.wrap===0){r.mode=Mm;break}for(;u<16;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,k[0]=c&255,k[1]=c>>>8&255,r.check=Nn(r.check,k,2,0),c=0,u=0,r.mode=nB;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Lr;break}if((c&15)!==rB){t.msg="unknown compression method",r.mode=Lr;break}if(c>>>=4,u-=4,Q=(c&15)+8,r.wbits===0&&(r.wbits=Q),Q>15||Q>r.wbits){t.msg="invalid window size",r.mode=Lr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?uB:Ma,c=0,u=0;break;case nB:for(;u<16;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==rB){t.msg="unknown compression method",r.mode=Lr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Lr;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,r.check=Nn(r.check,k,2,0)),c=0,u=0,r.mode=sB;case sB:for(;u<32;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,k[2]=c>>>16&255,k[3]=c>>>24&255,r.check=Nn(r.check,k,4,0)),c=0,u=0,r.mode=iB;case iB:for(;u<16;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,r.check=Nn(r.check,k,2,0)),c=0,u=0,r.mode=aB;case aB:if(r.flags&1024){for(;u<16;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,r.check=Nn(r.check,k,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=oB;case oB:if(r.flags&1024&&(d=r.length,d>A&&(d=A),d&&(r.head&&(Q=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+d),Q)),r.flags&512&&r.wrap&4&&(r.check=Nn(r.check,n,d,i)),A-=d,i+=d,r.length-=d),r.length))break e;r.length=0,r.mode=AB;case AB:if(r.flags&2048){if(A===0)break e;d=0;do Q=n[i+d++],r.head&&Q&&r.length<65536&&(r.head.name+=String.fromCharCode(Q));while(Q&&d<A);if(r.flags&512&&r.wrap&4&&(r.check=Nn(r.check,n,d,i)),A-=d,i+=d,Q)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=lB;case lB:if(r.flags&4096){if(A===0)break e;d=0;do Q=n[i+d++],r.head&&Q&&r.length<65536&&(r.head.comment+=String.fromCharCode(Q));while(Q&&d<A);if(r.flags&512&&r.wrap&4&&(r.check=Nn(r.check,n,d,i)),A-=d,i+=d,Q)break e}else r.head&&(r.head.comment=null);r.mode=cB;case cB:if(r.flags&512){for(;u<16;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Lr;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Ma;break;case uB:for(;u<32;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}t.adler=r.check=_B(c),c=0,u=0,r.mode=Mp;case Mp:if(r.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=i,t.avail_in=A,r.hold=c,r.bits=u,p8;t.adler=r.check=1,r.mode=Ma;case Ma:if(e===h8||e===sf)break e;case Mm:if(r.last){c>>>=u&7,u-=u&7,r.mode=Km;break}for(;u<3;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=dB;break;case 1:if(x8(r),r.mode=af,e===sf){c>>>=2,u-=2;break e}break;case 2:r.mode=fB;break;case 3:t.msg="invalid block type",r.mode=Lr}c>>>=2,u-=2;break;case dB:for(c>>>=u&7,u-=u&7;u<32;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Lr;break}if(r.length=c&65535,c=0,u=0,r.mode=zm,e===sf)break e;case zm:r.mode=hB;case hB:if(d=r.length,d){if(d>A&&(d=A),d>l&&(d=l),d===0)break e;s.set(n.subarray(i,i+d),a),A-=d,i+=d,l-=d,a+=d,r.length-=d;break}r.mode=Ma;break;case fB:for(;u<14;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Lr;break}r.have=0,r.mode=pB;case pB:for(;r.have<r.ncode;){for(;u<3;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}r.lens[U[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,$={bits:r.lenbits},P=od(d8,r.lens,0,19,r.lencode,0,r.work,$),r.lenbits=$.bits,P){t.msg="invalid code lengths set",r.mode=Lr;break}r.have=0,r.mode=gB;case gB:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[c&(1<<r.lenbits)-1],g=y>>>24,b=y>>>16&255,B=y&65535,!(g<=u);){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}if(B<16)c>>>=g,u-=g,r.lens[r.have++]=B;else{if(B===16){for(D=g+2;u<D;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}if(c>>>=g,u-=g,r.have===0){t.msg="invalid bit length repeat",r.mode=Lr;break}Q=r.lens[r.have-1],d=3+(c&3),c>>>=2,u-=2}else if(B===17){for(D=g+3;u<D;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}c>>>=g,u-=g,Q=0,d=3+(c&7),c>>>=3,u-=3}else{for(D=g+7;u<D;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}c>>>=g,u-=g,Q=0,d=11+(c&127),c>>>=7,u-=7}if(r.have+d>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Lr;break}for(;d--;)r.lens[r.have++]=Q}}if(r.mode===Lr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Lr;break}if(r.lenbits=9,$={bits:r.lenbits},P=od(NS,r.lens,0,r.nlen,r.lencode,0,r.work,$),r.lenbits=$.bits,P){t.msg="invalid literal/lengths set",r.mode=Lr;break}if(r.distbits=6,r.distcode=r.distdyn,$={bits:r.distbits},P=od(FS,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,$),r.distbits=$.bits,P){t.msg="invalid distances set",r.mode=Lr;break}if(r.mode=af,e===sf)break e;case af:r.mode=of;case of:if(A>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=i,t.avail_in=A,r.hold=c,r.bits=u,a8(t,p),a=t.next_out,s=t.output,l=t.avail_out,i=t.next_in,n=t.input,A=t.avail_in,c=r.hold,u=r.bits,r.mode===Ma&&(r.back=-1);break}for(r.back=0;y=r.lencode[c&(1<<r.lenbits)-1],g=y>>>24,b=y>>>16&255,B=y&65535,!(g<=u);){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}if(b&&!(b&240)){for(C=g,N=b,L=B;y=r.lencode[L+((c&(1<<C+N)-1)>>C)],g=y>>>24,b=y>>>16&255,B=y&65535,!(C+g<=u);){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}c>>>=C,u-=C,r.back+=C}if(c>>>=g,u-=g,r.back+=g,r.length=B,b===0){r.mode=bB;break}if(b&32){r.back=-1,r.mode=Ma;break}if(b&64){t.msg="invalid literal/length code",r.mode=Lr;break}r.extra=b&15,r.mode=mB;case mB:if(r.extra){for(D=r.extra;u<D;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=vB;case vB:for(;y=r.distcode[c&(1<<r.distbits)-1],g=y>>>24,b=y>>>16&255,B=y&65535,!(g<=u);){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}if(!(b&240)){for(C=g,N=b,L=B;y=r.distcode[L+((c&(1<<C+N)-1)>>C)],g=y>>>24,b=y>>>16&255,B=y&65535,!(C+g<=u);){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}c>>>=C,u-=C,r.back+=C}if(c>>>=g,u-=g,r.back+=g,b&64){t.msg="invalid distance code",r.mode=Lr;break}r.offset=B,r.extra=b&15,r.mode=wB;case wB:if(r.extra){for(D=r.extra;u<D;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Lr;break}r.mode=yB;case yB:if(l===0)break e;if(d=p-l,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Lr;break}d>r.wnext?(d-=r.wnext,w=r.wsize-d):w=r.wnext-d,d>r.length&&(d=r.length),m=r.window}else m=s,w=a-r.offset,d=r.length;d>l&&(d=l),l-=d,r.length-=d;do s[a++]=m[w++];while(--d);r.length===0&&(r.mode=of);break;case bB:if(l===0)break e;s[a++]=r.length,l--,r.mode=of;break;case Km:if(r.wrap){for(;u<32;){if(A===0)break e;A--,c|=n[i++]<<u,u+=8}if(p-=l,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Nn(r.check,s,p,a-p):Od(r.check,s,p,a-p)),p=l,r.wrap&4&&(r.flags?c:_B(c))!==r.check){t.msg="incorrect data check",r.mode=Lr;break}c=0,u=0}r.mode=BB;case BB:if(r.wrap&&r.flags){for(;u<32;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Lr;break}c=0,u=0}r.mode=xB;case xB:P=f8;break e;case Lr:P=US;break e;case IS:return jS;case LS:default:return Ii}return t.next_out=a,t.avail_out=l,t.next_in=i,t.avail_in=A,r.hold=c,r.bits=u,(r.wsize||p!==t.avail_out&&r.mode<Lr&&(r.mode<Km||e!==tB))&&OS(t,t.output,t.next_out,p-t.avail_out),h-=t.avail_in,p-=t.avail_out,t.total_in+=h,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Nn(r.check,s,p,t.next_out-p):Od(r.check,s,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Ma?128:0)+(r.mode===af||r.mode===zm?256:0),(h===0&&p===0||e===tB)&&P===hl&&(P=g8),P},C8=t=>{if(vl(t))return Ii;let e=t.state;return e.window&&(e.window=null),t.state=null,hl},S8=(t,e)=>{if(vl(t))return Ii;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,hl):Ii},E8=(t,e)=>{const r=e.length;let n,s,i;return vl(t)||(n=t.state,n.wrap!==0&&n.mode!==Mp)?Ii:n.mode===Mp&&(s=1,s=Od(s,e,r,0),s!==n.check)?US:(i=OS(t,e,r,r),i?(n.mode=IS,jS):(n.havedict=1,hl))};var k8=DS,N8=TS,F8=QS,U8=B8,j8=PS,I8=_8,L8=C8,Q8=S8,D8=E8,T8="pako inflate (from Nodeca project)",qa={inflateReset:k8,inflateReset2:N8,inflateResetKeep:F8,inflateInit:U8,inflateInit2:j8,inflate:I8,inflateEnd:L8,inflateGetHeader:Q8,inflateSetDictionary:D8,inflateInfo:T8};function P8(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var O8=P8;const RS=Object.prototype.toString,{Z_NO_FLUSH:R8,Z_FINISH:H8,Z_OK:Md,Z_STREAM_END:Gm,Z_NEED_DICT:Wm,Z_STREAM_ERROR:M8,Z_DATA_ERROR:SB,Z_MEM_ERROR:z8}=rh;function sh(t){this.options=bg.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ES,this.strm.avail_out=0;let r=qa.inflateInit2(this.strm,e.windowBits);if(r!==Md)throw new Error(Tc[r]);if(this.header=new O8,qa.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Hd.string2buf(e.dictionary):RS.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=qa.inflateSetDictionary(this.strm,e.dictionary),r!==Md)))throw new Error(Tc[r])}sh.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,a,A;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?H8:R8,RS.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=qa.inflate(r,a),i===Wm&&s&&(i=qa.inflateSetDictionary(r,s),i===Md?i=qa.inflate(r,a):i===SB&&(i=Wm));r.avail_in>0&&i===Gm&&r.state.wrap>0&&t[r.next_in]!==0;)qa.inflateReset(r),i=qa.inflate(r,a);switch(i){case M8:case SB:case Wm:case z8:return this.onEnd(i),this.ended=!0,!1}if(A=r.avail_out,r.next_out&&(r.avail_out===0||i===Gm))if(this.options.to==="string"){let l=Hd.utf8border(r.output,r.next_out),c=r.next_out-l,u=Hd.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Md&&A===0)){if(i===Gm)return i=qa.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};sh.prototype.onData=function(t){this.chunks.push(t)};sh.prototype.onEnd=function(t){t===Md&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=bg.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Hw(t,e){const r=new sh(e);if(r.push(t),r.err)throw r.msg||Tc[r.err];return r.result}function K8(t,e){return e=e||{},e.raw=!0,Hw(t,e)}var $8=sh,V8=Hw,G8=K8,W8=Hw,q8=rh,J8={Inflate:$8,inflate:V8,inflateRaw:G8,ungzip:W8,constants:q8};const{Inflate:X8,inflate:Y8,inflateRaw:q7,ungzip:J7}=J8;var EB=X8,Z8=Y8;const HS=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;HS[t]=e}const kB=4294967295;function eD(t,e,r){let n=t;for(let s=0;s<r;s++)n=HS[(n^e[s])&255]^n>>>8;return n}function tD(t,e){return(eD(kB,t,e)^kB)>>>0}function NB(t,e,r){const n=t.readUint32(),s=tD(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function MS(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function zS(t,e,r,n){let s=0;for(;s<n;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-n]&255}function KS(t,e,r,n){let s=0;if(r.length===0)for(;s<n;s++)e[s]=t[s];else for(;s<n;s++)e[s]=t[s]+r[s]&255}function $S(t,e,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+(e[i-s]>>1)&255}else{for(;i<s;i++)e[i]=t[i]+(r[i]>>1)&255;for(;i<n;i++)e[i]=t[i]+(e[i-s]+r[i]>>1)&255}}function VS(t,e,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-s]&255}else{for(;i<s;i++)e[i]=t[i]+r[i]&255;for(;i<n;i++)e[i]=t[i]+rD(e[i-s],r[i],r[i-s])&255}}function rD(t,e,r){const n=t+e-r,s=Math.abs(n-t),i=Math.abs(n-e),a=Math.abs(n-r);return s<=i&&s<=a?t:i<=a?e:r}function nD(t,e,r,n,s,i){switch(t){case 0:MS(e,r,s);break;case 1:zS(e,r,s,i);break;case 2:KS(e,r,n,s);break;case 3:$S(e,r,n,s,i);break;case 4:VS(e,r,n,s,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const sD=new Uint16Array([255]),iD=new Uint8Array(sD.buffer),aD=iD[0]===255;function oD(t){const{data:e,width:r,height:n,channels:s,depth:i}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],A=Math.ceil(i/8)*s,l=new Uint8Array(n*r*A);let c=0;for(let u=0;u<7;u++){const h=a[u],p=Math.ceil((r-h.x)/h.xStep),d=Math.ceil((n-h.y)/h.yStep);if(p<=0||d<=0)continue;const w=p*A,m=new Uint8Array(w);for(let y=0;y<d;y++){const g=e[c++],b=e.subarray(c,c+w);c+=w;const B=new Uint8Array(w);nD(g,b,B,m,w,A),m.set(B);for(let C=0;C<p;C++){const N=h.x+C*h.xStep,L=h.y+y*h.yStep;if(!(N>=r||L>=n))for(let Q=0;Q<A;Q++)l[(L*r+N)*A+Q]=B[C*A+Q]}}}if(i===16){const u=new Uint16Array(l.buffer);if(aD)for(let h=0;h<u.length;h++)u[h]=AD(u[h]);return u}else return l}function AD(t){return(t&255)<<8|t>>8&255}const lD=new Uint16Array([255]),cD=new Uint8Array(lD.buffer),uD=cD[0]===255,dD=new Uint8Array(0);function FB(t){const{data:e,width:r,height:n,channels:s,depth:i}=t,a=Math.ceil(i/8)*s,A=Math.ceil(i/8*s*r),l=new Uint8Array(n*A);let c=dD,u=0,h,p;for(let d=0;d<n;d++){switch(h=e.subarray(u+1,u+1+A),p=l.subarray(d*A,(d+1)*A),e[u]){case 0:MS(h,p,A);break;case 1:zS(h,p,A,a);break;case 2:KS(h,p,c,A);break;case 3:$S(h,p,c,A,a);break;case 4:VS(h,p,c,A,a);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=p,u+=A+1}if(i===16){const d=new Uint16Array(l.buffer);if(uD)for(let w=0;w<d.length;w++)d[w]=hD(d[w]);return d}else return l}function hD(t){return(t&255)<<8|t>>8&255}const Xf=Uint8Array.of(137,80,78,71,13,10,26,10);function UB(t){if(!fD(t.readBytes(Xf.length)))throw new Error("wrong PNG signature")}function fD(t){if(t.length<Xf.length)return!1;for(let e=0;e<Xf.length;e++)if(t[e]!==Xf[e])return!1;return!0}const pD="tEXt",gD=0,GS=new TextDecoder("latin1");function mD(t){if(wD(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const vD=/^[\u0000-\u00FF]*$/;function wD(t){if(!vD.test(t))throw new Error("invalid latin1 text")}function yD(t,e,r){const n=WS(e);t[n]=bD(e,r-n.length-1)}function WS(t){for(t.mark();t.readByte()!==gD;);const e=t.offset;t.reset();const r=GS.decode(t.readBytes(e-t.offset-1));return t.skip(1),mD(r),r}function bD(t,e){return GS.decode(t.readBytes(e))}const Ws={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},qm={UNKNOWN:-1,DEFLATE:0},jB={UNKNOWN:-1,ADAPTIVE:0},Jm={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Af={NONE:0,BACKGROUND:1,PREVIOUS:2},Xm={SOURCE:0,OVER:1};class BD extends Lw{constructor(r,n={}){super(r);Ar(this,"_checkCrc");Ar(this,"_inflator");Ar(this,"_png");Ar(this,"_apng");Ar(this,"_end");Ar(this,"_hasPalette");Ar(this,"_palette");Ar(this,"_hasTransparency");Ar(this,"_transparency");Ar(this,"_compressionMethod");Ar(this,"_filterMethod");Ar(this,"_interlaceMethod");Ar(this,"_colorType");Ar(this,"_isAnimated");Ar(this,"_numberOfFrames");Ar(this,"_numberOfPlays");Ar(this,"_frames");Ar(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new EB,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=qm.UNKNOWN,this._filterMethod=jB.UNKNOWN,this._interlaceMethod=Jm.UNKNOWN,this._colorType=Ws.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(UB(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(UB(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case pD:yD(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?NB(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?NB(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=xD(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case Ws.GREYSCALE:s=1;break;case Ws.TRUECOLOUR:s=3;break;case Ws.INDEXED_COLOUR:s=1;break;case Ws.GREYSCALE_ALPHA:s=2;break;case Ws.TRUECOLOUR_ALPHA:s=4;break;case Ws.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==qm.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<n;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ws.GREYSCALE:case Ws.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ws.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ws.UNKNOWN:case Ws.GREYSCALE_ALPHA:case Ws.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=WS(this),s=this.readUint8();if(s!==qm.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Z8(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=FB({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case Af.NONE:break;case Af.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const A=(i*r.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)s.data[A+l]=0}break;case Af.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,i=(a,A)=>{const l=((a+n.yOffset)*this._png.width+n.xOffset+A)*this._png.channels,c=(a*n.width+A)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case Xm.SOURCE:for(let a=0;a<n.height;a++)for(let A=0;A<n.width;A++){const{index:l,frameIndex:c}=i(a,A);for(let u=0;u<this._png.channels;u++)r.data[l+u]=n.data[c+u]}break;case Xm.OVER:for(let a=0;a<n.height;a++)for(let A=0;A<n.width;A++){const{index:l,frameIndex:c}=i(a,A);for(let u=0;u<this._png.channels;u++){const h=n.data[c+this._png.channels-1]/s,p=u%(this._png.channels-1)===0?1:n.data[c+u],d=Math.floor(h*p+(1-h)*r.data[l+u]);r.data[l+u]+=d}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==jB.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Jm.NO_INTERLACE)this._png.data=FB({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Jm.ADAM7)this._png.data=oD({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Af.NONE,blendOp:Xm.SOURCE,data:r}),this._inflator=new EB,this._writingDataChunks=!1}}function xD(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var IB;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(IB||(IB={}));function _D(t,e){return new BD(t,e).decode()}var Lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ym(){Lt.console&&typeof Lt.console.log=="function"&&Lt.console.log.apply(Lt.console,arguments)}var pr={log:Ym,warn:function(t){Lt.console&&(typeof Lt.console.warn=="function"?Lt.console.warn.apply(Lt.console,arguments):Ym.call(null,arguments))},error:function(t){Lt.console&&(typeof Lt.console.error=="function"?Lt.console.error.apply(Lt.console,arguments):Ym(t))}};function Zm(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){HA(n.response,e,r)},n.onerror=function(){pr.error("could not download file")},n.send()}function LB(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function lf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var HA=Lt.saveAs||((typeof window>"u"?"undefined":lr(window))!=="object"||window!==Lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Lt.URL||Lt.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?LB(s.href)?Zm(t,e,r):lf(s,s.target="_blank"):lf(s)):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){lf(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(LB(t))Zm(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){lf(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:lr(i)!=="object"&&(pr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob([String.fromCharCode(65279),s],{type:s.type}):s}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Zm(t,e,r);var s=t.type==="application/octet-stream",i=/constructor/i.test(Lt.HTMLElement)||Lt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":lr(FileReader))==="object"){var A=new FileReader;A.onloadend=function(){var u=A.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},A.readAsDataURL(t)}else{var l=Lt.URL||Lt.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function qS(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(A){return[parseInt(A[1]),parseInt(A[2]),parseInt(A[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(A){return[parseInt(A[1],16),parseInt(A[2],16),parseInt(A[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(A){return[parseInt(A[1]+A[1],16),parseInt(A[2]+A[2],16),parseInt(A[3]+A[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,a=s.exec(t);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var A=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return A.length==1&&(A="0"+A),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+A+l+c}}var Yf=Lt.atob.bind(Lt),QB=Lt.btoa.bind(Lt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function e0(t,e){var r=t[0],n=t[1],s=t[2],i=t[3];r=rs(r,n,s,i,e[0],7,-680876936),i=rs(i,r,n,s,e[1],12,-389564586),s=rs(s,i,r,n,e[2],17,606105819),n=rs(n,s,i,r,e[3],22,-1044525330),r=rs(r,n,s,i,e[4],7,-176418897),i=rs(i,r,n,s,e[5],12,1200080426),s=rs(s,i,r,n,e[6],17,-1473231341),n=rs(n,s,i,r,e[7],22,-45705983),r=rs(r,n,s,i,e[8],7,1770035416),i=rs(i,r,n,s,e[9],12,-1958414417),s=rs(s,i,r,n,e[10],17,-42063),n=rs(n,s,i,r,e[11],22,-1990404162),r=rs(r,n,s,i,e[12],7,1804603682),i=rs(i,r,n,s,e[13],12,-40341101),s=rs(s,i,r,n,e[14],17,-1502002290),r=ns(r,n=rs(n,s,i,r,e[15],22,1236535329),s,i,e[1],5,-165796510),i=ns(i,r,n,s,e[6],9,-1069501632),s=ns(s,i,r,n,e[11],14,643717713),n=ns(n,s,i,r,e[0],20,-373897302),r=ns(r,n,s,i,e[5],5,-701558691),i=ns(i,r,n,s,e[10],9,38016083),s=ns(s,i,r,n,e[15],14,-660478335),n=ns(n,s,i,r,e[4],20,-405537848),r=ns(r,n,s,i,e[9],5,568446438),i=ns(i,r,n,s,e[14],9,-1019803690),s=ns(s,i,r,n,e[3],14,-187363961),n=ns(n,s,i,r,e[8],20,1163531501),r=ns(r,n,s,i,e[13],5,-1444681467),i=ns(i,r,n,s,e[2],9,-51403784),s=ns(s,i,r,n,e[7],14,1735328473),r=ss(r,n=ns(n,s,i,r,e[12],20,-1926607734),s,i,e[5],4,-378558),i=ss(i,r,n,s,e[8],11,-2022574463),s=ss(s,i,r,n,e[11],16,1839030562),n=ss(n,s,i,r,e[14],23,-35309556),r=ss(r,n,s,i,e[1],4,-1530992060),i=ss(i,r,n,s,e[4],11,1272893353),s=ss(s,i,r,n,e[7],16,-155497632),n=ss(n,s,i,r,e[10],23,-1094730640),r=ss(r,n,s,i,e[13],4,681279174),i=ss(i,r,n,s,e[0],11,-358537222),s=ss(s,i,r,n,e[3],16,-722521979),n=ss(n,s,i,r,e[6],23,76029189),r=ss(r,n,s,i,e[9],4,-640364487),i=ss(i,r,n,s,e[12],11,-421815835),s=ss(s,i,r,n,e[15],16,530742520),r=is(r,n=ss(n,s,i,r,e[2],23,-995338651),s,i,e[0],6,-198630844),i=is(i,r,n,s,e[7],10,1126891415),s=is(s,i,r,n,e[14],15,-1416354905),n=is(n,s,i,r,e[5],21,-57434055),r=is(r,n,s,i,e[12],6,1700485571),i=is(i,r,n,s,e[3],10,-1894986606),s=is(s,i,r,n,e[10],15,-1051523),n=is(n,s,i,r,e[1],21,-2054922799),r=is(r,n,s,i,e[8],6,1873313359),i=is(i,r,n,s,e[15],10,-30611744),s=is(s,i,r,n,e[6],15,-1560198380),n=is(n,s,i,r,e[13],21,1309151649),r=is(r,n,s,i,e[4],6,-145523070),i=is(i,r,n,s,e[11],10,-1120210379),s=is(s,i,r,n,e[2],15,718787259),n=is(n,s,i,r,e[9],21,-343485551),t[0]=Jo(r,t[0]),t[1]=Jo(n,t[1]),t[2]=Jo(s,t[2]),t[3]=Jo(i,t[3])}function xg(t,e,r,n,s,i){return e=Jo(Jo(e,t),Jo(n,i)),Jo(e<<s|e>>>32-s,r)}function rs(t,e,r,n,s,i,a){return xg(e&r|~e&n,t,e,s,i,a)}function ns(t,e,r,n,s,i,a){return xg(e&n|r&~n,t,e,s,i,a)}function ss(t,e,r,n,s,i,a){return xg(e^r^n,t,e,s,i,a)}function is(t,e,r,n,s,i,a){return xg(r^(e|~n),t,e,s,i,a)}function JS(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)e0(n,CD(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(e0(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*r,e0(n,s),n}function CD(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var DB="0123456789abcdef".split("");function SD(t){for(var e="",r=0;r<4;r++)e+=DB[t>>8*r+4&15]+DB[t>>8*r&15];return e}function ED(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Y1(t){return JS(t).map(ED).join("")}var kD=function(t){for(var e=0;e<t.length;e++)t[e]=SD(t[e]);return t.join("")}(JS("hello"))!="5d41402abc4b2a76b9719d911017c592";function Jo(t,e){if(kD){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Z1(t,e){var r,n,s,i;if(t!==r){for(var a=(s=t,i=1+(256/t.length|0),new Array(i+1).join(s)),A=[],l=0;l<256;l++)A[l]=l;var c=0;for(l=0;l<256;l++){var u=A[l];c=(c+u+a.charCodeAt(l))%256,A[l]=A[c],A[c]=u}r=t,n=A}else A=n;var h=e.length,p=0,d=0,w="";for(l=0;l<h;l++)d=(d+(u=A[p=(p+1)%256]))%256,A[p]=A[d],A[d]=u,a=A[(A[p]+A[d])%256],w+=String.fromCharCode(e.charCodeAt(l)^a);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var TB={print:4,modify:8,copy:16,"annot-forms":32};function Yl(t,e,r,n){this.v=1,this.r=2;var s=192;t.forEach(function(A){if(TB.perm!==void 0)throw new Error("Invalid permission: "+A);s+=TB[A]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=Y1(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Z1(this.encryptionKey,this.padding)}function Zl(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var s=t.charCodeAt(n);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):t[n]}return e}function PB(t){if(lr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[r]){var a=e[r][i];try{a[0].apply(t,n)}catch(A){Lt.console&&pr.error("jsPDF PubSub Error",A.message,A)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function zp(t){if(!(this instanceof zp))return new zp(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function XS(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function $A(t,e,r,n,s){if(!(this instanceof $A))return new $A(t,e,r,n,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,XS.call(this,n,s)}function fc(t,e,r,n,s){if(!(this instanceof fc))return new fc(t,e,r,n,s);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,XS.call(this,n,s)}function kt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],A=1,l=16,c="S",u=null;lr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,s=t.format||s,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),A=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,p={},d={internal:{},__private__:{}};d.__private__.PubSub=PB;var w="1.3",m=d.__private__.getPdfVersion=function(){return w};d.__private__.setPdfVersion=function(_){w=_};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return y};var g=d.__private__.getPageFormat=function(_){return y[_]};s=s||"a4";var b="compat",B="advanced",C=b;function N(){this.saveGraphicsState(),I(new mt(At,0,0,-At,0,oa()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),c="n",C=B}function L(){this.restoreGraphicsState(),c="S",C=b}var Q=d.__private__.combineFontStyleAndFontWeight=function(_,R){if(_=="bold"&&R=="normal"||_=="bold"&&R==400||_=="normal"&&R=="italic"||_=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(_=R==400||R==="normal"?_==="italic"?"italic":"normal":R!=700&&R!=="bold"||_!=="normal"?(R==700?"bold":R)+""+_:"bold"),_};d.advancedAPI=function(_){var R=C===b;return R&&N.call(this),typeof _!="function"||(_(this),R&&L.call(this)),this},d.compatAPI=function(_){var R=C===B;return R&&L.call(this),typeof _!="function"||(_(this),R&&N.call(this)),this},d.isAdvancedAPI=function(){return C===B};var P,k=function(_){if(C!==B)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=d.roundToPrecision=d.__private__.roundToPrecision=function(_,R){var oe=e||R;if(isNaN(_)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(oe).replace(/0+$/,"")};P=d.hpf=d.__private__.hpf=typeof l=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return $(_,l)}:l==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return $(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return $(_,16)};var D=d.f2=d.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return $(_,2)},U=d.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return $(_,3)},H=d.scale=d.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return C===b?_*At:C===B?_:void 0},S=function(_){return H(function(R){return C===b?oa()-R:C===B?R:void 0}(_))};d.__private__.setPrecision=d.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var ee,ge="00000000000000000000000000000000",le=d.__private__.getFileId=function(){return ge},ne=d.__private__.setFileId=function(_){return ge=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():ge.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(mr=new Yl(u.userPermissions,u.userPassword,u.ownerPassword,ge)),ge};d.setFileId=function(_){return ne(_),this},d.getFileId=function(){return le()};var se=d.__private__.convertDateToPDFDate=function(_){var R=_.getTimezoneOffset(),oe=R<0?"+":"-",we=Math.floor(Math.abs(R/60)),Ne=Math.abs(R%60),He=[oe,O(we),"'",O(Ne),"'"].join("");return["D:",_.getFullYear(),O(_.getMonth()+1),O(_.getDate()),O(_.getHours()),O(_.getMinutes()),O(_.getSeconds()),He].join("")},ye=d.__private__.convertPDFDateToDate=function(_){var R=parseInt(_.substr(2,4),10),oe=parseInt(_.substr(6,2),10)-1,we=parseInt(_.substr(8,2),10),Ne=parseInt(_.substr(10,2),10),He=parseInt(_.substr(12,2),10),qe=parseInt(_.substr(14,2),10);return new Date(R,oe,we,Ne,He,qe,0)},re=d.__private__.setCreationDate=function(_){var R;if(_===void 0&&(_=new Date),_ instanceof Date)R=se(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=_}return ee=R},F=d.__private__.getCreationDate=function(_){var R=ee;return _==="jsDate"&&(R=ye(ee)),R};d.setCreationDate=function(_){return re(_),this},d.getCreationDate=function(_){return F(_)};var V,O=d.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},q=d.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},ce=0,ue=[],de=[],be=0,Ue=[],Ae=[],Se=!1,fe=de;d.__private__.setCustomOutputDestination=function(_){Se=!0,fe=_};var x=function(_){Se||(fe=_)};d.__private__.resetCustomOutputDestination=function(){Se=!1,fe=de};var I=d.__private__.out=function(_){return _=_.toString(),be+=_.length+1,fe.push(_),fe},pe=d.__private__.write=function(_){return I(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},Y=d.__private__.getArrayBuffer=function(_){for(var R=_.length,oe=new ArrayBuffer(R),we=new Uint8Array(oe);R--;)we[R]=_.charCodeAt(R);return oe},K=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return K};var J=t.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(_){return J=C===B?_/At:_,this};var xe,_e=d.__private__.getFontSize=d.getFontSize=function(){return C===b?J:J*At},ve=t.R2L||!1;d.__private__.setR2L=d.setR2L=function(_){return ve=_,this},d.__private__.getR2L=d.getR2L=function(){return ve};var ke,Ve=d.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))xe=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');xe=_}else xe=parseInt(_,10)};d.__private__.getZoomMode=function(){return xe};var Te,Ge=d.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');ke=_};d.__private__.getPageMode=function(){return ke};var pt=d.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Te=_};d.__private__.getLayoutMode=function(){return Te},d.__private__.setDisplayMode=d.setDisplayMode=function(_,R,oe){return Ve(_),pt(R),Ge(oe),this};var Ze={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(_){if(Object.keys(Ze).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ze[_]},d.__private__.getDocumentProperties=function(){return Ze},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(_){for(var R in Ze)Ze.hasOwnProperty(R)&&_[R]&&(Ze[R]=_[R]);return this},d.__private__.setDocumentProperty=function(_,R){if(Object.keys(Ze).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ze[_]=R};var rt,At,et,Ft,z,me={},je={},De=[],Xe={},at={},tt={},Be={},Ke=null,$e=0,Pe=[],it=new PB(d),nt=t.hotfixes||[],Et={},Ir={},Xt=[],mt=function _(R,oe,we,Ne,He,qe){if(!(this instanceof _))return new _(R,oe,we,Ne,He,qe);isNaN(R)&&(R=1),isNaN(oe)&&(oe=0),isNaN(we)&&(we=0),isNaN(Ne)&&(Ne=1),isNaN(He)&&(He=0),isNaN(qe)&&(qe=0),this._matrix=[R,oe,we,Ne,He,qe]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(_)},mt.prototype.multiply=function(_){var R=_.sx*this.sx+_.shy*this.shx,oe=_.sx*this.shy+_.shy*this.sy,we=_.shx*this.sx+_.sy*this.shx,Ne=_.shx*this.shy+_.sy*this.sy,He=_.tx*this.sx+_.ty*this.shx+this.tx,qe=_.tx*this.shy+_.ty*this.sy+this.ty;return new mt(R,oe,we,Ne,He,qe)},mt.prototype.decompose=function(){var _=this.sx,R=this.shy,oe=this.shx,we=this.sy,Ne=this.tx,He=this.ty,qe=Math.sqrt(_*_+R*R),wt=(_/=qe)*oe+(R/=qe)*we;oe-=_*wt,we-=R*wt;var _t=Math.sqrt(oe*oe+we*we);return wt/=_t,_*(we/=_t)<R*(oe/=_t)&&(_=-_,R=-R,wt=-wt,qe=-qe),{scale:new mt(qe,0,0,_t,0,0),translate:new mt(1,0,0,1,Ne,He),rotate:new mt(_,R,-R,_,0,0),skew:new mt(1,0,wt,1,0,0)}},mt.prototype.toString=function(_){return this.join(" ")},mt.prototype.inversed=function(){var _=this.sx,R=this.shy,oe=this.shx,we=this.sy,Ne=this.tx,He=this.ty,qe=1/(_*we-R*oe),wt=we*qe,_t=-R*qe,Qt=-oe*qe,Tt=_*qe;return new mt(wt,_t,Qt,Tt,-wt*Ne-Qt*He,-_t*Ne-Tt*He)},mt.prototype.applyToPoint=function(_){var R=_.x*this.sx+_.y*this.shx+this.tx,oe=_.x*this.shy+_.y*this.sy+this.ty;return new It(R,oe)},mt.prototype.applyToRectangle=function(_){var R=this.applyToPoint(_),oe=this.applyToPoint(new It(_.x+_.w,_.y+_.h));return new wr(R.x,R.y,oe.x-R.x,oe.y-R.y)},mt.prototype.clone=function(){var _=this.sx,R=this.shy,oe=this.shx,we=this.sy,Ne=this.tx,He=this.ty;return new mt(_,R,oe,we,Ne,He)},d.Matrix=mt;var cs=d.matrixMult=function(_,R){return R.multiply(_)},us=new mt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=us;var on=function(_,R){if(!at[_]){var oe=(R instanceof $A?"Sh":"P")+(Object.keys(Xe).length+1).toString(10);R.id=oe,at[_]=oe,Xe[oe]=R,it.publish("addPattern",R)}};d.ShadingPattern=$A,d.TilingPattern=fc,d.addShadingPattern=function(_,R){return k("addShadingPattern()"),on(_,R),this},d.beginTilingPattern=function(_){k("beginTilingPattern()"),Kr(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},d.endTilingPattern=function(_,R){k("endTilingPattern()"),R.stream=Ae[V].join(`
`),on(_,R),it.publish("endTilingPattern",R),Xt.pop().restore()};var Wn,dr=d.__private__.newObject=function(){var _=An();return Cr(_,!0),_},An=d.__private__.newObjectDeferred=function(){return ce++,ue[ce]=function(){return be},ce},Cr=function(_,R){return R=typeof R=="boolean"&&R,ue[_]=be,R&&I(_+" 0 obj"),_},Ea=d.__private__.newAdditionalObject=function(){var _={objId:An(),content:""};return Ue.push(_),_},Li=An(),En=An(),ci=d.__private__.decodeColorString=function(_){var R=_.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length!==5||R[4]!=="k"&&R[4]!=="K"||(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var oe=parseFloat(R[0]);R=[oe,oe,oe,"r"]}for(var we="#",Ne=0;Ne<3;Ne++)we+=("0"+Math.floor(255*parseFloat(R[Ne])).toString(16)).slice(-2);return we},Ps=d.__private__.encodeColorString=function(_){var R;typeof _=="string"&&(_={ch1:_});var oe=_.ch1,we=_.ch2,Ne=_.ch3,He=_.ch4,qe=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var wt=new qS(oe);if(wt.ok)oe=wt.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var _t=parseInt(oe.substr(1),16);oe=_t>>16&255,we=_t>>8&255,Ne=255&_t}if(we===void 0||He===void 0&&oe===we&&we===Ne)R=typeof oe=="string"?oe+" "+qe[0]:_.precision===2?D(oe/255)+" "+qe[0]:U(oe/255)+" "+qe[0];else if(He===void 0||lr(He)==="object"){if(He&&!isNaN(He.a)&&He.a===0)return["1.","1.","1.",qe[1]].join(" ");R=typeof oe=="string"?[oe,we,Ne,qe[1]].join(" "):_.precision===2?[D(oe/255),D(we/255),D(Ne/255),qe[1]].join(" "):[U(oe/255),U(we/255),U(Ne/255),qe[1]].join(" ")}else R=typeof oe=="string"?[oe,we,Ne,He,qe[2]].join(" "):_.precision===2?[D(oe),D(we),D(Ne),D(He),qe[2]].join(" "):[U(oe),U(we),U(Ne),U(He),qe[2]].join(" ");return R},Os=d.__private__.getFilters=function(){return a},ds=d.__private__.putStream=function(_){var R=(_=_||{}).data||"",oe=_.filters||Os(),we=_.alreadyAppliedFilters||[],Ne=_.addLength1||!1,He=R.length,qe=_.objectId,wt=function(vn){return vn};if(u!==null&&qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(wt=mr.encryptor(qe,0));var _t={};oe===!0&&(oe=["FlateEncode"]);var Qt=_.additionalKeyValues||[],Tt=(_t=kt.API.processDataByFilters!==void 0?kt.API.processDataByFilters(R,oe):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(_t.data.length!==0&&(Qt.push({key:"Length",value:_t.data.length}),Ne===!0&&Qt.push({key:"Length1",value:He})),Tt.length!=0)if(Tt.split("/").length-1==1)Qt.push({key:"Filter",value:Tt});else{Qt.push({key:"Filter",value:"["+Tt+"]"});for(var Yt=0;Yt<Qt.length;Yt+=1)if(Qt[Yt].key==="DecodeParms"){for(var Or=[],cn=0;cn<_t.reverseChain.split("/").length-1;cn+=1)Or.push("null");Or.push(Qt[Yt].value),Qt[Yt].value="["+Or.join(" ")+"]"}}I("<<");for(var yr=0;yr<Qt.length;yr++)I("/"+Qt[yr].key+" "+Qt[yr].value);I(">>"),_t.data.length!==0&&(I("stream"),I(wt(_t.data)),I("endstream"))},ta=d.__private__.putPage=function(_){var R=_.number,oe=_.data,we=_.objId,Ne=_.contentsObjId;Cr(we,!0),I("<</Type /Page"),I("/Parent "+_.rootDictionaryObjId+" 0 R"),I("/Resources "+_.resourceDictionaryObjId+" 0 R"),I("/MediaBox ["+parseFloat(P(_.mediaBox.bottomLeftX))+" "+parseFloat(P(_.mediaBox.bottomLeftY))+" "+P(_.mediaBox.topRightX)+" "+P(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&I("/CropBox ["+P(_.cropBox.bottomLeftX)+" "+P(_.cropBox.bottomLeftY)+" "+P(_.cropBox.topRightX)+" "+P(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&I("/BleedBox ["+P(_.bleedBox.bottomLeftX)+" "+P(_.bleedBox.bottomLeftY)+" "+P(_.bleedBox.topRightX)+" "+P(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&I("/TrimBox ["+P(_.trimBox.bottomLeftX)+" "+P(_.trimBox.bottomLeftY)+" "+P(_.trimBox.topRightX)+" "+P(_.trimBox.topRightY)+"]"),_.artBox!==null&&I("/ArtBox ["+P(_.artBox.bottomLeftX)+" "+P(_.artBox.bottomLeftY)+" "+P(_.artBox.topRightX)+" "+P(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&I("/UserUnit "+_.userUnit),it.publish("putPage",{objId:we,pageContext:Pe[R],pageNumber:R,page:oe}),I("/Contents "+Ne+" 0 R"),I(">>"),I("endobj");var He=oe.join(`
`);return C===B&&(He+=`
Q`),Cr(Ne,!0),ds({data:He,filters:Os(),objectId:Ne}),I("endobj"),we},_s=d.__private__.putPages=function(){var _,R,oe=[];for(_=1;_<=$e;_++)Pe[_].objId=An(),Pe[_].contentsObjId=An();for(_=1;_<=$e;_++)oe.push(ta({number:_,data:Ae[_],objId:Pe[_].objId,contentsObjId:Pe[_].contentsObjId,mediaBox:Pe[_].mediaBox,cropBox:Pe[_].cropBox,bleedBox:Pe[_].bleedBox,trimBox:Pe[_].trimBox,artBox:Pe[_].artBox,userUnit:Pe[_].userUnit,rootDictionaryObjId:Li,resourceDictionaryObjId:En}));Cr(Li,!0),I("<</Type /Pages");var we="/Kids [";for(R=0;R<$e;R++)we+=oe[R]+" 0 R ";I(we+"]"),I("/Count "+$e),I(">>"),I("endobj"),it.publish("postPutPages")},ka=function(_){it.publish("putFont",{font:_,out:I,newObject:dr,putStream:ds}),_.isAlreadyPutted!==!0&&(_.objectNumber=dr(),I("<<"),I("/Type /Font"),I("/BaseFont /"+Zl(_.postScriptName)),I("/Subtype /Type1"),typeof _.encoding=="string"&&I("/Encoding /"+_.encoding),I("/FirstChar 32"),I("/LastChar 255"),I(">>"),I("endobj"))},lo=function(_){_.objectNumber=dr();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[P(_.x),P(_.y),P(_.x+_.width),P(_.y+_.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var oe=_.pages[1].join(`
`);ds({data:oe,additionalKeyValues:R,objectId:_.objectNumber}),I("endobj")},Na=function(_,R){R||(R=21);var oe=dr(),we=function(qe,wt){var _t,Qt=[],Tt=1/(wt-1);for(_t=0;_t<1;_t+=Tt)Qt.push(_t);if(Qt.push(1),qe[0].offset!=0){var Yt={offset:0,color:qe[0].color};qe.unshift(Yt)}if(qe[qe.length-1].offset!=1){var Or={offset:1,color:qe[qe.length-1].color};qe.push(Or)}for(var cn="",yr=0,vn=0;vn<Qt.length;vn++){for(_t=Qt[vn];_t>qe[yr+1].offset;)yr++;var un=qe[yr].offset,Dn=(_t-un)/(qe[yr+1].offset-un),gi=qe[yr].color,Es=qe[yr+1].color;cn+=q(Math.round((1-Dn)*gi[0]+Dn*Es[0]).toString(16))+q(Math.round((1-Dn)*gi[1]+Dn*Es[1]).toString(16))+q(Math.round((1-Dn)*gi[2]+Dn*Es[2]).toString(16))}return cn.trim()}(_.colors,R),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+R+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ds({data:we,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),I("endobj"),_.objectNumber=dr(),I("<< /ShadingType "+_.type),I("/ColorSpace /DeviceRGB");var He="/Coords ["+P(parseFloat(_.coords[0]))+" "+P(parseFloat(_.coords[1]))+" ";_.type===2?He+=P(parseFloat(_.coords[2]))+" "+P(parseFloat(_.coords[3])):He+=P(parseFloat(_.coords[2]))+" "+P(parseFloat(_.coords[3]))+" "+P(parseFloat(_.coords[4]))+" "+P(parseFloat(_.coords[5])),I(He+="]"),_.matrix&&I("/Matrix ["+_.matrix.toString()+"]"),I("/Function "+oe+" 0 R"),I("/Extend [true true]"),I(">>"),I("endobj")},T=function(_,R){var oe=An(),we=dr();R.push({resourcesOid:oe,objectOid:we}),_.objectNumber=we;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+_.boundingBox.map(P).join(" ")+"]"}),Ne.push({key:"XStep",value:P(_.xStep)}),Ne.push({key:"YStep",value:P(_.yStep)}),Ne.push({key:"Resources",value:oe+" 0 R"}),_.matrix&&Ne.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),ds({data:_.stream,additionalKeyValues:Ne,objectId:_.objectNumber}),I("endobj")},he=function(_){for(var R in _.objectNumber=dr(),I("<<"),_)switch(R){case"opacity":I("/ca "+D(_[R]));break;case"stroke-opacity":I("/CA "+D(_[R]))}I(">>"),I("endobj")},Qe=function(_){Cr(_.resourcesOid,!0),I("<<"),I("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var R in I("/Font <<"),me)me.hasOwnProperty(R)&&(h===!1||h===!0&&p.hasOwnProperty(R))&&I("/"+R+" "+me[R].objectNumber+" 0 R");I(">>")}(),function(){if(Object.keys(Xe).length>0){for(var R in I("/Shading <<"),Xe)Xe.hasOwnProperty(R)&&Xe[R]instanceof $A&&Xe[R].objectNumber>=0&&I("/"+R+" "+Xe[R].objectNumber+" 0 R");it.publish("putShadingPatternDict"),I(">>")}}(),function(R){if(Object.keys(Xe).length>0){for(var oe in I("/Pattern <<"),Xe)Xe.hasOwnProperty(oe)&&Xe[oe]instanceof d.TilingPattern&&Xe[oe].objectNumber>=0&&Xe[oe].objectNumber<R&&I("/"+oe+" "+Xe[oe].objectNumber+" 0 R");it.publish("putTilingPatternDict"),I(">>")}}(_.objectOid),function(){if(Object.keys(tt).length>0){var R;for(R in I("/ExtGState <<"),tt)tt.hasOwnProperty(R)&&tt[R].objectNumber>=0&&I("/"+R+" "+tt[R].objectNumber+" 0 R");it.publish("putGStateDict"),I(">>")}}(),function(){for(var R in I("/XObject <<"),Et)Et.hasOwnProperty(R)&&Et[R].objectNumber>=0&&I("/"+R+" "+Et[R].objectNumber+" 0 R");it.publish("putXobjectDict"),I(">>")}(),I(">>"),I("endobj")},dt=function(_){je[_.fontName]=je[_.fontName]||{},je[_.fontName][_.fontStyle]=_.id},Nt=function(_,R,oe,we,Ne){var He={id:"F"+(Object.keys(me).length+1).toString(10),postScriptName:_,fontName:R,fontStyle:oe,encoding:we,isStandardFont:Ne||!1,metadata:{}};return it.publish("addFont",{font:He,instance:this}),me[He.id]=He,dt(He),He.id},xt=d.__private__.pdfEscape=d.pdfEscape=function(_,R){return function(oe,we){var Ne,He,qe,wt,_t,Qt,Tt,Yt,Or;if(qe=(we=we||{}).sourceEncoding||"Unicode",_t=we.outputEncoding,(we.autoencode||_t)&&me[rt].metadata&&me[rt].metadata[qe]&&me[rt].metadata[qe].encoding&&(wt=me[rt].metadata[qe].encoding,!_t&&me[rt].encoding&&(_t=me[rt].encoding),!_t&&wt.codePages&&(_t=wt.codePages[0]),typeof _t=="string"&&(_t=wt[_t]),_t)){for(Tt=!1,Qt=[],Ne=0,He=oe.length;Ne<He;Ne++)(Yt=_t[oe.charCodeAt(Ne)])?Qt.push(String.fromCharCode(Yt)):Qt.push(oe[Ne]),Qt[Ne].charCodeAt(0)>>8&&(Tt=!0);oe=Qt.join("")}for(Ne=oe.length;Tt===void 0&&Ne!==0;)oe.charCodeAt(Ne-1)>>8&&(Tt=!0),Ne--;if(!Tt)return oe;for(Qt=we.noBOM?[]:[254,255],Ne=0,He=oe.length;Ne<He;Ne++){if((Or=(Yt=oe.charCodeAt(Ne))>>8)>>8)throw new Error("Character at position "+Ne+" of string '"+oe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Qt.push(Or),Qt.push(Yt-(Or<<8))}return String.fromCharCode.apply(void 0,Qt)}(_,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},er=d.__private__.beginPage=function(_){Ae[++$e]=[],Pe[$e]={objId:0,contentsObjId:0,userUnit:Number(A),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Sr($e),x(Ae[V])},gr=function(_,R){var oe,we,Ne;switch(r=R||r,typeof _=="string"&&(oe=g(_.toLowerCase()),Array.isArray(oe)&&(we=oe[0],Ne=oe[1])),Array.isArray(_)&&(we=_[0]*At,Ne=_[1]*At),isNaN(we)&&(we=s[0],Ne=s[1]),(we>14400||Ne>14400)&&(pr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),Ne=Math.min(14400,Ne)),s=[we,Ne],r.substr(0,1)){case"l":Ne>we&&(s=[Ne,we]);break;case"p":we>Ne&&(s=[Ne,we])}er(s),bl(ho),I(Ua),po!==0&&I(po+" J"),go!==0&&I(go+" j"),it.publish("addPage",{pageNumber:$e})},tr=function(_){_>0&&_<=$e&&(Ae.splice(_,1),Pe.splice(_,1),$e--,V>$e&&(V=$e),this.setPage(V))},Sr=function(_){_>0&&_<=$e&&(V=_)},ct=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return Ae.length-1},gn=function(_,R,oe){var we,Ne=void 0;return oe=oe||{},_=_!==void 0?_:me[rt].fontName,R=R!==void 0?R:me[rt].fontStyle,we=_.toLowerCase(),je[we]!==void 0&&je[we][R]!==void 0?Ne=je[we][R]:je[_]!==void 0&&je[_][R]!==void 0?Ne=je[_][R]:oe.disableWarning===!1&&pr.warn("Unable to look up font label for font '"+_+"', '"+R+"'. Refer to getFontList() for available fonts."),Ne||oe.noFallback||(Ne=je.times[R])==null&&(Ne=je.times.normal),Ne},Mt=d.__private__.putInfo=function(){var _=dr(),R=function(we){return we};for(var oe in u!==null&&(R=mr.encryptor(_,0)),I("<<"),I("/Producer ("+xt(R("jsPDF "+kt.version))+")"),Ze)Ze.hasOwnProperty(oe)&&Ze[oe]&&I("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+xt(R(Ze[oe]))+")");I("/CreationDate ("+xt(R(ee))+")"),I(">>"),I("endobj")},ui=d.__private__.putCatalog=function(_){var R=(_=_||{}).rootDictionaryObjId||Li;switch(dr(),I("<<"),I("/Type /Catalog"),I("/Pages "+R+" 0 R"),xe||(xe="fullwidth"),xe){case"fullwidth":I("/OpenAction [3 0 R /FitH null]");break;case"fullheight":I("/OpenAction [3 0 R /FitV null]");break;case"fullpage":I("/OpenAction [3 0 R /Fit]");break;case"original":I("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+xe;oe.substr(oe.length-1)==="%"&&(xe=parseInt(xe)/100),typeof xe=="number"&&I("/OpenAction [3 0 R /XYZ null null "+D(xe)+"]")}switch(Te||(Te="continuous"),Te){case"continuous":I("/PageLayout /OneColumn");break;case"single":I("/PageLayout /SinglePage");break;case"two":case"twoleft":I("/PageLayout /TwoColumnLeft");break;case"tworight":I("/PageLayout /TwoColumnRight")}ke&&I("/PageMode /"+ke),it.publish("putCatalog"),I(">>"),I("endobj")},$t=d.__private__.putTrailer=function(){I("trailer"),I("<<"),I("/Size "+(ce+1)),I("/Root "+ce+" 0 R"),I("/Info "+(ce-1)+" 0 R"),u!==null&&I("/Encrypt "+mr.oid+" 0 R"),I("/ID [ <"+ge+"> <"+ge+"> ]"),I(">>")},di=d.__private__.putHeader=function(){I("%PDF-"+w),I("%")},Ln=d.__private__.putXRef=function(){var _="0000000000";I("xref"),I("0 "+(ce+1)),I("0000000000 65535 f ");for(var R=1;R<=ce;R++)typeof ue[R]=="function"?I((_+ue[R]()).slice(-10)+" 00000 n "):ue[R]!==void 0?I((_+ue[R]).slice(-10)+" 00000 n "):I("0000000000 00000 n ")},Tr=d.__private__.buildDocument=function(){var _;ce=0,be=0,de=[],ue=[],Ue=[],Li=An(),En=An(),x(de),it.publish("buildDocument"),di(),_s(),function(){it.publish("putAdditionalObjects");for(var oe=0;oe<Ue.length;oe++){var we=Ue[oe];Cr(we.objId,!0),I(we.content),I("endobj")}it.publish("postPutAdditionalObjects")}(),_=[],function(){for(var oe in me)me.hasOwnProperty(oe)&&(h===!1||h===!0&&p.hasOwnProperty(oe))&&ka(me[oe])}(),function(){var oe;for(oe in tt)tt.hasOwnProperty(oe)&&he(tt[oe])}(),function(){for(var oe in Et)Et.hasOwnProperty(oe)&&lo(Et[oe])}(),function(oe){var we;for(we in Xe)Xe.hasOwnProperty(we)&&(Xe[we]instanceof $A?Na(Xe[we]):Xe[we]instanceof fc&&T(Xe[we],oe))}(_),it.publish("putResources"),_.forEach(Qe),Qe({resourcesOid:En,objectOid:Number.MAX_SAFE_INTEGER}),it.publish("postPutResources"),u!==null&&(mr.oid=dr(),I("<<"),I("/Filter /Standard"),I("/V "+mr.v),I("/R "+mr.r),I("/U <"+mr.toHexString(mr.U)+">"),I("/O <"+mr.toHexString(mr.O)+">"),I("/P "+mr.P),I(">>"),I("endobj")),Mt(),ui();var R=be;return Ln(),$t(),I("startxref"),I(""+R),I("%%EOF"),x(Ae[V]),de.join(`
`)},hs=d.__private__.getBlob=function(_){return new Blob([Y(_)],{type:"application/pdf"})},qn=d.output=d.__private__.output=(Wn=function(_,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",_){case void 0:return Tr();case"save":d.save(R.filename);break;case"arraybuffer":return Y(Tr());case"blob":return hs(Tr());case"bloburi":case"bloburl":if(Lt.URL!==void 0&&typeof Lt.URL.createObjectURL=="function")return Lt.URL&&Lt.URL.createObjectURL(hs(Tr()))||void 0;pr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",we=Tr();try{oe=QB(we)}catch{oe=QB(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+R.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Lt)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",He=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(Ne=R.pdfObjectUrl,He="");var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+He+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",wt=Lt.open();return wt!==null&&wt.document.write(qe),wt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Lt)==="[object Window]"){var _t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',Qt=Lt.open();if(Qt!==null){Qt.document.write(_t);var Tt=this;Qt.document.documentElement.querySelector("#pdfViewer").onload=function(){Qt.document.title=R.filename,Qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Tt.output("bloburl"))}}return Qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',Or=Lt.open();if(Or!==null&&(Or.document.write(Yt),Or.document.title=R.filename),Or||typeof safari>"u")return Or;break;case"datauri":case"dataurl":return Lt.document.location.href=this.output("datauristring",R);default:return null}},Wn.foo=function(){try{return Wn.apply(this,arguments)}catch(oe){var _=oe.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var R="Error in function "+_.split(`
`)[0].split("<")[0]+": "+oe.message;if(!Lt.console)throw new Error(R);Lt.console.error(R,oe),Lt.alert&&alert(R)}},Wn.foo.bar=Wn,Wn.foo),hi=function(_){return Array.isArray(nt)===!0&&nt.indexOf(_)>-1};switch(n){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=hi("px_scaling")==1?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);At=n}var mr=null;re(),ne();var Fa=d.__private__.getPageInfo=d.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Pe[_].objId,pageNumber:_,pageContext:Pe[_]}},co=d.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in Pe)if(Pe[R].objId===_)break;return Fa(R)},Qi=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Pe[V].objId,pageNumber:V,pageContext:Pe[V]}};d.addPage=function(){return gr.apply(this,arguments),this},d.setPage=function(){return Sr.apply(this,arguments),x.call(this,Ae[V]),this},d.insertPage=function(_){return this.addPage(),this.movePage(V,_),this},d.movePage=function(_,R){var oe,we;if(_>R){oe=Ae[_],we=Pe[_];for(var Ne=_;Ne>R;Ne--)Ae[Ne]=Ae[Ne-1],Pe[Ne]=Pe[Ne-1];Ae[R]=oe,Pe[R]=we,this.setPage(R)}else if(_<R){oe=Ae[_],we=Pe[_];for(var He=_;He<R;He++)Ae[He]=Ae[He+1],Pe[He]=Pe[He+1];Ae[R]=oe,Pe[R]=we,this.setPage(R)}return this},d.deletePage=function(){return tr.apply(this,arguments),this},d.__private__.text=d.text=function(_,R,oe,we,Ne){var He,qe,wt,_t,Qt,Tt,Yt,Or,cn,yr=(we=we||{}).scope||this;if(typeof _=="number"&&typeof R=="number"&&(typeof oe=="string"||Array.isArray(oe))){var vn=oe;oe=R,R=_,_=vn}if(arguments[3]instanceof mt==0?(wt=arguments[4],_t=arguments[5],lr(Yt=arguments[3])==="object"&&Yt!==null||(typeof wt=="string"&&(_t=wt,wt=null),typeof Yt=="string"&&(_t=Yt,Yt=null),typeof Yt=="number"&&(wt=Yt,Yt=null),we={flags:Yt,angle:wt,align:_t})):(k("The transform parameter of text() with a Matrix value"),cn=Ne),isNaN(R)||isNaN(oe)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return yr;var un,Dn="",gi=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:sa,Es=yr.internal.scaleFactor;function oh(rr){return rr=rr.split("	").join(Array(we.TabLen||9).join(" ")),xt(rr,Yt)}function kl(rr){for(var hr,Xr=rr.concat(),wn=[],Ta=Xr.length;Ta--;)typeof(hr=Xr.shift())=="string"?wn.push(hr):Array.isArray(rr)&&(hr.length===1||hr[1]===void 0&&hr[2]===void 0)?wn.push(hr[0]):wn.push([hr[0],hr[1],hr[2]]);return wn}function _A(rr,hr){var Xr;if(typeof rr=="string")Xr=hr(rr)[0];else if(Array.isArray(rr)){for(var wn,Ta,Au=rr.concat(),Ul=[],ch=Au.length;ch--;)typeof(wn=Au.shift())=="string"?Ul.push(hr(wn)[0]):Array.isArray(wn)&&typeof wn[0]=="string"&&(Ta=hr(wn[0],wn[1],wn[2]),Ul.push([Ta[0],Ta[1],Ta[2]]));Xr=Ul}return Xr}var mo=!1,CA=!0;if(typeof _=="string")mo=!0;else if(Array.isArray(_)){var SA=_.concat();qe=[];for(var EA,Yn=SA.length;Yn--;)(typeof(EA=SA.shift())!="string"||Array.isArray(EA)&&typeof EA[0]!="string")&&(CA=!1);mo=CA}if(mo===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var kA=J/yr.internal.scaleFactor,NA=kA*(gi-1);switch(we.baseline){case"bottom":oe-=NA;break;case"top":oe+=kA-NA;break;case"hanging":oe+=kA-2*NA;break;case"middle":oe+=kA/2-NA}if((Tt=we.maxWidth||0)>0&&(typeof _=="string"?_=yr.splitTextToSize(_,Tt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(rr,hr){return rr.concat(yr.splitTextToSize(hr,Tt))},[]))),He={text:_,x:R,y:oe,options:we,mutex:{pdfEscape:xt,activeFontKey:rt,fonts:me,activeFontSize:J}},it.publish("preProcessText",He),_=He.text,wt=(we=He.options).angle,cn instanceof mt==0&&wt&&typeof wt=="number"){wt*=Math.PI/180,we.rotationDirection===0&&(wt=-wt),C===B&&(wt=-wt);var Zc=Math.cos(wt),eu=Math.sin(wt);cn=new mt(Zc,eu,-eu,Zc,0,0)}else wt&&wt instanceof mt&&(cn=wt);C!==B||cn||(cn=us),(Qt=we.charSpace||Ia)!==void 0&&(Dn+=P(H(Qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Or=we.horizontalScale)!==void 0&&(Dn+=P(100*Or)+` Tz
`),we.lang;var $r=-1,Qa=we.renderingMode!==void 0?we.renderingMode:we.stroke,Nl=yr.internal.getCurrentPageInfo().pageContext;switch(Qa){case 0:case!1:case"fill":$r=0;break;case 1:case!0:case"stroke":$r=1;break;case 2:case"fillThenStroke":$r=2;break;case 3:case"invisible":$r=3;break;case 4:case"fillAndAddForClipping":$r=4;break;case 5:case"strokeAndAddPathForClipping":$r=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$r=6;break;case 7:case"addToPathForClipping":$r=7}var Ah=Nl.usedRenderingMode!==void 0?Nl.usedRenderingMode:-1;$r!==-1?Dn+=$r+` Tr
`:Ah!==-1&&(Dn+=`0 Tr
`),$r!==-1&&(Nl.usedRenderingMode=$r),_t=we.align||"left";var mi,FA=J*gi,tu=yr.internal.pageSize.getWidth(),ru=me[rt];Qt=we.charSpace||Ia,Tt=we.maxWidth||0,Yt=Object.assign({autoencode:!0,noBOM:!0},we.flags);var vo=[],UA=function(rr){return yr.getStringUnitWidth(rr,{font:ru,charSpace:Qt,fontSize:J,doKerning:!1})*J/Es};if(Object.prototype.toString.call(_)==="[object Array]"){var Rs;qe=kl(_),_t!=="left"&&(mi=qe.map(UA));var Hs,wo=0;if(_t==="right"){R-=mi[0],_=[],Yn=qe.length;for(var Da=0;Da<Yn;Da++)Da===0?(Hs=fi(R),Rs=pi(oe)):(Hs=H(wo-mi[Da]),Rs=-FA),_.push([qe[Da],Hs,Rs]),wo=mi[Da]}else if(_t==="center"){R-=mi[0]/2,_=[],Yn=qe.length;for(var yo=0;yo<Yn;yo++)yo===0?(Hs=fi(R),Rs=pi(oe)):(Hs=H((wo-mi[yo])/2),Rs=-FA),_.push([qe[yo],Hs,Rs]),wo=mi[yo]}else if(_t==="left"){_=[],Yn=qe.length;for(var nu=0;nu<Yn;nu++)_.push(qe[nu])}else if(_t==="justify"&&ru.encoding==="Identity-H"){_=[],Yn=qe.length,Tt=Tt!==0?Tt:tu;for(var Fl=0,Jr=0;Jr<Yn;Jr++)if(Rs=Jr===0?pi(oe):-FA,Hs=Jr===0?fi(R):Fl,Jr<Yn-1){var lh=H((Tt-mi[Jr])/(qe[Jr].split(" ").length-1)),Aa=qe[Jr].split(" ");_.push([Aa[0]+" ",Hs,Rs]),Fl=0;for(var la=1;la<Aa.length;la++){var su=(UA(Aa[la-1]+" "+Aa[la])-UA(Aa[la]))*Es+lh;la==Aa.length-1?_.push([Aa[la],su,0]):_.push([Aa[la]+" ",su,0]),Fl-=su}}else _.push([qe[Jr],Hs,Rs]);_.push(["",Fl,0])}else{if(_t!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Yn=qe.length,Tt=Tt!==0?Tt:tu,Jr=0;Jr<Yn;Jr++){Rs=Jr===0?pi(oe):-FA,Hs=Jr===0?fi(R):0;var iu=qe[Jr].split(" ").length-1,au=iu>0?(Tt-mi[Jr])/iu:0;Jr<Yn-1?vo.push(P(H(au))):vo.push(0),_.push([qe[Jr],Hs,Rs])}}}(typeof we.R2L=="boolean"?we.R2L:ve)===!0&&(_=_A(_,function(rr,hr,Xr){return[rr.split("").reverse().join(""),hr,Xr]})),He={text:_,x:R,y:oe,options:we,mutex:{pdfEscape:xt,activeFontKey:rt,fonts:me,activeFontSize:J}},it.publish("postProcessText",He),_=He.text,un=He.mutex.isHex||!1;var ou=me[rt].encoding;ou!=="WinAnsiEncoding"&&ou!=="StandardEncoding"||(_=_A(_,function(rr,hr,Xr){return[oh(rr),hr,Xr]})),qe=kl(_),_=[];for(var bo,Bo,xo,jA=Array.isArray(qe[0])?1:0,_o="",IA=function(rr,hr,Xr){var wn="";return Xr instanceof mt?(Xr=typeof we.angle=="number"?cs(Xr,new mt(1,0,0,1,rr,hr)):cs(new mt(1,0,0,1,rr,hr),Xr),C===B&&(Xr=cs(new mt(1,0,0,-1,0,0),Xr)),wn=Xr.join(" ")+` Tm
`):wn=P(rr)+" "+P(hr)+` Td
`,wn},vi=0;vi<qe.length;vi++){switch(_o="",jA){case 1:xo=(un?"<":"(")+qe[vi][0]+(un?">":")"),bo=parseFloat(qe[vi][1]),Bo=parseFloat(qe[vi][2]);break;case 0:xo=(un?"<":"(")+qe[vi]+(un?">":")"),bo=fi(R),Bo=pi(oe)}vo!==void 0&&vo[vi]!==void 0&&(_o=vo[vi]+` Tw
`),vi===0?_.push(_o+IA(bo,Bo,cn)+xo):jA===0?_.push(_o+xo):jA===1&&_.push(_o+IA(bo,Bo,cn)+xo)}_=jA===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var ca=`BT
/`;return ca+=rt+" "+J+` Tf
`,ca+=P(J*gi)+` TL
`,ca+=ia+`
`,ca+=Dn,ca+=_,I(ca+="ET"),p[rt]=!0,yr};var Dt=d.__private__.clip=d.clip=function(_){return I(_==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return Dt("evenodd")},d.__private__.discardPath=d.discardPath=function(){return I("n"),this};var ir=d.__private__.isValidStyle=function(_){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(R=!0),R};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(_){return ir(_)&&(c=_),this};var Cs=d.__private__.getStyle=d.getStyle=function(_){var R=c;switch(_){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=_}return R},mn=d.close=function(){return I("h"),this};d.stroke=function(){return I("S"),this},d.fill=function(_){return vr("f",_),this},d.fillEvenOdd=function(_){return vr("f*",_),this},d.fillStroke=function(_){return vr("B",_),this},d.fillStrokeEvenOdd=function(_){return vr("B*",_),this};var vr=function(_,R){lr(R)==="object"?Jn(R,_):I(_)},Qn=function(_){_===null||C===B&&_===void 0||(_=Cs(_),I(_))};function ln(_,R,oe,we,Ne){var He=new fc(R||this.boundingBox,oe||this.xStep,we||this.yStep,this.gState,Ne||this.matrix);He.stream=this.stream;var qe=_+"$$"+this.cloneIndex+++"$$";return on(qe,He),He}var Jn=function(_,R){var oe=at[_.key],we=Xe[oe];if(we instanceof $A)I("q"),I(ra(R)),we.gState&&d.setGState(we.gState),I(_.matrix.toString()+" cm"),I("/"+oe+" sh"),I("Q");else if(we instanceof fc){var Ne=new mt(1,0,0,-1,0,oa());_.matrix&&(Ne=Ne.multiply(_.matrix||us),oe=ln.call(we,_.key,_.boundingBox,_.xStep,_.yStep,Ne).id),I("q"),I("/Pattern cs"),I("/"+oe+" scn"),we.gState&&d.setGState(we.gState),I(R),I("Q")}},ra=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},uo=d.moveTo=function(_,R){return I(P(H(_))+" "+P(S(R))+" m"),this},na=d.lineTo=function(_,R){return I(P(H(_))+" "+P(S(R))+" l"),this},Di=d.curveTo=function(_,R,oe,we,Ne,He){return I([P(H(_)),P(S(R)),P(H(oe)),P(S(we)),P(H(Ne)),P(S(He)),"c"].join(" ")),this};d.__private__.line=d.line=function(_,R,oe,we,Ne){if(isNaN(_)||isNaN(R)||isNaN(oe)||isNaN(we)||!ir(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return C===b?this.lines([[oe-_,we-R]],_,R,[1,1],Ne||"S"):this.lines([[oe-_,we-R]],_,R,[1,1]).stroke()},d.__private__.lines=d.lines=function(_,R,oe,we,Ne,He){var qe,wt,_t,Qt,Tt,Yt,Or,cn,yr,vn,un,Dn;if(typeof _=="number"&&(Dn=oe,oe=R,R=_,_=Dn),we=we||[1,1],He=He||!1,isNaN(R)||isNaN(oe)||!Array.isArray(_)||!Array.isArray(we)||!ir(Ne)||typeof He!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(uo(R,oe),qe=we[0],wt=we[1],Qt=_.length,vn=R,un=oe,_t=0;_t<Qt;_t++)(Tt=_[_t]).length===2?(vn=Tt[0]*qe+vn,un=Tt[1]*wt+un,na(vn,un)):(Yt=Tt[0]*qe+vn,Or=Tt[1]*wt+un,cn=Tt[2]*qe+vn,yr=Tt[3]*wt+un,vn=Tt[4]*qe+vn,un=Tt[5]*wt+un,Di(Yt,Or,cn,yr,vn,un));return He&&mn(),Qn(Ne),this},d.path=function(_){for(var R=0;R<_.length;R++){var oe=_[R],we=oe.c;switch(oe.op){case"m":uo(we[0],we[1]);break;case"l":na(we[0],we[1]);break;case"c":Di.apply(this,we);break;case"h":mn()}}return this},d.__private__.rect=d.rect=function(_,R,oe,we,Ne){if(isNaN(_)||isNaN(R)||isNaN(oe)||isNaN(we)||!ir(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return C===b&&(we=-we),I([P(H(_)),P(S(R)),P(H(oe)),P(H(we)),"re"].join(" ")),Qn(Ne),this},d.__private__.triangle=d.triangle=function(_,R,oe,we,Ne,He,qe){if(isNaN(_)||isNaN(R)||isNaN(oe)||isNaN(we)||isNaN(Ne)||isNaN(He)||!ir(qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-_,we-R],[Ne-oe,He-we],[_-Ne,R-He]],_,R,[1,1],qe,!0),this},d.__private__.roundedRect=d.roundedRect=function(_,R,oe,we,Ne,He,qe){if(isNaN(_)||isNaN(R)||isNaN(oe)||isNaN(we)||isNaN(Ne)||isNaN(He)||!ir(qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var wt=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*oe),He=Math.min(He,.5*we),this.lines([[oe-2*Ne,0],[Ne*wt,0,Ne,He-He*wt,Ne,He],[0,we-2*He],[0,He*wt,-Ne*wt,He,-Ne,He],[2*Ne-oe,0],[-Ne*wt,0,-Ne,-He*wt,-Ne,-He],[0,2*He-we],[0,-He*wt,Ne*wt,-He,Ne,-He]],_+Ne,R,[1,1],qe,!0),this},d.__private__.ellipse=d.ellipse=function(_,R,oe,we,Ne){if(isNaN(_)||isNaN(R)||isNaN(oe)||isNaN(we)||!ir(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var He=4/3*(Math.SQRT2-1)*oe,qe=4/3*(Math.SQRT2-1)*we;return uo(_+oe,R),Di(_+oe,R-qe,_+He,R-we,_,R-we),Di(_-He,R-we,_-oe,R-qe,_-oe,R),Di(_-oe,R+qe,_-He,R+we,_,R+we),Di(_+He,R+we,_+oe,R+qe,_+oe,R),Qn(Ne),this},d.__private__.circle=d.circle=function(_,R,oe,we){if(isNaN(_)||isNaN(R)||isNaN(oe)||!ir(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,R,oe,oe,we)},d.setFont=function(_,R,oe){return oe&&(R=Q(R,oe)),rt=gn(_,R,{disableWarning:!1}),this};var yl=d.__private__.getFont=d.getFont=function(){return me[gn.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var _,R,oe={};for(_ in je)if(je.hasOwnProperty(_))for(R in oe[_]=[],je[_])je[_].hasOwnProperty(R)&&oe[_].push(R);return oe},d.addFont=function(_,R,oe,we,Ne){var He=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&He.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&He.indexOf(arguments[3])==-1&&(oe=Q(oe,we)),Nt.call(this,_,R,oe,Ne=Ne||"Identity-H")};var sa,ho=t.lineWidth||.200025,jt=d.__private__.getLineWidth=d.getLineWidth=function(){return ho},bl=d.__private__.setLineWidth=d.setLineWidth=function(_){return ho=_,I(P(H(_))+" w"),this};d.__private__.setLineDash=kt.API.setLineDash=kt.API.setLineDashPattern=function(_,R){if(_=_||[],R=R||0,isNaN(R)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(oe){return P(H(oe))}).join(" "),R=P(H(R)),I("["+_+"] "+R+" d"),this};var Bl=d.__private__.getLineHeight=d.getLineHeight=function(){return J*sa};d.__private__.getLineHeight=d.getLineHeight=function(){return J*sa};var xl=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(sa=_),this},_l=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return sa};xl(t.lineHeight);var fi=d.__private__.getHorizontalCoordinate=function(_){return H(_)},pi=d.__private__.getVerticalCoordinate=function(_){return C===B?_:Pe[V].mediaBox.topRightY-Pe[V].mediaBox.bottomLeftY-H(_)},Cl=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(_){return P(fi(_))},Sl=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(_){return P(pi(_))},Ua=t.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return ci(Ua)},d.__private__.setStrokeColor=d.setDrawColor=function(_,R,oe,we){return Ua=Ps({ch1:_,ch2:R,ch3:oe,ch4:we,pdfColorType:"draw",precision:2}),I(Ua),this};var fo=t.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return ci(fo)},d.__private__.setFillColor=d.setFillColor=function(_,R,oe,we){return fo=Ps({ch1:_,ch2:R,ch3:oe,ch4:we,pdfColorType:"fill",precision:2}),I(fo),this};var ia=t.textColor||"0 g",ja=d.__private__.getTextColor=d.getTextColor=function(){return ci(ia)};d.__private__.setTextColor=d.setTextColor=function(_,R,oe,we){return ia=Ps({ch1:_,ch2:R,ch3:oe,ch4:we,pdfColorType:"text",precision:3}),this};var Ia=t.charSpace,El=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Ia||0)};d.__private__.setCharSpace=d.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ia=_,this};var po=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(_){var R=d.CapJoinStyles[_];if(R===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return po=R,I(R+" J"),this};var go=0;d.__private__.setLineJoin=d.setLineJoin=function(_){var R=d.CapJoinStyles[_];if(R===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return go=R,I(R+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return I(P(H(_))+" M"),this},d.GState=zp,d.setGState=function(_){(_=typeof _=="string"?tt[Be[_]]:ot(null,_)).equals(Ke)||(I("/"+_.id+" gs"),Ke=_)};var ot=function(_,R){if(!_||!Be[_]){var oe=!1;for(var we in tt)if(tt.hasOwnProperty(we)&&tt[we].equals(R)){oe=!0;break}if(oe)R=tt[we];else{var Ne="GS"+(Object.keys(tt).length+1).toString(10);tt[Ne]=R,R.id=Ne}return _&&(Be[_]=R.id),it.publish("addGState",R),R}};d.addGState=function(_,R){return ot(_,R),this},d.saveGraphicsState=function(){return I("q"),De.push({key:rt,size:J,color:ia}),this},d.restoreGraphicsState=function(){I("Q");var _=De.pop();return rt=_.key,J=_.size,ia=_.color,Ke=null,this},d.setCurrentTransformationMatrix=function(_){return I(_.toString()+" cm"),this},d.comment=function(_){return I("#"+_),this};var It=function(_,R){var oe=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(He){isNaN(He)||(oe=parseFloat(He))}});var we=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function(He){isNaN(He)||(we=parseFloat(He))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(He){Ne=He.toString()}}),this},wr=function(_,R,oe,we){It.call(this,_,R),this.type="rect";var Ne=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(qe){isNaN(qe)||(Ne=parseFloat(qe))}});var He=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return He},set:function(qe){isNaN(qe)||(He=parseFloat(qe))}}),this},Pr=function(){this.page=$e,this.currentPage=V,this.pages=Ae.slice(0),this.pagesContext=Pe.slice(0),this.x=et,this.y=Ft,this.matrix=z,this.width=kr(V),this.height=Ss(V),this.outputDestination=fe,this.id="",this.objectNumber=-1};Pr.prototype.restore=function(){$e=this.page,V=this.currentPage,Pe=this.pagesContext,Ae=this.pages,et=this.x,Ft=this.y,z=this.matrix,La(V,this.width),Xn(V,this.height),fe=this.outputDestination};var Kr=function(_,R,oe,we,Ne){Xt.push(new Pr),$e=V=0,Ae=[],et=_,Ft=R,z=Ne,er([oe,we])};for(var Er in d.beginFormObject=function(_,R,oe,we,Ne){return Kr(_,R,oe,we,Ne),this},d.endFormObject=function(_){return function(R){if(Ir[R])Xt.pop().restore();else{var oe=new Pr,we="Xo"+(Object.keys(Et).length+1).toString(10);oe.id=we,Ir[R]=we,Et[we]=oe,it.publish("addFormObject",oe),Xt.pop().restore()}}(_),this},d.doFormObject=function(_,R){var oe=Et[Ir[_]];return I("q"),I(R.toString()+" cm"),I("/"+oe.id+" Do"),I("Q"),this},d.getFormObject=function(_){var R=Et[Ir[_]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},d.save=function(_,R){return _=_||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(HA(hs(Tr()),_),typeof HA.unload=="function"&&Lt.setTimeout&&setTimeout(HA.unload,911),this):new Promise(function(oe,we){try{var Ne=HA(hs(Tr()),_);typeof HA.unload=="function"&&Lt.setTimeout&&setTimeout(HA.unload,911),oe(Ne)}catch(He){we(He.message)}})},kt.API)kt.API.hasOwnProperty(Er)&&(Er==="events"&&kt.API.events.length?function(_,R){var oe,we,Ne;for(Ne=R.length-1;Ne!==-1;Ne--)oe=R[Ne][0],we=R[Ne][1],_.subscribe.apply(_,[oe].concat(typeof we=="function"?[we]:we))}(it,kt.API.events):d[Er]=kt.API[Er]);function kr(_){return Pe[_].mediaBox.topRightX-Pe[_].mediaBox.bottomLeftX}function La(_,R){Pe[_].mediaBox.topRightX=R+Pe[_].mediaBox.bottomLeftX}function Ss(_){return Pe[_].mediaBox.topRightY-Pe[_].mediaBox.bottomLeftY}function Xn(_,R){Pe[_].mediaBox.topRightY=R+Pe[_].mediaBox.bottomLeftY}var aa=d.getPageWidth=function(_){return kr(_=_||V)/At},BA=d.setPageWidth=function(_,R){La(_,R*At)},oa=d.getPageHeight=function(_){return Ss(_=_||V)/At},xA=d.setPageHeight=function(_,R){Xn(_,R*At)};return d.internal={pdfEscape:xt,getStyle:Cs,getFont:yl,getFontSize:_e,getCharSpace:El,getTextColor:ja,getLineHeight:Bl,getLineHeightFactor:_l,getLineWidth:jt,write:pe,getHorizontalCoordinate:fi,getVerticalCoordinate:pi,getCoordinateString:Cl,getVerticalCoordinateString:Sl,collections:{},newObject:dr,newAdditionalObject:Ea,newObjectDeferred:An,newObjectDeferredBegin:Cr,getFilters:Os,putStream:ds,events:it,scaleFactor:At,pageSize:{getWidth:function(){return aa(V)},setWidth:function(_){BA(V,_)},getHeight:function(){return oa(V)},setHeight:function(_){xA(V,_)}},encryptionOptions:u,encryption:mr,getEncryptor:function(_){return u!==null?mr.encryptor(_,0):function(R){return R}},output:qn,getNumberOfPages:ct,pages:Ae,out:I,f2:D,f3:U,getPageInfo:Fa,getPageInfoByObjId:co,getCurrentPageInfo:Qi,getPDFVersion:m,Point:It,Rectangle:wr,Matrix:mt,hasHotfix:hi},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return aa(V)},set:function(_){BA(V,_)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return oa(V)},set:function(_){xA(V,_)},enumerable:!0,configurable:!0}),(function(_){for(var R=0,oe=K.length;R<oe;R++){var we=Nt.call(this,_[R][0],_[R][1],_[R][2],K[R][3],!0);h===!1&&(p[we]=!0);var Ne=_[R][0].split("-");dt({id:we,fontName:Ne[0],fontStyle:Ne[1]||""})}it.publish("addFonts",{fonts:me,dictionary:je})}).call(d,K),rt="F1",gr(s,r),it.publish("initialized"),d}Yl.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Yl.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Yl.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Yl.prototype.processOwnerPassword=function(t,e){return Z1(Y1(e).substr(0,5),t)},Yl.prototype.encryptor=function(t,e){var r=Y1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Z1(r,n)}},zp.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||lr(t)!==lr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},kt.API={events:[]},kt.version="3.0.3";var Wr=kt.API,Mw=1,wl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ml=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Pt=function(t){return t.toFixed(2)},Lo=function(t){return t.toFixed(5)};Wr.__acroform__={};var Ts=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},OB=function(t){return t*Mw},fa=function(t){var e=new ZS,r=vt.internal.getHeight(t)||0,n=vt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Pt(n)),Number(Pt(r))],e},ND=Wr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},FD=Wr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},UD=Wr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},nn=Wr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return UD(t,e-1)},sn=Wr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ND(t,e-1)},an=Wr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return FD(t,e-1)},jD=Wr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=t[0],i=t[1],a=t[2],A=t[3],l={};return l.lowerLeft_X=r(s)||0,l.lowerLeft_Y=n(i+A)||0,l.upperRight_X=r(s+a)||0,l.upperRight_Y=n(i)||0,[Number(Pt(l.lowerLeft_X)),Number(Pt(l.lowerLeft_Y)),Number(Pt(l.upperRight_X)),Number(Pt(l.upperRight_Y))]},ID=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=ev(t,r),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+Pt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=fa(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},ev=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(D){return D.split(`
`)}):s.map(function(D){return[D]});var i=r,a=vt.internal.getHeight(t)||0;a=a<0?-a:a;var A=vt.internal.getWidth(t)||0;A=A<0?-A:A;var l=function(D,U,H){if(D+1<s.length){var S=U+" "+s[D+1][0];return cf(S,t,H).width<=A-4}return!1};i++;e:for(;i>0;){e="",i--;var c,u,h=cf("3",t,i).height,p=t.multiline?a-i:(a-h)/2,d=p+=2,w=0,m=0,y=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+cf(e,t,i=12).width+", FieldWidth:"+A+`
`;break}for(var g="",b=0,B=0;B<s.length;B++)if(s.hasOwnProperty(B)){var C=!1;if(s[B].length!==1&&y!==s[B].length-1){if((h+2)*(b+2)+2>a)continue e;g+=s[B][y],C=!0,m=B,B--}else{g=(g+=s[B][y]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var N=parseInt(B),L=l(N,g,i),Q=B>=s.length-1;if(L&&!Q){g+=" ",y=0;continue}if(L||Q){if(Q)m=N;else if(t.multiline&&(h+2)*(b+2)+2>a)continue e}else{if(!t.multiline||(h+2)*(b+2)+2>a)continue e;m=N}}for(var P="",k=w;k<=m;k++){var $=s[k];if(t.multiline){if(k===m){P+=$[y]+" ",y=(y+1)%$.length;continue}if(k===w){P+=$[$.length-1]+" ";continue}}P+=$[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,u=cf(P,t,i).width,t.textAlign){case"right":c=A-u-2;break;case"center":c=(A-u)/2;break;default:c=2}e+=Pt(c)+" "+Pt(d)+` Td
`,e+="("+wl(P)+`) Tj
`,e+=-Pt(c)+` 0 Td
`,d=-(i+2),u=0,w=C?m:m+1,b++,g=""}break}return n.text=e,n.fontSize=i,n},cf=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},LD={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},QD=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},DD=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Yi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(LD)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Mw=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new eE,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&QD(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var A=n[a],l=[],c=A.Rect;if(A.Rect&&(A.Rect=jD(A.Rect,s)),s.internal.newObjectDeferredBegin(A.objId,!0),A.DA=vt.createDefaultAppearanceStream(A),lr(A)==="object"&&typeof A.getKeyValueListForStream=="function"&&(l=A.getKeyValueListForStream()),A.Rect=c,A.hasAppearanceStream&&!A.appearanceStreamContent){var u=ID(A);l.push({key:"AP",value:"<</N "+u+">>"}),s.internal.acroformPlugin.xForms.push(u)}if(A.appearanceStreamContent){var h="";for(var p in A.appearanceStreamContent)if(A.appearanceStreamContent.hasOwnProperty(p)){var d=A.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var a in d)if(d.hasOwnProperty(a)){var w=d[a];typeof w=="function"&&(w=w.call(s,A)),h+="/"+a+" "+w+" ",s.internal.acroformPlugin.xForms.indexOf(w)>=0||s.internal.acroformPlugin.xForms.push(w)}}else typeof(w=d)=="function"&&(w=w.call(s,A)),h+="/"+a+" "+w,s.internal.acroformPlugin.xForms.indexOf(w)>=0||s.internal.acroformPlugin.xForms.push(w);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:A.objId}),s.internal.out("endobj")}i&&function(m,y){for(var g in m)if(m.hasOwnProperty(g)){var b=g,B=m[g];y.internal.newObjectDeferredBegin(B.objId,!0),lr(B)==="object"&&typeof B.putStream=="function"&&B.putStream(),delete m[b]}}(s.internal.acroformPlugin.xForms,s)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},YS=Wr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),lr(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),s+="("+wl(n(t[i].toString()))+")"):s+=t[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},t0=function(t,e,r){var n=function(s){return s};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+wl(n(t))+")"},wa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};wa.prototype.toString=function(){return this.objId+" 0 R"},wa.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},wa.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],s=this[n];s&&(Array.isArray(s)?t.push({key:n,value:YS(s,this.objId,this.scope)}):s instanceof wa?(s.scope=this.scope,t.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:n,value:s}))}return t};var ZS=function(){wa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ts(ZS,wa);var eE=function(){wa.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+wl(r(t))+")"}},set:function(r){t=r}})};Ts(eE,wa);var Yi=function t(){wa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!nn(e,3)},set:function(g){g?this.F=sn(e,3):this.F=an(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Kp)return;i="FieldObject"+t.FieldNum++}var g=function(b){return b};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+wl(g(i))+")"},set:function(g){i=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(g){i=g}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(g){a=g}});var A="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return A},set:function(g){A=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Mw:c},set:function(g){c=g}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(g){u=g}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Kp||this instanceof nl))return t0(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=g}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Un==0?t0(p,this.objId,this.scope):p},set:function(g){g=g.toString(),p=this instanceof Un==0?g.substr(0,1)==="("?Ml(g.substr(1,g.length-2)):Ml(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Un==1?Ml(p.substr(1,p.length-1)):p},set:function(g){g=g.toString(),p=this instanceof Un==1?"/"+g:g}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Un==0?t0(d,this.objId,this.scope):d},set:function(g){g=g.toString(),d=this instanceof Un==0?g.substr(0,1)==="("?Ml(g.substr(1,g.length-2)):Ml(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Un==1?Ml(d.substr(1,d.length-1)):d},set:function(g){g=g.toString(),d=this instanceof Un==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(g){g=!!g,m=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(g){w=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,1)},set:function(g){g?this.Ff=sn(this.Ff,1):this.Ff=an(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,2)},set:function(g){g?this.Ff=sn(this.Ff,2):this.Ff=an(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,3)},set:function(g){g?this.Ff=sn(this.Ff,3):this.Ff=an(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');y=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(y){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};Ts(Yi,wa);var _c=function(){Yi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return YS(e,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,a,A){A||(A=1);for(var l,c=[];l=a.exec(i);)c.push(l[A]);return c}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,18)},set:function(r){r?this.Ff=sn(this.Ff,18):this.Ff=an(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=sn(this.Ff,19):this.Ff=an(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,20)},set:function(r){r?(this.Ff=sn(this.Ff,20),e.sort()):this.Ff=an(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,22)},set:function(r){r?this.Ff=sn(this.Ff,22):this.Ff=an(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,23)},set:function(r){r?this.Ff=sn(this.Ff,23):this.Ff=an(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,27)},set:function(r){r?this.Ff=sn(this.Ff,27):this.Ff=an(this.Ff,27)}}),this.hasAppearanceStream=!1};Ts(_c,Yi);var Cc=function(){_c.call(this),this.fontName="helvetica",this.combo=!1};Ts(Cc,_c);var Sc=function(){Cc.call(this),this.combo=!0};Ts(Sc,Cc);var Zf=function(){Sc.call(this),this.edit=!0};Ts(Zf,Sc);var Un=function(){Yi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,15)},set:function(r){r?this.Ff=sn(this.Ff,15):this.Ff=an(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,16)},set:function(r){r?this.Ff=sn(this.Ff,16):this.Ff=an(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,17)},set:function(r){r?this.Ff=sn(this.Ff,17):this.Ff=an(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,26)},set:function(r){r?this.Ff=sn(this.Ff,26):this.Ff=an(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+wl(r(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){lr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ts(Un,Yi);var ep=function(){Un.call(this),this.pushButton=!0};Ts(ep,Un);var Ec=function(){Un.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ts(Ec,Un);var Kp=function(){var t,e;Yi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(A){return A};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+wl(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){lr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ts(Kp,Yi),Ec.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Ec.prototype.createOption=function(t){var e=new Kp;return e.Parent=this,e.optionName=t,this.Kids.push(e),TD.call(this.scope,e),e};var tp=function(){Un.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=vt.CheckBox.createAppearanceStream()};Ts(tp,Un);var nl=function(){Yi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,13)},set:function(e){e?this.Ff=sn(this.Ff,13):this.Ff=an(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,21)},set:function(e){e?this.Ff=sn(this.Ff,21):this.Ff=an(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,23)},set:function(e){e?this.Ff=sn(this.Ff,23):this.Ff=an(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,24)},set:function(e){e?this.Ff=sn(this.Ff,24):this.Ff=an(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,25)},set:function(e){e?this.Ff=sn(this.Ff,25):this.Ff=an(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,26)},set:function(e){e?this.Ff=sn(this.Ff,26):this.Ff=an(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ts(nl,Yi);var rp=function(){nl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,14)},set:function(t){t?this.Ff=sn(this.Ff,14):this.Ff=an(this.Ff,14)}}),this.password=!0};Ts(rp,nl);var vt={CheckBox:{createAppearanceStream:function(){return{N:{On:vt.CheckBox.YesNormal},D:{On:vt.CheckBox.YesPushDown,Off:vt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=fa(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=ev(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Pt(vt.internal.getWidth(t))+" "+Pt(vt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Pt(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=fa(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),s=[],i=vt.internal.getHeight(t),a=vt.internal.getWidth(t),A=ev(t,t.caption);return s.push("1 g"),s.push("0 0 "+Pt(a)+" "+Pt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Pt(a-1)+" "+Pt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Pt(A.fontSize)+" Tf "+n),s.push(A.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=fa(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Pt(vt.internal.getWidth(t))+" "+Pt(vt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:vt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=vt.RadioButton.Circle.YesNormal,e.D[t]=vt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=fa(t);e.scope=t.scope;var r=[],n=vt.internal.getWidth(t)<=vt.internal.getHeight(t)?vt.internal.getWidth(t)/4:vt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=vt.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Lo(vt.internal.getWidth(t)/2)+" "+Lo(vt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=fa(t);e.scope=t.scope;var r=[],n=vt.internal.getWidth(t)<=vt.internal.getHeight(t)?vt.internal.getWidth(t)/4:vt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*vt.internal.Bezier_C).toFixed(5)),a=Number((n*vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Lo(vt.internal.getWidth(t)/2)+" "+Lo(vt.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Lo(vt.internal.getWidth(t)/2)+" "+Lo(vt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=fa(t);e.scope=t.scope;var r=[],n=vt.internal.getWidth(t)<=vt.internal.getHeight(t)?vt.internal.getWidth(t)/4:vt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Lo(vt.internal.getWidth(t)/2)+" "+Lo(vt.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:vt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=vt.RadioButton.Cross.YesNormal,e.D[t]=vt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=fa(t);e.scope=t.scope;var r=[],n=vt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Pt(vt.internal.getWidth(t)-2)+" "+Pt(vt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Pt(n.x1.x)+" "+Pt(n.x1.y)+" m"),r.push(Pt(n.x2.x)+" "+Pt(n.x2.y)+" l"),r.push(Pt(n.x4.x)+" "+Pt(n.x4.y)+" m"),r.push(Pt(n.x3.x)+" "+Pt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=fa(t);e.scope=t.scope;var r=vt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Pt(vt.internal.getWidth(t))+" "+Pt(vt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Pt(vt.internal.getWidth(t)-2)+" "+Pt(vt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Pt(r.x1.x)+" "+Pt(r.x1.y)+" m"),n.push(Pt(r.x2.x)+" "+Pt(r.x2.y)+" l"),n.push(Pt(r.x4.x)+" "+Pt(r.x4.y)+" m"),n.push(Pt(r.x3.x)+" "+Pt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=fa(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Pt(vt.internal.getWidth(t))+" "+Pt(vt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};vt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=vt.internal.getWidth(t),r=vt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},vt.internal.getWidth=function(t){var e=0;return lr(t)==="object"&&(e=OB(t.Rect[2])),e},vt.internal.getHeight=function(t){var e=0;return lr(t)==="object"&&(e=OB(t.Rect[3])),e};var TD=Wr.addField=function(t){if(DD(this,t),!(t instanceof Yi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Wr.AcroFormChoiceField=_c,Wr.AcroFormListBox=Cc,Wr.AcroFormComboBox=Sc,Wr.AcroFormEditBox=Zf,Wr.AcroFormButton=Un,Wr.AcroFormPushButton=ep,Wr.AcroFormRadioButton=Ec,Wr.AcroFormCheckBox=tp,Wr.AcroFormTextField=nl,Wr.AcroFormPasswordField=rp,Wr.AcroFormAppearance=vt,Wr.AcroForm={ChoiceField:_c,ListBox:Cc,ComboBox:Sc,EditBox:Zf,Button:Un,PushButton:ep,RadioButton:Ec,CheckBox:tp,TextField:nl,PasswordField:rp,Appearance:vt},kt.AcroForm={ChoiceField:_c,ListBox:Cc,ComboBox:Sc,EditBox:Zf,Button:Un,PushButton:ep,RadioButton:Ec,CheckBox:tp,TextField:nl,PasswordField:rp,Appearance:vt};function tE(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(D,U){var H,S,ee,ge,le,ne=r;if((U=U||r)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(L(D))for(le in n)for(ee=n[le],H=0;H<ee.length;H+=1){for(ge=!0,S=0;S<ee[H].length;S+=1)if(ee[H][S]!==void 0&&ee[H][S]!==D[S]){ge=!1;break}if(ge===!0){ne=le;break}}else for(le in n)for(ee=n[le],H=0;H<ee.length;H+=1){for(ge=!0,S=0;S<ee[H].length;S+=1)if(ee[H][S]!==void 0&&ee[H][S]!==D.charCodeAt(S)){ge=!1;break}if(ge===!0){ne=le;break}}return ne===r&&U!==r&&(ne=U),ne},i=function D(U){for(var H=this.internal.write,S=this.internal.putStream,ee=(0,this.internal.getFilters)();ee.indexOf("FlateEncode")!==-1;)ee.splice(ee.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var ge=[];if(ge.push({key:"Type",value:"/XObject"}),ge.push({key:"Subtype",value:"/Image"}),ge.push({key:"Width",value:U.width}),ge.push({key:"Height",value:U.height}),U.colorSpace===g.INDEXED?ge.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(ge.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===g.DEVICE_CMYK&&ge.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ge.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&ge.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)&&U.transparency.length>0){for(var le="",ne=0,se=U.transparency.length;ne<se;ne++)le+=U.transparency[ne]+" "+U.transparency[ne]+" ";ge.push({key:"Mask",value:"["+le+"]"})}U.sMask!==void 0&&ge.push({key:"SMask",value:U.objectId+1+" 0 R"});var ye=U.filter!==void 0?["/"+U.filter]:void 0;if(S({data:U.data,additionalKeyValues:ge,alreadyAppliedFilters:ye,objectId:U.objectId}),H("endobj"),"sMask"in U&&U.sMask!==void 0){var re,F=(re=U.sMaskBitsPerComponent)!==null&&re!==void 0?re:U.bitsPerComponent,V={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:U.sMask};"filter"in U&&(V.decodeParameters="/Predictor ".concat(U.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(U.width),V.filter=U.filter),D.call(this,V)}if(U.colorSpace===g.INDEXED){var O=this.internal.newObject();S({data:P(new Uint8Array(U.palette)),objectId:O}),H("endobj")}},a=function(){var D=this.internal.collections[e+"images"];for(var U in D)i.call(this,D[U])},A=function(){var D,U=this.internal.collections[e+"images"],H=this.internal.write;for(var S in U)H("/I"+(D=U[S]).index,D.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",A))},c=function(){var D=this.internal.collections[e+"images"];return l.call(this),D},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(D){return typeof t["process"+D.toUpperCase()]=="function"},p=function(D){return lr(D)==="object"&&D.nodeType===1},d=function(D,U){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var H=""+D.getAttribute("src");if(H.indexOf("data:image/")===0)return Yf(unescape(H).split("base64,").pop());var S=t.loadFile(H,!0);if(S!==void 0)return S}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var ee;switch(U){case"PNG":ee="image/png";break;case"WEBP":ee="image/webp";break;default:ee="image/jpeg"}return Yf(D.toDataURL(ee,1).split("base64,").pop())}},w=function(D){var U=this.internal.collections[e+"images"];if(U){for(var H in U)if(D===U[H].alias)return U[H]}},m=function(D,U,H){return D||U||(D=-96,U=-96),D<0&&(D=-1*H.width*72/D/this.internal.scaleFactor),U<0&&(U=-1*H.height*72/U/this.internal.scaleFactor),D===0&&(D=U*H.width/H.height),U===0&&(U=D*H.height/H.width),[D,U]},y=function(D,U,H,S,ee,ge){var le=m.call(this,H,S,ee),ne=this.internal.getCoordinateString,se=this.internal.getVerticalCoordinateString,ye=c.call(this);if(H=le[0],S=le[1],ye[ee.index]=ee,ge){ge*=Math.PI/180;var re=Math.cos(ge),F=Math.sin(ge),V=function(q){return q.toFixed(4)},O=[V(re),V(F),V(-1*F),V(re),0,0,"cm"]}this.internal.write("q"),ge?(this.internal.write([1,"0","0",1,ne(D),se(U+S),"cm"].join(" ")),this.internal.write(O.join(" ")),this.internal.write([ne(H),"0","0",ne(S),"0","0","cm"].join(" "))):this.internal.write([ne(H),"0","0",ne(S),ne(D),se(U+S),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ee.index+" Do"),this.internal.write("Q")},g=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=t.__addimage__.sHashCode=function(D){var U,H,S=0;if(typeof D=="string")for(H=D.length,U=0;U<H;U++)S=(S<<5)-S+D.charCodeAt(U),S|=0;else if(L(D))for(H=D.byteLength/2,U=0;U<H;U++)S=(S<<5)-S+D[U],S|=0;return S},C=t.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var U=!0;return D.length===0&&(U=!1),D.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(U=!1),U},N=t.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var U=D.indexOf(",");return U<0?null:D.substring(0,U).trim().endsWith("base64")?D.substring(U+1):null};t.__addimage__.isArrayBuffer=function(D){return D instanceof ArrayBuffer};var L=t.__addimage__.isArrayBufferView=function(D){return D instanceof Int8Array||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array},Q=t.__addimage__.binaryStringToUint8Array=function(D){for(var U=D.length,H=new Uint8Array(U),S=0;S<U;S++)H[S]=D.charCodeAt(S);return H},P=t.__addimage__.arrayBufferToBinaryString=function(D){for(var U="",H=L(D)?D:new Uint8Array(D),S=0;S<H.length;S+=8192)U+=String.fromCharCode.apply(null,H.subarray(S,S+8192));return U};t.addImage=function(){var D,U,H,S,ee,ge,le,ne,se;if(typeof arguments[1]=="number"?(U=r,H=arguments[1],S=arguments[2],ee=arguments[3],ge=arguments[4],le=arguments[5],ne=arguments[6],se=arguments[7]):(U=arguments[1],H=arguments[2],S=arguments[3],ee=arguments[4],ge=arguments[5],le=arguments[6],ne=arguments[7],se=arguments[8]),lr(D=arguments[0])==="object"&&!p(D)&&"imageData"in D){var ye=D;D=ye.imageData,U=ye.format||U||r,H=ye.x||H||0,S=ye.y||S||0,ee=ye.w||ye.width||ee,ge=ye.h||ye.height||ge,le=ye.alias||le,ne=ye.compression||ne,se=ye.rotation||ye.angle||se}var re=this.internal.getFilters();if(ne===void 0&&re.indexOf("FlateEncode")!==-1&&(ne="SLOW"),isNaN(H)||isNaN(S))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var F=k.call(this,D,U,le,ne);return y.call(this,H,S,ee,ge,F,se),this};var k=function(D,U,H,S){var ee,ge,le;if(typeof D=="string"&&s(D)===r){D=unescape(D);var ne=$(D,!1);(ne!==""||(ne=t.loadFile(D,!0))!==void 0)&&(D=ne)}if(p(D)&&(D=d(D,U)),U=s(D,U),!h(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((le=H)==null||le.length===0)&&(H=function(se){return typeof se=="string"||L(se)?B(se):L(se.data)?B(se.data):null}(D)),(ee=w.call(this,H))||(D instanceof Uint8Array||U==="RGBA"||(ge=D,D=Q(D)),ee=this["process"+U.toUpperCase()](D,u.call(this),H,function(se){return se&&typeof se=="string"&&(se=se.toUpperCase()),se in t.image_compression?se:b.NONE}(S),ge)),!ee)throw new Error("An unknown error occurred whilst processing the image.");return ee},$=t.__addimage__.convertBase64ToBinaryString=function(D,U){U=typeof U!="boolean"||U;var H,S="";if(typeof D=="string"){var ee;H=(ee=N(D))!==null&&ee!==void 0?ee:D;try{S=Yf(H)}catch(ge){if(U)throw C(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ge.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return S};t.getImageProperties=function(D){var U,H,S="";if(p(D)&&(D=d(D)),typeof D=="string"&&s(D)===r&&((S=$(D,!1))===""&&(S=t.loadFile(D)||""),D=S),H=s(D),!h(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(D instanceof Uint8Array||(D=Q(D)),!(U=this["process"+H.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=H,U}})(kt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};kt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,s,i,a=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((n=c[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var d=this.internal.pdfEscape,w=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+A(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+A(n.bounds.y)+"] ")+"/Contents ("+d(g(n.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+d(g(b))+") >>",m.content=i;var B=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+A(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+A(n.bounds.y)+"] ")+" /Parent "+B,n.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(m.objId,"0 R",y.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+A(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+A(n.bounds.y+n.bounds.h)+"] ";var C=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+d(w(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+d(w(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var L=A(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+L+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,s,i,a){var A=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;A.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+s),h:c(n+i)},options:a,type:"link"})},t.textWithLink=function(r,n,s,i){var a,A,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){A=i.maxWidth;var u=this.splitTextToSize(r,A).length;a=Math.ceil(c*u)}else A=l,a=c;return this.text(r,n,s,i),s+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,s-c,A,a,i),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(kt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},A=t.__arabicParser__.isArabicEndLetter=function(m){return a(m)&&i(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return a(m)&&s.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return a(m)&&i(m)&&e[m.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return a(m)&&i(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return a(m)&&i(m)&&e[m.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return a(m)&&i(m)&&e[m.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(m){var y=0,g=r,b="",B=0;for(y=0;y<m.length;y+=1)g[m.charCodeAt(y)]!==void 0?(B++,typeof(g=g[m.charCodeAt(y)])=="number"&&(b+=String.fromCharCode(g),g=r,B=0),y===m.length-1&&(g=r,b+=m.charAt(y-(B-1)),y-=B-1,B=0)):(g=r,b+=m.charAt(y-B),y-=B,B=0);return b};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(m,y,g){return a(m)?i(m)===!1?-1:!c(m)||!a(y)&&!a(g)||!a(g)&&A(y)||A(m)&&!a(y)||A(m)&&l(y)||A(m)&&A(y)?0:u(m)&&a(y)&&!A(y)&&a(g)&&c(g)?3:A(m)||!a(g)?1:2:-1},d=function(m){var y=0,g=0,b=0,B="",C="",N="",L=(m=m||"").split("\\s+"),Q=[];for(y=0;y<L.length;y+=1){for(Q.push(""),g=0;g<L[y].length;g+=1)B=L[y][g],C=L[y][g-1],N=L[y][g+1],a(B)?(b=p(B,C,N),Q[y]+=b!==-1?String.fromCharCode(e[B.charCodeAt(0)][b]):B):Q[y]+=B;Q[y]=h(Q[y])}return Q.join(" ")},w=t.__arabicParser__.processArabic=t.processArabic=function(){var m,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(y)){var b=0;for(g=[],b=0;b<y.length;b+=1)Array.isArray(y[b])?g.push([d(y[b][0]),y[b][1],y[b][2]]):g.push([d(y[b])]);m=g}else m=d(y);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",w])}(kt.API),kt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(A){r=A}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(A){n=isNaN(A)||Number.isInteger(A)===!1||A<0?150:A,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(A){s=isNaN(A)||Number.isInteger(A)===!1||A<0?300:A,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(A){i=A}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(A){a=A}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(kt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(m){w=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,d=0,w=0,m=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=c.maxWidth;g>0?typeof l=="string"?l=this.splitTextToSize(l,g):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(B,C){return B.concat(y.splitTextToSize(C,g))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)d<(m=this.getStringUnitWidth(l[b],{font:h})*u)&&(d=m);return d!==0&&(w=l.length),{w:d/=p,h:Math.max((w*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,d&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,h,p){if(n.call(this),!u)throw new Error("No data for PDF table.");var d,w,m,y,g=[],b=[],B=[],C={},N={},L=[],Q=[],P=(p=p||{}).autoSize||!1,k=p.printHeaders!==!1,$=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,D=p.margins||Object.assign({width:this.getPageWidth()},e),U=typeof p.padding=="number"?p.padding:3,H=p.headerBackgroundColor||"#c8c8c8",S=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=S,this.setFontSize($),h==null)b=g=Object.keys(u[0]),B=g.map(function(){return"left"});else if(Array.isArray(h)&&lr(h[0])==="object")for(g=h.map(function(ye){return ye.name}),b=h.map(function(ye){return ye.prompt||ye.name||""}),B=h.map(function(ye){return ye.align||"left"}),d=0;d<h.length;d+=1)N[h[d].name]=.7499990551181103*h[d].width;else Array.isArray(h)&&typeof h[0]=="string"&&(b=g=h,B=g.map(function(){return"left"}));if(P||Array.isArray(h)&&typeof h[0]=="string")for(d=0;d<g.length;d+=1){for(C[y=g[d]]=u.map(function(ye){return ye[y]}),this.setFont(void 0,"bold"),L.push(this.getTextDimensions(b[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=C[y],this.setFont(void 0,"normal"),m=0;m<w.length;m+=1)L.push(this.getTextDimensions(w[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[y]=Math.max.apply(null,L)+U+U,L=[]}if(k){var ee={};for(d=0;d<g.length;d+=1)ee[g[d]]={},ee[g[d]].text=b[d],ee[g[d]].align=B[d];var ge=A.call(this,ee,N);Q=g.map(function(ye){return new i(l,c,N[ye],ge,ee[ye].text,void 0,ee[ye].align)}),this.setTableHeaderRow(Q),this.printHeaderRow(1,!1)}var le=h.reduce(function(ye,re){return ye[re.name]=re.align,ye},{});for(d=0;d<u.length;d+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:d,data:u[d]},this);var ne=A.call(this,u[d],N);for(m=0;m<g.length;m+=1){var se=u[d][g[m]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:d,col:m,data:se},this),a.call(this,new i(l,c,N[g[m]],ne,se,d+2,le[g[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var A=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(d){var w=l[d];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,c[d]-u-u)},this).map(function(d){return this.getLineHeightFactor()*d.length*h/p+u+u},this).reduce(function(d,w){return Math.max(d,w)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){u=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(w)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(kt.API);var rE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},nE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],tv=tE(nE),sE=[100,200,300,400,500,600,700,800,900],PD=tE(sE);function r0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return rE[i=i||"normal"]?i:"normal"}(t.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(t.weight),s=function(i){return typeof tv[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,r,n].join(" ")}}}function RB(t,e,r,n){var s;for(s=r;s>=0&&s<e.length;s+=n)if(t[e[s]])return t[e[s]];for(s=r;s>=0&&s<e.length;s-=n)if(t[e[s]])return t[e[s]]}var OD={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},HB={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function MB(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function zB(t){return t.trimLeft()}function RD(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function HD(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var uf,KB,$B,zl,df,VB,GB,WB,n0=["times"];function qB(t,e,r,n,s){var i=4,a=XB;switch(s){case kt.API.image_compression.FAST:i=1,a=JB;break;case kt.API.image_compression.MEDIUM:i=6,a=YB;break;case kt.API.image_compression.SLOW:i=9,a=ZB}t=function(l,c,u,h){for(var p,d=l.length/c,w=new Uint8Array(l.length+d),m=[MD,JB,XB,YB,ZB],y=0;y<d;y+=1){var g=y*c,b=l.subarray(g,g+c);if(h)w.set(h(b,u,p),g+y);else{for(var B=m.length,C=[],N=0;N<B;N+=1)C[N]=m[N](b,u,p);var L=KD(C.concat());w.set(C[L],g+y)}p=b}return w}(t,e,Math.ceil(r*n/8),a);var A=M1(t,{level:i});return kt.API.__addimage__.arrayBufferToBinaryString(A)}function MD(t){var e=Array.apply([],t);return e.unshift(0),e}function JB(t,e){var r=t.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var i=t[s-e]||0;n[s+1]=t[s]-i+256&255}return n}function XB(t,e,r){var n=t.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var a=r&&r[i]||0;s[i+1]=t[i]-a+256&255}return s}function YB(t,e,r){var n=t.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var a=t[i-e]||0,A=r&&r[i]||0;s[i+1]=t[i]+256-(a+A>>>1)&255}return s}function ZB(t,e,r){var n=t.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var a=zD(t[i-e]||0,r&&r[i]||0,r&&r[i-e]||0);s[i+1]=t[i]-a+256&255}return s}function zD(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),s=Math.abs(t-r),i=Math.abs(t+e-r-r);return n<=s&&n<=i?t:s<=i?e:r}function KD(t){var e=t.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function s0(t,e,r){var n=e*r,s=Math.floor(n/8),i=16-(n-8*s+r),a=(1<<r)-1;return iE(t,s)>>i&a}function ex(t,e,r,n){var s=r*n,i=Math.floor(s/8),a=16-(s-8*i+n),A=(1<<n)-1,l=(e&A)<<a;(function(c,u,h){if(u+1<c.byteLength)c.setUint16(u,h,!1);else{var p=h>>8&255;c.setUint8(u,p)}})(t,i,iE(t,i)&~(A<<a)&65535|l)}function iE(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function $D(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,a=1<<1+(7&s);t[e++],t[e++];var A=null,l=null;i&&(A=e,l=a,e+=3*a);var c=!0,u=[],h=0,p=null,d=0,w=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,w=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],1&m||(p=null),d=m>>2&7,e++;break;case 254:for(;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var y=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,B=t[e++]|t[e++]<<8,C=t[e++],N=C>>6&1,L=1<<1+(7&C),Q=A,P=l,k=!1;C>>7&&(k=!0,Q=e,P=L,e+=3*L);var $=e;for(e++;;){var D;if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}u.push({x:y,y:g,width:b,height:B,has_local_palette:k,palette_offset:Q,palette_size:P,data_offset:$,data_length:e-$,transparent_index:p,interlaced:!!N,delay:h,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return w},this.frameInfo=function(U){if(U<0||U>=u.length)throw new Error("Frame index out of range.");return u[U]},this.decodeAndBlitFrameBGRA=function(U,H){var S=this.frameInfo(U),ee=S.width*S.height,ge=new Uint8Array(ee);tx(t,S.data_offset,ge,ee);var le=S.palette_offset,ne=S.transparent_index;ne===null&&(ne=256);var se=S.width,ye=r-se,re=se,F=4*(S.y*r+S.x),V=4*((S.y+S.height)*r+S.x),O=F,q=4*ye;S.interlaced===!0&&(q+=4*r*7);for(var ce=8,ue=0,de=ge.length;ue<de;++ue){var be=ge[ue];if(re===0&&(re=se,(O+=q)>=V&&(q=4*ye+4*r*(ce-1),O=F+(se+ye)*(ce<<1),ce>>=1)),be===ne)O+=4;else{var Ue=t[le+3*be],Ae=t[le+3*be+1],Se=t[le+3*be+2];H[O++]=Se,H[O++]=Ae,H[O++]=Ue,H[O++]=255}--re}},this.decodeAndBlitFrameRGBA=function(U,H){var S=this.frameInfo(U),ee=S.width*S.height,ge=new Uint8Array(ee);tx(t,S.data_offset,ge,ee);var le=S.palette_offset,ne=S.transparent_index;ne===null&&(ne=256);var se=S.width,ye=r-se,re=se,F=4*(S.y*r+S.x),V=4*((S.y+S.height)*r+S.x),O=F,q=4*ye;S.interlaced===!0&&(q+=4*r*7);for(var ce=8,ue=0,de=ge.length;ue<de;++ue){var be=ge[ue];if(re===0&&(re=se,(O+=q)>=V&&(q=4*ye+4*r*(ce-1),O=F+(se+ye)*(ce<<1),ce>>=1)),be===ne)O+=4;else{var Ue=t[le+3*be],Ae=t[le+3*be+1],Se=t[le+3*be+2];H[O++]=Ue,H[O++]=Ae,H[O++]=Se,H[O++]=255}--re}}}function tx(t,e,r,n){for(var s=t[e++],i=1<<s,a=i+1,A=a+1,l=s+1,c=(1<<l)-1,u=0,h=0,p=0,d=t[e++],w=new Int32Array(4096),m=null;;){for(;u<16&&d!==0;)h|=t[e++]<<u,u+=8,d===1?d=t[e++]:--d;if(u<l)break;var y=h&c;if(h>>=l,u-=l,y!==i){if(y===a)break;for(var g=y<A?y:m,b=0,B=g;B>i;)B=w[B]>>8,++b;var C=B;if(p+b+(g!==y?1:0)>n)return void pr.log("Warning, gif stream longer than expected.");r[p++]=C;var N=p+=b;for(g!==y&&(r[p++]=C),B=g;b--;)B=w[B],r[--N]=255&B,B>>=8;m!==null&&A<4096&&(w[A++]=m<<8|C,A>=c+1&&l<12&&(++l,c=c<<1|1)),m=y}else A=a+1,c=(1<<(l=s+1))-1,m=null}return p!==n&&pr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function i0(t){var e,r,n,s,i,a=Math.floor,A=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),p=new Array(65535),d=new Array(64),w=new Array(64),m=[],y=0,g=7,b=new Array(64),B=new Array(64),C=new Array(64),N=new Array(256),L=new Array(2048),Q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],S=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ge(F,V){for(var O=0,q=0,ce=new Array,ue=1;ue<=16;ue++){for(var de=1;de<=F[ue];de++)ce[V[q]]=[],ce[V[q]][0]=O,ce[V[q]][1]=ue,q++,O++;O*=2}return ce}function le(F){for(var V=F[0],O=F[1]-1;O>=0;)V&1<<O&&(y|=1<<g),O--,--g<0&&(y==255?(ne(255),ne(0)):ne(y),g=7,y=0)}function ne(F){m.push(F)}function se(F){ne(F>>8&255),ne(255&F)}function ye(F,V,O,q,ce){for(var ue,de=ce[0],be=ce[240],Ue=function(J,xe){var _e,ve,ke,Ve,Te,Ge,pt,Ze,rt,At,et=0;for(rt=0;rt<8;++rt){_e=J[et],ve=J[et+1],ke=J[et+2],Ve=J[et+3],Te=J[et+4],Ge=J[et+5],pt=J[et+6];var Ft=_e+(Ze=J[et+7]),z=_e-Ze,me=ve+pt,je=ve-pt,De=ke+Ge,Xe=ke-Ge,at=Ve+Te,tt=Ve-Te,Be=Ft+at,Ke=Ft-at,$e=me+De,Pe=me-De;J[et]=Be+$e,J[et+4]=Be-$e;var it=.707106781*(Pe+Ke);J[et+2]=Ke+it,J[et+6]=Ke-it;var nt=.382683433*((Be=tt+Xe)-(Pe=je+z)),Et=.5411961*Be+nt,Ir=1.306562965*Pe+nt,Xt=.707106781*($e=Xe+je),mt=z+Xt,cs=z-Xt;J[et+5]=cs+Et,J[et+3]=cs-Et,J[et+1]=mt+Ir,J[et+7]=mt-Ir,et+=8}for(et=0,rt=0;rt<8;++rt){_e=J[et],ve=J[et+8],ke=J[et+16],Ve=J[et+24],Te=J[et+32],Ge=J[et+40],pt=J[et+48];var us=_e+(Ze=J[et+56]),on=_e-Ze,Wn=ve+pt,dr=ve-pt,An=ke+Ge,Cr=ke-Ge,Ea=Ve+Te,Li=Ve-Te,En=us+Ea,ci=us-Ea,Ps=Wn+An,Os=Wn-An;J[et]=En+Ps,J[et+32]=En-Ps;var ds=.707106781*(Os+ci);J[et+16]=ci+ds,J[et+48]=ci-ds;var ta=.382683433*((En=Li+Cr)-(Os=dr+on)),_s=.5411961*En+ta,ka=1.306562965*Os+ta,lo=.707106781*(Ps=Cr+dr),Na=on+lo,T=on-lo;J[et+40]=T+_s,J[et+24]=T-_s,J[et+8]=Na+ka,J[et+56]=Na-ka,et++}for(rt=0;rt<64;++rt)At=J[rt]*xe[rt],d[rt]=At>0?At+.5|0:At-.5|0;return d}(F,V),Ae=0;Ae<64;++Ae)w[Q[Ae]]=Ue[Ae];var Se=w[0]-O;O=w[0],Se==0?le(q[0]):(le(q[p[ue=32767+Se]]),le(h[ue]));for(var fe=63;fe>0&&w[fe]==0;)fe--;if(fe==0)return le(de),O;for(var x,I=1;I<=fe;){for(var pe=I;w[I]==0&&I<=fe;)++I;var Y=I-pe;if(Y>=16){x=Y>>4;for(var K=1;K<=x;++K)le(be);Y&=15}ue=32767+w[I],le(ce[(Y<<4)+p[ue]]),le(h[ue]),I++}return fe!=63&&le(de),O}function re(F){F=Math.min(Math.max(F,1),100),i!=F&&(function(V){for(var O=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],q=0;q<64;q++){var ce=a((O[q]*V+50)/100);ce=Math.min(Math.max(ce,1),255),A[Q[q]]=ce}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var be=a((ue[de]*V+50)/100);be=Math.min(Math.max(be,1),255),l[Q[de]]=be}for(var Ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ae=0,Se=0;Se<8;Se++)for(var fe=0;fe<8;fe++)c[Ae]=1/(A[Q[Ae]]*Ue[Se]*Ue[fe]*8),u[Ae]=1/(l[Q[Ae]]*Ue[Se]*Ue[fe]*8),Ae++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),i=F)}this.encode=function(F,V){V&&re(V),m=new Array,y=0,g=7,se(65496),se(65504),se(16),ne(74),ne(70),ne(73),ne(70),ne(0),ne(1),ne(1),ne(0),se(1),se(1),ne(0),ne(0),function(){se(65499),se(132),ne(0);for(var ve=0;ve<64;ve++)ne(A[ve]);ne(1);for(var ke=0;ke<64;ke++)ne(l[ke])}(),function(ve,ke){se(65472),se(17),ne(8),se(ke),se(ve),ne(3),ne(1),ne(17),ne(0),ne(2),ne(17),ne(1),ne(3),ne(17),ne(1)}(F.width,F.height),function(){se(65476),se(418),ne(0);for(var ve=0;ve<16;ve++)ne(P[ve+1]);for(var ke=0;ke<=11;ke++)ne(k[ke]);ne(16);for(var Ve=0;Ve<16;Ve++)ne($[Ve+1]);for(var Te=0;Te<=161;Te++)ne(D[Te]);ne(1);for(var Ge=0;Ge<16;Ge++)ne(U[Ge+1]);for(var pt=0;pt<=11;pt++)ne(H[pt]);ne(17);for(var Ze=0;Ze<16;Ze++)ne(S[Ze+1]);for(var rt=0;rt<=161;rt++)ne(ee[rt])}(),se(65498),se(12),ne(3),ne(1),ne(0),ne(2),ne(17),ne(3),ne(17),ne(0),ne(63),ne(0);var O=0,q=0,ce=0;y=0,g=7,this.encode.displayName="_encode_";for(var ue,de,be,Ue,Ae,Se,fe,x,I,pe=F.data,Y=F.width,K=F.height,J=4*Y,xe=0;xe<K;){for(ue=0;ue<J;){for(Ae=J*xe+ue,fe=-1,x=0,I=0;I<64;I++)Se=Ae+(x=I>>3)*J+(fe=4*(7&I)),xe+x>=K&&(Se-=J*(xe+1+x-K)),ue+fe>=J&&(Se-=ue+fe-J+4),de=pe[Se++],be=pe[Se++],Ue=pe[Se++],b[I]=(L[de]+L[be+256|0]+L[Ue+512|0]>>16)-128,B[I]=(L[de+768|0]+L[be+1024|0]+L[Ue+1280|0]>>16)-128,C[I]=(L[de+1280|0]+L[be+1536|0]+L[Ue+1792|0]>>16)-128;O=ye(b,c,O,e,n),q=ye(B,u,q,r,s),ce=ye(C,u,ce,r,s),ue+=32}xe+=8}if(g>=0){var _e=[];_e[1]=g+1,_e[0]=(1<<g+1)-1,le(_e)}return se(65497),new Uint8Array(m)},t=t||50,function(){for(var F=String.fromCharCode,V=0;V<256;V++)N[V]=F(V)}(),e=ge(P,k),r=ge(U,H),n=ge($,D),s=ge(S,ee),function(){for(var F=1,V=2,O=1;O<=15;O++){for(var q=F;q<V;q++)p[32767+q]=O,h[32767+q]=[],h[32767+q][1]=O,h[32767+q][0]=q;for(var ce=-(V-1);ce<=-F;ce++)p[32767+ce]=O,h[32767+ce]=[],h[32767+ce][1]=O,h[32767+ce][0]=V-1+ce;F<<=1,V<<=1}}(),function(){for(var F=0;F<256;F++)L[F]=19595*F,L[F+256|0]=38470*F,L[F+512|0]=7471*F+32768,L[F+768|0]=-11059*F,L[F+1024|0]=-21709*F,L[F+1280|0]=32768*F+8421375,L[F+1536|0]=-27439*F,L[F+1792|0]=-5329*F}(),re(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Hi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function rx(t){function e(k){if(!k)throw Error("assert :P")}function r(k,$,D){for(var U=0;4>U;U++)if(k[$+U]!=D.charCodeAt(U))return!0;return!1}function n(k,$,D,U,H){for(var S=0;S<H;S++)k[$+S]=D[U+S]}function s(k,$,D,U){for(var H=0;H<U;H++)k[$+H]=D}function i(k){return new Int32Array(k)}function a(k,$){for(var D=[],U=0;U<k;U++)D.push(new $);return D}function A(k,$){var D=[];return function U(H,S,ee){for(var ge=ee[S],le=0;le<ge&&(H.push(ee.length>S+1?[]:new $),!(ee.length<S+1));le++)U(H[le],S+1,ee)}(D,0,k),D}var l=function(){var k=this;function $(f,v){for(var E=1<<v-1>>>0;f&E;)E>>>=1;return E?(f&E-1)+E:f}function D(f,v,E,j,M){e(!(j%E));do f[v+(j-=E)]=M;while(0<j)}function U(f,v,E,j,M){if(e(2328>=M),512>=M)var G=i(512);else if((G=i(M))==null)return 0;return function(X,Z,te,ie,Ce,Le){var ae,Ee,Fe=Z,Oe=1<<te,Ie=i(16),Re=i(16);for(e(Ce!=0),e(ie!=null),e(X!=null),e(0<te),Ee=0;Ee<Ce;++Ee){if(15<ie[Ee])return 0;++Ie[ie[Ee]]}if(Ie[0]==Ce)return 0;for(Re[1]=0,ae=1;15>ae;++ae){if(Ie[ae]>1<<ae)return 0;Re[ae+1]=Re[ae]+Ie[ae]}for(Ee=0;Ee<Ce;++Ee)ae=ie[Ee],0<ie[Ee]&&(Le[Re[ae]++]=Ee);if(Re[15]==1)return(ie=new H).g=0,ie.value=Le[0],D(X,Fe,1,Oe,ie),Oe;var Me,Je=-1,We=Oe-1,Ct=0,gt=1,Rt=1,yt=1<<te;for(Ee=0,ae=1,Ce=2;ae<=te;++ae,Ce<<=1){if(gt+=Rt<<=1,0>(Rt-=Ie[ae]))return 0;for(;0<Ie[ae];--Ie[ae])(ie=new H).g=ae,ie.value=Le[Ee++],D(X,Fe+Ct,Ce,yt,ie),Ct=$(Ct,ae)}for(ae=te+1,Ce=2;15>=ae;++ae,Ce<<=1){if(gt+=Rt<<=1,0>(Rt-=Ie[ae]))return 0;for(;0<Ie[ae];--Ie[ae]){if(ie=new H,(Ct&We)!=Je){for(Fe+=yt,Me=1<<(Je=ae)-te;15>Je&&!(0>=(Me-=Ie[Je]));)++Je,Me<<=1;Oe+=yt=1<<(Me=Je-te),X[Z+(Je=Ct&We)].g=Me+te,X[Z+Je].value=Fe-Z-Je}ie.g=ae-te,ie.value=Le[Ee++],D(X,Fe+(Ct>>te),Ce,yt,ie),Ct=$(Ct,ae)}}return gt!=2*Re[15]-1?0:Oe}(f,v,E,j,M,G)}function H(){this.value=this.g=0}function S(){this.value=this.g=0}function ee(){this.G=a(5,H),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(UA,S)}function ge(f,v,E,j){e(f!=null),e(v!=null),e(2147483648>j),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=v,f.pa=E,f.Jd=v,f.Yc=E+j,f.Zc=4<=j?E+j-4+1:E,de(f)}function le(f,v){for(var E=0;0<v--;)E|=Ue(f,128)<<v;return E}function ne(f,v){var E=le(f,v);return be(f)?-E:E}function se(f,v,E,j){var M,G=0;for(e(f!=null),e(v!=null),e(4294967288>j),f.Sb=j,f.Ra=0,f.u=0,f.h=0,4<j&&(j=4),M=0;M<j;++M)G+=v[E+M]<<8*M;f.Ra=G,f.bb=j,f.oa=v,f.pa=E}function ye(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<wo-8>>>0,++f.bb,f.u-=8;q(f)&&(f.h=1,f.u=0)}function re(f,v){if(e(0<=v),!f.h&&v<=Hs){var E=O(f)&Rs[v];return f.u+=v,ye(f),E}return f.h=1,f.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function O(f){return f.Ra>>>(f.u&wo-1)>>>0}function q(f){return e(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>wo}function ce(f,v){f.u=v,f.h=q(f)}function ue(f){f.u>=Da&&(e(f.u>=Da),ye(f))}function de(f){e(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(e(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function be(f){return le(f,1)}function Ue(f,v){var E=f.Ca;0>f.b&&de(f);var j=f.b,M=E*v>>>8,G=(f.I>>>j>M)+0;for(G?(E-=M,f.I-=M+1<<j>>>0):E=M+1,j=E,M=0;256<=j;)M+=8,j>>=8;return j=7^M+yo[j],f.b-=j,f.Ca=(E<<j)-1,G}function Ae(f,v,E){f[v+0]=E>>24&255,f[v+1]=E>>16&255,f[v+2]=E>>8&255,f[v+3]=255&E}function Se(f,v){return f[v+0]|f[v+1]<<8}function fe(f,v){return Se(f,v)|f[v+2]<<16}function x(f,v){return Se(f,v)|Se(f,v+2)<<16}function I(f,v){var E=1<<v;return e(f!=null),e(0<v),f.X=i(E),f.X==null?0:(f.Mb=32-v,f.Xa=v,1)}function pe(f,v){e(f!=null),e(v!=null),e(f.Xa==v.Xa),n(v.X,0,f.X,0,1<<v.Xa)}function Y(){this.X=[],this.Xa=this.Mb=0}function K(f,v,E,j){e(E!=null),e(j!=null);var M=E[0],G=j[0];return M==0&&(M=(f*G+v/2)/v),G==0&&(G=(v*M+f/2)/f),0>=M||0>=G?0:(E[0]=M,j[0]=G,1)}function J(f,v){return f+(1<<v)-1>>>v}function xe(f,v){return((4278255360&f)+(4278255360&v)>>>0&4278255360)+((16711935&f)+(16711935&v)>>>0&16711935)>>>0}function _e(f,v){k[v]=function(E,j,M,G,X,Z,te){var ie;for(ie=0;ie<X;++ie){var Ce=k[f](Z[te+ie-1],M,G+ie);Z[te+ie]=xe(E[j+ie],Ce)}}}function ve(){this.ud=this.hd=this.jd=0}function ke(f,v){return((4278124286&(f^v))>>>1)+(f&v)>>>0}function Ve(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function Te(f,v){return Ve(f+(f-v+.5>>1))}function Ge(f,v,E){return Math.abs(v-E)-Math.abs(f-E)}function pt(f,v,E,j,M,G,X){for(j=G[X-1],E=0;E<M;++E)G[X+E]=j=xe(f[v+E],j)}function Ze(f,v,E,j,M){var G;for(G=0;G<E;++G){var X=f[v+G],Z=X>>8&255,te=16711935&(te=(te=16711935&X)+((Z<<16)+Z));j[M+G]=(4278255360&X)+te>>>0}}function rt(f,v){v.jd=255&f,v.hd=f>>8&255,v.ud=f>>16&255}function At(f,v,E,j,M,G){var X;for(X=0;X<j;++X){var Z=v[E+X],te=Z>>>8,ie=Z,Ce=255&(Ce=(Ce=Z>>>16)+((f.jd<<24>>24)*(te<<24>>24)>>>5));ie=255&(ie=(ie+=(f.hd<<24>>24)*(te<<24>>24)>>>5)+((f.ud<<24>>24)*(Ce<<24>>24)>>>5)),M[G+X]=(4278255360&Z)+(Ce<<16)+ie}}function et(f,v,E,j,M){k[v]=function(G,X,Z,te,ie,Ce,Le,ae,Ee){for(te=Le;te<ae;++te)for(Le=0;Le<Ee;++Le)ie[Ce++]=M(Z[j(G[X++])])},k[f]=function(G,X,Z,te,ie,Ce,Le){var ae=8>>G.b,Ee=G.Ea,Fe=G.K[0],Oe=G.w;if(8>ae)for(G=(1<<G.b)-1,Oe=(1<<ae)-1;X<Z;++X){var Ie,Re=0;for(Ie=0;Ie<Ee;++Ie)Ie&G||(Re=j(te[ie++])),Ce[Le++]=M(Fe[Re&Oe]),Re>>=ae}else k["VP8LMapColor"+E](te,ie,Fe,Oe,Ce,Le,X,Z,Ee)}}function Ft(f,v,E,j,M){for(E=v+E;v<E;){var G=f[v++];j[M++]=G>>16&255,j[M++]=G>>8&255,j[M++]=255&G}}function z(f,v,E,j,M){for(E=v+E;v<E;){var G=f[v++];j[M++]=G>>16&255,j[M++]=G>>8&255,j[M++]=255&G,j[M++]=G>>24&255}}function me(f,v,E,j,M){for(E=v+E;v<E;){var G=(X=f[v++])>>16&240|X>>12&15,X=240&X|X>>28&15;j[M++]=G,j[M++]=X}}function je(f,v,E,j,M){for(E=v+E;v<E;){var G=(X=f[v++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;j[M++]=G,j[M++]=X}}function De(f,v,E,j,M){for(E=v+E;v<E;){var G=f[v++];j[M++]=255&G,j[M++]=G>>8&255,j[M++]=G>>16&255}}function Xe(f,v,E,j,M,G){if(G==0)for(E=v+E;v<E;)Ae(j,((G=f[v++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),M+=32;else n(j,M,f,v,E)}function at(f,v){k[v][0]=k[f+"0"],k[v][1]=k[f+"1"],k[v][2]=k[f+"2"],k[v][3]=k[f+"3"],k[v][4]=k[f+"4"],k[v][5]=k[f+"5"],k[v][6]=k[f+"6"],k[v][7]=k[f+"7"],k[v][8]=k[f+"8"],k[v][9]=k[f+"9"],k[v][10]=k[f+"10"],k[v][11]=k[f+"11"],k[v][12]=k[f+"12"],k[v][13]=k[f+"13"],k[v][14]=k[f+"0"],k[v][15]=k[f+"0"]}function tt(f){return f==Dg||f==Tg||f==gh||f==Pg}function Be(){this.eb=[],this.size=this.A=this.fb=0}function Ke(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function $e(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Be,this.f.kb=new Ke,this.sd=null}function Pe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function it(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function nt(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Et(f,v){var E=f.T,j=v.ba.f.RGBA,M=j.eb,G=j.fb+f.ka*j.A,X=yi[v.ba.S],Z=f.y,te=f.O,ie=f.f,Ce=f.N,Le=f.ea,ae=f.W,Ee=v.cc,Fe=v.dc,Oe=v.Mc,Ie=v.Nc,Re=f.ka,Me=f.ka+f.T,Je=f.U,We=Je+1>>1;for(Re==0?X(Z,te,null,null,ie,Ce,Le,ae,ie,Ce,Le,ae,M,G,null,null,Je):(X(v.ec,v.fc,Z,te,Ee,Fe,Oe,Ie,ie,Ce,Le,ae,M,G-j.A,M,G,Je),++E);Re+2<Me;Re+=2)Ee=ie,Fe=Ce,Oe=Le,Ie=ae,Ce+=f.Rc,ae+=f.Rc,G+=2*j.A,X(Z,(te+=2*f.fa)-f.fa,Z,te,Ee,Fe,Oe,Ie,ie,Ce,Le,ae,M,G-j.A,M,G,Je);return te+=f.fa,f.j+Me<f.o?(n(v.ec,v.fc,Z,te,Je),n(v.cc,v.dc,ie,Ce,We),n(v.Mc,v.Nc,Le,ae,We),E--):1&Me||X(Z,te,null,null,ie,Ce,Le,ae,ie,Ce,Le,ae,M,G+j.A,null,null,Je),E}function Ir(f,v,E){var j=f.F,M=[f.J];if(j!=null){var G=f.U,X=v.ba.S,Z=X==ph||X==gh;v=v.ba.f.RGBA;var te=[0],ie=f.ka;te[0]=f.T,f.Kb&&(ie==0?--te[0]:(--ie,M[0]-=f.width),f.j+f.ka+f.T==f.o&&(te[0]=f.o-f.j-ie));var Ce=v.eb;ie=v.fb+ie*v.A,f=n2(j,M[0],f.width,G,te,Ce,ie+(Z?0:3),v.A),e(E==te),f&&tt(X)&&lu(Ce,ie,Z,G,te,v.A)}return 0}function Xt(f){var v=f.ma,E=v.ba.S,j=11>E,M=E==hh||E==fh||E==ph||E==Qg||E==12||tt(E);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!tu(v.Oa,f,M?11:12))return 0;if(M&&tt(E)&&oh(),f.da)alert("todo:use_scaling");else{if(j){if(v.Ib=nt,f.Kb){if(E=f.U+1>>1,v.memory=i(f.U+2*E),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+f.U,v.Mc=v.cc,v.Nc=v.dc+E,v.Ib=Et,oh()}}else alert("todo:EmitYUV");M&&(v.Jb=Ir,j&&gi())}if(j&&!y2){for(f=0;256>f;++f)Uk[f]=89858*(f-128)+vh>>mh,Lk[f]=-22014*(f-128)+vh,Ik[f]=-45773*(f-128),jk[f]=113618*(f-128)+vh>>mh;for(f=uu;f<Hg;++f)v=76283*(f-16)+vh>>mh,Qk[f-uu]=$r(v,255),Dk[f-uu]=$r(v+8>>4,15);y2=1}return 1}function mt(f){var v=f.ma,E=f.U,j=f.T;return e(!(1&f.ka)),0>=E||0>=j?0:(E=v.Ib(f,v),v.Jb!=null&&v.Jb(f,v,E),v.Dc+=E,1)}function cs(f){f.ma.memory=null}function us(f,v,E,j){return re(f,8)!=47?0:(v[0]=re(f,14)+1,E[0]=re(f,14)+1,j[0]=re(f,1),re(f,3)!=0?0:!f.h)}function on(f,v){if(4>f)return f+1;var E=f-2>>1;return(2+(1&f)<<E)+re(v,E)+1}function Wn(f,v){return 120<v?v-120:1<=(E=((E=mk[v-1])>>4)*f+(8-(15&E)))?E:1;var E}function dr(f,v,E){var j=O(E),M=f[v+=255&j].g-8;return 0<M&&(ce(E,E.u+8),j=O(E),v+=f[v].value,v+=j&(1<<M)-1),ce(E,E.u+f[v].g),f[v].value}function An(f,v,E){return E.g+=f.g,E.value+=f.value<<v>>>0,e(8>=E.g),f.g}function Cr(f,v,E){var j=f.xc;return e((v=j==0?0:f.vc[f.md*(E>>j)+(v>>j)])<f.Wb),f.Ya[v]}function Ea(f,v,E,j){var M=f.ab,G=f.c*v,X=f.C;v=X+v;var Z=E,te=j;for(j=f.Ta,E=f.Ua;0<M--;){var ie=f.gc[M],Ce=X,Le=v,ae=Z,Ee=te,Fe=(te=j,Z=E,ie.Ea);switch(e(Ce<Le),e(Le<=ie.nc),ie.hc){case 2:Jr(ae,Ee,(Le-Ce)*Fe,te,Z);break;case 0:var Oe=Ce,Ie=Le,Re=te,Me=Z,Je=(yt=ie).Ea;Oe==0&&(nu(ae,Ee,null,null,1,Re,Me),pt(ae,Ee+1,0,0,Je-1,Re,Me+1),Ee+=Je,Me+=Je,++Oe);for(var We=1<<yt.b,Ct=We-1,gt=J(Je,yt.b),Rt=yt.K,yt=yt.w+(Oe>>yt.b)*gt;Oe<Ie;){var Vt=Rt,yn=yt,Ht=1;for(Fl(ae,Ee,Re,Me-Je,1,Re,Me);Ht<Je;){var bt=(Ht&~Ct)+We;bt>Je&&(bt=Je),(0,iu[Vt[yn++]>>8&15])(ae,Ee+ +Ht,Re,Me+Ht-Je,bt-Ht,Re,Me+Ht),Ht=bt}Ee+=Je,Me+=Je,++Oe&Ct||(yt+=gt)}Le!=ie.nc&&n(te,Z-Fe,te,Z+(Le-Ce-1)*Fe,Fe);break;case 1:for(Fe=ae,Ie=Ee,Je=(ae=ie.Ea)-(Me=ae&~(Re=(Ee=1<<ie.b)-1)),Oe=J(ae,ie.b),We=ie.K,ie=ie.w+(Ce>>ie.b)*Oe;Ce<Le;){for(Ct=We,gt=ie,Rt=new ve,yt=Ie+Me,Vt=Ie+ae;Ie<yt;)rt(Ct[gt++],Rt),au(Rt,Fe,Ie,Ee,te,Z),Ie+=Ee,Z+=Ee;Ie<Vt&&(rt(Ct[gt++],Rt),au(Rt,Fe,Ie,Je,te,Z),Ie+=Je,Z+=Je),++Ce&Re||(ie+=Oe)}break;case 3:if(ae==te&&Ee==Z&&0<ie.b){for(Ie=te,ae=Fe=Z+(Le-Ce)*Fe-(Me=(Le-Ce)*J(ie.Ea,ie.b)),Ee=te,Re=Z,Oe=[],Me=(Je=Me)-1;0<=Me;--Me)Oe[Me]=Ee[Re+Me];for(Me=Je-1;0<=Me;--Me)Ie[ae+Me]=Oe[Me];lh(ie,Ce,Le,te,Fe,te,Z)}else lh(ie,Ce,Le,ae,Ee,te,Z)}Z=j,te=E}te!=E&&n(j,E,Z,te,G)}function Li(f,v){var E=f.V,j=f.Ba+f.c*f.C,M=v-f.C;if(e(v<=f.l.o),e(16>=M),0<M){var G=f.l,X=f.Ta,Z=f.Ua,te=G.width;if(Ea(f,M,E,j),M=Z=[Z],e((E=f.C)<(j=v)),e(G.v<G.va),j>G.o&&(j=G.o),E<G.j){var ie=G.j-E;E=G.j,M[0]+=ie*te}if(E>=j?E=0:(M[0]+=4*G.v,G.ka=E-G.j,G.U=G.va-G.v,G.T=j-E,E=1),E){if(Z=Z[0],11>(E=f.ca).S){var Ce=E.f.RGBA,Le=(j=E.S,M=G.U,G=G.T,ie=Ce.eb,Ce.A),ae=G;for(Ce=Ce.fb+f.Ma*Ce.A;0<ae--;){var Ee=X,Fe=Z,Oe=M,Ie=ie,Re=Ce;switch(j){case dh:ou(Ee,Fe,Oe,Ie,Re);break;case hh:bo(Ee,Fe,Oe,Ie,Re);break;case Dg:bo(Ee,Fe,Oe,Ie,Re),lu(Ie,Re,0,Oe,1,0);break;case c2:jA(Ee,Fe,Oe,Ie,Re);break;case fh:Xe(Ee,Fe,Oe,Ie,Re,1);break;case Tg:Xe(Ee,Fe,Oe,Ie,Re,1),lu(Ie,Re,0,Oe,1,0);break;case ph:Xe(Ee,Fe,Oe,Ie,Re,0);break;case gh:Xe(Ee,Fe,Oe,Ie,Re,0),lu(Ie,Re,1,Oe,1,0);break;case Qg:Bo(Ee,Fe,Oe,Ie,Re);break;case Pg:Bo(Ee,Fe,Oe,Ie,Re),r2(Ie,Re,Oe,1,0);break;case u2:xo(Ee,Fe,Oe,Ie,Re);break;default:e(0)}Z+=te,Ce+=Le}f.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(f.Ma<=E.height)}}f.C=v,e(f.C<=f.i)}function En(f){var v;if(0<f.ua)return 0;for(v=0;v<f.Wb;++v){var E=f.Ya[v].G,j=f.Ya[v].H;if(0<E[1][j[1]+0].g||0<E[2][j[2]+0].g||0<E[3][j[3]+0].g)return 0}return 1}function ci(f,v,E,j,M,G){if(f.Z!=0){var X=f.qd,Z=f.rd;for(e(So[f.Z]!=null);v<E;++v)So[f.Z](X,Z,j,M,j,M,G),X=j,Z=M,M+=G;f.qd=X,f.rd=Z}}function Ps(f,v){var E=f.l.ma,j=E.Z==0||E.Z==1?f.l.j:f.C;if(j=f.C<j?j:f.C,e(v<=f.l.o),v>j){var M=f.l.width,G=E.ca,X=E.tb+M*j,Z=f.V,te=f.Ba+f.c*j,ie=f.gc;e(f.ab==1),e(ie[0].hc==3),la(ie[0],j,v,Z,te,G,X),ci(E,j,v,G,X,M)}f.C=f.Ma=v}function Os(f,v,E,j,M,G,X){var Z=f.$/j,te=f.$%j,ie=f.m,Ce=f.s,Le=E+f.$,ae=Le;M=E+j*M;var Ee=E+j*G,Fe=280+Ce.ua,Oe=f.Pb?Z:16777216,Ie=0<Ce.ua?Ce.Wa:null,Re=Ce.wc,Me=Le<Ee?Cr(Ce,te,Z):null;e(f.C<G),e(Ee<=M);var Je=!1;e:for(;;){for(;Je||Le<Ee;){var We=0;if(Z>=Oe){var Ct=Le-E;e((Oe=f).Pb),Oe.wd=Oe.m,Oe.xd=Ct,0<Oe.s.ua&&pe(Oe.s.Wa,Oe.s.vb),Oe=Z+wk}if(te&Re||(Me=Cr(Ce,te,Z)),e(Me!=null),Me.Qb&&(v[Le]=Me.qb,Je=!0),!Je)if(ue(ie),Me.jc){We=ie,Ct=v;var gt=Le,Rt=Me.pd[O(We)&UA-1];e(Me.jc),256>Rt.g?(ce(We,We.u+Rt.g),Ct[gt]=Rt.value,We=0):(ce(We,We.u+Rt.g-256),e(256<=Rt.value),We=Rt.value),We==0&&(Je=!0)}else We=dr(Me.G[0],Me.H[0],ie);if(ie.h)break;if(Je||256>We){if(!Je)if(Me.nd)v[Le]=(Me.qb|We<<8)>>>0;else{if(ue(ie),Je=dr(Me.G[1],Me.H[1],ie),ue(ie),Ct=dr(Me.G[2],Me.H[2],ie),gt=dr(Me.G[3],Me.H[3],ie),ie.h)break;v[Le]=(gt<<24|Je<<16|We<<8|Ct)>>>0}if(Je=!1,++Le,++te>=j&&(te=0,++Z,X!=null&&Z<=G&&!(Z%16)&&X(f,Z),Ie!=null))for(;ae<Le;)We=v[ae++],Ie.X[(506832829*We&4294967295)>>>Ie.Mb]=We}else if(280>We){if(We=on(We-256,ie),Ct=dr(Me.G[4],Me.H[4],ie),ue(ie),Ct=Wn(j,Ct=on(Ct,ie)),ie.h)break;if(Le-E<Ct||M-Le<We)break e;for(gt=0;gt<We;++gt)v[Le+gt]=v[Le+gt-Ct];for(Le+=We,te+=We;te>=j;)te-=j,++Z,X!=null&&Z<=G&&!(Z%16)&&X(f,Z);if(e(Le<=M),te&Re&&(Me=Cr(Ce,te,Z)),Ie!=null)for(;ae<Le;)We=v[ae++],Ie.X[(506832829*We&4294967295)>>>Ie.Mb]=We}else{if(!(We<Fe))break e;for(Je=We-280,e(Ie!=null);ae<Le;)We=v[ae++],Ie.X[(506832829*We&4294967295)>>>Ie.Mb]=We;We=Le,e(!(Je>>>(Ct=Ie).Xa)),v[We]=Ct.X[Je],Je=!0}Je||e(ie.h==q(ie))}if(f.Pb&&ie.h&&Le<M)e(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&pe(f.s.vb,f.s.Wa);else{if(ie.h)break e;X!=null&&X(f,Z>G?G:Z),f.a=0,f.$=Le-E}return 1}return f.a=3,0}function ds(f){e(f!=null),f.vc=null,f.yc=null,f.Ya=null;var v=f.Wa;v!=null&&(v.X=null),f.vb=null,e(f!=null)}function ta(){var f=new _t;return f==null?null:(f.a=0,f.xb=f2,at("Predictor","VP8LPredictors"),at("Predictor","VP8LPredictors_C"),at("PredictorAdd","VP8LPredictorsAdd"),at("PredictorAdd","VP8LPredictorsAdd_C"),Jr=Ze,au=At,ou=Ft,bo=z,Bo=me,xo=je,jA=De,k.VP8LMapColor32b=Aa,k.VP8LMapColor8b=su,f)}function _s(f,v,E,j,M){var G=1,X=[f],Z=[v],te=j.m,ie=j.s,Ce=null,Le=0;e:for(;;){if(E)for(;G&&re(te,1);){var ae=X,Ee=Z,Fe=j,Oe=1,Ie=Fe.m,Re=Fe.gc[Fe.ab],Me=re(Ie,2);if(Fe.Oc&1<<Me)G=0;else{switch(Fe.Oc|=1<<Me,Re.hc=Me,Re.Ea=ae[0],Re.nc=Ee[0],Re.K=[null],++Fe.ab,e(4>=Fe.ab),Me){case 0:case 1:Re.b=re(Ie,3)+2,Oe=_s(J(Re.Ea,Re.b),J(Re.nc,Re.b),0,Fe,Re.K),Re.K=Re.K[0];break;case 3:var Je,We=re(Ie,8)+1,Ct=16<We?0:4<We?1:2<We?2:3;if(ae[0]=J(Re.Ea,Ct),Re.b=Ct,Je=Oe=_s(We,1,0,Fe,Re.K)){var gt,Rt=We,yt=Re,Vt=1<<(8>>yt.b),yn=i(Vt);if(yn==null)Je=0;else{var Ht=yt.K[0],bt=yt.w;for(yn[0]=yt.K[0][0],gt=1;gt<1*Rt;++gt)yn[gt]=xe(Ht[bt+gt],yn[gt-1]);for(;gt<4*Vt;++gt)yn[gt]=0;yt.K[0]=null,yt.K[0]=yn,Je=1}}Oe=Je;break;case 2:break;default:e(0)}G=Oe}}if(X=X[0],Z=Z[0],G&&re(te,1)&&!(G=1<=(Le=re(te,4))&&11>=Le)){j.a=3;break e}var st;if(st=G)t:{var Yr,Ot,Wt,Nr=j,Tn=X,fs=Z,Vr=Le,Zn=E,ps=Nr.m,bn=Nr.s,qt=[null],ar=1,Gr=0,or=vk[Vr];r:for(;;){if(Zn&&re(ps,1)){var Pn=re(ps,3)+2,Pi=J(Tn,Pn),Zr=J(fs,Pn),ks=Pi*Zr;if(!_s(Pi,Zr,0,Nr,qt))break r;for(qt=qt[0],bn.xc=Pn,Yr=0;Yr<ks;++Yr){var fr=qt[Yr]>>8&65535;qt[Yr]=fr,fr>=ar&&(ar=fr+1)}}if(ps.h)break r;for(Ot=0;5>Ot;++Ot){var Bn=d2[Ot];!Ot&&0<Vr&&(Bn+=1<<Vr),Gr<Bn&&(Gr=Bn)}var zs=a(ar*or,H),gs=ar,Ks=a(gs,ee);if(Ks==null)var $s=null;else e(65536>=gs),$s=Ks;var Ns=i(Gr);if($s==null||Ns==null||zs==null){Nr.a=1;break r}var Vs=zs;for(Yr=Wt=0;Yr<ar;++Yr){var br=$s[Yr],Gs=br.G,Oi=br.H,LA=0,Oa=1,On=0;for(Ot=0;5>Ot;++Ot){Bn=d2[Ot],Gs[Ot]=Vs,Oi[Ot]=Wt,!Ot&&0<Vr&&(Bn+=1<<Vr);s:{var yh,Mg=Bn,bh=Nr,du=Ns,Ok=Vs,Rk=Wt,zg=0,Eo=bh.m,Hk=re(Eo,1);if(s(du,0,0,Mg),Hk){var Mk=re(Eo,1)+1,zk=re(Eo,1),x2=re(Eo,zk==0?1:8);du[x2]=1,Mk==2&&(du[x2=re(Eo,8)]=1);var Bh=1}else{var _2=i(19),C2=re(Eo,4)+4;if(19<C2){bh.a=3;var xh=0;break s}for(yh=0;yh<C2;++yh)_2[gk[yh]]=re(Eo,3);var Kg=void 0,hu=void 0,S2=bh,Kk=_2,_h=Mg,E2=du,$g=0,ko=S2.m,k2=8,N2=a(128,H);n:for(;U(N2,0,7,Kk,19);){if(re(ko,1)){var $k=2+2*re(ko,3);if((Kg=2+re(ko,$k))>_h)break n}else Kg=_h;for(hu=0;hu<_h&&Kg--;){ue(ko);var F2=N2[0+(127&O(ko))];ce(ko,ko.u+F2.g);var jl=F2.value;if(16>jl)E2[hu++]=jl,jl!=0&&(k2=jl);else{var Vk=jl==16,U2=jl-16,Gk=fk[U2],j2=re(ko,hk[U2])+Gk;if(hu+j2>_h)break n;for(var Wk=Vk?k2:0;0<j2--;)E2[hu++]=Wk}}$g=1;break n}$g||(S2.a=3),Bh=$g}(Bh=Bh&&!Eo.h)&&(zg=U(Ok,Rk,8,du,Mg)),Bh&&zg!=0?xh=zg:(bh.a=3,xh=0)}if(xh==0)break r;if(Oa&&pk[Ot]==1&&(Oa=Vs[Wt].g==0),LA+=Vs[Wt].g,Wt+=xh,3>=Ot){var fu,Vg=Ns[0];for(fu=1;fu<Bn;++fu)Ns[fu]>Vg&&(Vg=Ns[fu]);On+=Vg}}if(br.nd=Oa,br.Qb=0,Oa&&(br.qb=(Gs[3][Oi[3]+0].value<<24|Gs[1][Oi[1]+0].value<<16|Gs[2][Oi[2]+0].value)>>>0,LA==0&&256>Gs[0][Oi[0]+0].value&&(br.Qb=1,br.qb+=Gs[0][Oi[0]+0].value<<8)),br.jc=!br.Qb&&6>On,br.jc){var Ch,Ra=br;for(Ch=0;Ch<UA;++Ch){var No=Ch,Fo=Ra.pd[No],Sh=Ra.G[0][Ra.H[0]+No];256<=Sh.value?(Fo.g=Sh.g+256,Fo.value=Sh.value):(Fo.g=0,Fo.value=0,No>>=An(Sh,8,Fo),No>>=An(Ra.G[1][Ra.H[1]+No],16,Fo),No>>=An(Ra.G[2][Ra.H[2]+No],0,Fo),An(Ra.G[3][Ra.H[3]+No],24,Fo))}}}bn.vc=qt,bn.Wb=ar,bn.Ya=$s,bn.yc=zs,st=1;break t}st=0}if(!(G=st)){j.a=3;break e}if(0<Le){if(ie.ua=1<<Le,!I(ie.Wa,Le)){j.a=1,G=0;break e}}else ie.ua=0;var Gg=j,I2=X,qk=Z,Wg=Gg.s,qg=Wg.xc;if(Gg.c=I2,Gg.i=qk,Wg.md=J(I2,qg),Wg.wc=qg==0?-1:(1<<qg)-1,E){j.xb=Sk;break e}if((Ce=i(X*Z))==null){j.a=1,G=0;break e}G=(G=Os(j,Ce,0,X,Z,Z,null))&&!te.h;break e}return G?(M!=null?M[0]=Ce:(e(Ce==null),e(E)),j.$=0,E||ds(ie)):ds(ie),G}function ka(f,v){var E=f.c*f.i,j=E+v+16*v;return e(f.c<=v),f.V=i(j),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+E+v,1)}function lo(f,v){var E=f.C,j=v-E,M=f.V,G=f.Ba+f.c*E;for(e(v<=f.l.o);0<j;){var X=16<j?16:j,Z=f.l.ma,te=f.l.width,ie=te*X,Ce=Z.ca,Le=Z.tb+te*E,ae=f.Ta,Ee=f.Ua;Ea(f,X,M,G),s2(ae,Ee,Ce,Le,ie),ci(Z,E,E+X,Ce,Le,te),j-=X,M+=X*f.c,E+=X}e(E==v),f.C=f.Ma=v}function Na(){this.ub=this.yd=this.td=this.Rb=0}function T(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function he(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Qe(){this.Yb=function(){var f=[];return function v(E,j,M){for(var G=M[j],X=0;X<G&&(E.push(M.length>j+1?[]:0),!(M.length<j+1));X++)v(E[X],j+1,M)}(f,0,[3,11]),f}()}function dt(){this.jb=i(3),this.Wc=A([4,8],Qe),this.Xc=A([4,17],Qe)}function Nt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function xt(){this.ld=this.La=this.dd=this.tc=0}function er(){this.Na=this.la=0}function gr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function tr(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Sr(){this.uc=this.M=this.Nb=0,this.wa=Array(new xt),this.Y=0,this.ya=Array(new tr),this.aa=0,this.l=new Mt}function ct(){this.y=i(16),this.f=i(8),this.ea=i(8)}function gn(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new Na,this.Kc=new T,this.ed=new Nt,this.Qa=new he,this.Ic=this.$c=this.Aa=0,this.D=new Sr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,F),this.ia=0,this.pb=a(4,gr),this.Pa=new dt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ct),this.Hd=0,this.rb=Array(new er),this.sb=0,this.wa=Array(new xt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new tr),this.L=this.aa=0,this.gd=A([4,2],xt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Mt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ui(){var f=new gn;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,cu||(cu=Tr)),f}function $t(f,v,E){return f.a==0&&(f.a=v,f.sc=E,f.cb=0),0}function di(f,v,E){return 3<=E&&f[v+0]==157&&f[v+1]==1&&f[v+2]==42}function Ln(f,v){if(f==null)return 0;if(f.a=0,f.sc="OK",v==null)return $t(f,2,"null VP8Io passed to VP8GetHeaders()");var E=v.data,j=v.w,M=v.ha;if(4>M)return $t(f,7,"Truncated header.");var G=E[j+0]|E[j+1]<<8|E[j+2]<<16,X=f.Od;if(X.Rb=!(1&G),X.td=G>>1&7,X.yd=G>>4&1,X.ub=G>>5,3<X.td)return $t(f,3,"Incorrect keyframe parameters.");if(!X.yd)return $t(f,4,"Frame not displayable.");j+=3,M-=3;var Z=f.Kc;if(X.Rb){if(7>M)return $t(f,7,"cannot parse picture header");if(!di(E,j,M))return $t(f,3,"Bad code word");Z.c=16383&(E[j+4]<<8|E[j+3]),Z.Td=E[j+4]>>6,Z.i=16383&(E[j+6]<<8|E[j+5]),Z.Ud=E[j+6]>>6,j+=7,M-=7,f.za=Z.c+15>>4,f.Ub=Z.i+15>>4,v.width=Z.c,v.height=Z.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,s((G=f.Pa).jb,0,255,G.jb.length),e((G=f.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,s(G.Zb,0,0,G.Zb.length),s(G.Lb,0,0,G.Lb)}if(X.ub>M)return $t(f,7,"bad partition length");ge(G=f.m,E,j,X.ub),j+=X.ub,M-=X.ub,X.Rb&&(Z.Ld=be(G),Z.Kd=be(G)),Z=f.Qa;var te,ie=f.Pa;if(e(G!=null),e(Z!=null),Z.Cb=be(G),Z.Cb){if(Z.Bb=be(G),be(G)){for(Z.Fb=be(G),te=0;4>te;++te)Z.Zb[te]=be(G)?ne(G,7):0;for(te=0;4>te;++te)Z.Lb[te]=be(G)?ne(G,6):0}if(Z.Bb)for(te=0;3>te;++te)ie.jb[te]=be(G)?le(G,8):255}else Z.Bb=0;if(G.Ka)return $t(f,3,"cannot parse segment header");if((Z=f.ed).zd=be(G),Z.Tb=le(G,6),Z.wb=le(G,3),Z.Pc=be(G),Z.Pc&&be(G)){for(ie=0;4>ie;++ie)be(G)&&(Z.vd[ie]=ne(G,6));for(ie=0;4>ie;++ie)be(G)&&(Z.od[ie]=ne(G,6))}if(f.L=Z.Tb==0?0:Z.zd?1:2,G.Ka)return $t(f,3,"cannot parse filter header");var Ce=M;if(M=te=j,j=te+Ce,Z=Ce,f.Xb=(1<<le(f.m,2))-1,Ce<3*(ie=f.Xb))E=7;else{for(te+=3*ie,Z-=3*ie,Ce=0;Ce<ie;++Ce){var Le=E[M+0]|E[M+1]<<8|E[M+2]<<16;Le>Z&&(Le=Z),ge(f.Jc[+Ce],E,te,Le),te+=Le,Z-=Le,M+=3}ge(f.Jc[+ie],E,te,Z),E=te<j?0:5}if(E!=0)return $t(f,E,"cannot parse partitions");for(E=le(te=f.m,7),M=be(te)?ne(te,4):0,j=be(te)?ne(te,4):0,Z=be(te)?ne(te,4):0,ie=be(te)?ne(te,4):0,te=be(te)?ne(te,4):0,Ce=f.Qa,Le=0;4>Le;++Le){if(Ce.Cb){var ae=Ce.Zb[Le];Ce.Fb||(ae+=E)}else{if(0<Le){f.pb[Le]=f.pb[0];continue}ae=E}var Ee=f.pb[Le];Ee.Sc[0]=Og[$r(ae+M,127)],Ee.Sc[1]=Rg[$r(ae+0,127)],Ee.Eb[0]=2*Og[$r(ae+j,127)],Ee.Eb[1]=101581*Rg[$r(ae+Z,127)]>>16,8>Ee.Eb[1]&&(Ee.Eb[1]=8),Ee.Qc[0]=Og[$r(ae+ie,117)],Ee.Qc[1]=Rg[$r(ae+te,127)],Ee.lc=ae+te}if(!X.Rb)return $t(f,4,"Not a key frame.");for(be(G),X=f.Pa,E=0;4>E;++E){for(M=0;8>M;++M)for(j=0;3>j;++j)for(Z=0;11>Z;++Z)ie=Ue(G,_k[E][M][j][Z])?le(G,8):Bk[E][M][j][Z],X.Wc[E][M].Yb[j][Z]=ie;for(M=0;17>M;++M)X.Xc[E][M]=X.Wc[E][Ck[M]]}return f.kc=be(G),f.kc&&(f.Bd=le(G,8)),f.cb=1}function Tr(f,v,E,j,M,G,X){var Z=v[M].Yb[E];for(E=0;16>M;++M){if(!Ue(f,Z[E+0]))return M;for(;!Ue(f,Z[E+1]);)if(Z=v[++M].Yb[0],E=0,M==16)return 16;var te=v[M+1].Yb;if(Ue(f,Z[E+2])){var ie=f,Ce=0;if(Ue(ie,(ae=Z)[(Le=E)+3]))if(Ue(ie,ae[Le+6])){for(Z=0,Le=2*(Ce=Ue(ie,ae[Le+8]))+(ae=Ue(ie,ae[Le+9+Ce])),Ce=0,ae=yk[Le];ae[Z];++Z)Ce+=Ce+Ue(ie,ae[Z]);Ce+=3+(8<<Le)}else Ue(ie,ae[Le+7])?(Ce=7+2*Ue(ie,165),Ce+=Ue(ie,145)):Ce=5+Ue(ie,159);else Ce=Ue(ie,ae[Le+4])?3+Ue(ie,ae[Le+5]):2;Z=te[2]}else Ce=1,Z=te[1];te=X+bk[M],0>(ie=f).b&&de(ie);var Le,ae=ie.b,Ee=(Le=ie.Ca>>1)-(ie.I>>ae)>>31;--ie.b,ie.Ca+=Ee,ie.Ca|=1,ie.I-=(Le+1&Ee)<<ae,G[te]=((Ce^Ee)-Ee)*j[(0<M)+0]}return 16}function hs(f){var v=f.rb[f.sb-1];v.la=0,v.Na=0,s(f.zc,0,0,f.zc.length),f.ja=0}function qn(f,v,E,j,M){M=f[v+E+32*j]+(M>>3),f[v+E+32*j]=-256&M?0>M?0:255:M}function hi(f,v,E,j,M,G){qn(f,v,0,E,j+M),qn(f,v,1,E,j+G),qn(f,v,2,E,j-G),qn(f,v,3,E,j-M)}function mr(f){return(20091*f>>16)+f}function Fa(f,v,E,j){var M,G=0,X=i(16);for(M=0;4>M;++M){var Z=f[v+0]+f[v+8],te=f[v+0]-f[v+8],ie=(35468*f[v+4]>>16)-mr(f[v+12]),Ce=mr(f[v+4])+(35468*f[v+12]>>16);X[G+0]=Z+Ce,X[G+1]=te+ie,X[G+2]=te-ie,X[G+3]=Z-Ce,G+=4,v++}for(M=G=0;4>M;++M)Z=(f=X[G+0]+4)+X[G+8],te=f-X[G+8],ie=(35468*X[G+4]>>16)-mr(X[G+12]),qn(E,j,0,0,Z+(Ce=mr(X[G+4])+(35468*X[G+12]>>16))),qn(E,j,1,0,te+ie),qn(E,j,2,0,te-ie),qn(E,j,3,0,Z-Ce),G++,j+=32}function co(f,v,E,j){var M=f[v+0]+4,G=35468*f[v+4]>>16,X=mr(f[v+4]),Z=35468*f[v+1]>>16;hi(E,j,0,M+X,f=mr(f[v+1]),Z),hi(E,j,1,M+G,f,Z),hi(E,j,2,M-G,f,Z),hi(E,j,3,M-X,f,Z)}function Qi(f,v,E,j,M){Fa(f,v,E,j),M&&Fa(f,v+16,E,j+4)}function Dt(f,v,E,j){IA(f,v+0,E,j,1),IA(f,v+32,E,j+128,1)}function ir(f,v,E,j){var M;for(f=f[v+0]+4,M=0;4>M;++M)for(v=0;4>v;++v)qn(E,j,v,M,f)}function Cs(f,v,E,j){f[v+0]&&rr(f,v+0,E,j),f[v+16]&&rr(f,v+16,E,j+4),f[v+32]&&rr(f,v+32,E,j+128),f[v+48]&&rr(f,v+48,E,j+128+4)}function mn(f,v,E,j){var M,G=i(16);for(M=0;4>M;++M){var X=f[v+0+M]+f[v+12+M],Z=f[v+4+M]+f[v+8+M],te=f[v+4+M]-f[v+8+M],ie=f[v+0+M]-f[v+12+M];G[0+M]=X+Z,G[8+M]=X-Z,G[4+M]=ie+te,G[12+M]=ie-te}for(M=0;4>M;++M)X=(f=G[0+4*M]+3)+G[3+4*M],Z=G[1+4*M]+G[2+4*M],te=G[1+4*M]-G[2+4*M],ie=f-G[3+4*M],E[j+0]=X+Z>>3,E[j+16]=ie+te>>3,E[j+32]=X-Z>>3,E[j+48]=ie-te>>3,j+=64}function vr(f,v,E){var j,M=v-32,G=Ms,X=255-f[M-1];for(j=0;j<E;++j){var Z,te=G,ie=X+f[v-1];for(Z=0;Z<E;++Z)f[v+Z]=te[ie+f[M+Z]];v+=32}}function Qn(f,v){vr(f,v,4)}function ln(f,v){vr(f,v,8)}function Jn(f,v){vr(f,v,16)}function ra(f,v){var E;for(E=0;16>E;++E)n(f,v+32*E,f,v-32,16)}function uo(f,v){var E;for(E=16;0<E;--E)s(f,v,f[v-1],16),v+=32}function na(f,v,E){var j;for(j=0;16>j;++j)s(v,E+32*j,f,16)}function Di(f,v){var E,j=16;for(E=0;16>E;++E)j+=f[v-1+32*E]+f[v+E-32];na(j>>5,f,v)}function yl(f,v){var E,j=8;for(E=0;16>E;++E)j+=f[v-1+32*E];na(j>>4,f,v)}function sa(f,v){var E,j=8;for(E=0;16>E;++E)j+=f[v+E-32];na(j>>4,f,v)}function ho(f,v){na(128,f,v)}function jt(f,v,E){return f+2*v+E+2>>2}function bl(f,v){var E,j=v-32;for(j=new Uint8Array([jt(f[j-1],f[j+0],f[j+1]),jt(f[j+0],f[j+1],f[j+2]),jt(f[j+1],f[j+2],f[j+3]),jt(f[j+2],f[j+3],f[j+4])]),E=0;4>E;++E)n(f,v+32*E,j,0,j.length)}function Bl(f,v){var E=f[v-1],j=f[v-1+32],M=f[v-1+64],G=f[v-1+96];Ae(f,v+0,16843009*jt(f[v-1-32],E,j)),Ae(f,v+32,16843009*jt(E,j,M)),Ae(f,v+64,16843009*jt(j,M,G)),Ae(f,v+96,16843009*jt(M,G,G))}function xl(f,v){var E,j=4;for(E=0;4>E;++E)j+=f[v+E-32]+f[v-1+32*E];for(j>>=3,E=0;4>E;++E)s(f,v+32*E,j,4)}function _l(f,v){var E=f[v-1+0],j=f[v-1+32],M=f[v-1+64],G=f[v-1-32],X=f[v+0-32],Z=f[v+1-32],te=f[v+2-32],ie=f[v+3-32];f[v+0+96]=jt(j,M,f[v-1+96]),f[v+1+96]=f[v+0+64]=jt(E,j,M),f[v+2+96]=f[v+1+64]=f[v+0+32]=jt(G,E,j),f[v+3+96]=f[v+2+64]=f[v+1+32]=f[v+0+0]=jt(X,G,E),f[v+3+64]=f[v+2+32]=f[v+1+0]=jt(Z,X,G),f[v+3+32]=f[v+2+0]=jt(te,Z,X),f[v+3+0]=jt(ie,te,Z)}function fi(f,v){var E=f[v+1-32],j=f[v+2-32],M=f[v+3-32],G=f[v+4-32],X=f[v+5-32],Z=f[v+6-32],te=f[v+7-32];f[v+0+0]=jt(f[v+0-32],E,j),f[v+1+0]=f[v+0+32]=jt(E,j,M),f[v+2+0]=f[v+1+32]=f[v+0+64]=jt(j,M,G),f[v+3+0]=f[v+2+32]=f[v+1+64]=f[v+0+96]=jt(M,G,X),f[v+3+32]=f[v+2+64]=f[v+1+96]=jt(G,X,Z),f[v+3+64]=f[v+2+96]=jt(X,Z,te),f[v+3+96]=jt(Z,te,te)}function pi(f,v){var E=f[v-1+0],j=f[v-1+32],M=f[v-1+64],G=f[v-1-32],X=f[v+0-32],Z=f[v+1-32],te=f[v+2-32],ie=f[v+3-32];f[v+0+0]=f[v+1+64]=G+X+1>>1,f[v+1+0]=f[v+2+64]=X+Z+1>>1,f[v+2+0]=f[v+3+64]=Z+te+1>>1,f[v+3+0]=te+ie+1>>1,f[v+0+96]=jt(M,j,E),f[v+0+64]=jt(j,E,G),f[v+0+32]=f[v+1+96]=jt(E,G,X),f[v+1+32]=f[v+2+96]=jt(G,X,Z),f[v+2+32]=f[v+3+96]=jt(X,Z,te),f[v+3+32]=jt(Z,te,ie)}function Cl(f,v){var E=f[v+0-32],j=f[v+1-32],M=f[v+2-32],G=f[v+3-32],X=f[v+4-32],Z=f[v+5-32],te=f[v+6-32],ie=f[v+7-32];f[v+0+0]=E+j+1>>1,f[v+1+0]=f[v+0+64]=j+M+1>>1,f[v+2+0]=f[v+1+64]=M+G+1>>1,f[v+3+0]=f[v+2+64]=G+X+1>>1,f[v+0+32]=jt(E,j,M),f[v+1+32]=f[v+0+96]=jt(j,M,G),f[v+2+32]=f[v+1+96]=jt(M,G,X),f[v+3+32]=f[v+2+96]=jt(G,X,Z),f[v+3+64]=jt(X,Z,te),f[v+3+96]=jt(Z,te,ie)}function Sl(f,v){var E=f[v-1+0],j=f[v-1+32],M=f[v-1+64],G=f[v-1+96];f[v+0+0]=E+j+1>>1,f[v+2+0]=f[v+0+32]=j+M+1>>1,f[v+2+32]=f[v+0+64]=M+G+1>>1,f[v+1+0]=jt(E,j,M),f[v+3+0]=f[v+1+32]=jt(j,M,G),f[v+3+32]=f[v+1+64]=jt(M,G,G),f[v+3+64]=f[v+2+64]=f[v+0+96]=f[v+1+96]=f[v+2+96]=f[v+3+96]=G}function Ua(f,v){var E=f[v-1+0],j=f[v-1+32],M=f[v-1+64],G=f[v-1+96],X=f[v-1-32],Z=f[v+0-32],te=f[v+1-32],ie=f[v+2-32];f[v+0+0]=f[v+2+32]=E+X+1>>1,f[v+0+32]=f[v+2+64]=j+E+1>>1,f[v+0+64]=f[v+2+96]=M+j+1>>1,f[v+0+96]=G+M+1>>1,f[v+3+0]=jt(Z,te,ie),f[v+2+0]=jt(X,Z,te),f[v+1+0]=f[v+3+32]=jt(E,X,Z),f[v+1+32]=f[v+3+64]=jt(j,E,X),f[v+1+64]=f[v+3+96]=jt(M,j,E),f[v+1+96]=jt(G,M,j)}function fo(f,v){var E;for(E=0;8>E;++E)n(f,v+32*E,f,v-32,8)}function ia(f,v){var E;for(E=0;8>E;++E)s(f,v,f[v-1],8),v+=32}function ja(f,v,E){var j;for(j=0;8>j;++j)s(v,E+32*j,f,8)}function Ia(f,v){var E,j=8;for(E=0;8>E;++E)j+=f[v+E-32]+f[v-1+32*E];ja(j>>4,f,v)}function El(f,v){var E,j=4;for(E=0;8>E;++E)j+=f[v+E-32];ja(j>>3,f,v)}function po(f,v){var E,j=4;for(E=0;8>E;++E)j+=f[v-1+32*E];ja(j>>3,f,v)}function go(f,v){ja(128,f,v)}function ot(f,v,E){var j=f[v-E],M=f[v+0],G=3*(M-j)+Lg[1020+f[v-2*E]-f[v+E]],X=uh[112+(G+4>>3)];f[v-E]=Ms[255+j+uh[112+(G+3>>3)]],f[v+0]=Ms[255+M-X]}function It(f,v,E,j){var M=f[v+0],G=f[v+E];return wi[255+f[v-2*E]-f[v-E]]>j||wi[255+G-M]>j}function wr(f,v,E,j){return 4*wi[255+f[v-E]-f[v+0]]+wi[255+f[v-2*E]-f[v+E]]<=j}function Pr(f,v,E,j,M){var G=f[v-3*E],X=f[v-2*E],Z=f[v-E],te=f[v+0],ie=f[v+E],Ce=f[v+2*E],Le=f[v+3*E];return 4*wi[255+Z-te]+wi[255+X-ie]>j?0:wi[255+f[v-4*E]-G]<=M&&wi[255+G-X]<=M&&wi[255+X-Z]<=M&&wi[255+Le-Ce]<=M&&wi[255+Ce-ie]<=M&&wi[255+ie-te]<=M}function Kr(f,v,E,j){var M=2*j+1;for(j=0;16>j;++j)wr(f,v+j,E,M)&&ot(f,v+j,E)}function Er(f,v,E,j){var M=2*j+1;for(j=0;16>j;++j)wr(f,v+j*E,1,M)&&ot(f,v+j*E,1)}function kr(f,v,E,j){var M;for(M=3;0<M;--M)Kr(f,v+=4*E,E,j)}function La(f,v,E,j){var M;for(M=3;0<M;--M)Er(f,v+=4,E,j)}function Ss(f,v,E,j,M,G,X,Z){for(G=2*G+1;0<M--;){if(Pr(f,v,E,G,X))if(It(f,v,E,Z))ot(f,v,E);else{var te=f,ie=v,Ce=E,Le=te[ie-2*Ce],ae=te[ie-Ce],Ee=te[ie+0],Fe=te[ie+Ce],Oe=te[ie+2*Ce],Ie=27*(Me=Lg[1020+3*(Ee-ae)+Lg[1020+Le-Fe]])+63>>7,Re=18*Me+63>>7,Me=9*Me+63>>7;te[ie-3*Ce]=Ms[255+te[ie-3*Ce]+Me],te[ie-2*Ce]=Ms[255+Le+Re],te[ie-Ce]=Ms[255+ae+Ie],te[ie+0]=Ms[255+Ee-Ie],te[ie+Ce]=Ms[255+Fe-Re],te[ie+2*Ce]=Ms[255+Oe-Me]}v+=j}}function Xn(f,v,E,j,M,G,X,Z){for(G=2*G+1;0<M--;){if(Pr(f,v,E,G,X))if(It(f,v,E,Z))ot(f,v,E);else{var te=f,ie=v,Ce=E,Le=te[ie-Ce],ae=te[ie+0],Ee=te[ie+Ce],Fe=uh[112+(4+(Oe=3*(ae-Le))>>3)],Oe=uh[112+(Oe+3>>3)],Ie=Fe+1>>1;te[ie-2*Ce]=Ms[255+te[ie-2*Ce]+Ie],te[ie-Ce]=Ms[255+Le+Oe],te[ie+0]=Ms[255+ae-Fe],te[ie+Ce]=Ms[255+Ee-Ie]}v+=j}}function aa(f,v,E,j,M,G){Ss(f,v,E,1,16,j,M,G)}function BA(f,v,E,j,M,G){Ss(f,v,1,E,16,j,M,G)}function oa(f,v,E,j,M,G){var X;for(X=3;0<X;--X)Xn(f,v+=4*E,E,1,16,j,M,G)}function xA(f,v,E,j,M,G){var X;for(X=3;0<X;--X)Xn(f,v+=4,1,E,16,j,M,G)}function _(f,v,E,j,M,G,X,Z){Ss(f,v,M,1,8,G,X,Z),Ss(E,j,M,1,8,G,X,Z)}function R(f,v,E,j,M,G,X,Z){Ss(f,v,1,M,8,G,X,Z),Ss(E,j,1,M,8,G,X,Z)}function oe(f,v,E,j,M,G,X,Z){Xn(f,v+4*M,M,1,8,G,X,Z),Xn(E,j+4*M,M,1,8,G,X,Z)}function we(f,v,E,j,M,G,X,Z){Xn(f,v+4,1,M,8,G,X,Z),Xn(E,j+4,1,M,8,G,X,Z)}function Ne(){this.ba=new $e,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new it,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function He(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function qe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wt(){this.ua=0,this.Wa=new Y,this.vb=new Y,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new H}function _t(){this.xb=this.a=0,this.l=new Mt,this.ca=new $e,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wt,this.ab=0,this.gc=a(4,qe),this.Oc=0}function Qt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Mt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Tt(f,v,E,j,M,G,X){for(f=f==null?0:f[v+0],v=0;v<X;++v)M[G+v]=f+E[j+v]&255,f=M[G+v]}function Yt(f,v,E,j,M,G,X){var Z;if(f==null)Tt(null,null,E,j,M,G,X);else for(Z=0;Z<X;++Z)M[G+Z]=f[v+Z]+E[j+Z]&255}function Or(f,v,E,j,M,G,X){if(f==null)Tt(null,null,E,j,M,G,X);else{var Z,te=f[v+0],ie=te,Ce=te;for(Z=0;Z<X;++Z)ie=Ce+(te=f[v+Z])-ie,Ce=E[j+Z]+(-256&ie?0>ie?0:255:ie)&255,ie=te,M[G+Z]=Ce}}function cn(f,v,E,j){var M=v.width,G=v.o;if(e(f!=null&&v!=null),0>E||0>=j||E+j>G)return null;if(!f.Cc){if(f.ga==null){var X;if(f.ga=new Qt,(X=f.ga==null)||(X=v.width*v.o,e(f.Gb.length==0),f.Gb=i(X),f.Uc=0,f.Gb==null?X=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,X=1),X=!X),!X){X=f.ga;var Z=f.Fa,te=f.P,ie=f.qc,Ce=f.mb,Le=f.nb,ae=te+1,Ee=ie-1,Fe=X.l;if(e(Z!=null&&Ce!=null&&v!=null),So[0]=null,So[1]=Tt,So[2]=Yt,So[3]=Or,X.ca=Ce,X.tb=Le,X.c=v.width,X.i=v.height,e(0<X.c&&0<X.i),1>=ie)v=0;else if(X.$a=3&Z[te+0],X.Z=Z[te+0]>>2&3,X.Lc=Z[te+0]>>4&3,te=Z[te+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||te)v=0;else if(Fe.put=mt,Fe.ac=Xt,Fe.bc=cs,Fe.ma=X,Fe.width=v.width,Fe.height=v.height,Fe.Da=v.Da,Fe.v=v.v,Fe.va=v.va,Fe.j=v.j,Fe.o=v.o,X.$a)e:{e(X.$a==1),v=ta();t:for(;;){if(v==null){v=0;break e}if(e(X!=null),X.mc=v,v.c=X.c,v.i=X.i,v.l=X.l,v.l.ma=X,v.l.width=X.c,v.l.height=X.i,v.a=0,se(v.m,Z,ae,Ee),!_s(X.c,X.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&En(v.s)?(X.ic=1,Z=v.c*v.i,v.Ta=null,v.Ua=0,v.V=i(Z),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(X.ic=0,v=ka(v,X.c)),!v))break t;v=1;break e}X.mc=null,v=0}else v=Ee>=X.c*X.i;X=!v}if(X)return null;f.ga.Lc!=1?f.Ga=0:j=G-E}e(f.ga!=null),e(E+j<=G);e:{if(v=(Z=f.ga).c,G=Z.l.o,Z.$a==0){if(ae=f.rc,Ee=f.Vc,Fe=f.Fa,te=f.P+1+E*v,ie=f.mb,Ce=f.nb+E*v,e(te<=f.P+f.qc),Z.Z!=0)for(e(So[Z.Z]!=null),X=0;X<j;++X)So[Z.Z](ae,Ee,Fe,te,ie,Ce,v),ae=ie,Ee=Ce,Ce+=v,te+=v;else for(X=0;X<j;++X)n(ie,Ce,Fe,te,v),ae=ie,Ee=Ce,Ce+=v,te+=v;f.rc=ae,f.Vc=Ee}else{if(e(Z.mc!=null),v=E+j,e((X=Z.mc)!=null),e(v<=X.i),X.C>=v)v=1;else if(Z.ic||gi(),Z.ic){Z=X.V,ae=X.Ba,Ee=X.c;var Oe=X.i,Ie=(Fe=1,te=X.$/Ee,ie=X.$%Ee,Ce=X.m,Le=X.s,X.$),Re=Ee*Oe,Me=Ee*v,Je=Le.wc,We=Ie<Me?Cr(Le,ie,te):null;e(Ie<=Re),e(v<=Oe),e(En(Le));t:for(;;){for(;!Ce.h&&Ie<Me;){if(ie&Je||(We=Cr(Le,ie,te)),e(We!=null),ue(Ce),256>(Oe=dr(We.G[0],We.H[0],Ce)))Z[ae+Ie]=Oe,++Ie,++ie>=Ee&&(ie=0,++te<=v&&!(te%16)&&Ps(X,te));else{if(!(280>Oe)){Fe=0;break t}Oe=on(Oe-256,Ce);var Ct,gt=dr(We.G[4],We.H[4],Ce);if(ue(Ce),!(Ie>=(gt=Wn(Ee,gt=on(gt,Ce)))&&Re-Ie>=Oe)){Fe=0;break t}for(Ct=0;Ct<Oe;++Ct)Z[ae+Ie+Ct]=Z[ae+Ie+Ct-gt];for(Ie+=Oe,ie+=Oe;ie>=Ee;)ie-=Ee,++te<=v&&!(te%16)&&Ps(X,te);Ie<Me&&ie&Je&&(We=Cr(Le,ie,te))}e(Ce.h==q(Ce))}Ps(X,te>v?v:te);break t}!Fe||Ce.h&&Ie<Re?(Fe=0,X.a=Ce.h?5:3):X.$=Ie,v=Fe}else v=Os(X,X.V,X.Ba,X.c,X.i,v,lo);if(!v){j=0;break e}}E+j>=G&&(f.Cc=1),j=1}if(!j)return null;if(f.Cc&&((j=f.ga)!=null&&(j.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+E*M}function yr(f,v,E,j,M,G){for(;0<M--;){var X,Z=f,te=v+(E?1:0),ie=f,Ce=v+(E?0:3);for(X=0;X<j;++X){var Le=ie[Ce+4*X];Le!=255&&(Le*=32897,Z[te+4*X+0]=Z[te+4*X+0]*Le>>23,Z[te+4*X+1]=Z[te+4*X+1]*Le>>23,Z[te+4*X+2]=Z[te+4*X+2]*Le>>23)}v+=G}}function vn(f,v,E,j,M){for(;0<j--;){var G;for(G=0;G<E;++G){var X=f[v+2*G+0],Z=15&(ie=f[v+2*G+1]),te=4369*Z,ie=(240&ie|ie>>4)*te>>16;f[v+2*G+0]=(240&X|X>>4)*te>>16&240|(15&X|X<<4)*te>>16>>4&15,f[v+2*G+1]=240&ie|Z}v+=M}}function un(f,v,E,j,M,G,X,Z){var te,ie,Ce=255;for(ie=0;ie<M;++ie){for(te=0;te<j;++te){var Le=f[v+te];G[X+4*te]=Le,Ce&=Le}v+=E,X+=Z}return Ce!=255}function Dn(f,v,E,j,M){var G;for(G=0;G<M;++G)E[j+G]=f[v+G]>>8}function gi(){lu=yr,r2=vn,n2=un,s2=Dn}function Es(f,v,E){k[f]=function(j,M,G,X,Z,te,ie,Ce,Le,ae,Ee,Fe,Oe,Ie,Re,Me,Je){var We,Ct=Je-1>>1,gt=Z[te+0]|ie[Ce+0]<<16,Rt=Le[ae+0]|Ee[Fe+0]<<16;e(j!=null);var yt=3*gt+Rt+131074>>2;for(v(j[M+0],255&yt,yt>>16,Oe,Ie),G!=null&&(yt=3*Rt+gt+131074>>2,v(G[X+0],255&yt,yt>>16,Re,Me)),We=1;We<=Ct;++We){var Vt=Z[te+We]|ie[Ce+We]<<16,yn=Le[ae+We]|Ee[Fe+We]<<16,Ht=gt+Vt+Rt+yn+524296,bt=Ht+2*(Vt+Rt)>>3;yt=bt+gt>>1,gt=(Ht=Ht+2*(gt+yn)>>3)+Vt>>1,v(j[M+2*We-1],255&yt,yt>>16,Oe,Ie+(2*We-1)*E),v(j[M+2*We-0],255&gt,gt>>16,Oe,Ie+(2*We-0)*E),G!=null&&(yt=Ht+Rt>>1,gt=bt+yn>>1,v(G[X+2*We-1],255&yt,yt>>16,Re,Me+(2*We-1)*E),v(G[X+2*We+0],255&gt,gt>>16,Re,Me+(2*We+0)*E)),gt=Vt,Rt=yn}1&Je||(yt=3*gt+Rt+131074>>2,v(j[M+Je-1],255&yt,yt>>16,Oe,Ie+(Je-1)*E),G!=null&&(yt=3*Rt+gt+131074>>2,v(G[X+Je-1],255&yt,yt>>16,Re,Me+(Je-1)*E)))}}function oh(){yi[dh]=Ek,yi[hh]=p2,yi[c2]=kk,yi[fh]=g2,yi[ph]=m2,yi[Qg]=v2,yi[u2]=Nk,yi[Dg]=p2,yi[Tg]=g2,yi[gh]=m2,yi[Pg]=v2}function kl(f){return f&~Fk?0>f?0:255:f>>w2}function _A(f,v){return kl((19077*f>>8)+(26149*v>>8)-14234)}function mo(f,v,E){return kl((19077*f>>8)-(6419*v>>8)-(13320*E>>8)+8708)}function CA(f,v){return kl((19077*f>>8)+(33050*v>>8)-17685)}function SA(f,v,E,j,M){j[M+0]=_A(f,E),j[M+1]=mo(f,v,E),j[M+2]=CA(f,v)}function EA(f,v,E,j,M){j[M+0]=CA(f,v),j[M+1]=mo(f,v,E),j[M+2]=_A(f,E)}function Yn(f,v,E,j,M){var G=mo(f,v,E);v=G<<3&224|CA(f,v)>>3,j[M+0]=248&_A(f,E)|G>>5,j[M+1]=v}function kA(f,v,E,j,M){var G=240&CA(f,v)|15;j[M+0]=240&_A(f,E)|mo(f,v,E)>>4,j[M+1]=G}function NA(f,v,E,j,M){j[M+0]=255,SA(f,v,E,j,M+1)}function Zc(f,v,E,j,M){EA(f,v,E,j,M),j[M+3]=255}function eu(f,v,E,j,M){SA(f,v,E,j,M),j[M+3]=255}function $r(f,v){return 0>f?0:f>v?v:f}function Qa(f,v,E){k[f]=function(j,M,G,X,Z,te,ie,Ce,Le){for(var ae=Ce+(-2&Le)*E;Ce!=ae;)v(j[M+0],G[X+0],Z[te+0],ie,Ce),v(j[M+1],G[X+0],Z[te+0],ie,Ce+E),M+=2,++X,++te,Ce+=2*E;1&Le&&v(j[M+0],G[X+0],Z[te+0],ie,Ce)}}function Nl(f,v,E){return E==0?f==0?v==0?6:5:v==0?4:0:E}function Ah(f,v,E,j,M){switch(f>>>30){case 3:IA(v,E,j,M,0);break;case 2:vi(v,E,j,M);break;case 1:rr(v,E,j,M)}}function mi(f,v){var E,j,M=v.M,G=v.Nb,X=f.oc,Z=f.pc+40,te=f.oc,ie=f.pc+584,Ce=f.oc,Le=f.pc+600;for(E=0;16>E;++E)X[Z+32*E-1]=129;for(E=0;8>E;++E)te[ie+32*E-1]=129,Ce[Le+32*E-1]=129;for(0<M?X[Z-1-32]=te[ie-1-32]=Ce[Le-1-32]=129:(s(X,Z-32-1,127,21),s(te,ie-32-1,127,9),s(Ce,Le-32-1,127,9)),j=0;j<f.za;++j){var ae=v.ya[v.aa+j];if(0<j){for(E=-1;16>E;++E)n(X,Z+32*E-4,X,Z+32*E+12,4);for(E=-1;8>E;++E)n(te,ie+32*E-4,te,ie+32*E+4,4),n(Ce,Le+32*E-4,Ce,Le+32*E+4,4)}var Ee=f.Gd,Fe=f.Hd+j,Oe=ae.ad,Ie=ae.Hc;if(0<M&&(n(X,Z-32,Ee[Fe].y,0,16),n(te,ie-32,Ee[Fe].f,0,8),n(Ce,Le-32,Ee[Fe].ea,0,8)),ae.Za){var Re=X,Me=Z-32+16;for(0<M&&(j>=f.za-1?s(Re,Me,Ee[Fe].y[15],4):n(Re,Me,Ee[Fe+1].y,0,4)),E=0;4>E;E++)Re[Me+128+E]=Re[Me+256+E]=Re[Me+384+E]=Re[Me+0+E];for(E=0;16>E;++E,Ie<<=2)Re=X,Me=Z+b2[E],Ti[ae.Ob[E]](Re,Me),Ah(Ie,Oe,16*+E,Re,Me)}else if(Re=Nl(j,M,ae.Ob[0]),Co[Re](X,Z),Ie!=0)for(E=0;16>E;++E,Ie<<=2)Ah(Ie,Oe,16*+E,X,Z+b2[E]);for(E=ae.Gc,Re=Nl(j,M,ae.Dd),Pa[Re](te,ie),Pa[Re](Ce,Le),Ie=Oe,Re=te,Me=ie,255&(ae=0|E)&&(170&ae?ca(Ie,256,Re,Me):hr(Ie,256,Re,Me)),ae=Ce,Ie=Le,255&(E>>=8)&&(170&E?ca(Oe,320,ae,Ie):hr(Oe,320,ae,Ie)),M<f.Ub-1&&(n(Ee[Fe].y,0,X,Z+480,16),n(Ee[Fe].f,0,te,ie+224,8),n(Ee[Fe].ea,0,Ce,Le+224,8)),E=8*G*f.B,Ee=f.sa,Fe=f.ta+16*j+16*G*f.R,Oe=f.qa,ae=f.ra+8*j+E,Ie=f.Ha,Re=f.Ia+8*j+E,E=0;16>E;++E)n(Ee,Fe+E*f.R,X,Z+32*E,16);for(E=0;8>E;++E)n(Oe,ae+E*f.B,te,ie+32*E,8),n(Ie,Re+E*f.B,Ce,Le+32*E,8)}}function FA(f,v,E,j,M,G,X,Z,te){var ie=[0],Ce=[0],Le=0,ae=te!=null?te.kd:0,Ee=te??new He;if(f==null||12>E)return 7;Ee.data=f,Ee.w=v,Ee.ha=E,v=[v],E=[E],Ee.gb=[Ee.gb];e:{var Fe=v,Oe=E,Ie=Ee.gb;if(e(f!=null),e(Oe!=null),e(Ie!=null),Ie[0]=0,12<=Oe[0]&&!r(f,Fe[0],"RIFF")){if(r(f,Fe[0]+8,"WEBP")){Ie=3;break e}var Re=x(f,Fe[0]+4);if(12>Re||4294967286<Re){Ie=3;break e}if(ae&&Re>Oe[0]-8){Ie=7;break e}Ie[0]=Re,Fe[0]+=12,Oe[0]-=12}Ie=0}if(Ie!=0)return Ie;for(Re=0<Ee.gb[0],E=E[0];;){e:{var Me=f;Oe=v,Ie=E;var Je=ie,We=Ce,Ct=Fe=[0];if((yt=Le=[Le])[0]=0,8>Ie[0])Ie=7;else{if(!r(Me,Oe[0],"VP8X")){if(x(Me,Oe[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var gt=x(Me,Oe[0]+8),Rt=1+fe(Me,Oe[0]+12);if(2147483648<=Rt*(Me=1+fe(Me,Oe[0]+15))){Ie=3;break e}Ct!=null&&(Ct[0]=gt),Je!=null&&(Je[0]=Rt),We!=null&&(We[0]=Me),Oe[0]+=18,Ie[0]-=18,yt[0]=1}Ie=0}}if(Le=Le[0],Fe=Fe[0],Ie!=0)return Ie;if(Oe=!!(2&Fe),!Re&&Le)return 3;if(G!=null&&(G[0]=!!(16&Fe)),X!=null&&(X[0]=Oe),Z!=null&&(Z[0]=0),X=ie[0],Fe=Ce[0],Le&&Oe&&te==null){Ie=0;break}if(4>E){Ie=7;break}if(Re&&Le||!Re&&!Le&&!r(f,v[0],"ALPH")){E=[E],Ee.na=[Ee.na],Ee.P=[Ee.P],Ee.Sa=[Ee.Sa];e:{gt=f,Ie=v,Re=E;var yt=Ee.gb;Je=Ee.na,We=Ee.P,Ct=Ee.Sa,Rt=22,e(gt!=null),e(Re!=null),Me=Ie[0];var Vt=Re[0];for(e(Je!=null),e(Ct!=null),Je[0]=null,We[0]=null,Ct[0]=0;;){if(Ie[0]=Me,Re[0]=Vt,8>Vt){Ie=7;break e}var yn=x(gt,Me+4);if(4294967286<yn){Ie=3;break e}var Ht=8+yn+1&-2;if(Rt+=Ht,0<yt&&Rt>yt){Ie=3;break e}if(!r(gt,Me,"VP8 ")||!r(gt,Me,"VP8L")){Ie=0;break e}if(Vt[0]<Ht){Ie=7;break e}r(gt,Me,"ALPH")||(Je[0]=gt,We[0]=Me+8,Ct[0]=yn),Me+=Ht,Vt-=Ht}}if(E=E[0],Ee.na=Ee.na[0],Ee.P=Ee.P[0],Ee.Sa=Ee.Sa[0],Ie!=0)break}E=[E],Ee.Ja=[Ee.Ja],Ee.xa=[Ee.xa];e:if(yt=f,Ie=v,Re=E,Je=Ee.gb[0],We=Ee.Ja,Ct=Ee.xa,gt=Ie[0],Me=!r(yt,gt,"VP8 "),Rt=!r(yt,gt,"VP8L"),e(yt!=null),e(Re!=null),e(We!=null),e(Ct!=null),8>Re[0])Ie=7;else{if(Me||Rt){if(yt=x(yt,gt+4),12<=Je&&yt>Je-12){Ie=3;break e}if(ae&&yt>Re[0]-8){Ie=7;break e}We[0]=yt,Ie[0]+=8,Re[0]-=8,Ct[0]=Rt}else Ct[0]=5<=Re[0]&&yt[gt+0]==47&&!(yt[gt+4]>>5),We[0]=Re[0];Ie=0}if(E=E[0],Ee.Ja=Ee.Ja[0],Ee.xa=Ee.xa[0],v=v[0],Ie!=0)break;if(4294967286<Ee.Ja)return 3;if(Z==null||Oe||(Z[0]=Ee.xa?2:1),X=[X],Fe=[Fe],Ee.xa){if(5>E){Ie=7;break}Z=X,ae=Fe,Oe=G,f==null||5>E?f=0:5<=E&&f[v+0]==47&&!(f[v+4]>>5)?(Re=[0],yt=[0],Je=[0],se(We=new V,f,v,E),us(We,Re,yt,Je)?(Z!=null&&(Z[0]=Re[0]),ae!=null&&(ae[0]=yt[0]),Oe!=null&&(Oe[0]=Je[0]),f=1):f=0):f=0}else{if(10>E){Ie=7;break}Z=Fe,f==null||10>E||!di(f,v+3,E-3)?f=0:(ae=f[v+0]|f[v+1]<<8|f[v+2]<<16,Oe=16383&(f[v+7]<<8|f[v+6]),f=16383&(f[v+9]<<8|f[v+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=Ee.Ja||!Oe||!f?f=0:(X&&(X[0]=Oe),Z&&(Z[0]=f),f=1))}if(!f||(X=X[0],Fe=Fe[0],Le&&(ie[0]!=X||Ce[0]!=Fe)))return 3;te!=null&&(te[0]=Ee,te.offset=v-te.w,e(4294967286>v-te.w),e(te.offset==te.ha-E));break}return Ie==0||Ie==7&&Le&&te==null?(G!=null&&(G[0]|=Ee.na!=null&&0<Ee.na.length),j!=null&&(j[0]=X),M!=null&&(M[0]=Fe),0):Ie}function tu(f,v,E){var j=v.width,M=v.height,G=0,X=0,Z=j,te=M;if(v.Da=f!=null&&0<f.Da,v.Da&&(Z=f.cd,te=f.bd,G=f.v,X=f.j,11>E||(G&=-2,X&=-2),0>G||0>X||0>=Z||0>=te||G+Z>j||X+te>M))return 0;if(v.v=G,v.j=X,v.va=G+Z,v.o=X+te,v.U=Z,v.T=te,v.da=f!=null&&0<f.da,v.da){if(!K(Z,te,E=[f.ib],G=[f.hb]))return 0;v.ib=E[0],v.hb=G[0]}return v.ob=f!=null&&f.ob,v.Kb=f==null||!f.Sd,v.da&&(v.ob=v.ib<3*j/4&&v.hb<3*M/4,v.Kb=0),1}function ru(f){if(f==null)return 2;if(11>f.S){var v=f.f.RGBA;v.fb+=(f.height-1)*v.A,v.A=-v.A}else v=f.f.kb,f=f.height,v.O+=(f-1)*v.fa,v.fa=-v.fa,v.N+=(f-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(f-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(f-1)*v.lb,v.lb=-v.lb);return 0}function vo(f,v,E,j){if(j==null||0>=f||0>=v)return 2;if(E!=null){if(E.Da){var M=E.cd,G=E.bd,X=-2&E.v,Z=-2&E.j;if(0>X||0>Z||0>=M||0>=G||X+M>f||Z+G>v)return 2;f=M,v=G}if(E.da){if(!K(f,v,M=[E.ib],G=[E.hb]))return 2;f=M[0],v=G[0]}}j.width=f,j.height=v;e:{var te=j.width,ie=j.height;if(f=j.S,0>=te||0>=ie||!(f>=dh&&13>f))f=2;else{if(0>=j.Rd&&j.sd==null){X=G=M=v=0;var Ce=(Z=te*B2[f])*ie;if(11>f||(G=(ie+1)/2*(v=(te+1)/2),f==12&&(X=(M=te)*ie)),(ie=i(Ce+2*G+X))==null){f=1;break e}j.sd=ie,11>f?((te=j.f.RGBA).eb=ie,te.fb=0,te.A=Z,te.size=Ce):((te=j.f.kb).y=ie,te.O=0,te.fa=Z,te.Fd=Ce,te.f=ie,te.N=0+Ce,te.Ab=v,te.Cd=G,te.ea=ie,te.W=0+Ce+G,te.Db=v,te.Ed=G,f==12&&(te.F=ie,te.J=0+Ce+2*G),te.Tc=X,te.lb=M)}if(v=1,M=j.S,G=j.width,X=j.height,M>=dh&&13>M)if(11>M)f=j.f.RGBA,v&=(Z=Math.abs(f.A))*(X-1)+G<=f.size,v&=Z>=G*B2[M],v&=f.eb!=null;else{f=j.f.kb,Z=(G+1)/2,Ce=(X+1)/2,te=Math.abs(f.fa),ie=Math.abs(f.Ab);var Le=Math.abs(f.Db),ae=Math.abs(f.lb),Ee=ae*(X-1)+G;v&=te*(X-1)+G<=f.Fd,v&=ie*(Ce-1)+Z<=f.Cd,v=(v&=Le*(Ce-1)+Z<=f.Ed)&te>=G&ie>=Z&Le>=Z,v&=f.y!=null,v&=f.f!=null,v&=f.ea!=null,M==12&&(v&=ae>=G,v&=Ee<=f.Tc,v&=f.F!=null)}else v=0;f=v?0:2}}return f!=0||E!=null&&E.fd&&(f=ru(j)),f}var UA=64,Rs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Hs=24,wo=32,Da=8,yo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];_e("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(f){return f},k.Predictor2=function(f,v,E){return v[E+0]},k.Predictor3=function(f,v,E){return v[E+1]},k.Predictor4=function(f,v,E){return v[E-1]},k.Predictor5=function(f,v,E){return ke(ke(f,v[E+1]),v[E+0])},k.Predictor6=function(f,v,E){return ke(f,v[E-1])},k.Predictor7=function(f,v,E){return ke(f,v[E+0])},k.Predictor8=function(f,v,E){return ke(v[E-1],v[E+0])},k.Predictor9=function(f,v,E){return ke(v[E+0],v[E+1])},k.Predictor10=function(f,v,E){return ke(ke(f,v[E-1]),ke(v[E+0],v[E+1]))},k.Predictor11=function(f,v,E){var j=v[E+0];return 0>=Ge(j>>24&255,f>>24&255,(v=v[E-1])>>24&255)+Ge(j>>16&255,f>>16&255,v>>16&255)+Ge(j>>8&255,f>>8&255,v>>8&255)+Ge(255&j,255&f,255&v)?j:f},k.Predictor12=function(f,v,E){var j=v[E+0];return(Ve((f>>24&255)+(j>>24&255)-((v=v[E-1])>>24&255))<<24|Ve((f>>16&255)+(j>>16&255)-(v>>16&255))<<16|Ve((f>>8&255)+(j>>8&255)-(v>>8&255))<<8|Ve((255&f)+(255&j)-(255&v)))>>>0},k.Predictor13=function(f,v,E){var j=v[E-1];return(Te((f=ke(f,v[E+0]))>>24&255,j>>24&255)<<24|Te(f>>16&255,j>>16&255)<<16|Te(f>>8&255,j>>8&255)<<8|Te(255&f,255&j))>>>0};var nu=k.PredictorAdd0;k.PredictorAdd1=pt,_e("Predictor2","PredictorAdd2"),_e("Predictor3","PredictorAdd3"),_e("Predictor4","PredictorAdd4"),_e("Predictor5","PredictorAdd5"),_e("Predictor6","PredictorAdd6"),_e("Predictor7","PredictorAdd7"),_e("Predictor8","PredictorAdd8"),_e("Predictor9","PredictorAdd9"),_e("Predictor10","PredictorAdd10"),_e("Predictor11","PredictorAdd11"),_e("Predictor12","PredictorAdd12"),_e("Predictor13","PredictorAdd13");var Fl=k.PredictorAdd2;et("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var Jr,lh=k.ColorIndexInverseTransform,Aa=k.MapARGB,la=k.VP8LColorIndexInverseTransformAlpha,su=k.MapAlpha,iu=k.VP8LPredictorsAdd=[];iu.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var au,ou,bo,Bo,xo,jA,_o,IA,vi,ca,rr,hr,Xr,wn,Ta,Au,Ul,ch,Jw,Xw,Yw,Zw,e2,t2,lu,r2,n2,s2,i2=i(511),a2=i(2041),o2=i(225),A2=i(767),l2=0,Lg=a2,uh=o2,Ms=A2,wi=i2,dh=0,hh=1,c2=2,fh=3,ph=4,Qg=5,u2=6,Dg=7,Tg=8,gh=9,Pg=10,hk=[2,3,7],fk=[3,3,11],d2=[280,256,256,256,40],pk=[0,1,1,1,0],gk=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],mk=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],vk=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],wk=8,Og=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Rg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],cu=null,yk=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],bk=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],h2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Bk=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],xk=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_k=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ck=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Co=[],Ti=[],Pa=[],Sk=1,f2=2,So=[],yi=[];Es("UpsampleRgbLinePair",SA,3),Es("UpsampleBgrLinePair",EA,3),Es("UpsampleRgbaLinePair",eu,4),Es("UpsampleBgraLinePair",Zc,4),Es("UpsampleArgbLinePair",NA,4),Es("UpsampleRgba4444LinePair",kA,2),Es("UpsampleRgb565LinePair",Yn,2);var Ek=k.UpsampleRgbLinePair,kk=k.UpsampleBgrLinePair,p2=k.UpsampleRgbaLinePair,g2=k.UpsampleBgraLinePair,m2=k.UpsampleArgbLinePair,v2=k.UpsampleRgba4444LinePair,Nk=k.UpsampleRgb565LinePair,mh=16,vh=1<<mh-1,uu=-227,Hg=482,w2=6,Fk=(256<<w2)-1,y2=0,Uk=i(256),jk=i(256),Ik=i(256),Lk=i(256),Qk=i(Hg-uu),Dk=i(Hg-uu);Qa("YuvToRgbRow",SA,3),Qa("YuvToBgrRow",EA,3),Qa("YuvToRgbaRow",eu,4),Qa("YuvToBgraRow",Zc,4),Qa("YuvToArgbRow",NA,4),Qa("YuvToRgba4444Row",kA,2),Qa("YuvToRgb565Row",Yn,2);var b2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],wh=[0,2,8],Tk=[8,7,6,4,4,2,2,2,1,1,1,1],Pk=1;this.WebPDecodeRGBA=function(f,v,E,j,M){var G=hh,X=new Ne,Z=new $e;X.ba=Z,Z.S=G,Z.width=[Z.width],Z.height=[Z.height];var te=Z.width,ie=Z.height,Ce=new Pe;if(Ce==null||f==null)var Le=2;else e(Ce!=null),Le=FA(f,v,E,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Le!=0?te=0:(te!=null&&(te[0]=Ce.width[0]),ie!=null&&(ie[0]=Ce.height[0]),te=1),te){Z.width=Z.width[0],Z.height=Z.height[0],j!=null&&(j[0]=Z.width),M!=null&&(M[0]=Z.height);e:{if(j=new Mt,(M=new He).data=f,M.w=v,M.ha=E,M.kd=1,v=[0],e(M!=null),((f=FA(M.data,M.w,M.ha,null,null,null,v,null,M))==0||f==7)&&v[0]&&(f=4),(v=f)==0){if(e(X!=null),j.data=M.data,j.w=M.w+M.offset,j.ha=M.ha-M.offset,j.put=mt,j.ac=Xt,j.bc=cs,j.ma=X,M.xa){if((f=ta())==null){X=1;break e}if(function(ae,Ee){var Fe=[0],Oe=[0],Ie=[0];t:for(;;){if(ae==null)return 0;if(Ee==null)return ae.a=2,0;if(ae.l=Ee,ae.a=0,se(ae.m,Ee.data,Ee.w,Ee.ha),!us(ae.m,Fe,Oe,Ie)){ae.a=3;break t}if(ae.xb=f2,Ee.width=Fe[0],Ee.height=Oe[0],!_s(Fe[0],Oe[0],1,ae,null))break t;return 1}return e(ae.a!=0),0}(f,j)){if(j=(v=vo(j.width,j.height,X.Oa,X.ba))==0){t:{j=f;r:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((E=j.l)!=null),e((M=E.ma)!=null),j.xb!=0){if(j.ca=M.ba,j.tb=M.tb,e(j.ca!=null),!tu(M.Oa,E,fh)){j.a=2;break r}if(!ka(j,E.width)||E.da)break r;if((E.da||tt(j.ca.S))&&gi(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&gi()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!I(j.s.vb,j.s.Wa.Xa)){j.a=1;break r}j.xb=0}if(!Os(j,j.V,j.Ba,j.c,j.i,E.o,Li))break r;M.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(v=f.a)}else v=f.a}else{if((f=new ui)==null){X=1;break e}if(f.Fa=M.na,f.P=M.P,f.qc=M.Sa,Ln(f,j)){if((v=vo(j.width,j.height,X.Oa,X.ba))==0){if(f.Aa=0,E=X.Oa,e((M=f)!=null),E!=null){if(0<(te=0>(te=E.Md)?0:100<te?255:255*te/100)){for(ie=Ce=0;4>ie;++ie)12>(Le=M.pb[ie]).lc&&(Le.ia=te*Tk[0>Le.lc?0:Le.lc]>>3),Ce|=Le.ia;Ce&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=E.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}(function(ae,Ee){if(ae==null)return 0;if(Ee==null)return $t(ae,2,"NULL VP8Io parameter in VP8Decode().");if(!ae.cb&&!Ln(ae,Ee))return 0;if(e(ae.cb),Ee.ac==null||Ee.ac(Ee)){Ee.ob&&(ae.L=0);var Fe=wh[ae.L];if(ae.L==2?(ae.yb=0,ae.zb=0):(ae.yb=Ee.v-Fe>>4,ae.zb=Ee.j-Fe>>4,0>ae.yb&&(ae.yb=0),0>ae.zb&&(ae.zb=0)),ae.Va=Ee.o+15+Fe>>4,ae.Hb=Ee.va+15+Fe>>4,ae.Hb>ae.za&&(ae.Hb=ae.za),ae.Va>ae.Ub&&(ae.Va=ae.Ub),0<ae.L){var Oe=ae.ed;for(Fe=0;4>Fe;++Fe){var Ie;if(ae.Qa.Cb){var Re=ae.Qa.Lb[Fe];ae.Qa.Fb||(Re+=Oe.Tb)}else Re=Oe.Tb;for(Ie=0;1>=Ie;++Ie){var Me=ae.gd[Fe][Ie],Je=Re;if(Oe.Pc&&(Je+=Oe.vd[0],Ie&&(Je+=Oe.od[0])),0<(Je=0>Je?0:63<Je?63:Je)){var We=Je;0<Oe.wb&&(We=4<Oe.wb?We>>2:We>>1)>9-Oe.wb&&(We=9-Oe.wb),1>We&&(We=1),Me.dd=We,Me.tc=2*Je+We,Me.ld=40<=Je?2:15<=Je?1:0}else Me.tc=0;Me.La=Ie}}}Fe=0}else $t(ae,6,"Frame setup failed"),Fe=ae.a;if(Fe=Fe==0){if(Fe){ae.$c=0,0<ae.Aa||(ae.Ic=Pk);t:{Fe=ae.Ic,Oe=4*(We=ae.za);var Ct=32*We,gt=We+1,Rt=0<ae.L?We*(0<ae.Aa?2:1):0,yt=(ae.Aa==2?2:1)*We;if((Me=Oe+832+(Ie=3*(16*Fe+wh[ae.L])/2*Ct)+(Re=ae.Fa!=null&&0<ae.Fa.length?ae.Kc.c*ae.Kc.i:0))!=Me)Fe=0;else{if(Me>ae.Vb){if(ae.Vb=0,ae.Ec=i(Me),ae.Fc=0,ae.Ec==null){Fe=$t(ae,1,"no memory during frame initialization.");break t}ae.Vb=Me}Me=ae.Ec,Je=ae.Fc,ae.Ac=Me,ae.Bc=Je,Je+=Oe,ae.Gd=a(Ct,ct),ae.Hd=0,ae.rb=a(gt+1,er),ae.sb=1,ae.wa=Rt?a(Rt,xt):null,ae.Y=0,ae.D.Nb=0,ae.D.wa=ae.wa,ae.D.Y=ae.Y,0<ae.Aa&&(ae.D.Y+=We),e(!0),ae.oc=Me,ae.pc=Je,Je+=832,ae.ya=a(yt,tr),ae.aa=0,ae.D.ya=ae.ya,ae.D.aa=ae.aa,ae.Aa==2&&(ae.D.aa+=We),ae.R=16*We,ae.B=8*We,We=(Ct=wh[ae.L])*ae.R,Ct=Ct/2*ae.B,ae.sa=Me,ae.ta=Je+We,ae.qa=ae.sa,ae.ra=ae.ta+16*Fe*ae.R+Ct,ae.Ha=ae.qa,ae.Ia=ae.ra+8*Fe*ae.B+Ct,ae.$c=0,Je+=Ie,ae.mb=Re?Me:null,ae.nb=Re?Je:null,e(Je+Re<=ae.Fc+ae.Vb),hs(ae),s(ae.Ac,ae.Bc,0,Oe),Fe=1}}if(Fe){if(Ee.ka=0,Ee.y=ae.sa,Ee.O=ae.ta,Ee.f=ae.qa,Ee.N=ae.ra,Ee.ea=ae.Ha,Ee.Vd=ae.Ia,Ee.fa=ae.R,Ee.Rc=ae.B,Ee.F=null,Ee.J=0,!l2){for(Fe=-255;255>=Fe;++Fe)i2[255+Fe]=0>Fe?-Fe:Fe;for(Fe=-1020;1020>=Fe;++Fe)a2[1020+Fe]=-128>Fe?-128:127<Fe?127:Fe;for(Fe=-112;112>=Fe;++Fe)o2[112+Fe]=-16>Fe?-16:15<Fe?15:Fe;for(Fe=-255;510>=Fe;++Fe)A2[255+Fe]=0>Fe?0:255<Fe?255:Fe;l2=1}_o=mn,IA=Qi,ca=Dt,rr=ir,hr=Cs,vi=co,Xr=aa,wn=BA,Ta=_,Au=R,Ul=oa,ch=xA,Jw=oe,Xw=we,Yw=Kr,Zw=Er,e2=kr,t2=La,Ti[0]=xl,Ti[1]=Qn,Ti[2]=bl,Ti[3]=Bl,Ti[4]=_l,Ti[5]=pi,Ti[6]=fi,Ti[7]=Cl,Ti[8]=Ua,Ti[9]=Sl,Co[0]=Di,Co[1]=Jn,Co[2]=ra,Co[3]=uo,Co[4]=yl,Co[5]=sa,Co[6]=ho,Pa[0]=Ia,Pa[1]=ln,Pa[2]=fo,Pa[3]=ia,Pa[4]=po,Pa[5]=El,Pa[6]=go,Fe=1}else Fe=0}Fe&&(Fe=function(Vt,yn){for(Vt.M=0;Vt.M<Vt.Va;++Vt.M){var Ht,bt=Vt.Jc[Vt.M&Vt.Xb],st=Vt.m,Yr=Vt;for(Ht=0;Ht<Yr.za;++Ht){var Ot=st,Wt=Yr,Nr=Wt.Ac,Tn=Wt.Bc+4*Ht,fs=Wt.zc,Vr=Wt.ya[Wt.aa+Ht];if(Wt.Qa.Bb?Vr.$b=Ue(Ot,Wt.Pa.jb[0])?2+Ue(Ot,Wt.Pa.jb[2]):Ue(Ot,Wt.Pa.jb[1]):Vr.$b=0,Wt.kc&&(Vr.Ad=Ue(Ot,Wt.Bd)),Vr.Za=!Ue(Ot,145)+0,Vr.Za){var Zn=Vr.Ob,ps=0;for(Wt=0;4>Wt;++Wt){var bn,qt=fs[0+Wt];for(bn=0;4>bn;++bn){qt=xk[Nr[Tn+bn]][qt];for(var ar=h2[Ue(Ot,qt[0])];0<ar;)ar=h2[2*ar+Ue(Ot,qt[ar])];qt=-ar,Nr[Tn+bn]=qt}n(Zn,ps,Nr,Tn,4),ps+=4,fs[0+Wt]=qt}}else qt=Ue(Ot,156)?Ue(Ot,128)?1:3:Ue(Ot,163)?2:0,Vr.Ob[0]=qt,s(Nr,Tn,qt,4),s(fs,0,qt,4);Vr.Dd=Ue(Ot,142)?Ue(Ot,114)?Ue(Ot,183)?1:3:2:0}if(Yr.m.Ka)return $t(Vt,7,"Premature end-of-partition0 encountered.");for(;Vt.ja<Vt.za;++Vt.ja){if(Yr=bt,Ot=(st=Vt).rb[st.sb-1],Nr=st.rb[st.sb+st.ja],Ht=st.ya[st.aa+st.ja],Tn=st.kc?Ht.Ad:0)Ot.la=Nr.la=0,Ht.Za||(Ot.Na=Nr.Na=0),Ht.Hc=0,Ht.Gc=0,Ht.ia=0;else{var Gr,or;if(Ot=Nr,Nr=Yr,Tn=st.Pa.Xc,fs=st.ya[st.aa+st.ja],Vr=st.pb[fs.$b],Wt=fs.ad,Zn=0,ps=st.rb[st.sb-1],qt=bn=0,s(Wt,Zn,0,384),fs.Za)var Pn=0,Pi=Tn[3];else{ar=i(16);var Zr=Ot.Na+ps.Na;if(Zr=cu(Nr,Tn[1],Zr,Vr.Eb,0,ar,0),Ot.Na=ps.Na=(0<Zr)+0,1<Zr)_o(ar,0,Wt,Zn);else{var ks=ar[0]+3>>3;for(ar=0;256>ar;ar+=16)Wt[Zn+ar]=ks}Pn=1,Pi=Tn[0]}var fr=15&Ot.la,Bn=15&ps.la;for(ar=0;4>ar;++ar){var zs=1&Bn;for(ks=or=0;4>ks;++ks)fr=fr>>1|(zs=(Zr=cu(Nr,Pi,Zr=zs+(1&fr),Vr.Sc,Pn,Wt,Zn))>Pn)<<7,or=or<<2|(3<Zr?3:1<Zr?2:Wt[Zn+0]!=0),Zn+=16;fr>>=4,Bn=Bn>>1|zs<<7,bn=(bn<<8|or)>>>0}for(Pi=fr,Pn=Bn>>4,Gr=0;4>Gr;Gr+=2){for(or=0,fr=Ot.la>>4+Gr,Bn=ps.la>>4+Gr,ar=0;2>ar;++ar){for(zs=1&Bn,ks=0;2>ks;++ks)Zr=zs+(1&fr),fr=fr>>1|(zs=0<(Zr=cu(Nr,Tn[2],Zr,Vr.Qc,0,Wt,Zn)))<<3,or=or<<2|(3<Zr?3:1<Zr?2:Wt[Zn+0]!=0),Zn+=16;fr>>=2,Bn=Bn>>1|zs<<5}qt|=or<<4*Gr,Pi|=fr<<4<<Gr,Pn|=(240&Bn)<<Gr}Ot.la=Pi,ps.la=Pn,fs.Hc=bn,fs.Gc=qt,fs.ia=43690&qt?0:Vr.ia,Tn=!(bn|qt)}if(0<st.L&&(st.wa[st.Y+st.ja]=st.gd[Ht.$b][Ht.Za],st.wa[st.Y+st.ja].La|=!Tn),Yr.Ka)return $t(Vt,7,"Premature end-of-file encountered.")}if(hs(Vt),st=yn,Yr=1,Ht=(bt=Vt).D,Ot=0<bt.L&&bt.M>=bt.zb&&bt.M<=bt.Va,bt.Aa==0)t:{if(Ht.M=bt.M,Ht.uc=Ot,mi(bt,Ht),Yr=1,Ht=(or=bt.D).Nb,Ot=(qt=wh[bt.L])*bt.R,Nr=qt/2*bt.B,ar=16*Ht*bt.R,ks=8*Ht*bt.B,Tn=bt.sa,fs=bt.ta-Ot+ar,Vr=bt.qa,Wt=bt.ra-Nr+ks,Zn=bt.Ha,ps=bt.Ia-Nr+ks,Bn=(fr=or.M)==0,bn=fr>=bt.Va-1,bt.Aa==2&&mi(bt,or),or.uc)for(zs=(Zr=bt).D.M,e(Zr.D.uc),or=Zr.yb;or<Zr.Hb;++or){Pn=or,Pi=zs;var gs=(Ks=(On=Zr).D).Nb;Gr=On.R;var Ks=Ks.wa[Ks.Y+Pn],$s=On.sa,Ns=On.ta+16*gs*Gr+16*Pn,Vs=Ks.dd,br=Ks.tc;if(br!=0)if(e(3<=br),On.L==1)0<Pn&&Zw($s,Ns,Gr,br+4),Ks.La&&t2($s,Ns,Gr,br),0<Pi&&Yw($s,Ns,Gr,br+4),Ks.La&&e2($s,Ns,Gr,br);else{var Gs=On.B,Oi=On.qa,LA=On.ra+8*gs*Gs+8*Pn,Oa=On.Ha,On=On.Ia+8*gs*Gs+8*Pn;gs=Ks.ld,0<Pn&&(wn($s,Ns,Gr,br+4,Vs,gs),Au(Oi,LA,Oa,On,Gs,br+4,Vs,gs)),Ks.La&&(ch($s,Ns,Gr,br,Vs,gs),Xw(Oi,LA,Oa,On,Gs,br,Vs,gs)),0<Pi&&(Xr($s,Ns,Gr,br+4,Vs,gs),Ta(Oi,LA,Oa,On,Gs,br+4,Vs,gs)),Ks.La&&(Ul($s,Ns,Gr,br,Vs,gs),Jw(Oi,LA,Oa,On,Gs,br,Vs,gs))}}if(bt.ia&&alert("todo:DitherRow"),st.put!=null){if(or=16*fr,fr=16*(fr+1),Bn?(st.y=bt.sa,st.O=bt.ta+ar,st.f=bt.qa,st.N=bt.ra+ks,st.ea=bt.Ha,st.W=bt.Ia+ks):(or-=qt,st.y=Tn,st.O=fs,st.f=Vr,st.N=Wt,st.ea=Zn,st.W=ps),bn||(fr-=qt),fr>st.o&&(fr=st.o),st.F=null,st.J=null,bt.Fa!=null&&0<bt.Fa.length&&or<fr&&(st.J=cn(bt,st,or,fr-or),st.F=bt.mb,st.F==null&&st.F.length==0)){Yr=$t(bt,3,"Could not decode alpha data.");break t}or<st.j&&(qt=st.j-or,or=st.j,e(!(1&qt)),st.O+=bt.R*qt,st.N+=bt.B*(qt>>1),st.W+=bt.B*(qt>>1),st.F!=null&&(st.J+=st.width*qt)),or<fr&&(st.O+=st.v,st.N+=st.v>>1,st.W+=st.v>>1,st.F!=null&&(st.J+=st.v),st.ka=or-st.j,st.U=st.va-st.v,st.T=fr-or,Yr=st.put(st))}Ht+1!=bt.Ic||bn||(n(bt.sa,bt.ta-Ot,Tn,fs+16*bt.R,Ot),n(bt.qa,bt.ra-Nr,Vr,Wt+8*bt.B,Nr),n(bt.Ha,bt.Ia-Nr,Zn,ps+8*bt.B,Nr))}if(!Yr)return $t(Vt,6,"Output aborted.")}return 1}(ae,Ee)),Ee.bc!=null&&Ee.bc(Ee),Fe&=1}return Fe?(ae.cb=0,Fe):0})(f,j)||(v=f.a)}}else v=f.a}v==0&&X.Oa!=null&&X.Oa.fd&&(v=ru(X.ba))}X=v}G=X!=0?null:11>G?Z.f.RGBA.eb:Z.f.kb.y}else G=null;return G};var B2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(k,$){for(var D="",U=0;U<4;U++)D+=String.fromCharCode(k[$++]);return D}function u(k,$){return k[$+0]|k[$+1]<<8}function h(k,$){return(k[$+0]|k[$+1]<<8|k[$+2]<<16)>>>0}function p(k,$){return(k[$+0]|k[$+1]<<8|k[$+2]<<16|k[$+3]<<24)>>>0}new l;var d=[0],w=[0],m=[],y=new l,g=t,b=function(k,$){var D={},U=0,H=!1,S=0,ee=0;if(D.frames=[],!function(F,V){for(var O=0;O<4;O++)if(F[V+O]!="RIFF".charCodeAt(O))return!0;return!1}(k,$)){for(p(k,$+=4),$+=8;$<k.length;){var ge=c(k,$),le=p(k,$+=4);$+=4;var ne=le+(1&le);switch(ge){case"VP8 ":case"VP8L":D.frames[U]===void 0&&(D.frames[U]={}),(re=D.frames[U]).src_off=H?ee:$-8,re.src_size=S+le+8,U++,H&&(H=!1,S=0,ee=0);break;case"VP8X":(re=D.header={}).feature_flags=k[$];var se=$+4;re.canvas_width=1+h(k,se),se+=3,re.canvas_height=1+h(k,se),se+=3;break;case"ALPH":H=!0,S=ne+8,ee=$-8;break;case"ANIM":(re=D.header).bgcolor=p(k,$),se=$+4,re.loop_count=u(k,se),se+=2;break;case"ANMF":var ye,re;(re=D.frames[U]={}).offset_x=2*h(k,$),$+=3,re.offset_y=2*h(k,$),$+=3,re.width=1+h(k,$),$+=3,re.height=1+h(k,$),$+=3,re.duration=h(k,$),$+=3,ye=k[$++],re.dispose=1&ye,re.blend=ye>>1&1}ge!="ANMF"&&($+=ne)}return D}}(g,0);b.response=g,b.rgbaoutput=!0,b.dataurl=!1;var B=b.header?b.header:null,C=b.frames?b.frames:null;if(B){B.loop_counter=B.loop_count,d=[B.canvas_height],w=[B.canvas_width];for(var N=0;N<C.length&&C[N].blend!=0;N++);}var L=C[0],Q=y.WebPDecodeRGBA(g,L.src_off,L.src_size,w,d);L.rgba=Q,L.imgwidth=w[0],L.imgheight=d[0];for(var P=0;P<w[0]*d[0]*4;P++)m[P]=Q[P];return this.width=w,this.height=d,this.data=m,this}(function(t){var e,r,n,s,i,a,A,l,c,u=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new a,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new a,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,A=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=F;Object.defineProperty(this,"pdf",{get:function(){return V}});var O=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return O},set:function(x){O=!!x}});var q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return q},set:function(x){q=!!x}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(x){isNaN(x)||(ce=x)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(x){isNaN(x)||(ue=x)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(x){var I;typeof x=="number"?I=[x,x,x,x]:((I=new Array(4))[0]=x[0],I[1]=x.length>=2?x[1]:I[0],I[2]=x.length>=3?x[2]:I[0],I[3]=x.length>=4?x[3]:I[1]),c.margin=I}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(x){de=x}});var be=0;Object.defineProperty(this,"lastBreak",{get:function(){return be},set:function(x){be=x}});var Ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ue},set:function(x){Ue=x}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(x){x instanceof u&&(c=x)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(x){c.path=x}});var Ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ae},set:function(x){Ae=x}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(x){var I;I=p(x),this.ctx.fillStyle=I.style,this.ctx.isFillTransparent=I.a===0,this.ctx.fillOpacity=I.a,this.pdf.setFillColor(I.r,I.g,I.b,{a:I.a}),this.pdf.setTextColor(I.r,I.g,I.b,{a:I.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(x){var I=p(x);this.ctx.strokeStyle=I.style,this.ctx.isStrokeTransparent=I.a===0,this.ctx.strokeOpacity=I.a,I.a===0?this.pdf.setDrawColor(255,255,255):(I.a,this.pdf.setDrawColor(I.r,I.g,I.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(x){["butt","round","square"].indexOf(x)!==-1&&(this.ctx.lineCap=x,this.pdf.setLineCap(x))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(x){isNaN(x)||(this.ctx.lineWidth=x,this.pdf.setLineWidth(x))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(x){["bevel","round","miter"].indexOf(x)!==-1&&(this.ctx.lineJoin=x,this.pdf.setLineJoin(x))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(x){isNaN(x)||(this.ctx.miterLimit=x,this.pdf.setMiterLimit(x))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(x){this.ctx.textBaseline=x}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(x){["right","end","center","left","start"].indexOf(x)!==-1&&(this.ctx.textAlign=x)}});var Se=null,fe=null;Object.defineProperty(this,"fontFaces",{get:function(){return fe},set:function(x){Se=null,fe=x}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(x){var I;if(this.ctx.font=x,(I=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(x))!==null){var pe=I[1];I[2];var Y=I[3],K=I[4];I[5];var J=I[6],xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(K)[2];K=Math.floor(xe==="px"?parseFloat(K)*this.pdf.internal.scaleFactor:xe==="em"?parseFloat(K)*this.pdf.getFontSize():parseFloat(K)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(K);var _e=function(At){var et,Ft,z=[],me=At.trim();if(me==="")return n0;if(me in HB)return[HB[me]];for(;me!=="";){switch(Ft=null,et=(me=zB(me)).charAt(0)){case'"':case"'":Ft=RD(me.substring(1),et);break;default:Ft=HD(me)}if(Ft===null||(z.push(Ft[0]),(me=zB(Ft[1]))!==""&&me.charAt(0)!==","))return n0;me=me.replace(/^,/,"")}return z}(J);if(this.fontFaces){var ve=function(At,et){if(Se===null){var Ft=function(z){var me=[];return Object.keys(z).forEach(function(je){z[je].forEach(function(De){var Xe=null;switch(De){case"bold":Xe={family:je,weight:"bold"};break;case"italic":Xe={family:je,style:"italic"};break;case"bolditalic":Xe={family:je,weight:"bold",style:"italic"};break;case"":case"normal":Xe={family:je}}Xe!==null&&(Xe.ref={name:je,style:De},me.push(Xe))})}),me}(At.getFontList());Se=function(z){for(var me={},je=0;je<z.length;++je){var De=r0(z[je]),Xe=De.family,at=De.stretch,tt=De.style,Be=De.weight;me[Xe]=me[Xe]||{},me[Xe][at]=me[Xe][at]||{},me[Xe][at][tt]=me[Xe][at][tt]||{},me[Xe][at][tt][Be]=De}return me}(Ft.concat(et))}return Se}(this.pdf,this.fontFaces),ke=_e.map(function(At){return{family:At,stretch:"normal",weight:Y,style:pe}}),Ve=function(At,et,Ft){for(var z=(Ft=Ft||{}).defaultFontFamily||"times",me=Object.assign({},OD,Ft.genericFontFamilies||{}),je=null,De=null,Xe=0;Xe<et.length;++Xe)if(me[(je=r0(et[Xe])).family]&&(je.family=me[je.family]),At.hasOwnProperty(je.family)){De=At[je.family];break}if(!(De=De||At[z]))throw new Error("Could not find a font-family for the rule '"+MB(je)+"' and default family '"+z+"'.");if(De=function(at,tt){if(tt[at])return tt[at];var Be=tv[at],Ke=Be<=tv.normal?-1:1,$e=RB(tt,nE,Be,Ke);if(!$e)throw new Error("Could not find a matching font-stretch value for "+at);return $e}(je.stretch,De),De=function(at,tt){if(tt[at])return tt[at];for(var Be=rE[at],Ke=0;Ke<Be.length;++Ke)if(tt[Be[Ke]])return tt[Be[Ke]];throw new Error("Could not find a matching font-style for "+at)}(je.style,De),!(De=function(at,tt){if(tt[at])return tt[at];if(at===400&&tt[500])return tt[500];if(at===500&&tt[400])return tt[400];var Be=PD[at],Ke=RB(tt,sE,Be,at<400?-1:1);if(!Ke)throw new Error("Could not find a matching font-weight for value "+at);return Ke}(je.weight,De)))throw new Error("Failed to resolve a font for the rule '"+MB(je)+"'.");return De}(ve,ke);this.pdf.setFont(Ve.ref.name,Ve.ref.style)}else{var Te="";(Y==="bold"||parseInt(Y,10)>=700||pe==="bold")&&(Te="bold"),pe==="italic"&&(Te+="italic"),Te.length===0&&(Te="normal");for(var Ge="",pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ze=0;Ze<_e.length;Ze++){if(this.pdf.internal.getFont(_e[Ze],Te,{noFallback:!0,disableWarning:!0})!==void 0){Ge=_e[Ze];break}if(Te==="bolditalic"&&this.pdf.internal.getFont(_e[Ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=_e[Ze],Te="bold";else if(this.pdf.internal.getFont(_e[Ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=_e[Ze],Te="normal";break}}if(Ge===""){for(var rt=0;rt<_e.length;rt++)if(pt[_e[rt]]){Ge=pt[_e[rt]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,Te)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(x){this.ctx.globalCompositeOperation=x}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(x){this.ctx.globalAlpha=x}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(x){this.ctx.lineDashOffset=x,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(x){this.ctx.lineDash=x,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(x){this.ctx.ignoreClearRect=!!x}})};h.prototype.setLineDash=function(F){this.lineDash=F},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){C.call(this,"fill",!1)},h.prototype.stroke=function(){C.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(F,V){if(isNaN(F)||isNaN(V))throw pr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var O=this.ctx.transform.applyToPoint(new a(F,V));this.path.push({type:"mt",x:O.x,y:O.y}),this.ctx.lastPoint=new a(F,V)},h.prototype.closePath=function(){var F=new a(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&lr(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){F=new a(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(F.x,F.y)},h.prototype.lineTo=function(F,V){if(isNaN(F)||isNaN(V))throw pr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var O=this.ctx.transform.applyToPoint(new a(F,V));this.path.push({type:"lt",x:O.x,y:O.y}),this.ctx.lastPoint=new a(O.x,O.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},h.prototype.quadraticCurveTo=function(F,V,O,q){if(isNaN(O)||isNaN(q)||isNaN(F)||isNaN(V))throw pr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new a(O,q)),ue=this.ctx.transform.applyToPoint(new a(F,V));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new a(ce.x,ce.y)},h.prototype.bezierCurveTo=function(F,V,O,q,ce,ue){if(isNaN(ce)||isNaN(ue)||isNaN(F)||isNaN(V)||isNaN(O)||isNaN(q))throw pr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new a(ce,ue)),be=this.ctx.transform.applyToPoint(new a(F,V)),Ue=this.ctx.transform.applyToPoint(new a(O,q));this.path.push({type:"bct",x1:be.x,y1:be.y,x2:Ue.x,y2:Ue.y,x:de.x,y:de.y}),this.ctx.lastPoint=new a(de.x,de.y)},h.prototype.arc=function(F,V,O,q,ce,ue){if(isNaN(F)||isNaN(V)||isNaN(O)||isNaN(q)||isNaN(ce))throw pr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new a(F,V));F=de.x,V=de.y;var be=this.ctx.transform.applyToPoint(new a(0,O)),Ue=this.ctx.transform.applyToPoint(new a(0,0));O=Math.sqrt(Math.pow(be.x-Ue.x,2)+Math.pow(be.y-Ue.y,2))}Math.abs(ce-q)>=2*Math.PI&&(q=0,ce=2*Math.PI),this.path.push({type:"arc",x:F,y:V,radius:O,startAngle:q,endAngle:ce,counterclockwise:ue})},h.prototype.arcTo=function(F,V,O,q,ce){throw new Error("arcTo not implemented.")},h.prototype.rect=function(F,V,O,q){if(isNaN(F)||isNaN(V)||isNaN(O)||isNaN(q))throw pr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,V),this.lineTo(F+O,V),this.lineTo(F+O,V+q),this.lineTo(F,V+q),this.lineTo(F,V),this.lineTo(F+O,V),this.lineTo(F,V)},h.prototype.fillRect=function(F,V,O,q){if(isNaN(F)||isNaN(V)||isNaN(O)||isNaN(q))throw pr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,V,O,q),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},h.prototype.strokeRect=function(F,V,O,q){if(isNaN(F)||isNaN(V)||isNaN(O)||isNaN(q))throw pr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(F,V,O,q),this.stroke())},h.prototype.clearRect=function(F,V,O,q){if(isNaN(F)||isNaN(V)||isNaN(O)||isNaN(q))throw pr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,V,O,q))},h.prototype.save=function(F){F=typeof F!="boolean"||F;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,O=0;O<this.pdf.internal.getNumberOfPages();O++)this.pdf.setPage(O+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var q=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=q}},h.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,O=0;O<this.pdf.internal.getNumberOfPages();O++)this.pdf.setPage(O+1),this.pdf.internal.out("Q");this.pdf.setPage(V),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(F){var V,O,q,ce;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))V=0,O=0,q=0,ce=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(ue!==null)V=parseInt(ue[1]),O=parseInt(ue[2]),q=parseInt(ue[3]),ce=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)V=parseInt(ue[1]),O=parseInt(ue[2]),q=parseInt(ue[3]),ce=parseFloat(ue[4]);else{if(ce=1,typeof F=="string"&&F.charAt(0)!=="#"){var de=new qS(F);F=de.ok?de.toHex():"#000000"}F.length===4?(V=F.substring(1,2),V+=V,O=F.substring(2,3),O+=O,q=F.substring(3,4),q+=q):(V=F.substring(1,3),O=F.substring(3,5),q=F.substring(5,7)),V=parseInt(V,16),O=parseInt(O,16),q=parseInt(q,16)}}return{r:V,g:O,b:q,a:ce,style:F}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(F,V,O,q){if(isNaN(V)||isNaN(O)||typeof F!="string")throw pr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(q=isNaN(q)?void 0:q,!d.call(this)){var ce=ne(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;U.call(this,{text:F,x:V,y:O,scale:ue,angle:ce,align:this.textAlign,maxWidth:q})}},h.prototype.strokeText=function(F,V,O,q){if(isNaN(V)||isNaN(O)||typeof F!="string")throw pr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){q=isNaN(q)?void 0:q;var ce=ne(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;U.call(this,{text:F,x:V,y:O,scale:ue,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:q})}},h.prototype.measureText=function(F){if(typeof F!="string")throw pr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,O=this.pdf.internal.scaleFactor,q=V.internal.getFontSize(),ce=V.getStringUnitWidth(F)*q/V.internal.scaleFactor;return new function(ue){var de=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:ce*=Math.round(96*O/72*1e4)/1e4})},h.prototype.scale=function(F,V){if(isNaN(F)||isNaN(V))throw pr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var O=new l(F,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(O)},h.prototype.rotate=function(F){if(isNaN(F))throw pr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.translate=function(F,V){if(isNaN(F)||isNaN(V))throw pr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var O=new l(1,0,0,1,F,V);this.ctx.transform=this.ctx.transform.multiply(O)},h.prototype.transform=function(F,V,O,q,ce,ue){if(isNaN(F)||isNaN(V)||isNaN(O)||isNaN(q)||isNaN(ce)||isNaN(ue))throw pr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new l(F,V,O,q,ce,ue);this.ctx.transform=this.ctx.transform.multiply(de)},h.prototype.setTransform=function(F,V,O,q,ce,ue){F=isNaN(F)?1:F,V=isNaN(V)?0:V,O=isNaN(O)?0:O,q=isNaN(q)?1:q,ce=isNaN(ce)?0:ce,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(F,V,O,q,ce,ue)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(F,V,O,q,ce,ue,de,be,Ue){var Ae=this.pdf.getImageProperties(F),Se=1,fe=1,x=1,I=1;q!==void 0&&be!==void 0&&(x=be/q,I=Ue/ce,Se=Ae.width/q*be/q,fe=Ae.height/ce*Ue/ce),ue===void 0&&(ue=V,de=O,V=0,O=0),q!==void 0&&be===void 0&&(be=q,Ue=ce),q===void 0&&be===void 0&&(be=Ae.width,Ue=Ae.height);for(var pe,Y=this.ctx.transform.decompose(),K=ne(Y.rotate.shx),J=new l,xe=(J=(J=(J=J.multiply(Y.translate)).multiply(Y.skew)).multiply(Y.scale)).applyToRectangle(new A(ue-V*x,de-O*I,q*Se,ce*fe)),_e=y.call(this,xe),ve=[],ke=0;ke<_e.length;ke+=1)ve.indexOf(_e[ke])===-1&&ve.push(_e[ke]);if(B(ve),this.autoPaging)for(var Ve=ve[0],Te=ve[ve.length-1],Ge=Ve;Ge<Te+1;Ge++){this.pdf.setPage(Ge);var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=Ge===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=Ge===1?0:rt+(Ge-2)*At;if(this.ctx.clip_path.length!==0){var Ft=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(pe,this.posX+this.margin[3],-et+Ze+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Ft}var z=JSON.parse(JSON.stringify(xe));z=b([z],this.posX+this.margin[3],-et+Ze+this.ctx.prevPageLastElemOffset)[0];var me=(Ge>Ve||Ge<Te)&&m.call(this);me&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,At,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",z.x,z.y,z.w,z.h,null,null,K),me&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",xe.x,xe.y,xe.w,xe.h,null,null,K)};var y=function(F,V,O){var q=[];V=V||this.pdf.internal.pageSize.width,O=O||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":q.push(Math.floor((F.y+ce)/O)+1);break;case"arc":q.push(Math.floor((F.y+ce-F.radius)/O)+1),q.push(Math.floor((F.y+ce+F.radius)/O)+1);break;case"qct":var ue=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);q.push(Math.floor((ue.y+ce)/O)+1),q.push(Math.floor((ue.y+ue.h+ce)/O)+1);break;case"bct":var de=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);q.push(Math.floor((de.y+ce)/O)+1),q.push(Math.floor((de.y+de.h+ce)/O)+1);break;case"rect":q.push(Math.floor((F.y+ce)/O)+1),q.push(Math.floor((F.y+F.h+ce)/O)+1)}for(var be=0;be<q.length;be+=1)for(;this.pdf.internal.getNumberOfPages()<q[be];)g.call(this);return q},g=function(){var F=this.fillStyle,V=this.strokeStyle,O=this.font,q=this.lineCap,ce=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=V,this.font=O,this.lineCap=q,this.lineWidth=ce,this.lineJoin=ue},b=function(F,V,O){for(var q=0;q<F.length;q++)switch(F[q].type){case"bct":F[q].x2+=V,F[q].y2+=O;case"qct":F[q].x1+=V,F[q].y1+=O;default:F[q].x+=V,F[q].y+=O}return F},B=function(F){return F.sort(function(V,O){return V-O})},C=function(F,V){for(var O,q,ce=this.fillStyle,ue=this.strokeStyle,de=this.lineCap,be=this.lineWidth,Ue=Math.abs(be*this.ctx.transform.scaleX),Ae=this.lineJoin,Se=JSON.parse(JSON.stringify(this.path)),fe=JSON.parse(JSON.stringify(this.path)),x=[],I=0;I<fe.length;I++)if(fe[I].x!==void 0)for(var pe=y.call(this,fe[I]),Y=0;Y<pe.length;Y+=1)x.indexOf(pe[Y])===-1&&x.push(pe[Y]);for(var K=0;K<x.length;K++)for(;this.pdf.internal.getNumberOfPages()<x[K];)g.call(this);if(B(x),this.autoPaging)for(var J=x[0],xe=x[x.length-1],_e=J;_e<xe+1;_e++){this.pdf.setPage(_e),this.fillStyle=ce,this.strokeStyle=ue,this.lineCap=de,this.lineWidth=Ue,this.lineJoin=Ae;var ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ke=_e===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Te=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=_e===1?0:Ve+(_e-2)*Te;if(this.ctx.clip_path.length!==0){var pt=this.path;O=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(O,this.posX+this.margin[3],-Ge+ke+this.ctx.prevPageLastElemOffset),N.call(this,F,!0),this.path=pt}if(q=JSON.parse(JSON.stringify(Se)),this.path=b(q,this.posX+this.margin[3],-Ge+ke+this.ctx.prevPageLastElemOffset),V===!1||_e===0){var Ze=(_e>J||_e<xe)&&m.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ve,Te,null).clip().discardPath()),N.call(this,F,V),Ze&&this.pdf.restoreGraphicsState()}this.lineWidth=be}else this.lineWidth=Ue,N.call(this,F,V),this.lineWidth=be;this.path=Se},N=function(F,V){if((F!=="stroke"||V||!w.call(this))&&(F==="stroke"||V||!d.call(this))){for(var O,q,ce=[],ue=this.path,de=0;de<ue.length;de++){var be=ue[de];switch(be.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:be,deltas:[],abs:[]});break;case"lt":var Ue=ce.length;if(ue[de-1]&&!isNaN(ue[de-1].x)&&(O=[be.x-ue[de-1].x,be.y-ue[de-1].y],Ue>0)){for(;Ue>=0;Ue--)if(ce[Ue-1].close!==!0&&ce[Ue-1].begin!==!0){ce[Ue-1].deltas.push(O),ce[Ue-1].abs.push(be);break}}break;case"bct":O=[be.x1-ue[de-1].x,be.y1-ue[de-1].y,be.x2-ue[de-1].x,be.y2-ue[de-1].y,be.x-ue[de-1].x,be.y-ue[de-1].y],ce[ce.length-1].deltas.push(O);break;case"qct":var Ae=ue[de-1].x+2/3*(be.x1-ue[de-1].x),Se=ue[de-1].y+2/3*(be.y1-ue[de-1].y),fe=be.x+2/3*(be.x1-be.x),x=be.y+2/3*(be.y1-be.y),I=be.x,pe=be.y;O=[Ae-ue[de-1].x,Se-ue[de-1].y,fe-ue[de-1].x,x-ue[de-1].y,I-ue[de-1].x,pe-ue[de-1].y],ce[ce.length-1].deltas.push(O);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(be)}}q=V?null:F==="stroke"?"stroke":"fill";for(var Y=!1,K=0;K<ce.length;K++)if(ce[K].arc)for(var J=ce[K].abs,xe=0;xe<J.length;xe++){var _e=J[xe];_e.type==="arc"?P.call(this,_e.x,_e.y,_e.radius,_e.startAngle,_e.endAngle,_e.counterclockwise,void 0,V,!Y):H.call(this,_e.x,_e.y),Y=!0}else if(ce[K].close===!0)this.pdf.internal.out("h"),Y=!1;else if(ce[K].begin!==!0){var ve=ce[K].start.x,ke=ce[K].start.y;S.call(this,ce[K].deltas,ve,ke),Y=!0}q&&k.call(this,q),V&&$.call(this)}},L=function(F){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,O=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-O;case"top":return F+V-O;case"hanging":return F+V-2*O;case"middle":return F+V/2-O;default:return F}},Q=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(V,O){this.colorStops.push([V,O])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(F,V,O,q,ce,ue,de,be,Ue){for(var Ae=ge.call(this,O,q,ce,ue),Se=0;Se<Ae.length;Se++){var fe=Ae[Se];Se===0&&(Ue?D.call(this,fe.x1+F,fe.y1+V):H.call(this,fe.x1+F,fe.y1+V)),ee.call(this,F,V,fe.x2,fe.y2,fe.x3,fe.y3,fe.x4,fe.y4)}be?$.call(this):k.call(this,de)},k=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(F,V){this.pdf.internal.out(r(F)+" "+n(V)+" m")},U=function(F){var V;switch(F.align){case"right":case"end":V="right";break;case"center":V="center";break;default:V="left"}var O=this.pdf.getTextDimensions(F.text),q=L.call(this,F.y),ce=Q.call(this,q)-O.h,ue=this.ctx.transform.applyToPoint(new a(F.x,q)),de=this.ctx.transform.decompose(),be=new l;be=(be=(be=be.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var Ue,Ae,Se,fe=this.ctx.transform.applyToRectangle(new A(F.x,q,O.w,O.h)),x=be.applyToRectangle(new A(F.x,ce,O.w,O.h)),I=y.call(this,x),pe=[],Y=0;Y<I.length;Y+=1)pe.indexOf(I[Y])===-1&&pe.push(I[Y]);if(B(pe),this.autoPaging)for(var K=pe[0],J=pe[pe.length-1],xe=K;xe<J+1;xe++){this.pdf.setPage(xe);var _e=xe===1?this.posY+this.margin[0]:this.margin[0],ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[2],Ve=ke-this.margin[0],Te=this.pdf.internal.pageSize.width-this.margin[1],Ge=Te-this.margin[3],pt=xe===1?0:ve+(xe-2)*Ve;if(this.ctx.clip_path.length!==0){var Ze=this.path;Ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Ue,this.posX+this.margin[3],-1*pt+_e),N.call(this,"fill",!0),this.path=Ze}var rt=b([JSON.parse(JSON.stringify(x))],this.posX+this.margin[3],-pt+_e+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*F.scale),Se=this.lineWidth,this.lineWidth=Se*F.scale);var At=this.autoPaging!=="text";if(At||rt.y+rt.h<=ke){if(At||rt.y>=_e&&rt.x<=Te){var et=At?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Te-rt.x)[0],Ft=b([JSON.parse(JSON.stringify(fe))],this.posX+this.margin[3],-pt+_e+this.ctx.prevPageLastElemOffset)[0],z=At&&(xe>K||xe<J)&&m.call(this);z&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,Ve,null).clip().discardPath()),this.pdf.text(et,Ft.x,Ft.y,{angle:F.angle,align:V,renderingMode:F.renderingMode}),z&&this.pdf.restoreGraphicsState()}}else rt.y<ke&&(this.ctx.prevPageLastElemOffset+=ke-rt.y);F.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=Se)}else F.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*F.scale),Se=this.lineWidth,this.lineWidth=Se*F.scale),this.pdf.text(F.text,ue.x+this.posX,ue.y+this.posY,{angle:F.angle,align:V,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=Se)},H=function(F,V,O,q){O=O||0,q=q||0,this.pdf.internal.out(r(F+O)+" "+n(V+q)+" l")},S=function(F,V,O){return this.pdf.lines(F,V,O,null,null)},ee=function(F,V,O,q,ce,ue,de,be){this.pdf.internal.out([e(s(O+F)),e(i(q+V)),e(s(ce+F)),e(i(ue+V)),e(s(de+F)),e(i(be+V)),"c"].join(" "))},ge=function(F,V,O,q){for(var ce=2*Math.PI,ue=Math.PI/2;V>O;)V-=ce;var de=Math.abs(O-V);de<ce&&q&&(de=ce-de);for(var be=[],Ue=q?-1:1,Ae=V;de>1e-5;){var Se=Ae+Ue*Math.min(de,ue);be.push(le.call(this,F,Ae,Se)),de-=Math.abs(Se-Ae),Ae=Se}return be},le=function(F,V,O){var q=(O-V)/2,ce=F*Math.cos(q),ue=F*Math.sin(q),de=ce,be=-ue,Ue=de*de+be*be,Ae=Ue+de*ce+be*ue,Se=4/3*(Math.sqrt(2*Ue*Ae)-Ae)/(de*ue-be*ce),fe=de-Se*be,x=be+Se*de,I=fe,pe=-x,Y=q+V,K=Math.cos(Y),J=Math.sin(Y);return{x1:F*Math.cos(V),y1:F*Math.sin(V),x2:fe*K-x*J,y2:fe*J+x*K,x3:I*K-pe*J,y3:I*J+pe*K,x4:F*Math.cos(O),y4:F*Math.sin(O)}},ne=function(F){return 180*F/Math.PI},se=function(F,V,O,q,ce,ue){var de=F+.5*(O-F),be=V+.5*(q-V),Ue=ce+.5*(O-ce),Ae=ue+.5*(q-ue),Se=Math.min(F,ce,de,Ue),fe=Math.max(F,ce,de,Ue),x=Math.min(V,ue,be,Ae),I=Math.max(V,ue,be,Ae);return new A(Se,x,fe-Se,I-x)},ye=function(F,V,O,q,ce,ue,de,be){var Ue,Ae,Se,fe,x,I,pe,Y,K,J,xe,_e,ve,ke,Ve=O-F,Te=q-V,Ge=ce-O,pt=ue-q,Ze=de-ce,rt=be-ue;for(Ae=0;Ae<41;Ae++)K=(pe=(Se=F+(Ue=Ae/40)*Ve)+Ue*((x=O+Ue*Ge)-Se))+Ue*(x+Ue*(ce+Ue*Ze-x)-pe),J=(Y=(fe=V+Ue*Te)+Ue*((I=q+Ue*pt)-fe))+Ue*(I+Ue*(ue+Ue*rt-I)-Y),Ae==0?(xe=K,_e=J,ve=K,ke=J):(xe=Math.min(xe,K),_e=Math.min(_e,J),ve=Math.max(ve,K),ke=Math.max(ke,J));return new A(Math.round(xe),Math.round(_e),Math.round(ve-xe),Math.round(ke-_e))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,V,O=(F=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:V}));this.prevLineDash!==O&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=O)}}})(kt.API),function(t){var e=function(a){var A,l,c,u,h,p,d,w,m,y;for(l=[],c=0,u=(a+=A="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(h=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(p=(h=((h=((h=((h=(h-(y=h%85))/85)-(m=h%85))/85)-(w=h%85))/85)-(d=h%85))/85)%85,l.push(p+33,d+33,w+33,m+33,y+33)):l.push(122);return function(g,b){for(var B=b;B>0;B--)g.pop()}(l,A.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var A,l,c,u,h,p=String,d="length",w=255,m="charCodeAt",y="slice",g="replace";for(a[y](-2),a=a[y](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),c=[],u=0,h=(a+=A="uuuuu"[y](a[d]%5||5))[d];h>u;u+=5)l=52200625*(a[m](u)-33)+614125*(a[m](u+1)-33)+7225*(a[m](u+2)-33)+85*(a[m](u+3)-33)+(a[m](u+4)-33),c.push(w&l>>24,w&l>>16,w&l>>8,w&l);return function(b,B){for(var C=B;C>0;C--)b.pop()}(c,A[d]),p.fromCharCode.apply(p,c)},n=function(a){return a.split("").map(function(A){return("0"+A.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(a){var A=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),A.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},i=function(a){for(var A=new Uint8Array(a.length),l=a.length;l--;)A[l]=a.charCodeAt(l);return(A=M1(A)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(a,A){var l=0,c=a||"",u=[];for(typeof(A=A||[])=="string"&&(A=[A]),l=0;l<A.length;l+=1)switch(A[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=s(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+A[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(kt.API),function(t){t.loadFile=function(e,r,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var A=void 0;try{A=function(l,c,u){var h=new XMLHttpRequest,p=0,d=function(w){var m=w.length,y=[],g=String.fromCharCode;for(p=0;p<m;p+=1)y.push(g(255&w.charCodeAt(p)));return y.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(d(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return d(h.responseText)}(s,i,a)}catch{}return A}(e,r,n)},t.loadImageFile=t.loadFile}(kt.API),function(t){function e(){return(Lt.html2canvas?Promise.resolve(Lt.html2canvas):Wf(()=>Promise.resolve().then(()=>j7),void 0)).catch(function(A){return Promise.reject(new Error("Could not load html2canvas: "+A))}).then(function(A){return A.default?A.default:A})}function r(){return(Lt.DOMPurify?Promise.resolve(Lt.DOMPurify):Wf(()=>import("./purify.es-96e69d58.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load dompurify: "+A))}).then(function(A){return A.default?A.default:A})}var n=function(A){var l=lr(A);return l==="undefined"?"undefined":l==="string"||A instanceof String?"string":l==="number"||A instanceof Number?"number":l==="function"||A instanceof Function?"function":A&&A.constructor===Array?"array":A&&A.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(A,l){var c=document.createElement(A);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function A(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(A(h,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},a=function A(l){var c=Object.assign(A.convert(Promise.resolve()),JSON.parse(JSON.stringify(A.template))),u=A.convert(Promise.resolve(),c);return(u=u.setProgress(1,A,1,[A])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(A,l){return A.__proto__=l||a.prototype,A},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(A,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(A),l){case"string":return this.then(r).then(function(c){return this.set({src:s("div",{innerHTML:A,dompurify:c})})});case"element":return this.set({src:A});case"canvas":return this.set({canvas:A});case"img":return this.set({img:A});default:return this.error("Unknown source type.")}})},a.prototype.to=function(A){switch(A){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var A={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(A.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:A}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var d=0;d<u.length;++d){var w=u[d],m=w.src.find(function(y){return y.format==="truetype"});m&&c.addFont(m.url,w.ref.name,w.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var A=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=A})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(A,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(A,l):this.outputPdf(A,l)},a.prototype.outputPdf=function(A,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(A,l)})},a.prototype.outputImg=function(A){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(A){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+A+'" is not supported.'}})},a.prototype.save=function(A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(A?{filename:A}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(A){if(n(A)!=="object")return this;var l=Object.keys(A||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=A[c]};switch(c){case"margin":return this.setMargin.bind(this,A.margin);case"jsPDF":return function(){return this.opt.jsPDF=A.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,A.pageSize);default:return function(){this.opt[c]=A[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(A,l){return this.then(function(){var c=A in a.template.prop?this.prop[A]:this.opt[A];return l?l(c):c})},a.prototype.setMargin=function(A){return this.then(function(){switch(n(A)){case"number":A=[A,A,A,A];case"array":if(A.length===2&&(A=[A[0],A[1],A[0],A[1]]),A.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=A}).then(this.setPageSize)},a.prototype.setPageSize=function(A){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(A=A||kt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(A.inner={width:A.width-this.opt.margin[1]-this.opt.margin[3],height:A.height-this.opt.margin[0]-this.opt.margin[2]},A.inner.px={width:l(A.inner.width,A.k),height:l(A.inner.height,A.k)},A.inner.ratio=A.inner.height/A.inner.width),this.prop.pageSize=A})},a.prototype.setProgress=function(A,l,c,u){return A!=null&&(this.progress.val=A),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(A,l,c,u){return this.setProgress(A?this.progress.val+A:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(A,l){var c=this;return this.thenCore(A,l,function(u,h){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,h).then(function(p){return c.updateProgress(1),p})})},a.prototype.thenCore=function(A,l,c){c=c||Promise.prototype.then;var u=this;A&&(A=A.bind(u)),l&&(l=l.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:a.convert(Object.assign({},u),Promise.prototype),p=c.call(h,A,l);return a.convert(p,u.__proto__)},a.prototype.thenExternal=function(A,l){return Promise.prototype.then.call(this,A,l)},a.prototype.thenList=function(A){var l=this;return A.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(A){A&&(A=A.bind(this));var l=Promise.prototype.catch.call(this,A);return a.convert(l,this)},a.prototype.catchExternal=function(A){return Promise.prototype.catch.call(this,A)},a.prototype.error=function(A){return this.then(function(){throw new Error(A)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,kt.getPageSize=function(A,l,c){if(lr(A)==="object"){var u=A;A=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",A=(""+(A||"P")).toLowerCase();var h,p=(""+c).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var w,m=0,y=0;if(d.hasOwnProperty(p))m=d[p][1]/h,y=d[p][0]/h;else try{m=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(A==="p"||A==="portrait")A="p",y>m&&(w=y,y=m,m=w);else{if(A!=="l"&&A!=="landscape")throw"Invalid orientation: "+A;A="l",m>y&&(w=y,y=m,m=w)}return{width:y,height:m,unit:l,k:h,orientation:A}},t.html=function(A,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(r0):null;var c=new a(l);return l.worker?c:c.from(A).doCallback()}}(kt.API),kt.API.addJS=function(t){return $B=t,this.internal.events.subscribe("postPutResources",function(){uf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(uf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),KB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+$B+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){uf!==void 0&&KB!==void 0&&this.internal.out("/Names <</JavaScript "+uf+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],A=n.exec(a);if(A!=null){var l=A[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var h=r.internal.newObject();u.push(h);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var d=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+d+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var A=this.count=this.count_r({count:0},a);if(A>0&&this.line("/Count "+A),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(kt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,s,i,a,A){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(h){for(var p,d=256*h.charCodeAt(4)+h.charCodeAt(5),w=h.length,m={width:0,height:0,numcomponents:1},y=4;y<w;y+=2){if(y+=d,e.indexOf(h.charCodeAt(y+1))!==-1){p=256*h.charCodeAt(y+5)+h.charCodeAt(y+6),m={width:256*h.charCodeAt(y+7)+h.charCodeAt(y+8),height:p,numcomponents:h.charCodeAt(y+9)};break}d=256*h.charCodeAt(y+2)+h.charCodeAt(y+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:A=this.color_spaces.DEVICE_GRAY;break;case 4:A=this.color_spaces.DEVICE_CMYK;break;case 3:A=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:A,bitsPerComponent:8,filter:c,index:n,alias:s}}return u}}(kt.API),kt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var s,i=_D(t,{checkCrc:!0}),a=i.width,A=i.height,l=i.channels,c=i.palette,u=i.depth;s=c&&l===1?function(P){for(var k=P.width,$=P.height,D=P.data,U=P.palette,H=P.depth,S=!1,ee=[],ge=[],le=void 0,ne=!1,se=0,ye=0;ye<U.length;ye++){var re=Ob(U[ye],4),F=re[0],V=re[1],O=re[2],q=re[3];ee.push(F,V,O),q!=null&&(q===0?(se++,ge.length<1&&ge.push(ye)):q<255&&(ne=!0))}if(ne||se>1){S=!0,ge=void 0;var ce=k*$;le=new Uint8Array(ce);for(var ue=new DataView(D.buffer),de=0;de<ce;de++){var be=s0(ue,de,H),Ue=Ob(U[be],4)[3];le[de]=Ue}}else se===0&&(ge=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:S?8:void 0,colorBytes:D,alphaBytes:le,needSMask:S,palette:ee,mask:ge}}(i):l===2||l===4?function(P){for(var k=P.data,$=P.width,D=P.height,U=P.channels,H=P.depth,S=U===2?"DeviceGray":"DeviceRGB",ee=U-1,ge=$*D,le=ee,ne=ge*le,se=1*ge,ye=Math.ceil(ne*H/8),re=Math.ceil(se*H/8),F=new Uint8Array(ye),V=new Uint8Array(re),O=new DataView(k.buffer),q=new DataView(F.buffer),ce=new DataView(V.buffer),ue=!1,de=0;de<ge;de++){for(var be=de*U,Ue=0;Ue<le;Ue++)ex(q,s0(O,be+Ue,H),de*le+Ue,H);var Ae=s0(O,be+le,H);Ae<(1<<H)-1&&(ue=!0),ex(ce,Ae,1*de,H)}return{colorSpace:S,colorsPerPixel:ee,sMaskBitsPerComponent:ue?H:void 0,colorBytes:F,alphaBytes:V,needSMask:ue}}(i):function(P){var k=P.data,$=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:$,colorsPerPixel:$==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?function(D){for(var U=D.length,H=new Uint8Array(2*U),S=new DataView(H.buffer,H.byteOffset,H.byteLength),ee=0;ee<U;ee++)S.setUint16(2*ee,D[ee],!1);return H}(k):k,needSMask:!1}}(i);var h,p,d,w=s,m=w.colorSpace,y=w.colorsPerPixel,g=w.sMaskBitsPerComponent,b=w.colorBytes,B=w.alphaBytes,C=w.needSMask,N=w.palette,L=w.mask,Q=null;return n!==kt.API.image_compression.NONE&&typeof M1=="function"?(Q=function(P){var k;switch(P){case kt.API.image_compression.FAST:k=11;break;case kt.API.image_compression.MEDIUM:k=13;break;case kt.API.image_compression.SLOW:k=14;break;default:k=12}return k}(n),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(Q," /Colors ").concat(y," /BitsPerComponent ").concat(u," /Columns ").concat(a),t=qB(b,Math.ceil(a*y*u/8),y,u,n),C&&(d=qB(B,Math.ceil(a*g/8),1,g,n))):(h=void 0,p=void 0,t=b,C&&(d=B)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:r,data:t,index:e,filter:h,decodeParameters:p,transparency:L,palette:N,sMask:d,predictor:Q,width:a,height:A,bitsPerComponent:u,sMaskBitsPerComponent:g,colorSpace:m}}},function(t){t.processGIF89A=function(e,r,n,s){var i=new $D(e),a=i.width,A=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:A},u=new i0(100).encode(c,100);return t.processJPEG.call(this,u,r,n,s)},t.processGIF87A=t.processGIF89A}(kt.API),Hi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Hi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){pr.log("bit decode error:"+r)}},Hi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,A=0;A<8&&8*s+A<this.width;A++){var l=this.palette[i>>7-A&1];this.data[a+4*A]=l.blue,this.data[a+4*A+1]=l.green,this.data[a+4*A+2]=l.red,this.data[a+4*A+3]=255}r!==0&&(this.pos+=4-r)}},Hi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,A=i>>4,l=15&i,c=this.palette[A];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Hi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Hi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,A=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,u=n*this.width*4+4*s;this.data[u]=l,this.data[u+1]=A,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},Hi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,c=(a>>11)/e*255|0,u=s*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=A,this.data[u+3]=255}this.pos+=t}},Hi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Hi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),A=e*this.width*4+4*r;this.data[A]=i,this.data[A+1]=s,this.data[A+2]=n,this.data[A+3]=a}},Hi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,s){var i=new Hi(e,!1),a=i.width,A=i.height,l={data:i.getData(),width:a,height:A},c=new i0(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(kt.API),rx.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,s){var i=new rx(e),a=i.width,A=i.height,l={data:i.getData(),width:a,height:A},c=new i0(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(kt.API),kt.API.processRGBA=function(t,e,r){for(var n=t.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),A=0,l=0,c=0;c<s;c+=4){var u=n[c],h=n[c+1],p=n[c+2],d=n[c+3];i[A++]=u,i[A++]=h,i[A++]=p,a[l++]=d}var w=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:w,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},kt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},zl=kt.API,df=zl.getCharWidthsArray=function(t,e){var r,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),A=e.widths?e.widths:s.metadata.Unicode.widths,l=A.fof?A.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=e.doKerning!==!1,p=0,d=t.length,w=0,m=A[0]||l,y=[];for(r=0;r<d;r++)n=t.charCodeAt(r),typeof s.metadata.widthOfString=="function"?y.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(p=h&&lr(c[n])==="object"&&!isNaN(parseInt(c[n][w],10))?c[n][w]/u:0,y.push((A[n]||m)/l+p)),w=n;return y},VB=zl.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return zl.processArabic&&(t=zl.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,s)/r:df.apply(this,arguments).reduce(function(i,a){return i+a},0)},GB=function(t,e,r,n){for(var s=[],i=0,a=t.length,A=0;i!==a&&A+e[i]<r;)A+=e[i],i++;s.push(t.slice(0,i));var l=i;for(A=0;i!==a;)A+e[i]>n&&(s.push(t.slice(l,i)),A=0,l=i),A+=e[i],i++;return l!==i&&s.push(t.slice(l,i)),s},WB=function(t,e,r){r||(r={});var n,s,i,a,A,l,c,u=[],h=[u],p=r.textIndent||0,d=0,w=0,m=t.split(" "),y=df.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var g=Array(l).join(" "),b=[];m.map(function(C){(C=C.split(/\s*\n/)).length>1?b=b.concat(C.map(function(N,L){return(L&&N.length?`
`:"")+N})):b.push(C[0])}),m=b,l=VB.apply(this,[g,r])}for(i=0,a=m.length;i<a;i++){var B=0;if(n=m[i],l&&n[0]==`
`&&(n=n.substr(1),B=1),p+d+(w=(s=df.apply(this,[n,r])).reduce(function(C,N){return C+N},0))>e||B){if(w>e){for(A=GB.apply(this,[n,s,e-(p+d),e]),u.push(A.shift()),u=[A.pop()];A.length;)h.push([A.shift()]);w=s.slice(n.length-(u[0]?u[0].length:0)).reduce(function(C,N){return C+N},0)}else u=[n];h.push(u),p=w+l,d=y}else u.push(n),p+=d+w,d=y}return c=l?function(C,N){return(N?g:"")+C.join(" ")}:function(C){return C.join(" ")},h.map(c)},zl.splitTextToSize=function(t,e,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var A,l,c=[];for(A=0,l=n.length;A<l;A++)c=c.concat(WB.apply(this,[n[A],a,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[r[i]]=e[i],s[e[i]]=r[i];var a=function(p){return"0x"+parseInt(p,10).toString(16)},A=t.__fontmetrics__.compress=function(p){var d,w,m,y,g=["{"];for(var b in p){if(d=p[b],isNaN(parseInt(b,10))?w="'"+b+"'":(b=parseInt(b,10),w=(w=a(b).slice(2)).slice(0,-1)+s[w.slice(-1)]),typeof d=="number")d<0?(m=a(d).slice(3),y="-"):(m=a(d).slice(2),y=""),m=y+m.slice(0,-1)+s[m.slice(-1)];else{if(lr(d)!=="object")throw new Error("Don't know what to do with value type "+lr(d)+".");m=A(d)}g.push(w+m)}return g.push("}"),g.join("")},l=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,w,m,y,g={},b=1,B=g,C=[],N="",L="",Q=p.length-1,P=1;P<Q;P+=1)(y=p[P])=="'"?d?(m=d.join(""),d=void 0):d=[]:d?d.push(y):y=="{"?(C.push([B,m]),B={},m=void 0):y=="}"?((w=C.pop())[0][w[1]]=B,m=void 0,B=w[0]):y=="-"?b=-1:m===void 0?n.hasOwnProperty(y)?(N+=n[y],m=parseInt(N,16)*b,b=1,N=""):N+=y:n.hasOwnProperty(y)?(L+=n[y],B[m]=parseInt(L,16)*b,b=1,m=void 0,L=""):L+=y;return g},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var d=p.font,w=h.Unicode[d.postScriptName];w&&(d.metadata.Unicode={},d.metadata.Unicode.widths=w.widths,d.metadata.Unicode.kerning=w.kerning);var m=u.Unicode[d.postScriptName];m&&(d.metadata.Unicode.encoding=m,d.encoding=m.codePages[0])}])}(kt.API),function(t){var e=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};t.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,A){A=/^\x00\x01\x00\x00/.test(A)?e(A):e(Yf(A)),a.metadata=t.API.TTFFont.open(A),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(kt),kt.API.addSvgAsImage=function(t,e,r,n,s,i,a,A){if(isNaN(e)||isNaN(r))throw pr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw pr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=s;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Lt.canvg?Promise.resolve(Lt.canvg):Wf(()=>import("./index.es-2a8a685a.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,r,n,s,a,A)})},kt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,r);return this},kt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},A=Object.keys(a),l=[],c=0,u=0,h=0;function p(w,m){var y,g=!1;for(y=0;y<w.length;y+=1)w[y]===m&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var d=A.length;for(h=0;h<d;h+=1)r[A[h]].value=r[A[h]].defaultValue,r[A[h]].explicitSet=!1}if(lr(t)==="object"){for(s in t)if(i=t[s],p(A,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&p(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[s].value="["+l.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,m=[];for(w in r)r[w].explicitSet===!0&&(r[w].type==="name"?m.push("/"+w+" /"+r[w].value):m.push("/"+w+" "+r[w].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),A=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+a.length+A.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+A+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(kt.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,a){for(var A,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,p=i.length;h<p;++h){if(A=a.metadata.characterToGlyph(i.charCodeAt(h)),a.metadata.glyIdsUsed.push(A),a.metadata.toUnicode[A]=i.charCodeAt(h),l.indexOf(A)==-1&&(l.push(A),l.push([parseInt(a.metadata.widthOfGlyph(A),10)])),A=="0")return u.join("");A=A.toString(16),u.push(c[4-A.length],A)}return u.join("")},n=function(i){var a,A,l,c,u,h,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(A=Object.keys(i).sort(function(d,w){return d-w})).length;h<p;h++)a=A[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(c=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var A=a.font,l=a.out,c=a.newObject,u=a.putStream;if(A.metadata instanceof t.API.TTFFont&&A.encoding==="Identity-H"){for(var h=A.metadata.Unicode.widths,p=A.metadata.subset.encode(A.metadata.glyIdsUsed,1),d="",w=0;w<p.length;w++)d+=String.fromCharCode(p[w]);var m=c();u({data:d,addLength1:!0,objectId:m}),l("endobj");var y=c();u({data:n(A.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var g=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Zl(A.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(A.metadata.bbox)),l("/Flags "+A.metadata.flags),l("/StemV "+A.metadata.stemV),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Zl(A.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+A.encoding+")"),l(">>"),l(">>"),l("endobj"),A.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+Zl(A.fontName)),l("/Encoding /"+A.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),A.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var A=a.font,l=a.out,c=a.newObject,u=a.putStream;if(A.metadata instanceof t.API.TTFFont&&A.encoding==="WinAnsiEncoding"){for(var h=A.metadata.rawData,p="",d=0;d<h.length;d++)p+=String.fromCharCode(h[d]);var w=c();u({data:p,addLength1:!0,objectId:w}),l("endobj");var m=c();u({data:n(A.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var y=c();l("<<"),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l("/StemV "+A.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+w+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(A.metadata.bbox)),l("/FontName /"+Zl(A.fontName)),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l(">>"),l("endobj"),A.objectNumber=c();for(var g=0;g<A.metadata.hmtx.widths.length;g++)A.metadata.hmtx.widths[g]=parseInt(A.metadata.hmtx.widths[g]*(1e3/A.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Zl(A.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+A.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(A.metadata.hmtx.widths)+">>"),l("endobj"),A.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,A=i.text||"",l=i.x,c=i.y,u=i.options||{},h=i.mutex||{},p=h.pdfEscape,d=h.activeFontKey,w=h.fonts,m=d,y="",g=0,b="",B=w[m].encoding;if(w[m].encoding!=="Identity-H")return{text:A,x:l,y:c,options:u,mutex:h};for(b=A,m=d,Array.isArray(A)&&(b=A[0]),g=0;g<b.length;g+=1)w[m].metadata.hasOwnProperty("cmap")&&(a=w[m].metadata.cmap.unicode.codeMap[b[g].charCodeAt(0)]),a||b[g].charCodeAt(0)<256&&w[m].metadata.hasOwnProperty("Unicode")?y+=b[g]:y+="";var C="";return parseInt(m.slice(1))<14||B==="WinAnsiEncoding"?C=p(y,m).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):B==="Identity-H"&&(C=r(y,w[m])),h.isHex=!0,{text:C,x:l,y:c,options:u,mutex:h}};e.events.push(["postProcessText",function(i){var a=i.text||"",A=[],l={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?A.push([s(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):A.push(s(Object.assign({},l,{text:a[c]})).text);i.text=A}else i.text=s(Object.assign({},l,{text:a})).text}])}(kt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(kt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var s,i,a,A,l,c,u,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,B=0;this.__bidiEngine__={};var C=function(D){var U=D.charCodeAt(),H=U>>8,S=m[H];return S!==void 0?h[256*S+(255&U)]:H===252||H===253?"AL":g.test(H)?"L":H===8?"R":"N"},N=function(D){for(var U,H=0;H<D.length;H++){if((U=C(D.charAt(H)))==="L")return!1;if(U==="R")return!0}return!1},L=function(D,U,H,S){var ee,ge,le,ne,se=U[S];switch(se){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(se="AN");break;case"AL":b=!0,se="R";break;case"WS":case"BN":se="N";break;case"CS":S<1||S+1>=U.length||(ee=H[S-1])!=="EN"&&ee!=="AN"||(ge=U[S+1])!=="EN"&&ge!=="AN"?se="N":b&&(ge="AN"),se=ge===ee?ge:"N";break;case"ES":se=(ee=S>0?H[S-1]:"B")==="EN"&&S+1<U.length&&U[S+1]==="EN"?"EN":"N";break;case"ET":if(S>0&&H[S-1]==="EN"){se="EN";break}if(b){se="N";break}for(le=S+1,ne=U.length;le<ne&&U[le]==="ET";)le++;se=le<ne&&U[le]==="EN"?"EN":"N";break;case"NSM":if(a&&!A){for(ne=U.length,le=S+1;le<ne&&U[le]==="NSM";)le++;if(le<ne){var ye=D[S],re=ye>=1425&&ye<=2303||ye===64286;if(ee=U[le],re&&(ee==="R"||ee==="AL")){se="R";break}}}se=S<1||(ee=U[S-1])==="B"?"N":H[S-1];break;case"B":b=!1,s=!0,se=B;break;case"S":i=!0,se="N"}return se},Q=function(D,U,H){var S=D.split("");return H&&P(S,H,{hiLevel:B}),S.reverse(),U&&U.reverse(),S.join("")},P=function(D,U,H){var S,ee,ge,le,ne,se=-1,ye=D.length,re=0,F=[],V=B?d:p,O=[];for(b=!1,s=!1,i=!1,ee=0;ee<ye;ee++)O[ee]=C(D[ee]);for(ge=0;ge<ye;ge++){if(ne=re,F[ge]=L(D,O,F,ge),S=240&(re=V[ne][w[F[ge]]]),re&=15,U[ge]=le=V[re][5],S>0)if(S===16){for(ee=se;ee<ge;ee++)U[ee]=1;se=-1}else se=-1;if(V[re][6])se===-1&&(se=ge);else if(se>-1){for(ee=se;ee<ge;ee++)U[ee]=le;se=-1}O[ge]==="B"&&(U[ge]=0),H.hiLevel|=le}i&&function(q,ce,ue){for(var de=0;de<ue;de++)if(q[de]==="S"){ce[de]=B;for(var be=de-1;be>=0&&q[be]==="WS";be--)ce[be]=B}}(O,U,ye)},k=function(D,U,H,S,ee){if(!(ee.hiLevel<D)){if(D===1&&B===1&&!s)return U.reverse(),void(H&&H.reverse());for(var ge,le,ne,se,ye=U.length,re=0;re<ye;){if(S[re]>=D){for(ne=re+1;ne<ye&&S[ne]>=D;)ne++;for(se=re,le=ne-1;se<le;se++,le--)ge=U[se],U[se]=U[le],U[le]=ge,H&&(ge=H[se],H[se]=H[le],H[le]=ge);re=ne}re++}}},$=function(D,U,H){var S=D.split(""),ee={hiLevel:B};return H||(H=[]),P(S,H,ee),function(ge,le,ne){if(ne.hiLevel!==0&&u)for(var se,ye=0;ye<ge.length;ye++)le[ye]===1&&(se=y.indexOf(ge[ye]))>=0&&(ge[ye]=y[se+1])}(S,H,ee),k(2,S,U,H,ee),k(1,S,U,H,ee),S.join("")};return this.__bidiEngine__.doBidiReorder=function(D,U,H){if(function(ee,ge){if(ge)for(var le=0;le<ee.length;le++)ge[le]=le;A===void 0&&(A=N(ee)),c===void 0&&(c=N(ee))}(D,U),a||!l||c)if(a&&l&&A^c)B=A?1:0,D=Q(D,U,H);else if(!a&&l&&c)B=A?1:0,D=$(D,U,H),D=Q(D,U);else if(!a||A||l||c){if(a&&!l&&A^c)D=Q(D,U),A?(B=0,D=$(D,U,H)):(B=1,D=$(D,U,H),D=Q(D,U));else if(a&&A&&!l&&c)B=1,D=$(D,U,H),D=Q(D,U);else if(!a&&!l&&A^c){var S=u;A?(B=1,D=$(D,U,H),B=0,u=!1,D=$(D,U,H),u=S):(B=0,D=$(D,U,H),D=Q(D,U),B=1,u=!1,D=$(D,U,H),u=S,D=Q(D,U))}}else B=0,D=$(D,U,H);else B=A?1:0,D=$(D,U,H);return D},this.__bidiEngine__.setOptions=function(D){D&&(a=D.isInputVisual,l=D.isOutputVisual,A=D.isInputRtl,c=D.isOutputRtl,u=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var A=0;for(a=[],A=0;A<s.length;A+=1)Object.prototype.toString.call(s[A])==="[object Array]"?a.push([r.doBidiReorder(s[A][0]),s[A][1],s[A][2]]):a.push([r.doBidiReorder(s[A])]);n.text=a}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(kt),kt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new gA(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new aT(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new VD(this.contents),this.head=new WD(this),this.name=new ZD(this),this.cmap=new aE(this),this.toUnicode={},this.hhea=new qD(this),this.maxp=new eT(this),this.hmtx=new tT(this),this.post=new XD(this),this.os2=new JD(this),this.loca=new iT(this),this.glyf=new rT(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,A,l,c;for(c=[],a=0,A=(l=this.bbox).length;a<A;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var s,i,a,A;for(a=0,i=0,A=(e=""+e).length;0<=A?i<A:i>A;i=0<=A?++i:--i)s=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Zi,gA=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,s;for(s=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(e.charCodeAt(r)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,s,i,a,A,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),A=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^A)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*a+256*A+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),VD=function(){var t;function e(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,s,i,a,A,l,c,u,h,p,d,w,m;for(m in d=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(d)/l),a=Math.floor(h/l),u=16*d-h,(s=new gA).writeInt(this.scalarType),s.writeShort(d),s.writeShort(h),s.writeShort(a),s.writeShort(u),i=16*d,c=s.pos+i,A=null,w=[],r)for(p=r[m],s.writeString(m),s.writeInt(t(p)),s.writeInt(c),s.writeInt(p.length),w=w.concat(p),m==="head"&&(A=c),c+=p.length;c%4;)w.push(0),c++;return s.write(w),n=2981146554-t(s.data),s.pos=A+8,s.writeUInt32(n),s.data},t=function(r){var n,s,i,a;for(r=oE.call(r);r.length%4;)r.push(0);for(i=new gA(r),s=0,n=0,a=r.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},e}(),GD={}.hasOwnProperty,_a=function(t,e){for(var r in e)GD.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Zi=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var WD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _a(t,Zi),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new gA).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),nx=function(){function t(e,r){var n,s,i,a,A,l,c,u,h,p,d,w,m,y,g,b,B;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(d=e.readUInt16(),p=d/2,e.pos+=6,i=function(){var C,N;for(N=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)N.push(e.readUInt16());return N}(),e.pos+=2,m=function(){var C,N;for(N=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)N.push(e.readUInt16());return N}(),c=function(){var C,N;for(N=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)N.push(e.readUInt16());return N}(),u=function(){var C,N;for(N=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)N.push(e.readUInt16());return N}(),s=(this.length-e.pos+this.offset)/2,A=function(){var C,N;for(N=[],l=C=0;0<=s?C<s:C>s;l=0<=s?++C:--C)N.push(e.readUInt16());return N}(),l=g=0,B=i.length;g<B;l=++g)for(y=i[l],n=b=w=m[l];w<=y?b<=y:b>=y;n=w<=y?++b:--b)u[l]===0?a=n+c[l]:(a=A[u[l]/2+(n-w)-(p-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}e.pos=h}return t.encode=function(e,r){var n,s,i,a,A,l,c,u,h,p,d,w,m,y,g,b,B,C,N,L,Q,P,k,$,D,U,H,S,ee,ge,le,ne,se,ye,re,F,V,O,q,ce,ue,de,be,Ue,Ae,Se;switch(S=new gA,a=Object.keys(e).sort(function(fe,x){return fe-x}),r){case"macroman":for(m=0,y=function(){var fe=[];for(w=0;w<256;++w)fe.push(0);return fe}(),b={0:0},i={},ee=0,se=a.length;ee<se;ee++)b[be=e[s=a[ee]]]==null&&(b[be]=++m),i[s]={old:e[s],new:b[e[s]]},y[s]=b[e[s]];return S.writeUInt16(1),S.writeUInt16(0),S.writeUInt32(12),S.writeUInt16(0),S.writeUInt16(262),S.writeUInt16(0),S.write(y),{charMap:i,subtable:S.data,maxGlyphID:m+1};case"unicode":for(U=[],h=[],B=0,b={},n={},g=c=null,ge=0,ye=a.length;ge<ye;ge++)b[N=e[s=a[ge]]]==null&&(b[N]=++B),n[s]={old:N,new:b[N]},A=b[N]-s,g!=null&&A===c||(g&&h.push(g),U.push(s),c=A),g=s;for(g&&h.push(g),h.push(65535),U.push(65535),$=2*(k=U.length),P=2*Math.pow(Math.log(k)/Math.LN2,2),p=Math.log(P/2)/Math.LN2,Q=2*k-P,l=[],L=[],d=[],w=le=0,re=U.length;le<re;w=++le){if(D=U[w],u=h[w],D===65535){l.push(0),L.push(0);break}if(D-(H=n[D].new)>=32768)for(l.push(0),L.push(2*(d.length+k-w)),s=ne=D;D<=u?ne<=u:ne>=u;s=D<=u?++ne:--ne)d.push(n[s].new);else l.push(H-D),L.push(0)}for(S.writeUInt16(3),S.writeUInt16(1),S.writeUInt32(12),S.writeUInt16(4),S.writeUInt16(16+8*k+2*d.length),S.writeUInt16(0),S.writeUInt16($),S.writeUInt16(P),S.writeUInt16(p),S.writeUInt16(Q),ue=0,F=h.length;ue<F;ue++)s=h[ue],S.writeUInt16(s);for(S.writeUInt16(0),de=0,V=U.length;de<V;de++)s=U[de],S.writeUInt16(s);for(Ue=0,O=l.length;Ue<O;Ue++)A=l[Ue],S.writeUInt16(A);for(Ae=0,q=L.length;Ae<q;Ae++)C=L[Ae],S.writeUInt16(C);for(Se=0,ce=d.length;Se<ce;Se++)m=d[Se],S.writeUInt16(m);return{charMap:n,subtable:S.data,maxGlyphID:B+1}}},t}(),aE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _a(t,Zi),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new nx(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,s;return r==null&&(r="macroman"),n=nx.encode(e,r),(s=new gA).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},t}(),qD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _a(t,Zi),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),JD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _a(t,Zi),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),XD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _a(t,Zi),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)r=e.readByte(),s.push(this.names.push(e.readString(r)));return s;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,A,l;for(l=[],i=a=0,A=this.file.maxp.numGlyphs;0<=A?a<A:a>A;i=0<=A?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),YD=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},ZD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _a(t,Zi),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,s,i,a,A,l,c,u,h,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),A=e.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+A+e.readShort()});for(l={},i=u=0,h=n.length;u<h;i=++u)s=n[i],e.pos=s.offset,c=e.readString(s.length),a=new YD(c,s),l[p=s.nameID]==null&&(l[p]=[]),l[s.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),eT=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _a(t,Zi),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),tT=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _a(t,Zi),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,s,i,a,A,l;for(e.pos=this.offset,this.metrics=[],r=0,A=this.file.hhea.numberOfMetrics;0<=A?r<A:r>A;r=0<=A?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],r=c=0;0<=s?c<s:c>s;r=0<=s?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,h,p;for(p=[],c=0,u=(h=this.metrics).length;c<u;c++)i=h[c],p.push(i.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),oE=[].slice,rT=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _a(t,Zi),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,s,i,a,A,l,c,u,h;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(e),(s=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,a=(A=new gA(r.read(s))).readShort(),c=A.readShort(),h=A.readShort(),l=A.readShort(),u=A.readShort(),this.cache[e]=a===-1?new sT(A,c,h,l,u):new nT(A,a,c,h,l,u),this.cache[e]))},t.prototype.encode=function(e,r,n){var s,i,a,A,l;for(a=[],i=[],A=0,l=r.length;A<l;A++)s=e[r[A]],i.push(a.length),s&&(a=a.concat(s.encode(n)));return i.push(a.length),{table:a,offsets:i}},t}(),nT=function(){function t(e,r,n,s,i,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),sT=function(){function t(e,r,n,s,i){var a,A;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;A=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&A;)a.pos+=1&A?4:2,128&A?a.pos+=8:64&A?a.pos+=4:8&A&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new gA(oE.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),iT=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _a(t,Zi),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,a=0;a<n.length;++a)if(n[a]=s,i<r.length&&r[i]==a){++i,n[a]=s;var A=this.offsets[a],l=this.offsets[a+1]-A;l>0&&(s+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},t}(),aT=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=s[n];return e},t.prototype.glyphsFor=function(e){var r,n,s,i,a,A,l;for(s={},a=0,A=e.length;a<A;a++)s[i=e[a]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],s[i]=n;return s},t.prototype.encode=function(e,r){var n,s,i,a,A,l,c,u,h,p,d,w,m,y,g;for(s in n=aE.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),d={0:0},g=n.charMap)d[(l=g[s]).old]=l.new;for(w in p=n.maxGlyphID,a)w in d||(d[w]=p++);return u=function(b){var B,C;for(B in C={},b)C[b[B]]=B;return C}(d),h=Object.keys(u).sort(function(b,B){return b-B}),m=function(){var b,B,C;for(C=[],b=0,B=h.length;b<B;b++)A=h[b],C.push(u[A]);return C}(),i=this.font.glyf.encode(a,m,d),c=this.font.loca.encode(i.offsets,m),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},t}();kt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,s,i,a;if(Array.isArray(r))return"["+function(){var A,l,c;for(c=[],A=0,l=r.length;A<l;A++)n=r[A],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)a=r[s],i.push("/"+s+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+r},e}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rv=function(t,e){return rv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},rv(t,e)};function ea(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");rv(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var nv=function(){return nv=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},nv.apply(this,arguments)};function ms(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(h){a(h)}}function l(u){try{c(n.throw(u))}catch(h){a(h)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})}function as(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function A(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function hf(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var ao=function(){function t(e,r,n,s){this.left=e,this.top=r,this.width=n,this.height=s}return t.prototype.add=function(e,r,n,s){return new t(this.left+e,this.top+r,this.width+n,this.height+s)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),_g=function(t,e){return ao.fromClientRect(t,e.getBoundingClientRect())},oT=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),s=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new ao(0,0,n,s)},Cg=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},tn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var a=t[s];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},sx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",AT=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ff=0;ff<sx.length;ff++)AT[sx.charCodeAt(ff)]=ff;var ix="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var pf=0;pf<ix.length;pf++)Pu[ix.charCodeAt(pf)]=pf;var lT=function(t){var e=t.length*.75,r=t.length,n,s=0,i,a,A,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=Pu[t.charCodeAt(n)],a=Pu[t.charCodeAt(n+1)],A=Pu[t.charCodeAt(n+2)],l=Pu[t.charCodeAt(n+3)],u[s++]=i<<2|a>>4,u[s++]=(a&15)<<4|A>>2,u[s++]=(A&3)<<6|l&63;return c},cT=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},uT=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},sl=5,zw=6+5,a0=2,dT=zw-sl,AE=65536>>sl,hT=1<<sl,o0=hT-1,fT=1024>>sl,pT=AE+fT,gT=pT,mT=32,vT=gT+mT,wT=65536>>zw,yT=1<<dT,bT=yT-1,ax=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},BT=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},xT=function(t,e){var r=lT(t),n=Array.isArray(r)?uT(r):new Uint32Array(r),s=Array.isArray(r)?cT(r):new Uint16Array(r),i=24,a=ax(s,i/2,n[4]/2),A=n[5]===2?ax(s,(i+n[4])/2):BT(n,Math.ceil((i+n[4])/4));return new _T(n[0],n[1],n[2],n[3],a,A)},_T=function(){function t(e,r,n,s,i,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>sl],r=(r<<a0)+(e&o0),this.data[r];if(e<=65535)return r=this.index[AE+(e-55296>>sl)],r=(r<<a0)+(e&o0),this.data[r];if(e<this.highStart)return r=vT-wT+(e>>zw),r=this.index[r],r+=e>>sl&bT,r=this.index[r],r=(r<<a0)+(e&o0),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),ox="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",CT=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var gf=0;gf<ox.length;gf++)CT[ox.charCodeAt(gf)]=gf;var ST="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Ax=50,ET=1,lE=2,cE=3,kT=4,NT=5,lx=7,uE=8,cx=9,Xo=10,sv=11,ux=12,iv=13,FT=14,Ou=15,av=16,mf=17,Su=18,UT=19,dx=20,ov=21,Eu=22,A0=23,Kl=24,Js=25,Ru=26,Hu=27,$l=28,jT=29,VA=30,IT=31,vf=32,wf=33,Av=34,lv=35,cv=36,zd=37,uv=38,np=39,sp=40,l0=41,dE=42,LT=43,QT=[9001,65288],hE="!",Kt="",yf="",dv=xT(ST),za=[VA,cv],hv=[ET,lE,cE,NT],fE=[Xo,uE],hx=[Hu,Ru],DT=hv.concat(fE),fx=[uv,np,sp,Av,lv],TT=[Ou,iv],PT=function(t,e){e===void 0&&(e="strict");var r=[],n=[],s=[];return t.forEach(function(i,a){var A=dv.get(i);if(A>Ax?(s.push(!0),A-=Ax):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(a),r.push(av);if(A===kT||A===sv){if(a===0)return n.push(a),r.push(VA);var l=r[a-1];return DT.indexOf(l)===-1?(n.push(n[a-1]),r.push(l)):(n.push(a),r.push(VA))}if(n.push(a),A===IT)return r.push(e==="strict"?ov:zd);if(A===dE||A===jT)return r.push(VA);if(A===LT)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(zd):r.push(VA);r.push(A)}),[n,r,s]},c0=function(t,e,r,n){var s=n[r];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=r;i<=n.length;){i++;var a=n[i];if(a===e)return!0;if(a!==Xo)break}if(s===Xo)for(var i=r;i>0;){i--;var A=n[i];if(Array.isArray(t)?t.indexOf(A)!==-1:t===A)for(var l=r;l<=n.length;){l++;var a=n[l];if(a===e)return!0;if(a!==Xo)break}if(A!==Xo)break}return!1},px=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Xo)r--;else return n}return 0},OT=function(t,e,r,n,s){if(r[n]===0)return Kt;var i=n-1;if(Array.isArray(s)&&s[i]===!0)return Kt;var a=i-1,A=i+1,l=e[i],c=a>=0?e[a]:0,u=e[A];if(l===lE&&u===cE)return Kt;if(hv.indexOf(l)!==-1)return hE;if(hv.indexOf(u)!==-1||fE.indexOf(u)!==-1)return Kt;if(px(i,e)===uE)return yf;if(dv.get(t[i])===sv||(l===vf||l===wf)&&dv.get(t[A])===sv||l===lx||u===lx||l===cx||[Xo,iv,Ou].indexOf(l)===-1&&u===cx||[mf,Su,UT,Kl,$l].indexOf(u)!==-1||px(i,e)===Eu||c0(A0,Eu,i,e)||c0([mf,Su],ov,i,e)||c0(ux,ux,i,e))return Kt;if(l===Xo)return yf;if(l===A0||u===A0)return Kt;if(u===av||l===av)return yf;if([iv,Ou,ov].indexOf(u)!==-1||l===FT||c===cv&&TT.indexOf(l)!==-1||l===$l&&u===cv||u===dx||za.indexOf(u)!==-1&&l===Js||za.indexOf(l)!==-1&&u===Js||l===Hu&&[zd,vf,wf].indexOf(u)!==-1||[zd,vf,wf].indexOf(l)!==-1&&u===Ru||za.indexOf(l)!==-1&&hx.indexOf(u)!==-1||hx.indexOf(l)!==-1&&za.indexOf(u)!==-1||[Hu,Ru].indexOf(l)!==-1&&(u===Js||[Eu,Ou].indexOf(u)!==-1&&e[A+1]===Js)||[Eu,Ou].indexOf(l)!==-1&&u===Js||l===Js&&[Js,$l,Kl].indexOf(u)!==-1)return Kt;if([Js,$l,Kl,mf,Su].indexOf(u)!==-1)for(var h=i;h>=0;){var p=e[h];if(p===Js)return Kt;if([$l,Kl].indexOf(p)!==-1)h--;else break}if([Hu,Ru].indexOf(u)!==-1)for(var h=[mf,Su].indexOf(l)!==-1?a:i;h>=0;){var p=e[h];if(p===Js)return Kt;if([$l,Kl].indexOf(p)!==-1)h--;else break}if(uv===l&&[uv,np,Av,lv].indexOf(u)!==-1||[np,Av].indexOf(l)!==-1&&[np,sp].indexOf(u)!==-1||[sp,lv].indexOf(l)!==-1&&u===sp||fx.indexOf(l)!==-1&&[dx,Ru].indexOf(u)!==-1||fx.indexOf(u)!==-1&&l===Hu||za.indexOf(l)!==-1&&za.indexOf(u)!==-1||l===Kl&&za.indexOf(u)!==-1||za.concat(Js).indexOf(l)!==-1&&u===Eu&&QT.indexOf(t[A])===-1||za.concat(Js).indexOf(u)!==-1&&l===Su)return Kt;if(l===l0&&u===l0){for(var d=r[i],w=1;d>0&&(d--,e[d]===l0);)w++;if(w%2!==0)return Kt}return l===vf&&u===wf?Kt:yf},RT=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=PT(t,e.lineBreak),n=r[0],s=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(A){return[Js,VA,dE].indexOf(A)!==-1?zd:A}));var a=e.wordBreak==="keep-all"?i.map(function(A,l){return A&&t[l]>=19968&&t[l]<=40959}):void 0;return[n,s,a]},HT=function(){function t(e,r,n,s){this.codePoints=e,this.required=r===hE,this.start=n,this.end=s}return t.prototype.slice=function(){return tn.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),MT=function(t,e){var r=Cg(t),n=RT(r,e),s=n[0],i=n[1],a=n[2],A=r.length,l=0,c=0;return{next:function(){if(c>=A)return{done:!0,value:null};for(var u=Kt;c<A&&(u=OT(r,i,s,++c,a))===Kt;);if(u!==Kt||c===A){var h=new HT(r,u,l,c);return l=c,{value:h,done:!1}}return{done:!0,value:null}}}},zT=1,KT=2,ih=4,gx=8,$p=10,mx=47,Ad=92,$T=9,VT=32,bf=34,ku=61,GT=35,WT=36,qT=37,Bf=39,xf=40,Nu=41,JT=95,Fs=45,XT=33,YT=60,ZT=62,eP=64,tP=91,rP=93,nP=61,sP=123,_f=63,iP=125,vx=124,aP=126,oP=128,wx=65533,u0=42,el=43,AP=44,lP=58,cP=59,Kd=46,uP=0,dP=8,hP=11,fP=14,pP=31,gP=127,ha=-1,pE=48,gE=97,mE=101,mP=102,vP=117,wP=122,vE=65,wE=69,yE=70,yP=85,bP=90,os=function(t){return t>=pE&&t<=57},BP=function(t){return t>=55296&&t<=57343},Vl=function(t){return os(t)||t>=vE&&t<=yE||t>=gE&&t<=mP},xP=function(t){return t>=gE&&t<=wP},_P=function(t){return t>=vE&&t<=bP},CP=function(t){return xP(t)||_P(t)},SP=function(t){return t>=oP},Cf=function(t){return t===$p||t===$T||t===VT},Vp=function(t){return CP(t)||SP(t)||t===JT},yx=function(t){return Vp(t)||os(t)||t===Fs},EP=function(t){return t>=uP&&t<=dP||t===hP||t>=fP&&t<=pP||t===gP},Ro=function(t,e){return t!==Ad?!1:e!==$p},Sf=function(t,e,r){return t===Fs?Vp(e)||Ro(e,r):Vp(t)?!0:!!(t===Ad&&Ro(t,e))},d0=function(t,e,r){return t===el||t===Fs?os(e)?!0:e===Kd&&os(r):os(t===Kd?e:t)},kP=function(t){var e=0,r=1;(t[e]===el||t[e]===Fs)&&(t[e]===Fs&&(r=-1),e++);for(var n=[];os(t[e]);)n.push(t[e++]);var s=n.length?parseInt(tn.apply(void 0,n),10):0;t[e]===Kd&&e++;for(var i=[];os(t[e]);)i.push(t[e++]);var a=i.length,A=a?parseInt(tn.apply(void 0,i),10):0;(t[e]===wE||t[e]===mE)&&e++;var l=1;(t[e]===el||t[e]===Fs)&&(t[e]===Fs&&(l=-1),e++);for(var c=[];os(t[e]);)c.push(t[e++]);var u=c.length?parseInt(tn.apply(void 0,c),10):0;return r*(s+A*Math.pow(10,-a))*Math.pow(10,l*u)},NP={type:2},FP={type:3},UP={type:4},jP={type:13},IP={type:8},LP={type:21},QP={type:9},DP={type:10},TP={type:11},PP={type:12},OP={type:14},Ef={type:23},RP={type:1},HP={type:25},MP={type:24},zP={type:26},KP={type:27},$P={type:28},VP={type:29},GP={type:31},fv={type:32},bE=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Cg(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==fv;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case bf:return this.consumeStringToken(bf);case GT:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(yx(r)||Ro(n,s)){var i=Sf(r,n,s)?KT:zT,a=this.consumeName();return{type:5,value:a,flags:i}}break;case WT:if(this.peekCodePoint(0)===ku)return this.consumeCodePoint(),jP;break;case Bf:return this.consumeStringToken(Bf);case xf:return NP;case Nu:return FP;case u0:if(this.peekCodePoint(0)===ku)return this.consumeCodePoint(),OP;break;case el:if(d0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case AP:return UP;case Fs:var A=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(d0(A,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Sf(A,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Fs&&c===ZT)return this.consumeCodePoint(),this.consumeCodePoint(),MP;break;case Kd:if(d0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case mx:if(this.peekCodePoint(0)===u0)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===u0&&(u=this.consumeCodePoint(),u===mx))return this.consumeToken();if(u===ha)return this.consumeToken()}break;case lP:return zP;case cP:return KP;case YT:if(this.peekCodePoint(0)===XT&&this.peekCodePoint(1)===Fs&&this.peekCodePoint(2)===Fs)return this.consumeCodePoint(),this.consumeCodePoint(),HP;break;case eP:var h=this.peekCodePoint(0),p=this.peekCodePoint(1),d=this.peekCodePoint(2);if(Sf(h,p,d)){var a=this.consumeName();return{type:7,value:a}}break;case tP:return $P;case Ad:if(Ro(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case rP:return VP;case nP:if(this.peekCodePoint(0)===ku)return this.consumeCodePoint(),IP;break;case sP:return TP;case iP:return PP;case vP:case yP:var w=this.peekCodePoint(0),m=this.peekCodePoint(1);return w===el&&(Vl(m)||m===_f)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case vx:if(this.peekCodePoint(0)===ku)return this.consumeCodePoint(),QP;if(this.peekCodePoint(0)===vx)return this.consumeCodePoint(),LP;break;case aP:if(this.peekCodePoint(0)===ku)return this.consumeCodePoint(),DP;break;case ha:return fv}return Cf(e)?(this.consumeWhiteSpace(),GP):os(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Vp(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:tn(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();Vl(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===_f&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(tn.apply(void 0,e.map(function(l){return l===_f?pE:l})),16),i=parseInt(tn.apply(void 0,e.map(function(l){return l===_f?yE:l})),16);return{type:30,start:s,end:i}}var a=parseInt(tn.apply(void 0,e),16);if(this.peekCodePoint(0)===Fs&&Vl(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var A=[];Vl(r)&&A.length<6;)A.push(r),r=this.consumeCodePoint();var i=parseInt(tn.apply(void 0,A),16);return{type:30,start:a,end:i}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===xf?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===xf?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ha)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Bf||r===bf){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ha||this.peekCodePoint(0)===Nu)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Ef)}for(;;){var s=this.consumeCodePoint();if(s===ha||s===Nu)return{type:22,value:tn.apply(void 0,e)};if(Cf(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ha||this.peekCodePoint(0)===Nu?(this.consumeCodePoint(),{type:22,value:tn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Ef);if(s===bf||s===Bf||s===xf||EP(s))return this.consumeBadUrlRemnants(),Ef;if(s===Ad)if(Ro(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Ef;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;Cf(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Nu||e===ha)return;Ro(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var s=Math.min(r,e);n+=tn.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var s=this._value[n];if(s===ha||s===void 0||s===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===$p)return this._value.splice(0,n),RP;if(s===Ad){var i=this._value[n+1];i!==ha&&i!==void 0&&(i===$p?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Ro(s,i)&&(r+=this.consumeStringSlice(n),r+=tn(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=ih,n=this.peekCodePoint(0);for((n===el||n===Fs)&&e.push(this.consumeCodePoint());os(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===Kd&&os(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=gx;os(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===wE||n===mE)&&((s===el||s===Fs)&&os(i)||os(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=gx;os(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[kP(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);if(Sf(s,i,a)){var A=this.consumeName();return{type:15,number:r,flags:n,unit:A}}return s===qT?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Vl(e)){for(var r=tn(e);Vl(this.peekCodePoint(0))&&r.length<6;)r+=tn(this.consumeCodePoint());Cf(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||BP(n)||n>1114111?wx:n}return e===ha?wx:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(yx(r))e+=tn(r);else if(Ro(r,this.peekCodePoint(0)))e+=tn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),BE=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new bE;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||qP(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?fv:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),ah=function(t){return t.type===15},Yc=function(t){return t.type===17},ur=function(t){return t.type===20},WP=function(t){return t.type===0},pv=function(t,e){return ur(t)&&t.value===e},xE=function(t){return t.type!==31},Rc=function(t){return t.type!==31&&t.type!==4},Ca=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},qP=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},mA=function(t){return t.type===17||t.type===15},hn=function(t){return t.type===16||mA(t)},_E=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},$n={type:17,number:0,flags:ih},Kw={type:16,number:50,flags:ih},Yo={type:16,number:100,flags:ih},Mu=function(t,e,r){var n=t[0],s=t[1];return[xr(n,e),xr(typeof s<"u"?s:n,r)]},xr=function(t,e){if(t.type===16)return t.number/100*e;if(ah(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},CE="deg",SE="grad",EE="rad",kE="turn",Sg={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case CE:return Math.PI*e.number/180;case SE:return Math.PI/200*e.number;case EE:return e.number;case kE:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},NE=function(t){return t.type===15&&(t.unit===CE||t.unit===SE||t.unit===EE||t.unit===kE)},FE=function(t){var e=t.filter(ur).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[$n,$n];case"to top":case"bottom":return ki(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[$n,Yo];case"to right":case"left":return ki(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Yo,Yo];case"to bottom":case"top":return ki(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Yo,$n];case"to left":case"right":return ki(270)}return 0},ki=function(t){return Math.PI*t/180},dA={name:"color",parse:function(t,e){if(e.type===18){var r=JP[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return Zo(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),a=e.value.substring(3,4);return Zo(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return Zo(parseInt(n,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),a=e.value.substring(6,8);return Zo(parseInt(n,16),parseInt(s,16),parseInt(i,16),parseInt(a,16)/255)}}if(e.type===20){var A=to[e.value.toUpperCase()];if(typeof A<"u")return A}return to.TRANSPARENT}},hA=function(t){return(255&t)===0},kn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+n+","+r+","+e/255+")":"rgb("+s+","+n+","+r+")"},Zo=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},bx=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},Bx=function(t,e){var r=e.filter(Rc);if(r.length===3){var n=r.map(bx),s=n[0],i=n[1],a=n[2];return Zo(s,i,a,1)}if(r.length===4){var A=r.map(bx),s=A[0],i=A[1],a=A[2],l=A[3];return Zo(s,i,a,l)}return 0};function h0(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var xx=function(t,e){var r=e.filter(Rc),n=r[0],s=r[1],i=r[2],a=r[3],A=(n.type===17?ki(n.number):Sg.parse(t,n))/(Math.PI*2),l=hn(s)?s.number/100:0,c=hn(i)?i.number/100:0,u=typeof a<"u"&&hn(a)?xr(a,1):1;if(l===0)return Zo(c*255,c*255,c*255,1);var h=c<=.5?c*(l+1):c+l-c*l,p=c*2-h,d=h0(p,h,A+1/3),w=h0(p,h,A),m=h0(p,h,A-1/3);return Zo(d*255,w*255,m*255,u)},JP={hsl:xx,hsla:xx,rgb:Bx,rgba:Bx},ld=function(t,e){return dA.parse(t,BE.create(e).parseComponentValue())},to={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},XP={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(ur(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},YP={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Eg=function(t,e){var r=dA.parse(t,e[0]),n=e[1];return n&&hn(n)?{color:r,stop:n}:{color:r,stop:null}},_x=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=$n),n.stop===null&&(n.stop=Yo);for(var s=[],i=0,a=0;a<t.length;a++){var A=t[a].stop;if(A!==null){var l=xr(A,e);l>i?s.push(l):s.push(i),i=l}else s.push(null)}for(var c=null,a=0;a<s.length;a++){var u=s[a];if(u===null)c===null&&(c=a);else if(c!==null){for(var h=a-c,p=s[c-1],d=(u-p)/(h+1),w=1;w<=h;w++)s[c+w-1]=d*w;c=null}}return t.map(function(m,y){var g=m.color;return{color:g,stop:Math.max(Math.min(1,s[y]/e),0)}})},ZP=function(t,e,r){var n=e/2,s=r/2,i=xr(t[0],e)-n,a=s-xr(t[1],r);return(Math.atan2(a,i)+Math.PI*2)%(Math.PI*2)},eO=function(t,e,r){var n=typeof t=="number"?t:ZP(t,e,r),s=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),i=e/2,a=r/2,A=s/2,l=Math.sin(n-Math.PI/2)*A,c=Math.cos(n-Math.PI/2)*A;return[s,i-c,i+c,a-l,a+l]},zi=function(t,e){return Math.sqrt(t*t+e*e)},Cx=function(t,e,r,n,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(a,A){var l=A[0],c=A[1],u=zi(r-l,n-c);return(s?u<a.optimumDistance:u>a.optimumDistance)?{optimumCorner:A,optimumDistance:u}:a},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},tO=function(t,e,r,n,s){var i=0,a=0;switch(t.size){case 0:t.shape===0?i=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(t.shape===0)i=a=Math.min(zi(e,r),zi(e,r-s),zi(e-n,r),zi(e-n,r-s));else if(t.shape===1){var A=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(e),Math.abs(e-n)),l=Cx(n,s,e,r,!0),c=l[0],u=l[1];i=zi(c-e,(u-r)/A),a=A*i}break;case 1:t.shape===0?i=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(t.shape===0)i=a=Math.max(zi(e,r),zi(e,r-s),zi(e-n,r),zi(e-n,r-s));else if(t.shape===1){var A=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(e),Math.abs(e-n)),h=Cx(n,s,e,r,!1),c=h[0],u=h[1];i=zi(c-e,(u-r)/A),a=A*i}break}return Array.isArray(t.size)&&(i=xr(t.size[0],n),a=t.size.length===2?xr(t.size[1],s):i),[i,a]},rO=function(t,e){var r=ki(180),n=[];return Ca(e).forEach(function(s,i){if(i===0){var a=s[0];if(a.type===20&&a.value==="to"){r=FE(s);return}else if(NE(a)){r=Sg.parse(t,a);return}}var A=Eg(t,s);n.push(A)}),{angle:r,stops:n,type:1}},kf=function(t,e){var r=ki(180),n=[];return Ca(e).forEach(function(s,i){if(i===0){var a=s[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=FE(s);return}else if(NE(a)){r=(Sg.parse(t,a)+ki(270))%ki(360);return}}var A=Eg(t,s);n.push(A)}),{angle:r,stops:n,type:1}},nO=function(t,e){var r=ki(180),n=[],s=1,i=0,a=3,A=[];return Ca(e).forEach(function(l,c){var u=l[0];if(c===0){if(ur(u)&&u.value==="linear"){s=1;return}else if(ur(u)&&u.value==="radial"){s=2;return}}if(u.type===18){if(u.name==="from"){var h=dA.parse(t,u.values[0]);n.push({stop:$n,color:h})}else if(u.name==="to"){var h=dA.parse(t,u.values[0]);n.push({stop:Yo,color:h})}else if(u.name==="color-stop"){var p=u.values.filter(Rc);if(p.length===2){var h=dA.parse(t,p[1]),d=p[0];Yc(d)&&n.push({stop:{type:16,number:d.number*100,flags:d.flags},color:h})}}}}),s===1?{angle:(r+ki(180))%ki(360),stops:n,type:s}:{size:a,shape:i,stops:n,position:A,type:s}},UE="closest-side",jE="farthest-side",IE="closest-corner",LE="farthest-corner",QE="circle",DE="ellipse",TE="cover",PE="contain",sO=function(t,e){var r=0,n=3,s=[],i=[];return Ca(e).forEach(function(a,A){var l=!0;if(A===0){var c=!1;l=a.reduce(function(h,p){if(c)if(ur(p))switch(p.value){case"center":return i.push(Kw),h;case"top":case"left":return i.push($n),h;case"right":case"bottom":return i.push(Yo),h}else(hn(p)||mA(p))&&i.push(p);else if(ur(p))switch(p.value){case QE:return r=0,!1;case DE:return r=1,!1;case"at":return c=!0,!1;case UE:return n=0,!1;case TE:case jE:return n=1,!1;case PE:case IE:return n=2,!1;case LE:return n=3,!1}else if(mA(p)||hn(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return h},l)}if(l){var u=Eg(t,a);s.push(u)}}),{size:n,shape:r,stops:s,position:i,type:2}},Nf=function(t,e){var r=0,n=3,s=[],i=[];return Ca(e).forEach(function(a,A){var l=!0;if(A===0?l=a.reduce(function(u,h){if(ur(h))switch(h.value){case"center":return i.push(Kw),!1;case"top":case"left":return i.push($n),!1;case"right":case"bottom":return i.push(Yo),!1}else if(hn(h)||mA(h))return i.push(h),!1;return u},l):A===1&&(l=a.reduce(function(u,h){if(ur(h))switch(h.value){case QE:return r=0,!1;case DE:return r=1,!1;case PE:case UE:return n=0,!1;case jE:return n=1,!1;case IE:return n=2,!1;case TE:case LE:return n=3,!1}else if(mA(h)||hn(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return u},l)),l){var c=Eg(t,a);s.push(c)}}),{size:n,shape:r,stops:s,position:i,type:2}},iO=function(t){return t.type===1},aO=function(t){return t.type===2},$w={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=OE[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function oO(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!OE[t.name])}var OE={"linear-gradient":rO,"-moz-linear-gradient":kf,"-ms-linear-gradient":kf,"-o-linear-gradient":kf,"-webkit-linear-gradient":kf,"radial-gradient":sO,"-moz-radial-gradient":Nf,"-ms-radial-gradient":Nf,"-o-radial-gradient":Nf,"-webkit-radial-gradient":Nf,"-webkit-gradient":nO},AO={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return Rc(n)&&oO(n)}).map(function(n){return $w.parse(t,n)})}},lO={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(ur(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},cO={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Ca(e).map(function(r){return r.filter(hn)}).map(_E)}},uO={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Ca(e).map(function(r){return r.filter(ur).map(function(n){return n.value}).join(" ")}).map(dO)}},dO=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},kc;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(kc||(kc={}));var hO={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Ca(e).map(function(r){return r.filter(fO)})}},fO=function(t){return ur(t)||hn(t)},kg=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},pO=kg("top"),gO=kg("right"),mO=kg("bottom"),vO=kg("left"),Ng=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return _E(r.filter(hn))}}},wO=Ng("top-left"),yO=Ng("top-right"),bO=Ng("bottom-right"),BO=Ng("bottom-left"),Fg=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},xO=Fg("top"),_O=Fg("right"),CO=Fg("bottom"),SO=Fg("left"),Ug=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return ah(r)?r.number:0}}},EO=Ug("top"),kO=Ug("right"),NO=Ug("bottom"),FO=Ug("left"),UO={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},jO={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},IO={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(ur).reduce(function(r,n){return r|LO(n.value)},0)}},LO=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},QO={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},DO={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Gp;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Gp||(Gp={}));var TO={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Gp.STRICT;case"normal":default:return Gp.NORMAL}}},PO={name:"line-height",initialValue:"normal",prefix:!1,type:4},Sx=function(t,e){return ur(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:hn(t)?xr(t,e):e},OO={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:$w.parse(t,e)}},RO={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},gv={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},jg=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},HO=jg("top"),MO=jg("right"),zO=jg("bottom"),KO=jg("left"),$O={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(ur).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},VO={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Ig=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},GO=Ig("top"),WO=Ig("right"),qO=Ig("bottom"),JO=Ig("left"),XO={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},YO={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},ZO={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&pv(e[0],"none")?[]:Ca(e).map(function(r){for(var n={color:to.TRANSPARENT,offsetX:$n,offsetY:$n,blur:$n},s=0,i=0;i<r.length;i++){var a=r[i];mA(a)?(s===0?n.offsetX=a:s===1?n.offsetY=a:n.blur=a,s++):n.color=dA.parse(t,a)}return n})}},eR={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},tR={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=sR[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},rR=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},nR=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=e[0],n=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],A=e[13];return e[14],e[15],e.length===16?[r,n,s,i,a,A]:null},sR={matrix:rR,matrix3d:nR},Ex={type:16,number:50,flags:ih},iR=[Ex,Ex],aR={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(hn);return r.length!==2?iR:[r[0],r[1]]}},oR={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},cd;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(cd||(cd={}));var AR={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return cd.BREAK_ALL;case"keep-all":return cd.KEEP_ALL;case"normal":default:return cd.NORMAL}}},lR={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Yc(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},RE={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},cR={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Yc(e)?e.number:1}},uR={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dR={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(ur).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},hR={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},fR={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},pR={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Yc(e))return e.number;if(ur(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},gR={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(ur).map(function(r){return r.value})}},mR={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Cn=function(t,e){return(t&e)!==0},vR={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},wR={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=e.filter(xE),i=0;i<s.length;i++){var a=s[i],A=s[i+1];if(a.type===20){var l=A&&Yc(A)?A.number:1;n.push({counter:a.value,increment:l})}}return n}},yR={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(xE),s=0;s<n.length;s++){var i=n[s],a=n[s+1];if(ur(i)&&i.value!=="none"){var A=a&&Yc(a)?a.number:0;r.push({counter:i.value,reset:A})}}return r}},bR={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(ah).map(function(r){return RE.parse(t,r)})}},BR={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],s=e.filter(WP);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var a=s[i].value,A=s[i+1].value;n.push({open:a,close:A})}return n}},kx=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},xR={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&pv(e[0],"none")?[]:Ca(e).map(function(r){for(var n={color:255,offsetX:$n,offsetY:$n,blur:$n,spread:$n,inset:!1},s=0,i=0;i<r.length;i++){var a=r[i];pv(a,"inset")?n.inset=!0:mA(a)?(s===0?n.offsetX=a:s===1?n.offsetY=a:s===2?n.blur=a:n.spread=a,s++):n.color=dA.parse(t,a)}return n})}},_R={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(ur).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},CR={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},SR={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return ah(e)?e.number:0}},ER=function(){function t(e,r){var n,s;this.animationDuration=ut(e,bR,r.animationDuration),this.backgroundClip=ut(e,XP,r.backgroundClip),this.backgroundColor=ut(e,YP,r.backgroundColor),this.backgroundImage=ut(e,AO,r.backgroundImage),this.backgroundOrigin=ut(e,lO,r.backgroundOrigin),this.backgroundPosition=ut(e,cO,r.backgroundPosition),this.backgroundRepeat=ut(e,uO,r.backgroundRepeat),this.backgroundSize=ut(e,hO,r.backgroundSize),this.borderTopColor=ut(e,pO,r.borderTopColor),this.borderRightColor=ut(e,gO,r.borderRightColor),this.borderBottomColor=ut(e,mO,r.borderBottomColor),this.borderLeftColor=ut(e,vO,r.borderLeftColor),this.borderTopLeftRadius=ut(e,wO,r.borderTopLeftRadius),this.borderTopRightRadius=ut(e,yO,r.borderTopRightRadius),this.borderBottomRightRadius=ut(e,bO,r.borderBottomRightRadius),this.borderBottomLeftRadius=ut(e,BO,r.borderBottomLeftRadius),this.borderTopStyle=ut(e,xO,r.borderTopStyle),this.borderRightStyle=ut(e,_O,r.borderRightStyle),this.borderBottomStyle=ut(e,CO,r.borderBottomStyle),this.borderLeftStyle=ut(e,SO,r.borderLeftStyle),this.borderTopWidth=ut(e,EO,r.borderTopWidth),this.borderRightWidth=ut(e,kO,r.borderRightWidth),this.borderBottomWidth=ut(e,NO,r.borderBottomWidth),this.borderLeftWidth=ut(e,FO,r.borderLeftWidth),this.boxShadow=ut(e,xR,r.boxShadow),this.color=ut(e,UO,r.color),this.direction=ut(e,jO,r.direction),this.display=ut(e,IO,r.display),this.float=ut(e,QO,r.cssFloat),this.fontFamily=ut(e,hR,r.fontFamily),this.fontSize=ut(e,fR,r.fontSize),this.fontStyle=ut(e,mR,r.fontStyle),this.fontVariant=ut(e,gR,r.fontVariant),this.fontWeight=ut(e,pR,r.fontWeight),this.letterSpacing=ut(e,DO,r.letterSpacing),this.lineBreak=ut(e,TO,r.lineBreak),this.lineHeight=ut(e,PO,r.lineHeight),this.listStyleImage=ut(e,OO,r.listStyleImage),this.listStylePosition=ut(e,RO,r.listStylePosition),this.listStyleType=ut(e,gv,r.listStyleType),this.marginTop=ut(e,HO,r.marginTop),this.marginRight=ut(e,MO,r.marginRight),this.marginBottom=ut(e,zO,r.marginBottom),this.marginLeft=ut(e,KO,r.marginLeft),this.opacity=ut(e,cR,r.opacity);var i=ut(e,$O,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=ut(e,VO,r.overflowWrap),this.paddingTop=ut(e,GO,r.paddingTop),this.paddingRight=ut(e,WO,r.paddingRight),this.paddingBottom=ut(e,qO,r.paddingBottom),this.paddingLeft=ut(e,JO,r.paddingLeft),this.paintOrder=ut(e,_R,r.paintOrder),this.position=ut(e,YO,r.position),this.textAlign=ut(e,XO,r.textAlign),this.textDecorationColor=ut(e,uR,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=ut(e,dR,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=ut(e,ZO,r.textShadow),this.textTransform=ut(e,eR,r.textTransform),this.transform=ut(e,tR,r.transform),this.transformOrigin=ut(e,aR,r.transformOrigin),this.visibility=ut(e,oR,r.visibility),this.webkitTextStrokeColor=ut(e,CR,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=ut(e,SR,r.webkitTextStrokeWidth),this.wordBreak=ut(e,AR,r.wordBreak),this.zIndex=ut(e,lR,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return hA(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Cn(this.display,4)||Cn(this.display,33554432)||Cn(this.display,268435456)||Cn(this.display,536870912)||Cn(this.display,67108864)||Cn(this.display,134217728)},t}(),kR=function(){function t(e,r){this.content=ut(e,vR,r.content),this.quotes=ut(e,BR,r.quotes)}return t}(),Nx=function(){function t(e,r){this.counterIncrement=ut(e,wR,r.counterIncrement),this.counterReset=ut(e,yR,r.counterReset)}return t}(),ut=function(t,e,r){var n=new bE,s=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(s);var i=new BE(n.read());switch(e.type){case 2:var a=i.parseComponentValue();return e.parse(t,ur(a)?a.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return Sg.parse(t,i.parseComponentValue());case"color":return dA.parse(t,i.parseComponentValue());case"image":return $w.parse(t,i.parseComponentValue());case"length":var A=i.parseComponentValue();return mA(A)?A:$n;case"length-percentage":var l=i.parseComponentValue();return hn(l)?l:$n;case"time":return RE.parse(t,i.parseComponentValue())}break}},NR="data-html2canvas-debug",FR=function(t){var e=t.getAttribute(NR);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},mv=function(t,e){var r=FR(t);return r===1||e===r},Sa=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,mv(r,3))debugger;this.styles=new ER(e,window.getComputedStyle(r,null)),yv(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=_g(this.context,r),mv(r,4)&&(this.flags|=16)}return t}(),UR="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Fx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ff=0;Ff<Fx.length;Ff++)zu[Fx.charCodeAt(Ff)]=Ff;var jR=function(t){var e=t.length*.75,r=t.length,n,s=0,i,a,A,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=zu[t.charCodeAt(n)],a=zu[t.charCodeAt(n+1)],A=zu[t.charCodeAt(n+2)],l=zu[t.charCodeAt(n+3)],u[s++]=i<<2|a>>4,u[s++]=(a&15)<<4|A>>2,u[s++]=(A&3)<<6|l&63;return c},IR=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},LR=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},il=5,Vw=6+5,f0=2,QR=Vw-il,HE=65536>>il,DR=1<<il,p0=DR-1,TR=1024>>il,PR=HE+TR,OR=PR,RR=32,HR=OR+RR,MR=65536>>Vw,zR=1<<QR,KR=zR-1,Ux=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},$R=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},VR=function(t,e){var r=jR(t),n=Array.isArray(r)?LR(r):new Uint32Array(r),s=Array.isArray(r)?IR(r):new Uint16Array(r),i=24,a=Ux(s,i/2,n[4]/2),A=n[5]===2?Ux(s,(i+n[4])/2):$R(n,Math.ceil((i+n[4])/4));return new GR(n[0],n[1],n[2],n[3],a,A)},GR=function(){function t(e,r,n,s,i,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>il],r=(r<<f0)+(e&p0),this.data[r];if(e<=65535)return r=this.index[HE+(e-55296>>il)],r=(r<<f0)+(e&p0),this.data[r];if(e<this.highStart)return r=HR-MR+(e>>Vw),r=this.index[r],r+=e>>il&KR,r=this.index[r],r=(r<<f0)+(e&p0),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),jx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",WR=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Uf=0;Uf<jx.length;Uf++)WR[jx.charCodeAt(Uf)]=Uf;var qR=1,g0=2,m0=3,Ix=4,Lx=5,JR=7,Qx=8,v0=9,w0=10,Dx=11,Tx=12,Px=13,Ox=14,y0=15,XR=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},YR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var a=t[s];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},ZR=VR(UR),bi="",b0="",eH=function(t){return ZR.get(t)},tH=function(t,e,r){var n=r-2,s=e[n],i=e[r-1],a=e[r];if(i===g0&&a===m0)return bi;if(i===g0||i===m0||i===Ix||a===g0||a===m0||a===Ix)return b0;if(i===Qx&&[Qx,v0,Dx,Tx].indexOf(a)!==-1||(i===Dx||i===v0)&&(a===v0||a===w0)||(i===Tx||i===w0)&&a===w0||a===Px||a===Lx||a===JR||i===qR)return bi;if(i===Px&&a===Ox){for(;s===Lx;)s=e[--n];if(s===Ox)return bi}if(i===y0&&a===y0){for(var A=0;s===y0;)A++,s=e[--n];if(A%2===0)return bi}return b0},rH=function(t){var e=XR(t),r=e.length,n=0,s=0,i=e.map(eH);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=bi;n<r&&(a=tH(e,i,++n))===bi;);if(a!==bi||n===r){var A=YR.apply(null,e.slice(s,n));return s=n,{value:A,done:!1}}return{done:!0,value:null}}}},nH=function(t){for(var e=rH(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},sH=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(n),i===e)return!0}}return!1},iH=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,s=Cg(n.data).map(function(l){return tn(l)}),i=0,a={},A=s.every(function(l,c){r.setStart(n,i),r.setEnd(n,i+l.length);var u=r.getBoundingClientRect();i+=l.length;var h=u.x>a.x||u.y>a.y;return a=u,c===0?!0:h});return t.body.removeChild(e),A},aH=function(){return typeof new Image().crossOrigin<"u"},oH=function(){return typeof new XMLHttpRequest().responseType=="string"},AH=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},Rx=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},lH=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,i=e.toDataURL();s.src=i;var a=vv(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),Hx(a).then(function(A){n.drawImage(A,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var c=t.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=r+"px",Rx(l)?Hx(vv(r,r,0,0,c)):Promise.reject(!1)}).then(function(A){return n.drawImage(A,0,0),Rx(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},vv=function(t,e,r,n,s){var i="http://www.w3.org/2000/svg",a=document.createElementNS(i,"svg"),A=document.createElementNS(i,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),A.setAttributeNS(null,"width","100%"),A.setAttributeNS(null,"height","100%"),A.setAttributeNS(null,"x",r.toString()),A.setAttributeNS(null,"y",n.toString()),A.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(A),A.appendChild(s),a},Hx=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Kn={get SUPPORT_RANGE_BOUNDS(){var t=sH(document);return Object.defineProperty(Kn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Kn.SUPPORT_RANGE_BOUNDS&&iH(document);return Object.defineProperty(Kn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=AH(document);return Object.defineProperty(Kn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?lH(document):Promise.resolve(!1);return Object.defineProperty(Kn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=aH();return Object.defineProperty(Kn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=oH();return Object.defineProperty(Kn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Kn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Kn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},ud=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),cH=function(t,e,r,n){var s=hH(e,r),i=[],a=0;return s.forEach(function(A){if(r.textDecorationLine.length||A.trim().length>0)if(Kn.SUPPORT_RANGE_BOUNDS){var l=Mx(n,a,A.length).getClientRects();if(l.length>1){var c=Gw(A),u=0;c.forEach(function(p){i.push(new ud(p,ao.fromDOMRectList(t,Mx(n,u+a,p.length).getClientRects()))),u+=p.length})}else i.push(new ud(A,ao.fromDOMRectList(t,l)))}else{var h=n.splitText(A.length);i.push(new ud(A,uH(t,n))),n=h}else Kn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(A.length));a+=A.length}),i},uH=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(n,e);var i=_g(t,n);return n.firstChild&&s.replaceChild(n.firstChild,n),i}}return ao.EMPTY},Mx=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(t,e),s.setEnd(t,e+r),s},Gw=function(t){if(Kn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return nH(t)},dH=function(t,e){if(Kn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return pH(t,e)},hH=function(t,e){return e.letterSpacing!==0?Gw(t):dH(t,e)},fH=[32,160,4961,65792,65793,4153,4241],pH=function(t,e){for(var r=MT(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],s,i=function(){if(s.value){var a=s.value.slice(),A=Cg(a),l="";A.forEach(function(c){fH.indexOf(c)===-1?l+=tn(c):(l.length&&n.push(l),n.push(tn(c)),l="")}),l.length&&n.push(l)}};!(s=r.next()).done;)i();return n},gH=function(){function t(e,r,n){this.text=mH(r.data,n.textTransform),this.textBounds=cH(e,this.text,n,r)}return t}(),mH=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(vH,wH);case 2:return t.toUpperCase();default:return t}},vH=/(^|\s|:|-|\(|\))([a-z])/g,wH=function(t,e,r){return t.length>0?e+r.toUpperCase():t},ME=function(t){ea(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return e}(Sa),zE=function(t){ea(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return e}(Sa),KE=function(t){ea(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=new XMLSerializer,a=_g(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(Sa),$E=function(t){ea(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(Sa),wv=function(t){ea(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return e}(Sa),yH=[{type:15,flags:0,unit:"px",number:3}],bH=[{type:16,flags:0,number:50}],BH=function(t){return t.width>t.height?new ao(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new ao(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},xH=function(t){var e=t.type===_H?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},Wp="checkbox",qp="radio",_H="password",zx=707406591,Ww=function(t){ea(e,t);function e(r,n){var s=t.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=xH(n),(s.type===Wp||s.type===qp)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=BH(s.bounds)),s.type){case Wp:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=yH;break;case qp:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=bH;break}return s}return e}(Sa),VE=function(t){ea(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(Sa),GE=function(t){ea(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(Sa),WE=function(t){ea(e,t);function e(r,n){var s=t.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=JE(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?ld(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):to.TRANSPARENT,a=n.contentWindow.document.body?ld(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):to.TRANSPARENT;s.backgroundColor=hA(i)?hA(a)?s.styles.backgroundColor:a:i}}catch{}return s}return e}(Sa),CH=["OL","UL","MENU"],ip=function(t,e,r,n){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,XE(s)&&s.data.trim().length>0)r.textNodes.push(new gH(t,s,r.styles));else if(pc(s))if(tk(s)&&s.assignedNodes)s.assignedNodes().forEach(function(A){return ip(t,A,r,n)});else{var a=qE(t,s);a.styles.isVisible()&&(SH(s,a,n)?a.flags|=4:EH(a.styles)&&(a.flags|=2),CH.indexOf(s.tagName)!==-1&&(a.flags|=8),r.elements.push(a),s.slot,s.shadowRoot?ip(t,s.shadowRoot,a,n):!Jp(s)&&!YE(s)&&!Xp(s)&&ip(t,s,a,n))}},qE=function(t,e){return bv(e)?new ME(t,e):ZE(e)?new zE(t,e):YE(e)?new KE(t,e):kH(e)?new $E(t,e):NH(e)?new wv(t,e):FH(e)?new Ww(t,e):Xp(e)?new VE(t,e):Jp(e)?new GE(t,e):ek(e)?new WE(t,e):new Sa(t,e)},JE=function(t,e){var r=qE(t,e);return r.flags|=4,ip(t,e,r,r),r},SH=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||qw(t)&&r.styles.isTransparent()},EH=function(t){return t.isPositioned()||t.isFloating()},XE=function(t){return t.nodeType===Node.TEXT_NODE},pc=function(t){return t.nodeType===Node.ELEMENT_NODE},yv=function(t){return pc(t)&&typeof t.style<"u"&&!ap(t)},ap=function(t){return typeof t.className=="object"},kH=function(t){return t.tagName==="LI"},NH=function(t){return t.tagName==="OL"},FH=function(t){return t.tagName==="INPUT"},UH=function(t){return t.tagName==="HTML"},YE=function(t){return t.tagName==="svg"},qw=function(t){return t.tagName==="BODY"},ZE=function(t){return t.tagName==="CANVAS"},Kx=function(t){return t.tagName==="VIDEO"},bv=function(t){return t.tagName==="IMG"},ek=function(t){return t.tagName==="IFRAME"},$x=function(t){return t.tagName==="STYLE"},jH=function(t){return t.tagName==="SCRIPT"},Jp=function(t){return t.tagName==="TEXTAREA"},Xp=function(t){return t.tagName==="SELECT"},tk=function(t){return t.tagName==="SLOT"},Vx=function(t){return t.tagName.indexOf("-")>0},IH=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,s=e.counterReset,i=!0;n!==null&&n.forEach(function(A){var l=r.counters[A.counter];l&&A.increment!==0&&(i=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=A.increment)});var a=[];return i&&s.forEach(function(A){var l=r.counters[A.counter];a.push(A.counter),l||(l=r.counters[A.counter]=[]),l.push(A.reset)}),a},t}(),Gx={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Wx={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},LH={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},QH={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Gl=function(t,e,r,n,s,i){return t<e||t>r?$d(t,s,i.length>0):n.integers.reduce(function(a,A,l){for(;t>=A;)t-=A,a+=n.values[l];return a},"")+i},rk=function(t,e,r,n){var s="";do r||t--,s=n(t)+s,t/=e;while(t*e>=e);return s},en=function(t,e,r,n,s){var i=r-e+1;return(t<0?"-":"")+(rk(Math.abs(t),i,n,function(a){return tn(Math.floor(a%i)+e)})+s)},TA=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return rk(Math.abs(t),n,!1,function(s){return e[Math.floor(s%n)]})+r},ec=1,Do=2,To=4,Ku=8,Ka=function(t,e,r,n,s,i){if(t<-9999||t>9999)return $d(t,4,s.length>0);var a=Math.abs(t),A=s;if(a===0)return e[0]+A;for(var l=0;a>0&&l<=4;l++){var c=a%10;c===0&&Cn(i,ec)&&A!==""?A=e[c]+A:c>1||c===1&&l===0||c===1&&l===1&&Cn(i,Do)||c===1&&l===1&&Cn(i,To)&&t>100||c===1&&l>1&&Cn(i,Ku)?A=e[c]+(l>0?r[l-1]:"")+A:c===1&&l>0&&(A=r[l-1]+A),a=Math.floor(a/10)}return(t<0?n:"")+A},qx="",Jx="",Xx="",B0="",$d=function(t,e,r){var n=r?". ":"",s=r?"":"",i=r?", ":"",a=r?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var A=en(t,48,57,!0,n);return A.length<4?"0"+A:A;case 4:return TA(t,"",s);case 6:return Gl(t,1,3999,Gx,3,n).toLowerCase();case 7:return Gl(t,1,3999,Gx,3,n);case 8:return en(t,945,969,!1,n);case 9:return en(t,97,122,!1,n);case 10:return en(t,65,90,!1,n);case 11:return en(t,1632,1641,!0,n);case 12:case 49:return Gl(t,1,9999,Wx,3,n);case 35:return Gl(t,1,9999,Wx,3,n).toLowerCase();case 13:return en(t,2534,2543,!0,n);case 14:case 30:return en(t,6112,6121,!0,n);case 15:return TA(t,"",s);case 16:return TA(t,"",s);case 17:case 48:return Ka(t,"",qx,"",s,Do|To|Ku);case 47:return Ka(t,"",Jx,"",s,ec|Do|To|Ku);case 42:return Ka(t,"",qx,"",s,Do|To|Ku);case 41:return Ka(t,"",Jx,"",s,ec|Do|To|Ku);case 26:return Ka(t,"","",Xx,s,0);case 25:return Ka(t,"","",Xx,s,ec|Do|To);case 31:return Ka(t,"","",B0,i,ec|Do|To);case 33:return Ka(t,"","",B0,i,0);case 32:return Ka(t,"","",B0,i,ec|Do|To);case 18:return en(t,2406,2415,!0,n);case 20:return Gl(t,1,19999,QH,3,n);case 21:return en(t,2790,2799,!0,n);case 22:return en(t,2662,2671,!0,n);case 22:return Gl(t,1,10999,LH,3,n);case 23:return TA(t,"");case 24:return TA(t,"");case 27:return en(t,3302,3311,!0,n);case 28:return TA(t,"",s);case 29:return TA(t,"",s);case 34:return en(t,3792,3801,!0,n);case 37:return en(t,6160,6169,!0,n);case 38:return en(t,4160,4169,!0,n);case 39:return en(t,2918,2927,!0,n);case 40:return en(t,1776,1785,!0,n);case 43:return en(t,3046,3055,!0,n);case 44:return en(t,3174,3183,!0,n);case 45:return en(t,3664,3673,!0,n);case 46:return en(t,3872,3881,!0,n);case 3:default:return en(t,48,57,!0,n)}},nk="data-html2canvas-ignore",Yx=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new IH,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,s=DH(e,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,A=s.contentWindow,l=A.document,c=OH(s).then(function(){return ms(n,void 0,void 0,function(){var u,h;return as(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(zH),A&&(A.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(A.scrollY!==r.top||A.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-r.left,A.scrollY-r.top,0,0))),u=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,PH(l)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,h)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(HH(document.doctype)+"<html></html>"),MH(this.referenceElement.ownerDocument,i,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(e){if(mv(e,2))debugger;if(ZE(e))return this.createCanvasClone(e);if(Kx(e))return this.createVideoClone(e);if($x(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return bv(r)&&(bv(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),Vx(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return x0(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,a){return a&&typeof a.cssText=="string"?i+a.cssText:i},""),s=e.cloneNode(!1);return s.textContent=n,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),a=s.getContext("2d");if(a)if(!this.options.allowTaint&&i)a.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var A=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(A){var l=A.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,r,n){(!pc(r)||!jH(r)&&!r.hasAttribute(nk)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!pc(r)||!$x(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(pc(i)&&tk(i)&&typeof i.assignedNodes=="function"){var a=i.assignedNodes();a.length&&a.forEach(function(A){return s.appendChildNode(r,A,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(e,r){if(XE(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&pc(e)&&(yv(e)||ap(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),A=n.getComputedStyle(e,":after");this.referenceElement===e&&yv(s)&&(this.clonedReferenceElement=s),qw(s)&&VH(s);var l=this.counters.parse(new Nx(this.context,i)),c=this.resolvePseudoContent(e,s,a,dd.BEFORE);Vx(e)&&(r=!0),Kx(e)||this.cloneChildNodes(e,s,r),c&&s.insertBefore(c,s.firstChild);var u=this.resolvePseudoContent(e,s,A,dd.AFTER);return u&&s.appendChild(u),this.counters.pop(l),(i&&(this.options.copyStyles||ap(e))&&!ek(e)||r)&&x0(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(Jp(e)||Xp(e))&&(Jp(s)||Xp(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,s){var i=this;if(n){var a=n.content,A=r.ownerDocument;if(!(!A||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new Nx(this.context,n));var l=new kR(this.context,n),c=A.createElement("html2canvaspseudoelement");x0(n,c),l.content.forEach(function(h){if(h.type===0)c.appendChild(A.createTextNode(h.value));else if(h.type===22){var p=A.createElement("img");p.src=h.value,p.style.opacity="1",c.appendChild(p)}else if(h.type===18){if(h.name==="attr"){var d=h.values.filter(ur);d.length&&c.appendChild(A.createTextNode(e.getAttribute(d[0].value)||""))}else if(h.name==="counter"){var w=h.values.filter(Rc),m=w[0],y=w[1];if(m&&ur(m)){var g=i.counters.getCounterValue(m.value),b=y&&ur(y)?gv.parse(i.context,y.value):3;c.appendChild(A.createTextNode($d(g,b,!1)))}}else if(h.name==="counters"){var B=h.values.filter(Rc),m=B[0],C=B[1],y=B[2];if(m&&ur(m)){var N=i.counters.getCounterValues(m.value),L=y&&ur(y)?gv.parse(i.context,y.value):3,Q=C&&C.type===0?C.value:"",P=N.map(function(D){return $d(D,L,!1)}).join(Q);c.appendChild(A.createTextNode(P))}}}else if(h.type===20)switch(h.value){case"open-quote":c.appendChild(A.createTextNode(kx(l.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(A.createTextNode(kx(l.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(A.createTextNode(h.value))}}),c.className=Bv+" "+xv;var u=s===dd.BEFORE?" "+Bv:" "+xv;return ap(r)?r.className.baseValue+=u:r.className+=u,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),dd;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(dd||(dd={}));var DH=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(nk,"true"),t.body.appendChild(r),r},TH=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},PH=function(t){return Promise.all([].slice.call(t.images,0).map(TH))},OH=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},RH=["all","d","content"],x0=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);RH.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},HH=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},MH=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},zH=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},KH=":before",$H=":after",Bv="___html2canvas___pseudoelement_before",xv="___html2canvas___pseudoelement_after",Zx=`{
    content: "" !important;
    display: none !important;
}`,VH=function(t){GH(t,"."+Bv+KH+Zx+`
         .`+xv+$H+Zx)},GH=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},sk=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),WH=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(C0(e)||YH(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return ms(this,void 0,void 0,function(){var r,n,s,i,a=this;return as(this,function(A){switch(A.label){case 0:return r=sk.isSameOrigin(e),n=!_0(e)&&this._options.useCORS===!0&&Kn.SUPPORT_CORS_IMAGES&&!r,s=!_0(e)&&!r&&!C0(e)&&typeof this._options.proxy=="string"&&Kn.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!_0(e)&&!C0(e)&&!s&&!n?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=A.sent(),A.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(ZH(i)||n)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return l(u)},500),a._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,A.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,a){var A=Kn.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(A==="text")i(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(p){return a(p)},!1),h.readAsDataURL(l.response)}else a("Failed to proxy resource "+s+" with status code "+l.status)},l.onerror=a;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+A),A!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=A),r._options.imageTimeout){var u=r._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return a("Timed out ("+u+"ms) proxying "+s)}}l.send()})},t}(),qH=/^data:image\/svg\+xml/i,JH=/^data:image\/.*;base64,/i,XH=/^data:image\/.*/i,YH=function(t){return Kn.SUPPORT_SVG_DRAWING||!e7(t)},_0=function(t){return XH.test(t)},ZH=function(t){return JH.test(t)},C0=function(t){return t.substr(0,4)==="blob"},e7=function(t){return t.substr(-3).toLowerCase()==="svg"||qH.test(t)},lt=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),Wl=function(t,e,r){return new lt(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},jf=function(){function t(e,r,n,s){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=s}return t.prototype.subdivide=function(e,r){var n=Wl(this.start,this.startControl,e),s=Wl(this.startControl,this.endControl,e),i=Wl(this.endControl,this.end,e),a=Wl(n,s,e),A=Wl(s,i,e),l=Wl(a,A,e);return r?new t(this.start,n,a,l):new t(l,A,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Ci=function(t){return t.type===1},t7=function(){function t(e){var r=e.styles,n=e.bounds,s=Mu(r.borderTopLeftRadius,n.width,n.height),i=s[0],a=s[1],A=Mu(r.borderTopRightRadius,n.width,n.height),l=A[0],c=A[1],u=Mu(r.borderBottomRightRadius,n.width,n.height),h=u[0],p=u[1],d=Mu(r.borderBottomLeftRadius,n.width,n.height),w=d[0],m=d[1],y=[];y.push((i+l)/n.width),y.push((w+h)/n.width),y.push((a+m)/n.height),y.push((c+p)/n.height);var g=Math.max.apply(Math,y);g>1&&(i/=g,a/=g,l/=g,c/=g,h/=g,p/=g,w/=g,m/=g);var b=n.width-l,B=n.height-p,C=n.width-h,N=n.height-m,L=r.borderTopWidth,Q=r.borderRightWidth,P=r.borderBottomWidth,k=r.borderLeftWidth,$=xr(r.paddingTop,e.bounds.width),D=xr(r.paddingRight,e.bounds.width),U=xr(r.paddingBottom,e.bounds.width),H=xr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||a>0?Qr(n.left+k/3,n.top+L/3,i-k/3,a-L/3,nr.TOP_LEFT):new lt(n.left+k/3,n.top+L/3),this.topRightBorderDoubleOuterBox=i>0||a>0?Qr(n.left+b,n.top+L/3,l-Q/3,c-L/3,nr.TOP_RIGHT):new lt(n.left+n.width-Q/3,n.top+L/3),this.bottomRightBorderDoubleOuterBox=h>0||p>0?Qr(n.left+C,n.top+B,h-Q/3,p-P/3,nr.BOTTOM_RIGHT):new lt(n.left+n.width-Q/3,n.top+n.height-P/3),this.bottomLeftBorderDoubleOuterBox=w>0||m>0?Qr(n.left+k/3,n.top+N,w-k/3,m-P/3,nr.BOTTOM_LEFT):new lt(n.left+k/3,n.top+n.height-P/3),this.topLeftBorderDoubleInnerBox=i>0||a>0?Qr(n.left+k*2/3,n.top+L*2/3,i-k*2/3,a-L*2/3,nr.TOP_LEFT):new lt(n.left+k*2/3,n.top+L*2/3),this.topRightBorderDoubleInnerBox=i>0||a>0?Qr(n.left+b,n.top+L*2/3,l-Q*2/3,c-L*2/3,nr.TOP_RIGHT):new lt(n.left+n.width-Q*2/3,n.top+L*2/3),this.bottomRightBorderDoubleInnerBox=h>0||p>0?Qr(n.left+C,n.top+B,h-Q*2/3,p-P*2/3,nr.BOTTOM_RIGHT):new lt(n.left+n.width-Q*2/3,n.top+n.height-P*2/3),this.bottomLeftBorderDoubleInnerBox=w>0||m>0?Qr(n.left+k*2/3,n.top+N,w-k*2/3,m-P*2/3,nr.BOTTOM_LEFT):new lt(n.left+k*2/3,n.top+n.height-P*2/3),this.topLeftBorderStroke=i>0||a>0?Qr(n.left+k/2,n.top+L/2,i-k/2,a-L/2,nr.TOP_LEFT):new lt(n.left+k/2,n.top+L/2),this.topRightBorderStroke=i>0||a>0?Qr(n.left+b,n.top+L/2,l-Q/2,c-L/2,nr.TOP_RIGHT):new lt(n.left+n.width-Q/2,n.top+L/2),this.bottomRightBorderStroke=h>0||p>0?Qr(n.left+C,n.top+B,h-Q/2,p-P/2,nr.BOTTOM_RIGHT):new lt(n.left+n.width-Q/2,n.top+n.height-P/2),this.bottomLeftBorderStroke=w>0||m>0?Qr(n.left+k/2,n.top+N,w-k/2,m-P/2,nr.BOTTOM_LEFT):new lt(n.left+k/2,n.top+n.height-P/2),this.topLeftBorderBox=i>0||a>0?Qr(n.left,n.top,i,a,nr.TOP_LEFT):new lt(n.left,n.top),this.topRightBorderBox=l>0||c>0?Qr(n.left+b,n.top,l,c,nr.TOP_RIGHT):new lt(n.left+n.width,n.top),this.bottomRightBorderBox=h>0||p>0?Qr(n.left+C,n.top+B,h,p,nr.BOTTOM_RIGHT):new lt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=w>0||m>0?Qr(n.left,n.top+N,w,m,nr.BOTTOM_LEFT):new lt(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||a>0?Qr(n.left+k,n.top+L,Math.max(0,i-k),Math.max(0,a-L),nr.TOP_LEFT):new lt(n.left+k,n.top+L),this.topRightPaddingBox=l>0||c>0?Qr(n.left+Math.min(b,n.width-Q),n.top+L,b>n.width+Q?0:Math.max(0,l-Q),Math.max(0,c-L),nr.TOP_RIGHT):new lt(n.left+n.width-Q,n.top+L),this.bottomRightPaddingBox=h>0||p>0?Qr(n.left+Math.min(C,n.width-k),n.top+Math.min(B,n.height-P),Math.max(0,h-Q),Math.max(0,p-P),nr.BOTTOM_RIGHT):new lt(n.left+n.width-Q,n.top+n.height-P),this.bottomLeftPaddingBox=w>0||m>0?Qr(n.left+k,n.top+Math.min(N,n.height-P),Math.max(0,w-k),Math.max(0,m-P),nr.BOTTOM_LEFT):new lt(n.left+k,n.top+n.height-P),this.topLeftContentBox=i>0||a>0?Qr(n.left+k+H,n.top+L+$,Math.max(0,i-(k+H)),Math.max(0,a-(L+$)),nr.TOP_LEFT):new lt(n.left+k+H,n.top+L+$),this.topRightContentBox=l>0||c>0?Qr(n.left+Math.min(b,n.width+k+H),n.top+L+$,b>n.width+k+H?0:l-k+H,c-(L+$),nr.TOP_RIGHT):new lt(n.left+n.width-(Q+D),n.top+L+$),this.bottomRightContentBox=h>0||p>0?Qr(n.left+Math.min(C,n.width-(k+H)),n.top+Math.min(B,n.height+L+$),Math.max(0,h-(Q+D)),p-(P+U),nr.BOTTOM_RIGHT):new lt(n.left+n.width-(Q+D),n.top+n.height-(P+U)),this.bottomLeftContentBox=w>0||m>0?Qr(n.left+k+H,n.top+N,Math.max(0,w-(k+H)),m-(P+U),nr.BOTTOM_LEFT):new lt(n.left+k+H,n.top+n.height-(P+U))}return t}(),nr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(nr||(nr={}));var Qr=function(t,e,r,n,s){var i=4*((Math.sqrt(2)-1)/3),a=r*i,A=n*i,l=t+r,c=e+n;switch(s){case nr.TOP_LEFT:return new jf(new lt(t,c),new lt(t,c-A),new lt(l-a,e),new lt(l,e));case nr.TOP_RIGHT:return new jf(new lt(t,e),new lt(t+a,e),new lt(l,c-A),new lt(l,c));case nr.BOTTOM_RIGHT:return new jf(new lt(l,e),new lt(l,e+A),new lt(t+a,c),new lt(t,c));case nr.BOTTOM_LEFT:default:return new jf(new lt(l,c),new lt(l-a,c),new lt(t,e+A),new lt(t,e))}},Yp=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},r7=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Zp=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},n7=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),If=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),s7=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),i7=function(t){return t.type===0},ik=function(t){return t.type===1},a7=function(t){return t.type===2},e5=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},o7=function(t,e,r,n,s){return t.map(function(i,a){switch(a){case 0:return i.add(e,r);case 1:return i.add(e+n,r);case 2:return i.add(e+n,r+s);case 3:return i.add(e,r+s)}return i})},ak=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),ok=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new t7(this.container),this.container.styles.opacity<1&&this.effects.push(new s7(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new n7(n,s,i))}if(this.container.styles.overflowX!==0){var a=Yp(this.curves),A=Zp(this.curves);e5(a,A)?this.effects.push(new If(a,6)):(this.effects.push(new If(a,2)),this.effects.push(new If(A,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var i=n.effects.filter(function(l){return!ik(l)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=Yp(n.curves),A=Zp(n.curves);e5(a,A)||s.unshift(new If(A,6))}}else s.unshift.apply(s,i);n=n.parent}return s.filter(function(l){return Cn(l.target,e)})},t}(),_v=function(t,e,r,n){t.container.elements.forEach(function(s){var i=Cn(s.flags,4),a=Cn(s.flags,2),A=new ok(s,t);Cn(s.styles.display,2048)&&n.push(A);var l=Cn(s.flags,8)?[]:n;if(i||a){var c=i||s.styles.isPositioned()?r:e,u=new ak(A);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var h=s.styles.zIndex.order;if(h<0){var p=0;c.negativeZIndex.some(function(w,m){return h>w.element.container.styles.zIndex.order?(p=m,!1):p>0}),c.negativeZIndex.splice(p,0,u)}else if(h>0){var d=0;c.positiveZIndex.some(function(w,m){return h>=w.element.container.styles.zIndex.order?(d=m+1,!1):d>0}),c.positiveZIndex.splice(d,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else s.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);_v(A,u,i?u:r,l)}else s.styles.isInlineLevel()?e.inlineLevel.push(A):e.nonInlineLevel.push(A),_v(A,e,r,l);Cn(s.flags,8)&&Ak(s,l)})},Ak=function(t,e){for(var r=t instanceof wv?t.start:1,n=t instanceof wv?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof $E&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=$d(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},A7=function(t){var e=new ok(t,null),r=new ak(e),n=[];return _v(e,r,r,n),Ak(e.container,n),r},t5=function(t,e){switch(e){case 0:return Ni(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ni(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ni(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Ni(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},l7=function(t,e){switch(e){case 0:return Ni(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Ni(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Ni(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Ni(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},c7=function(t,e){switch(e){case 0:return Ni(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Ni(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Ni(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Ni(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},u7=function(t,e){switch(e){case 0:return Lf(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Lf(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Lf(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Lf(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Lf=function(t,e){var r=[];return Ci(t)?r.push(t.subdivide(.5,!1)):r.push(t),Ci(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Ni=function(t,e,r,n){var s=[];return Ci(t)?s.push(t.subdivide(.5,!1)):s.push(t),Ci(r)?s.push(r.subdivide(.5,!0)):s.push(r),Ci(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),Ci(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},lk=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},eg=function(t){var e=t.styles,r=t.bounds,n=xr(e.paddingLeft,r.width),s=xr(e.paddingRight,r.width),i=xr(e.paddingTop,r.width),a=xr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+s),-(e.borderTopWidth+e.borderBottomWidth+i+a))},d7=function(t,e){return t===0?e.bounds:t===2?eg(e):lk(e)},h7=function(t,e){return t===0?e.bounds:t===2?eg(e):lk(e)},S0=function(t,e,r){var n=d7(tc(t.styles.backgroundOrigin,e),t),s=h7(tc(t.styles.backgroundClip,e),t),i=f7(tc(t.styles.backgroundSize,e),r,n),a=i[0],A=i[1],l=Mu(tc(t.styles.backgroundPosition,e),n.width-a,n.height-A),c=p7(tc(t.styles.backgroundRepeat,e),l,i,n,s),u=Math.round(n.left+l[0]),h=Math.round(n.top+l[1]);return[c,u,h,a,A]},ql=function(t){return ur(t)&&t.value===kc.AUTO},Qf=function(t){return typeof t=="number"},f7=function(t,e,r){var n=e[0],s=e[1],i=e[2],a=t[0],A=t[1];if(!a)return[0,0];if(hn(a)&&A&&hn(A))return[xr(a,r.width),xr(A,r.height)];var l=Qf(i);if(ur(a)&&(a.value===kc.CONTAIN||a.value===kc.COVER)){if(Qf(i)){var c=r.width/r.height;return c<i!=(a.value===kc.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var u=Qf(n),h=Qf(s),p=u||h;if(ql(a)&&(!A||ql(A))){if(u&&h)return[n,s];if(!l&&!p)return[r.width,r.height];if(p&&l){var d=u?n:s*i,w=h?s:n/i;return[d,w]}var m=u?n:r.width,y=h?s:r.height;return[m,y]}if(l){var g=0,b=0;return hn(a)?g=xr(a,r.width):hn(A)&&(b=xr(A,r.height)),ql(a)?g=b*i:(!A||ql(A))&&(b=g/i),[g,b]}var B=null,C=null;if(hn(a)?B=xr(a,r.width):A&&hn(A)&&(C=xr(A,r.height)),B!==null&&(!A||ql(A))&&(C=u&&h?B/n*s:r.height),C!==null&&ql(a)&&(B=u&&h?C/s*n:r.width),B!==null&&C!==null)return[B,C];throw new Error("Unable to calculate background-size for element")},tc=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},p7=function(t,e,r,n,s){var i=e[0],a=e[1],A=r[0],l=r[1];switch(t){case 2:return[new lt(Math.round(n.left),Math.round(n.top+a)),new lt(Math.round(n.left+n.width),Math.round(n.top+a)),new lt(Math.round(n.left+n.width),Math.round(l+n.top+a)),new lt(Math.round(n.left),Math.round(l+n.top+a))];case 3:return[new lt(Math.round(n.left+i),Math.round(n.top)),new lt(Math.round(n.left+i+A),Math.round(n.top)),new lt(Math.round(n.left+i+A),Math.round(n.height+n.top)),new lt(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new lt(Math.round(n.left+i),Math.round(n.top+a)),new lt(Math.round(n.left+i+A),Math.round(n.top+a)),new lt(Math.round(n.left+i+A),Math.round(n.top+a+l)),new lt(Math.round(n.left+i),Math.round(n.top+a+l))];default:return[new lt(Math.round(s.left),Math.round(s.top)),new lt(Math.round(s.left+s.width),Math.round(s.top)),new lt(Math.round(s.left+s.width),Math.round(s.height+s.top)),new lt(Math.round(s.left),Math.round(s.height+s.top))]}},g7="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r5="Hidden Text",m7=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),s.src=g7,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(r5)),n.appendChild(i),n.appendChild(s);var A=s.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(r5)),n.style.lineHeight="normal",s.style.verticalAlign="super";var l=s.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:A,middle:l}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),ck=function(){function t(e,r){this.context=e,this.options=r}return t}(),v7=1e4,w7=function(t){ea(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new m7(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},e.prototype.applyEffect=function(r){this.ctx.save(),a7(r)&&(this.ctx.globalAlpha=r.opacity),i7(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),ik(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return ms(this,void 0,void 0,function(){var n;return as(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return ms(this,void 0,void 0,function(){return as(this,function(n){switch(n.label){case 0:if(Cn(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,s){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var a=Gw(r.text);a.reduce(function(A,l){return i.ctx.fillText(l,A,r.bounds.top+s),A+i.ctx.measureText(l).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),s=_7(r.fontFamily).join(", "),i=ah(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(r,n){return ms(this,void 0,void 0,function(){var s,i,a,A,l,c,u,h,p=this;return as(this,function(d){return s=this.createFontStyle(n),i=s[0],a=s[1],A=s[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,A),c=l.baseline,u=l.middle,h=n.paintOrder,r.textBounds.forEach(function(w){h.forEach(function(m){switch(m){case 0:p.ctx.fillStyle=kn(n.color),p.renderTextWithLetterSpacing(w,n.letterSpacing,c);var y=n.textShadow;y.length&&w.text.trim().length&&(y.slice(0).reverse().forEach(function(g){p.ctx.shadowColor=kn(g.color),p.ctx.shadowOffsetX=g.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=g.offsetY.number*p.options.scale,p.ctx.shadowBlur=g.blur.number,p.renderTextWithLetterSpacing(w,n.letterSpacing,c)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),n.textDecorationLine.length&&(p.ctx.fillStyle=kn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(g){switch(g){case 1:p.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top+c),w.bounds.width,1);break;case 2:p.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top),w.bounds.width,1);break;case 3:p.ctx.fillRect(w.bounds.left,Math.ceil(w.bounds.top+u),w.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&w.text.trim().length&&(p.ctx.strokeStyle=kn(n.webkitTextStrokeColor),p.ctx.lineWidth=n.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(w.text,w.bounds.left,w.bounds.top+c)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=eg(r),a=Zp(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return ms(this,void 0,void 0,function(){var n,s,i,a,A,l,b,b,c,u,h,p,C,d,w,N,m,y,g,b,B,C,N;return as(this,function(L){switch(L.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,i=n.styles,a=0,A=n.textNodes,L.label=1;case 1:return a<A.length?(l=A[a],[4,this.renderTextNode(l,i)]):[3,4];case 2:L.sent(),L.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof ME))return[3,8];L.label=5;case 5:return L.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return b=L.sent(),this.renderReplacedElement(n,s,b),[3,8];case 7:return L.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof zE&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof KE))return[3,12];L.label=9;case 9:return L.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return b=L.sent(),this.renderReplacedElement(n,s,b),[3,12];case 11:return L.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof WE&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:u=L.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),L.label=14;case 14:if(n instanceof Ww&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===Wp?n.checked&&(this.ctx.save(),this.path([new lt(n.bounds.left+h*.39363,n.bounds.top+h*.79),new lt(n.bounds.left+h*.16,n.bounds.top+h*.5549),new lt(n.bounds.left+h*.27347,n.bounds.top+h*.44071),new lt(n.bounds.left+h*.39694,n.bounds.top+h*.5649),new lt(n.bounds.left+h*.72983,n.bounds.top+h*.23),new lt(n.bounds.left+h*.84,n.bounds.top+h*.34085),new lt(n.bounds.left+h*.39363,n.bounds.top+h*.79)]),this.ctx.fillStyle=kn(zx),this.ctx.fill(),this.ctx.restore()):n.type===qp&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=kn(zx),this.ctx.fill(),this.ctx.restore())),y7(n)&&n.value.length){switch(p=this.createFontStyle(i),C=p[0],d=p[1],w=this.fontMetrics.getMetrics(C,d).baseline,this.ctx.font=C,this.ctx.fillStyle=kn(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=B7(n.styles.textAlign),N=eg(n),m=0,n.styles.textAlign){case 1:m+=N.width/2;break;case 2:m+=N.width;break}y=N.add(m,0,0,-N.height/2+1),this.ctx.save(),this.path([new lt(N.left,N.top),new lt(N.left+N.width,N.top),new lt(N.left+N.width,N.top+N.height),new lt(N.left,N.top+N.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ud(n.value,y),i.letterSpacing,w),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Cn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(g=n.styles.listStyleImage,g.type!==0)return[3,18];b=void 0,B=g.url,L.label=15;case 15:return L.trys.push([15,17,,18]),[4,this.context.cache.match(B)];case 16:return b=L.sent(),this.ctx.drawImage(b,n.bounds.left-(b.width+10),n.bounds.top),[3,18];case 17:return L.sent(),this.context.logger.error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(C=this.createFontStyle(i)[0],this.ctx.font=C,this.ctx.fillStyle=kn(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",N=new ao(n.bounds.left,n.bounds.top+xr(n.styles.paddingTop,n.bounds.width),n.bounds.width,Sx(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ud(r.listValue,N),i.letterSpacing,Sx(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),L.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return ms(this,void 0,void 0,function(){var n,s,g,i,a,g,A,l,g,c,u,g,h,p,g,d,w,g,m,y,g;return as(this,function(b){switch(b.label){case 0:if(Cn(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:b.sent(),n=0,s=r.negativeZIndex,b.label=2;case 2:return n<s.length?(g=s[n],[4,this.renderStack(g)]):[3,5];case 3:b.sent(),b.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:b.sent(),i=0,a=r.nonInlineLevel,b.label=7;case 7:return i<a.length?(g=a[i],[4,this.renderNode(g)]):[3,10];case 8:b.sent(),b.label=9;case 9:return i++,[3,7];case 10:A=0,l=r.nonPositionedFloats,b.label=11;case 11:return A<l.length?(g=l[A],[4,this.renderStack(g)]):[3,14];case 12:b.sent(),b.label=13;case 13:return A++,[3,11];case 14:c=0,u=r.nonPositionedInlineLevel,b.label=15;case 15:return c<u.length?(g=u[c],[4,this.renderStack(g)]):[3,18];case 16:b.sent(),b.label=17;case 17:return c++,[3,15];case 18:h=0,p=r.inlineLevel,b.label=19;case 19:return h<p.length?(g=p[h],[4,this.renderNode(g)]):[3,22];case 20:b.sent(),b.label=21;case 21:return h++,[3,19];case 22:d=0,w=r.zeroOrAutoZIndexOrTransformedOrOpacity,b.label=23;case 23:return d<w.length?(g=w[d],[4,this.renderStack(g)]):[3,26];case 24:b.sent(),b.label=25;case 25:return d++,[3,23];case 26:m=0,y=r.positiveZIndex,b.label=27;case 27:return m<y.length?(g=y[m],[4,this.renderStack(g)]):[3,30];case 28:b.sent(),b.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(s,i){var a=Ci(s)?s.start:s;i===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),Ci(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(r,n,s,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(r,n,s){var i;if(r.width===n&&r.height===s)return r;var a=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,A=a.createElement("canvas");A.width=Math.max(1,n),A.height=Math.max(1,s);var l=A.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,s),A},e.prototype.renderBackgroundImage=function(r){return ms(this,void 0,void 0,function(){var n,s,i,a,A,l;return as(this,function(c){switch(c.label){case 0:n=r.styles.backgroundImage.length-1,s=function(u){var h,p,d,$,ge,le,H,S,P,w,$,ge,le,H,S,m,y,g,b,B,C,N,L,Q,P,k,$,D,U,H,S,ee,ge,le,ne,se,ye,re,F,V,O,q;return as(this,function(ce){switch(ce.label){case 0:if(u.type!==0)return[3,5];h=void 0,p=u.url,ce.label=1;case 1:return ce.trys.push([1,3,,4]),[4,i.context.cache.match(p)];case 2:return h=ce.sent(),[3,4];case 3:return ce.sent(),i.context.logger.error("Error loading background-image "+p),[3,4];case 4:return h&&(d=S0(r,n,[h.width,h.height,h.width/h.height]),$=d[0],ge=d[1],le=d[2],H=d[3],S=d[4],P=i.ctx.createPattern(i.resizeImage(h,H,S),"repeat"),i.renderRepeat($,P,ge,le)),[3,6];case 5:iO(u)?(w=S0(r,n,[null,null,null]),$=w[0],ge=w[1],le=w[2],H=w[3],S=w[4],m=eO(u.angle,H,S),y=m[0],g=m[1],b=m[2],B=m[3],C=m[4],N=document.createElement("canvas"),N.width=H,N.height=S,L=N.getContext("2d"),Q=L.createLinearGradient(g,B,b,C),_x(u.stops,y).forEach(function(ue){return Q.addColorStop(ue.stop,kn(ue.color))}),L.fillStyle=Q,L.fillRect(0,0,H,S),H>0&&S>0&&(P=i.ctx.createPattern(N,"repeat"),i.renderRepeat($,P,ge,le))):aO(u)&&(k=S0(r,n,[null,null,null]),$=k[0],D=k[1],U=k[2],H=k[3],S=k[4],ee=u.position.length===0?[Kw]:u.position,ge=xr(ee[0],H),le=xr(ee[ee.length-1],S),ne=tO(u,ge,le,H,S),se=ne[0],ye=ne[1],se>0&&ye>0&&(re=i.ctx.createRadialGradient(D+ge,U+le,0,D+ge,U+le,se),_x(u.stops,se*2).forEach(function(ue){return re.addColorStop(ue.stop,kn(ue.color))}),i.path($),i.ctx.fillStyle=re,se!==ye?(F=r.bounds.left+.5*r.bounds.width,V=r.bounds.top+.5*r.bounds.height,O=ye/se,q=1/O,i.ctx.save(),i.ctx.translate(F,V),i.ctx.transform(1,0,0,O,0,0),i.ctx.translate(-F,-V),i.ctx.fillRect(D,q*(U-V)+V,H,S*q),i.ctx.restore()):i.ctx.fill())),ce.label=6;case 6:return n--,[2]}})},i=this,a=0,A=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<A.length?(l=A[a],[5,s(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,s){return ms(this,void 0,void 0,function(){return as(this,function(i){return this.path(t5(s,n)),this.ctx.fillStyle=kn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,s,i){return ms(this,void 0,void 0,function(){var a,A;return as(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,i)]:[3,2];case 1:return l.sent(),[2];case 2:return a=l7(i,s),this.path(a),this.ctx.fillStyle=kn(r),this.ctx.fill(),A=c7(i,s),this.path(A),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return ms(this,void 0,void 0,function(){var n,s,i,a,A,l,c,u,h=this;return as(this,function(p){switch(p.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!hA(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=b7(tc(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),hA(n.backgroundColor)||(this.ctx.fillStyle=kn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(d){h.ctx.save();var w=Yp(r.curves),m=d.inset?0:v7,y=o7(w,-m+(d.inset?1:-1)*d.spread.number,(d.inset?1:-1)*d.spread.number,d.spread.number*(d.inset?-2:2),d.spread.number*(d.inset?-2:2));d.inset?(h.path(w),h.ctx.clip(),h.mask(y)):(h.mask(w),h.ctx.clip(),h.path(y)),h.ctx.shadowOffsetX=d.offsetX.number+m,h.ctx.shadowOffsetY=d.offsetY.number,h.ctx.shadowColor=kn(d.color),h.ctx.shadowBlur=d.blur.number,h.ctx.fillStyle=d.inset?kn(d.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),p.label=2;case 2:A=0,l=0,c=i,p.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!hA(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,A,r.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,A,r.curves,3)];case 6:return p.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,A,r.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,A,r.curves)];case 10:p.sent(),p.label=11;case 11:A++,p.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,s,i,a){return ms(this,void 0,void 0,function(){var A,l,c,u,h,p,d,w,m,y,g,b,B,C,N,L,N,L;return as(this,function(Q){return this.ctx.save(),A=u7(i,s),l=t5(i,s),a===2&&(this.path(l),this.ctx.clip()),Ci(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),Ci(l[1])?(h=l[1].end.x,p=l[1].end.y):(h=l[1].x,p=l[1].y),s===0||s===2?d=Math.abs(c-h):d=Math.abs(u-p),this.ctx.beginPath(),a===3?this.formatPath(A):this.formatPath(l.slice(0,2)),w=n<3?n*3:n*2,m=n<3?n*2:n,a===3&&(w=n,m=n),y=!0,d<=w*2?y=!1:d<=w*2+m?(g=d/(2*w+m),w*=g,m*=g):(b=Math.floor((d+m)/(w+m)),B=(d-b*w)/(b-1),C=(d-(b+1)*w)/b,m=C<=0||Math.abs(m-B)<Math.abs(m-C)?B:C),y&&(a===3?this.ctx.setLineDash([0,w+m]):this.ctx.setLineDash([w,m])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=kn(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Ci(l[0])&&(N=l[3],L=l[0],this.ctx.beginPath(),this.formatPath([new lt(N.end.x,N.end.y),new lt(L.start.x,L.start.y)]),this.ctx.stroke()),Ci(l[1])&&(N=l[1],L=l[2],this.ctx.beginPath(),this.formatPath([new lt(N.end.x,N.end.y),new lt(L.start.x,L.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return ms(this,void 0,void 0,function(){var n;return as(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=kn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=A7(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(ck),y7=function(t){return t instanceof GE||t instanceof VE?!0:t instanceof Ww&&t.type!==qp&&t.type!==Wp},b7=function(t,e){switch(t){case 0:return Yp(e);case 2:return r7(e);case 1:default:return Zp(e)}},B7=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},x7=["-apple-system","system-ui"],_7=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return x7.indexOf(e)===-1}):t},C7=function(t){ea(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return e.prototype.render=function(r){return ms(this,void 0,void 0,function(){var n,s;return as(this,function(i){switch(i.label){case 0:return n=vv(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,S7(n)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=kn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(ck),S7=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},E7=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,hf([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,hf([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,hf([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,hf([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),k7=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new E7({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new WH(this,e)}return t.instanceCount=1,t}(),N7=function(t,e){return e===void 0&&(e={}),F7(t,e)};typeof window<"u"&&sk.setContext(window);var F7=function(t,e){return ms(void 0,void 0,void 0,function(){var r,n,s,i,a,A,l,c,u,h,p,d,w,m,y,g,b,B,C,N,Q,L,Q,P,k,$,D,U,H,S,ee,ge,le,ne,se,ye,re,F,V,O;return as(this,function(q){switch(q.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(P=e.allowTaint)!==null&&P!==void 0?P:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:($=e.useCORS)!==null&&$!==void 0?$:!1},i=nv({logging:(D=e.logging)!==null&&D!==void 0?D:!0,cache:e.cache},s),a={windowWidth:(U=e.windowWidth)!==null&&U!==void 0?U:n.innerWidth,windowHeight:(H=e.windowHeight)!==null&&H!==void 0?H:n.innerHeight,scrollX:(S=e.scrollX)!==null&&S!==void 0?S:n.pageXOffset,scrollY:(ee=e.scrollY)!==null&&ee!==void 0?ee:n.pageYOffset},A=new ao(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new k7(i,A),c=(ge=e.foreignObjectRendering)!==null&&ge!==void 0?ge:!1,u={allowTaint:(le=e.allowTaint)!==null&&le!==void 0?le:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+A.width+"x"+A.height+" scrolled to "+-A.left+","+-A.top),h=new Yx(l,t,u),p=h.clonedReferenceElement,p?[4,h.toIFrame(r,A)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return d=q.sent(),w=qw(p)||UH(p)?oT(p.ownerDocument):_g(l,p),m=w.width,y=w.height,g=w.left,b=w.top,B=U7(l,p,e.backgroundColor),C={canvas:e.canvas,backgroundColor:B,scale:(se=(ne=e.scale)!==null&&ne!==void 0?ne:n.devicePixelRatio)!==null&&se!==void 0?se:1,x:((ye=e.x)!==null&&ye!==void 0?ye:0)+g,y:((re=e.y)!==null&&re!==void 0?re:0)+b,width:(F=e.width)!==null&&F!==void 0?F:Math.ceil(m),height:(V=e.height)!==null&&V!==void 0?V:Math.ceil(y)},c?(l.logger.debug("Document cloned, using foreign object rendering"),Q=new C7(l,C),[4,Q.render(p)]):[3,3];case 2:return N=q.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+g+","+b+" with size "+m+"x"+y+" using computed rendering"),l.logger.debug("Starting DOM parsing"),L=JE(l,p),B===L.styles.backgroundColor&&(L.styles.backgroundColor=to.TRANSPARENT),l.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),Q=new w7(l,C),[4,Q.render(L)];case 4:N=q.sent(),q.label=5;case 5:return(!((O=e.removeContainer)!==null&&O!==void 0)||O)&&(Yx.destroy(d)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,N]}})})},U7=function(t,e,r){var n=e.ownerDocument,s=n.documentElement?ld(t,getComputedStyle(n.documentElement).backgroundColor):to.TRANSPARENT,i=n.body?ld(t,getComputedStyle(n.body).backgroundColor):to.TRANSPARENT,a=typeof r=="string"?ld(t,r):r===null?to.TRANSPARENT:4294967295;return e===n.documentElement?hA(s)?hA(i)?a:i:s:a};const j7=Object.freeze(Object.defineProperty({__proto__:null,default:N7},Symbol.toStringTag,{value:"Module"}));const uk=W.forwardRef((t,e)=>{var Na;const[r,n]=W.useState([]),[s,i]=W.useState(!0),a=W.useRef(null),[A,l]=W.useState("all"),[c,u]=W.useState("all"),[h,p]=W.useState("current"),[d,w]=W.useState(!1);W.useState(null);const[m,y]=W.useState(null),[g,b]=W.useState(!1),[B,C]=W.useState(null),[N,L]=W.useState(!1),[Q,P]=W.useState(null),[k,$]=W.useState(!1),[D,U]=W.useState(""),[H,S]=W.useState(""),[ee,ge]=W.useState("all"),[le,ne]=W.useState(!1),[se,ye]=W.useState(null),[re,F]=W.useState(""),[V,O]=W.useState({expectedDeliveryDate:"",deliveryNotes:"",purchaseOrderNumber:"",trackingNumber:""}),[q,ce]=W.useState(!1),[ue,de]=W.useState([]),[be,Ue]=W.useState({}),[Ae,Se]=W.useState(!1),[fe,x]=W.useState(null),[I,pe]=W.useState(null),[Y,K]=W.useState(!1),[J,xe]=W.useState({submissionDetails:{subteam:"",submitterName:"",submitterEmail:""},materialDetails:{materialName:"",specifications:"",materialLink:"",supplier:"",supplierContact:""},costBreakdown:{unitPrice:"",quantity:"",shippingCost:"",totalCost:""},projectDetails:{purpose:"",urgency:"flexible",neededByDate:""},sponsorshipInfo:{canBeSponsored:!1,sponsorContactName:"",sponsorContactEmail:"",sponsorCompany:""}}),[_e,ve]=W.useState({}),{showError:ke,showConfirm:Ve,showSuccess:Te}=li(),{status:Ge,lastSync:pt,connectionError:Ze,startSaving:rt,finishSaving:At,acknowledgeNewData:et,setDisplayedData:Ft,forceReconnect:z}=Zd(()=>ze.getOrders(),d?1e4:2e3);W.useImperativeHandle(e,()=>({handleSubmitOrder:()=>{w(!0)}}));const me=()=>{const T=ht.currentUser;if(!T)return"Unknown User";const he=T.first_name||"",Qe=T.last_name||"";return`${he} ${Qe}`.trim()||T.email||"Unknown User"},je=(T=new Date)=>{const he=T.getMonth(),Qe=T.getFullYear();return he>=7&&he<=11?{semester:"fall",year:Qe}:he>=0&&he<=4?{semester:"spring",year:Qe}:{semester:"fall",year:Qe}},De=async T=>{var dt,Nt,xt,er,gr,tr,Sr,ct;if(T&&T.preventDefault&&T.preventDefault(),!D||!H){await ke("Please select a start and end date for the download range.","Missing Dates");return}const he=new Date(D),Qe=new Date(H);if(Qe.setHours(23,59,59,999),he>Qe){await ke("Start date must be before the end date.","Invalid Range");return}try{rt();const Mt=(await ze.getOrders()).orders.filter(Dt=>{const ir=new Date(Dt.submissionTimestamp);return ir>=he&&ir<=Qe});if(Mt.length===0){await ke("No orders found in the selected date range.","No Orders Found"),At();return}const ui=new sQ,$t=ui.folder("order-packages"),di={};Mt.forEach(Dt=>{var Cs;const ir=(Cs=Dt.purchaseStatus)==null?void 0:Cs.purchaseGroupId;ir&&(di[ir]||(di[ir]=[]),di[ir].push(Dt))});let Ln=0;const Tr=[],hs=new Set;for(const Dt of Mt)try{const ir=(dt=Dt.purchaseStatus)==null?void 0:dt.purchaseGroupId;if(ee==="all"&&ir){if(!Dt.purchaseStatus.purchaseGroupPrimary||hs.has(ir))continue;hs.add(ir);const mn=di[ir]||[Dt],vr=$t.folder(`order_${Dt.id}`);for(const ln of mn)try{const ra=(await at(ln)).output("blob");vr.file(`order_details_${ln.id}.pdf`,ra),Ln++}catch(Jn){console.warn(`Failed to generate details PDF for order ${ln.id}:`,Jn),Tr.push(`Order ${ln.id}: Could not generate details PDF`)}const Qn=Dt.purchaseStatus.purchaseGroupReceiptFile||((xt=(Nt=Dt.documentation)==null?void 0:Nt.receiptInvoice)==null?void 0:xt.fileName);if(Qn)try{const ln=ze.getFileNameFromStorageUrl(Qn);if(ln){const Jn=await ze.downloadFileFromStorage("order-receipts",ln);vr.file(`receipt_${Dt.id}.pdf`,Jn),Ln++}else Tr.push(`Order ${Dt.id}: Could not extract receipt filename`)}catch(ln){console.warn(`Could not download group receipt for order ${Dt.id}:`,ln),Tr.push(`Order ${Dt.id}: Receipt unavailable - included order details only`)}continue}const Cs=await at(Dt);if(ee==="all"){const mn=(er=Dt.documentation)==null?void 0:er.receiptInvoice;if(mn!=null&&mn.fileName)try{const vr=ze.getFileNameFromStorageUrl(mn.fileName);if(vr){const Qn=await ze.downloadFileFromStorage("order-receipts",vr),ln=Cs.output("blob"),Jn=$t.folder(`order_${Dt.id}`);Jn.file(`order_details_${Dt.id}.pdf`,ln),Jn.file(`receipt_${Dt.id}.pdf`,Qn),Ln+=2}}catch(vr){console.warn(`Could not download receipt for order ${Dt.id}:`,vr);const Qn=Cs.output("blob");$t.file(`order_${Dt.id}_details_only.pdf`,Qn),Ln++,Tr.push(`Order ${Dt.id}: Receipt unavailable - included order details only`)}else{const vr=Cs.output("blob");$t.file(`order_${Dt.id}_details_only.pdf`,vr),Ln++}}else{const mn=(gr=Dt.documentation)==null?void 0:gr.receiptInvoice;if(!(mn!=null&&mn.fileName)){console.warn(`Order ${Dt.id} has no receipt file`);continue}if((tr=Dt.purchaseStatus)!=null&&tr.purchaseGroupId){if(hs.has(Dt.purchaseStatus.purchaseGroupId)){console.log(`Skipping duplicate receipt for purchase group ${Dt.purchaseStatus.purchaseGroupId}`);continue}hs.add(Dt.purchaseStatus.purchaseGroupId)}const vr=ze.getFileNameFromStorageUrl(mn.fileName);if(!vr){Tr.push(`Order ${Dt.id}: Could not extract filename from URL`);continue}const Qn=(Sr=Dt.purchaseStatus)!=null&&Sr.purchaseGroupId?`order_${Dt.purchaseStatus.purchaseGroupId}`:`order_${Dt.id}_${(((ct=Dt.materialDetails)==null?void 0:ct.materialName)||"material").replace(/[^a-z0-9]/gi,"_").toLowerCase().substring(0,50)}`,ln=vr.includes(".")?vr.split(".").pop():"pdf",Jn=`${Qn}.${ln}`,ra=await ze.downloadFileFromStorage("order-receipts",vr);$t.file(Jn,ra),Ln++}}catch(ir){console.error(`Failed to process order ${Dt.id}:`,ir),Tr.push(`Order ${Dt.id}: ${ir.message}`)}if(Ln===0){await ke("No files could be processed. Please check if the orders exist and are accessible.","Download Failed"),At();return}const qn=await ui.generateAsync({type:"blob"}),hi=he.toISOString().split("T")[0],mr=Qe.toISOString().split("T")[0],co=`solarpack-orders_${ee==="all"?"complete-packages":"receipts-only"}_${hi}_to_${mr}.zip`;iQ.saveAs(qn,co);let Qi=`Successfully processed ${Ln} file${Ln!==1?"s":""}`;ee==="all"?Qi+=" (complete order packages with details and receipts)":Qi+=" (receipt files only)",Tr.length>0&&(Qi+=` (${Tr.length} error${Tr.length!==1?"s":""} - check console for details)`,console.warn("Errors during order package download:",Tr)),await Te(Qi),$(!1),U(""),S(""),ge("all"),At()}catch(gn){console.error("Error downloading order packages:",gn),At(),await ke(`Failed to download order packages: ${gn.message}`,"Download Error")}},Xe=async(T,he)=>{if(!T){await ke("No receipt file available to download","Download Error");return}try{const Qe=await fetch(T);if(!Qe.ok)throw new Error("Failed to fetch file");const dt=await Qe.blob(),Nt=window.URL.createObjectURL(dt),xt=document.createElement("a");xt.href=Nt,xt.download=he||T.split("/").pop()||"receipt.pdf",document.body.appendChild(xt),xt.click(),xt.remove(),window.URL.revokeObjectURL(Nt)}catch{try{window.open(T,"_blank")}catch{await ke("Unable to download or open receipt file","Download Error")}}},at=async T=>{var ct,gn,Mt,ui;const he=new kt("p","mm","a4");let Qe=20;he.setFontSize(20),he.setTextColor(220,38,38),he.text("SOLARPACK ORDER DETAILS",105,Qe,{align:"center"}),Qe+=15,he.setFontSize(12),he.setTextColor(0,0,0),he.text(`Order ID: ${T.id}`,20,Qe),he.text(`Submitted: ${new Date(T.submissionTimestamp).toLocaleDateString()}`,150,Qe),Qe+=10,he.setFontSize(14),he.setTextColor(220,38,38),he.text("MATERIAL DETAILS",20,Qe),Qe+=8,he.setFontSize(10),he.setTextColor(0,0,0),he.text(`Material: ${T.materialDetails.materialName}`,20,Qe),Qe+=6,he.text(`Supplier: ${T.materialDetails.supplier||"N/A"}`,20,Qe),Qe+=6,he.text(`Link: ${T.materialDetails.materialLink||"N/A"}`,20,Qe),Qe+=10;const dt=T.materialDetails.specifications||"No specifications provided",Nt=he.splitTextToSize(`Specifications: ${dt}`,170);he.text(Nt,20,Qe),Qe+=Nt.length*5+10,he.setFontSize(14),he.setTextColor(220,38,38),he.text("COST BREAKDOWN",20,Qe),Qe+=8,he.setFontSize(10),he.setTextColor(0,0,0),he.text(`Unit Price: $${(T.costBreakdown.unitPrice||0).toFixed(2)}`,20,Qe),he.text(`Quantity: ${T.costBreakdown.quantity||0}`,100,Qe),Qe+=6,he.text(`Shipping: $${(T.costBreakdown.shippingCost||0).toFixed(2)}`,20,Qe),he.text(`Taxes: $${(T.costBreakdown.taxes||0).toFixed(2)}`,100,Qe),Qe+=6,he.text(`Fees: $${(T.costBreakdown.fees||0).toFixed(2)}`,20,Qe),Qe+=8,he.setFontSize(12),he.setTextColor(220,38,38),he.text(`TOTAL COST: $${(T.costBreakdown.totalCost||0).toFixed(2)}`,20,Qe),Qe+=15,he.setFontSize(14),he.text("PROJECT DETAILS",20,Qe),Qe+=8,he.setFontSize(10),he.setTextColor(0,0,0),he.text(`Subteam: ${T.submissionDetails.subteam||"N/A"}`,20,Qe),he.text(`Urgency: ${T.projectDetails.urgency||"N/A"}`,100,Qe),Qe+=6,he.text(`Submitter: ${T.submissionDetails.submitterName||"N/A"}`,20,Qe),he.text(`Email: ${T.submissionDetails.submitterEmail||"N/A"}`,100,Qe),Qe+=10;const xt=T.projectDetails.purpose||"No purpose provided",er=he.splitTextToSize(`Purpose: ${xt}`,170);he.text(er,20,Qe),Qe+=er.length*5+10,he.setFontSize(14),he.setTextColor(220,38,38),he.text("APPROVAL WORKFLOW",20,Qe),Qe+=8,he.setFontSize(10),he.setTextColor(0,0,0);const gr=((ct=T.approvalWorkflow)==null?void 0:ct.technicalDirectorApproval)||{status:"pending"};if(he.text(`Technical Approval: ${((gn=gr.status)==null?void 0:gn.toUpperCase())||"PENDING"}`,20,Qe),Qe+=6,gr.approvedBy&&(he.text(`Approved by: ${gr.approvedBy}`,30,Qe),Qe+=6),gr.comments){const $t=he.splitTextToSize(`Comments: ${gr.comments}`,160);he.text($t,30,Qe),Qe+=$t.length*5+6}const tr=((Mt=T.approvalWorkflow)==null?void 0:Mt.projectDirectorPurchaseApproval)||{status:"pending"};if(he.text(`Purchase Approval: ${((ui=tr.status)==null?void 0:ui.toUpperCase())||"PENDING"}`,20,Qe),Qe+=6,tr.approvedBy&&(he.text(`Approved by: ${tr.approvedBy}`,30,Qe),Qe+=6),tr.comments){const $t=he.splitTextToSize(`Comments: ${tr.comments}`,160);he.text($t,30,Qe),Qe+=$t.length*5+6}const Sr=T.sponsorshipInfo||{};return(Sr.canBeSponsored||Sr.sponsorshipSearchStatus!=="not_applicable")&&(he.setFontSize(14),he.setTextColor(220,38,38),he.text("SPONSORSHIP INFORMATION",20,Qe),Qe+=8,he.setFontSize(10),he.setTextColor(0,0,0),he.text(`Status: ${Sr.sponsorshipSearchStatus||"N/A"}`,20,Qe),Qe+=6,Sr.sponsorshipSuccessful&&(he.setTextColor(0,128,0),he.text(" OBTAINED THROUGH SPONSORSHIP",20,Qe),he.setTextColor(0,0,0),Qe+=6)),he},tt=(T,he)=>{let Qe,dt;return T==="fall"?(Qe=new Date(he,7,1),dt=new Date(he,11,31,23,59,59)):(Qe=new Date(he,0,1),dt=new Date(he,4,31,23,59,59)),{startDate:Qe,endDate:dt}},Be=()=>{const T=je(),he=[{value:"current",label:`${T.semester.charAt(0).toUpperCase()+T.semester.slice(1)} ${T.year}`}];let Qe,dt;return T.semester==="fall"?(Qe="spring",dt=T.year):(Qe="fall",dt=T.year-1),he.push({value:`${Qe}_${dt}`,label:`${Qe.charAt(0).toUpperCase()+Qe.slice(1)} ${dt}`}),he.push({value:"past_year",label:"Year"}),he};W.useEffect(()=>{Pe()},[]),W.useEffect(()=>{const T=async()=>{!document.hidden&&!s&&(console.log(" Tab visible - refreshing orders"),await new Promise(he=>setTimeout(he,300)),Pe())};return document.addEventListener("visibilitychange",T),()=>document.removeEventListener("visibilitychange",T)},[s]);const Ke=W.useRef(0);W.useEffect(()=>{const T=a.current;if(!T||!d)return;const he=()=>{Ke.current=T.scrollTop};return T.addEventListener("scroll",he),Ke.current>0&&(T.scrollTop=Ke.current),()=>{T.removeEventListener("scroll",he)}},[d,Ge]);const $e=T=>{var dt,Nt;if(!T||!T.approvalWorkflow)return console.warn("Order missing approvalWorkflow, skipping:",T),null;let he={...T};if(he.approvalWorkflow.technicalDirectorApproval||(he.approvalWorkflow.technicalDirectorApproval={status:"pending",approvedBy:null,approvalDate:null,comments:"",denialReason:""}),he.approvalWorkflow.purchaseApproval&&!he.approvalWorkflow.projectDirectorPurchaseApproval?(he.approvalWorkflow.projectDirectorPurchaseApproval={...he.approvalWorkflow.purchaseApproval},delete he.approvalWorkflow.purchaseApproval):he.approvalWorkflow.directorApproval&&!he.approvalWorkflow.technicalDirectorApproval&&(he.approvalWorkflow.technicalDirectorApproval={...he.approvalWorkflow.directorApproval},delete he.approvalWorkflow.directorApproval),!he.approvalWorkflow.projectDirectorPurchaseApproval){const xt=((dt=he.sponsorshipInfo)==null?void 0:dt.sponsorshipSearchStatus)==="successful"||((Nt=he.sponsorshipInfo)==null?void 0:Nt.sponsorshipSuccessful)===!0;he.approvalWorkflow.projectDirectorPurchaseApproval={status:xt?"not_required":"pending",approvedBy:null,approvalDate:null,comments:xt?"Obtained through sponsorship - no purchase needed":"",denialReason:""}}let Qe=he.status;return he.status==="pending_approval"?Qe="pending_technical_approval":he.status==="approved_for_purchase"?Qe="approved":he.status==="pending_purchase_approval"||he.status==="awaiting_sponsorship"?Qe="pending_project_approval":he.status==="in_transit"&&(Qe="shipped"),he.sponsorshipInfo&&!he.sponsorshipInfo.sponsorshipSearchStatus&&(he.sponsorshipInfo.sponsorshipSearchStatus=he.sponsorshipInfo.canBeSponsored?"in_progress":"not_applicable"),he.status=Qe,he},Pe=async()=>{console.log("Loading orders from Supabase..."),i(!0);try{const T=await ze.getOrders();if(console.log("Loaded orders:",T),!T||!T.orders)throw console.error("Invalid data structure received:",T),new Error("Invalid orders data structure");const he=T.orders.map($e).filter(Qe=>Qe!==null);console.log(` Successfully loaded ${he.length} orders from Supabase`),n(he),Ft({...T,orders:he}),et()}catch(T){console.error("Error loading orders:",T),await ke(`Failed to load orders: ${T.message}`,"Load Error"),n([])}finally{i(!1)}},it=async()=>{Ge==="error"&&await z(),await Pe(),et()},nt=async(T,he)=>{var Qe,dt,Nt,xt,er,gr;rt();try{const tr=r.find(Mt=>Mt.id===T);if(!tr)throw new Error("Order not found");const Sr=new Date().toISOString();let ct={...tr,lastUpdated:Sr};if(ct.approvalWorkflow.technicalDirectorApproval||(ct.approvalWorkflow.technicalDirectorApproval={status:"pending",approvedBy:null,approvalDate:null,comments:"",denialReason:""}),ct.approvalWorkflow.projectDirectorPurchaseApproval||(ct.approvalWorkflow.projectDirectorPurchaseApproval={status:"pending",approvedBy:null,approvalDate:null,comments:"",denialReason:""}),he.type==="technical_director_approval"){ct.approvalWorkflow.technicalDirectorApproval={...ct.approvalWorkflow.technicalDirectorApproval,status:he.approved?"approved":"denied",approvedBy:he.approvedBy,approvalDate:Sr,comments:he.comments||"",denialReason:he.denialReason||""};const Mt=he.sponsorshipStatus||"not_applicable";ct.sponsorshipInfo={...ct.sponsorshipInfo,sponsorshipSearchStatus:Mt,sponsorshipResponse:he.sponsorshipNotes||ct.sponsorshipInfo.sponsorshipResponse||"",sponsorshipSuccessful:Mt==="successful",canBeSponsored:Mt!=="not_applicable"},he.approved?Mt==="successful"?(ct.status="approved",ct.approvalWorkflow.projectDirectorPurchaseApproval.status="approved",ct.approvalWorkflow.projectDirectorPurchaseApproval.comments="Material obtained through sponsorship - no purchase needed"):Mt==="failed"||Mt==="not_applicable"?(ct.status="pending_project_approval",ct.approvalWorkflow.projectDirectorPurchaseApproval.status="pending"):(ct.status="pending_project_approval",ct.approvalWorkflow.projectDirectorPurchaseApproval.comments="Awaiting sponsorship search completion"):ct.status="denied"}else he.type==="purchase_approval"?(ct.approvalWorkflow.projectDirectorPurchaseApproval={...ct.approvalWorkflow.projectDirectorPurchaseApproval,status:he.approved?"approved":"denied",approvedBy:he.approvedBy,approvalDate:Sr,comments:he.comments||"",denialReason:he.denialReason||""},ct.status=he.approved?"approved":"denied"):he.type==="sponsorship_status"?(ct.sponsorshipInfo={...ct.sponsorshipInfo,sponsorshipSearchStatus:he.searchStatus},he.searchStatus==="successful"?(ct.approvalWorkflow.projectDirectorPurchaseApproval.status="approved",ct.approvalWorkflow.projectDirectorPurchaseApproval.comments="Obtained through sponsorship - no purchase needed"):he.searchStatus==="failed"||he.searchStatus==="not_applicable"?(ct.approvalWorkflow.projectDirectorPurchaseApproval.status="pending",ct.approvalWorkflow.projectDirectorPurchaseApproval.comments=""):(he.searchStatus==="in_progress"||he.searchStatus==="not_started")&&(ct.approvalWorkflow.projectDirectorPurchaseApproval.status="pending",ct.approvalWorkflow.projectDirectorPurchaseApproval.comments="Awaiting sponsorship search completion",he.searchStatus==="in_progress"&&ct.status==="pending_technical_approval"&&(ct.status="pending_project_approval"))):he.type==="purchase"?(ct.purchaseStatus={...ct.purchaseStatus,purchased:!0,purchaseDate:Sr,purchaseOrderNumber:he.purchaseOrderNumber||"",purchaseGroupId:he.purchaseGroupId||null,purchaseGroupPrimary:he.purchaseGroupPrimary||!1,purchaseGroupReceiptFile:he.purchaseGroupReceiptFile||null,actualCost:he.actualCost||ct.costBreakdown.totalCost,purchasedBy:he.purchasedBy||""},he.expectedDeliveryDate&&(ct.deliveryInfo.expectedArrivalDate=new Date(he.expectedDeliveryDate).toISOString()),he.deliveryNotes&&(ct.deliveryInfo.deliveryNotes=he.deliveryNotes),he.trackingNumber&&(ct.deliveryInfo.trackingNumber=he.trackingNumber),he.receiptInfo&&(ct.documentation=ct.documentation||{},ct.documentation.receiptInvoice={uploaded:!0,fileName:he.receiptInfo.fileName||((dt=(Qe=ct.documentation)==null?void 0:Qe.receiptInvoice)==null?void 0:dt.fileName)||"",uploadDate:he.receiptInfo.uploadDate||((xt=(Nt=ct.documentation)==null?void 0:Nt.receiptInvoice)==null?void 0:xt.uploadDate)||Sr,uploadedBy:he.receiptInfo.uploadedBy||((gr=(er=ct.documentation)==null?void 0:er.receiptInvoice)==null?void 0:gr.uploadedBy)||""}),ct.status="shipped"):he.type==="delivery"?(ct.deliveryInfo={...ct.deliveryInfo,actualArrivalDate:Sr,deliveredToSubteam:!0,deliveryConfirmedBy:he.confirmedBy||"",deliveryNotes:he.notes||ct.deliveryInfo.deliveryNotes||"",trackingNumber:he.trackingNumber||ct.deliveryInfo.trackingNumber||""},ct.status="delivered"):he.type==="sponsorship_response"&&(ct.sponsorshipInfo={...ct.sponsorshipInfo,sponsorshipSuccessful:he.successful,sponsorshipResponse:he.response||"",sponsorshipResponseDate:Sr},he.successful?ct.sponsorshipInfo.sponsorshipSearchStatus="successful":ct.sponsorshipInfo.sponsorshipSearchStatus="failed");await ze.updateOrder(T,ct);const gn=r.map(Mt=>Mt.id===T?ct:Mt);n(gn),Ft({orders:gn}),At(),await Te("Order updated successfully")}catch(tr){console.error("Error updating order:",tr),At(),await ke(`Failed to update order: ${tr.message}`,"Update Error")}},Et=async()=>{var T;if(B){if((T=B.projectDetails)!=null&&T.neededByDate&&ds(B.projectDetails.neededByDate)){await ke("Needed by date cannot be in the past","Invalid Date");return}rt();try{const he=new Date().toISOString(),Qe={...B,lastUpdated:he};await ze.updateOrder(B.id,Qe);const dt=r.map(Nt=>Nt.id===B.id?Qe:Nt);n(dt),y(Qe),Ft({orders:dt}),b(!1),C(null),At(),await Te("Order details saved successfully")}catch(he){console.error("Error saving order edits:",he),At(),await ke(`Failed to save changes: ${he.message}`,"Save Error")}}},Ir=async()=>{var dt;const T=new Date().toISOString(),he=(dt=J.projectDetails)==null?void 0:dt.neededByDate;if(he&&ds(he)){await ke("Needed by date cannot be in the past","Invalid Date");return}const Qe={submissionTimestamp:T,submissionDetails:J.submissionDetails,materialDetails:J.materialDetails,costBreakdown:{unitPrice:parseFloat(J.costBreakdown.unitPrice),quantity:parseInt(J.costBreakdown.quantity),shippingCost:parseFloat(J.costBreakdown.shippingCost),totalCost:parseFloat(J.costBreakdown.totalCost),taxes:0,fees:0},projectDetails:{...J.projectDetails,neededByDate:J.projectDetails.neededByDate?new Date(J.projectDetails.neededByDate).toISOString():null},approvalWorkflow:{technicalDirectorApproval:{status:"pending",approvedBy:null,approvalDate:null,comments:"",denialReason:""},purchaseApproval:{status:"pending",approvedBy:null,approvalDate:null,comments:"",denialReason:""}},sponsorshipInfo:{canBeSponsored:!1,sponsorContactName:"",sponsorContactEmail:"",sponsorCompany:"",sponsorshipSearchStatus:"in_progress",sponsorshipRequested:!1,sponsorshipRequestDate:null,sponsorshipSuccessful:!1,sponsorshipResponse:"",sponsorshipResponseDate:null},purchaseStatus:{purchased:!1,purchaseDate:null,purchaseOrderNumber:"",actualCost:null,purchasedBy:""},deliveryInfo:{expectedArrivalDate:null,actualArrivalDate:null,deliveredToSubteam:!1,deliveryConfirmedBy:"",deliveryNotes:"",trackingNumber:""},documentation:{receiptInvoice:{uploaded:!1,fileName:"",uploadDate:null,uploadedBy:""},additionalDocuments:[]},returnInfo:{returned:!1,returnDate:null,returnReason:"",returnAuthorizedBy:"",refundAmount:null,refundProcessed:!1},status:"pending_technical_approval",lastUpdated:T,createdBy:J.submissionDetails.submitterEmail};rt();try{const xt=[await ze.createOrder(Qe),...r];n(xt),w(!1),Xt(),Ft({orders:xt}),At(),await Te("Order submitted successfully")}catch(Nt){console.error("Error creating order:",Nt),At(),await ke(`Failed to submit order: ${Nt.message}`,"Submit Error")}},Xt=()=>{const T=ht.getUser();xe({submissionDetails:{subteam:T&&T.specific_role?T.specific_role:"",submitterName:T&&(T.first_name||T.last_name)?`${T.first_name||""}${T.first_name&&T.last_name?" ":""}${T.last_name||""}`.trim():T&&T.email||"",submitterEmail:T&&T.email?T.email:""},materialDetails:{materialName:"",specifications:"",materialLink:"",supplier:"",supplierContact:""},costBreakdown:{unitPrice:"",quantity:"",shippingCost:"",totalCost:""},projectDetails:{purpose:"",urgency:"flexible",neededByDate:""},sponsorshipInfo:{canBeSponsored:!1,sponsorContactName:"",sponsorContactEmail:"",sponsorCompany:""}})},mt=async T=>{if(!T)return;if(T.type!=="application/pdf"){await ke("Please upload a PDF receipt.","Invalid File Type");return}const he=1*1024*1024;if(T.size>he){await ke("Maximum file size is 1MB. Please choose a smaller file.","File Too Large");return}x(T),pe(T.name||"receipt.pdf"),O({...V,receiptPdf:T})},cs=T=>{var Qe,dt;T.preventDefault(),T.stopPropagation(),K(!1);const he=(dt=(Qe=T.dataTransfer)==null?void 0:Qe.files)==null?void 0:dt[0];he&&mt(he)},us=T=>{T.preventDefault(),T.stopPropagation(),K(!0)},on=T=>{T.preventDefault(),T.stopPropagation(),K(!1)},Wn=()=>{x(null),pe(null),O({...V,receiptPdf:null})},dr=async(T={})=>{if(!V.expectedDeliveryDate&&!q){await ke("Please enter an expected delivery date","Required Field");return}if(q&&[Q.id,...ue.map(dt=>dt.id)].filter(dt=>!be[dt]).length>0){await ke("Please set an expected delivery date for each product","Required Field");return}if(q){const he=Q.id,Qe=[Q,...ue];Qe.map(Nt=>Nt.id);const dt=Qe.map(Nt=>{const xt={type:"purchase",purchaseOrderNumber:he,purchaseGroupId:he,purchaseGroupPrimary:Nt.id===Q.id,actualCost:Nt.costBreakdown.totalCost,purchasedBy:me(),expectedDeliveryDate:be[Nt.id],deliveryNotes:V.deliveryNotes,trackingNumber:V.trackingNumber};return Nt.id===Q.id&&T.receiptInfo&&(xt.receiptInfo=T.receiptInfo,xt.purchaseGroupReceiptFile=T.receiptInfo.fileName),nt(Nt.id,xt)});await Promise.all(dt)}else{const he={type:"purchase",purchaseOrderNumber:V.purchaseOrderNumber||`PO-${Date.now()}`,actualCost:Q.costBreakdown.totalCost,purchasedBy:me(),expectedDeliveryDate:V.expectedDeliveryDate,deliveryNotes:V.deliveryNotes,trackingNumber:V.trackingNumber};T.receiptInfo&&(he.receiptInfo=T.receiptInfo),await nt(Q.id,he)}};ht.hasPermission("approve_orders");const An=ht.hasPermission("view_orders");ht.hasPermission("submit_orders");const Cr=ht.hasPermission("approve_orders");ht.getLevel();const Ea=ht.getLevel()==="leader",Li=ht.isAuthenticated()&&ht.getLevel()==="director",En=r.filter(T=>{if(A!=="all"&&T.status!==A||c!=="all"&&T.submissionDetails.subteam!==c)return!1;if(h!=="all"){const he=new Date(T.submissionTimestamp);if(h==="current"){const Qe=je(),{startDate:dt,endDate:Nt}=tt(Qe.semester,Qe.year);if(he<dt||he>Nt)return!1}else if(h==="past_year"){const Qe=new Date,dt=new Date;if(dt.setFullYear(Qe.getFullYear()-1),he<dt)return!1}else{const Qe=h.split("_"),dt=Qe[0],Nt=parseInt(Qe[1]),{startDate:xt,endDate:er}=tt(dt,Nt);if(he<xt||he>er)return!1}}return!0}),ci=T=>{switch(T){case"pending_technical_approval":return"#f59e0b";case"pending_project_approval":return"#f59e0b";case"approved":return"#10b981";case"shipped":return"#3b82f6";case"delivered":return"#059669";case"denied":return"#ef4444";case"pending_approval":return"#f59e0b";case"awaiting_sponsorship":return"#8b5cf6";case"pending_purchase_approval":return"#f59e0b";case"approved_for_purchase":return"#10b981";case"in_transit":return"#3b82f6";default:return"#6b7280"}},Ps=T=>{switch(T){case"pending_technical_approval":return"Pending Tech Director Approval";case"pending_project_approval":return"Pending Purchase Approval";case"approved":return"Approved";case"shipped":return"In Transit";case"delivered":return"Delivered";case"denied":return"Denied";case"pending_approval":return"Pending Approval";case"awaiting_sponsorship":return"Awaiting Sponsorship Search";case"pending_purchase_approval":return"Pending Purchase Approval";case"approved_for_purchase":return"Approved";case"in_transit":return"In Transit";default:return T.replace(/_/g," ").replace(/\b\w/g,he=>he.toUpperCase())}},Os=T=>{if(!T)return"N/A";const he=new Date(T);return isNaN(he)?"N/A":he.toLocaleDateString()},ds=T=>{if(!T)return!1;const he=new Date(T);if(isNaN(he))return!1;he.setHours(0,0,0,0);const Qe=new Date;return Qe.setHours(0,0,0,0),he<Qe},ta=[...new Set(r.map(T=>{var he;return(he=T.submissionDetails)==null?void 0:he.subteam}).filter(Boolean))],_s=W.useRef(!1);W.useEffect(()=>{if(!d){_s.current=!1;return}if(!_s.current)try{const T=ht.getUser();if(!T)return;xe(he=>{const Qe=[];T.first_name&&Qe.push(T.first_name),T.last_name&&Qe.push(T.last_name);const dt=Qe.length>0?Qe.join(" "):T.email||he.submissionDetails.submitterName||"",Nt=T.email||he.submissionDetails.submitterEmail||"";let xt=he.submissionDetails.subteam||"";if((!xt||xt==="")&&T.specific_role){const er=ta.find(gr=>gr&&gr.toLowerCase()===String(T.specific_role).toLowerCase());er&&(xt=er)}return{...he,submissionDetails:{...he.submissionDetails,submitterName:dt,submitterEmail:Nt,subteam:xt}}}),_s.current=!0}catch(T){console.warn("Could not auto-fill submitter info:",T)}},[d]);const ka=W.useMemo(()=>({order:T,onClose:he})=>{var Qe,dt,Nt,xt,er,gr,tr,Sr,ct,gn,Mt,ui,$t,di,Ln,Tr,hs,qn,hi,mr,Fa,co,Qi,Dt,ir,Cs,mn,vr,Qn,ln,Jn,ra,uo,na,Di,yl,sa,ho,jt,bl,Bl,xl,_l,fi,pi,Cl,Sl,Ua,fo,ia,ja,Ia,El,po,go;return T?o.jsx("div",{className:"modal-overlay",onClick:he,children:o.jsxs("div",{className:"modal-content",onClick:ot=>ot.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:T.materialDetails.materialName}),o.jsxs("div",{className:"modal-header-actions",children:[Cr&&!g&&o.jsx("button",{className:"btn-edit-order",onClick:ot=>{ot.stopPropagation(),b(!0),C(JSON.parse(JSON.stringify(T)))},title:"Edit Order Details",children:""}),o.jsx("button",{className:"modal-close",onClick:he,children:""})]})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"detail-section",children:[o.jsx("h4",{children:"Submission Details"}),o.jsxs("div",{className:"detail-grid",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Subteam:"}),g?o.jsxs("select",{value:B.submissionDetails.subteam,onChange:ot=>C({...B,submissionDetails:{...B.submissionDetails,subteam:ot.target.value}}),className:"inline-edit-input",children:[o.jsx("option",{value:"Business",children:"Business"}),o.jsx("option",{value:"Aerodynamics",children:"Aerodynamics"}),o.jsx("option",{value:"Low Voltage",children:"Low Voltage"}),o.jsx("option",{value:"Systems Architecture",children:"Systems Architecture"}),o.jsx("option",{value:"High Voltage",children:"High Voltage"}),o.jsx("option",{value:"Structures",children:"Structures"}),o.jsx("option",{value:"Vehicle Dynamics",children:"Vehicle Dynamics"})]}):` ${T.submissionDetails.subteam}`]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Submitted by:"}),g?o.jsx("input",{type:"text",value:B.submissionDetails.submitterName,onChange:ot=>C({...B,submissionDetails:{...B.submissionDetails,submitterName:ot.target.value}}),className:"inline-edit-input"}):` ${T.submissionDetails.submitterName}`]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Email:"}),g?o.jsx("input",{type:"email",value:B.submissionDetails.submitterEmail,onChange:ot=>C({...B,submissionDetails:{...B.submissionDetails,submitterEmail:ot.target.value}}),className:"inline-edit-input"}):` ${T.submissionDetails.submitterEmail}`]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Submitted:"})," ",new Date(T.submissionTimestamp).toLocaleString()]})]})]}),o.jsxs("div",{className:"detail-section",children:[o.jsx("h4",{children:"Material Specifications"}),o.jsxs("div",{className:"detail-grid",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Material:"}),g?o.jsx("input",{type:"text",value:B.materialDetails.materialName,onChange:ot=>C({...B,materialDetails:{...B.materialDetails,materialName:ot.target.value}}),className:"inline-edit-input"}):` ${T.materialDetails.materialName}`]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Supplier:"}),g?o.jsx("input",{type:"text",value:((Qe=B.materialDetails)==null?void 0:Qe.supplier)||"",onChange:ot=>C({...B,materialDetails:{...B.materialDetails,supplier:ot.target.value}}),className:"inline-edit-input"}):` ${((dt=T.materialDetails)==null?void 0:dt.supplier)||"N/A"}`]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Supplier Contact:"}),g?o.jsx("input",{type:"text",value:((Nt=B.materialDetails)==null?void 0:Nt.supplierContact)||"",onChange:ot=>C({...B,materialDetails:{...B.materialDetails,supplierContact:ot.target.value}}),className:"inline-edit-input"}):` ${((xt=T.materialDetails)==null?void 0:xt.supplierContact)||"N/A"}`]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Link:"}),g?o.jsx("input",{type:"url",value:B.materialDetails.materialLink||"",onChange:ot=>C({...B,materialDetails:{...B.materialDetails,materialLink:ot.target.value}}),className:"inline-edit-input",placeholder:"https://..."}):T.materialDetails.materialLink?o.jsx("a",{href:T.materialDetails.materialLink,target:"_blank",rel:"noopener noreferrer",children:"View Material"}):" N/A"]})]}),o.jsxs("div",{className:"specifications",children:[o.jsx("strong",{children:"Specifications:"}),g?o.jsx("textarea",{value:((er=B.materialDetails)==null?void 0:er.specifications)||"",onChange:ot=>C({...B,materialDetails:{...B.materialDetails,specifications:ot.target.value}}),className:"inline-edit-textarea",rows:"4"}):o.jsx("p",{children:((gr=T.materialDetails)==null?void 0:gr.specifications)||"N/A"})]})]}),o.jsxs("div",{className:"detail-section",children:[o.jsx("h4",{children:"Cost Breakdown"}),o.jsxs("div",{className:"cost-table",children:[o.jsxs("div",{className:"cost-row",children:[o.jsx("span",{children:"Unit Price:"}),g?o.jsx("input",{type:"number",step:"0.01",value:B.costBreakdown.unitPrice,onChange:ot=>{const It=parseFloat(ot.target.value)||0,wr=B.costBreakdown.quantity,Pr=B.costBreakdown.shippingCost,Kr=B.costBreakdown.taxes,Er=B.costBreakdown.fees,kr=It*wr+Pr+Kr+Er;C({...B,costBreakdown:{...B.costBreakdown,unitPrice:It,totalCost:kr}})},className:"inline-edit-input-small"}):o.jsxs("span",{children:["$",T.costBreakdown.unitPrice.toFixed(2)]})]}),o.jsxs("div",{className:"cost-row",children:[o.jsx("span",{children:"Quantity:"}),g?o.jsx("input",{type:"number",value:B.costBreakdown.quantity,onChange:ot=>{const It=parseInt(ot.target.value)||0,wr=B.costBreakdown.unitPrice,Pr=B.costBreakdown.shippingCost,Kr=B.costBreakdown.taxes,Er=B.costBreakdown.fees,kr=wr*It+Pr+Kr+Er;C({...B,costBreakdown:{...B.costBreakdown,quantity:It,totalCost:kr}})},className:"inline-edit-input-small"}):o.jsx("span",{children:T.costBreakdown.quantity})]}),o.jsxs("div",{className:"cost-row",children:[o.jsx("span",{children:"Shipping:"}),g?o.jsx("input",{type:"number",step:"0.01",value:B.costBreakdown.shippingCost,onChange:ot=>{const It=parseFloat(ot.target.value)||0,wr=B.costBreakdown.unitPrice,Pr=B.costBreakdown.quantity,Kr=B.costBreakdown.taxes,Er=B.costBreakdown.fees,kr=wr*Pr+It+Kr+Er;C({...B,costBreakdown:{...B.costBreakdown,shippingCost:It,totalCost:kr}})},className:"inline-edit-input-small"}):o.jsxs("span",{children:["$",T.costBreakdown.shippingCost.toFixed(2)]})]}),o.jsxs("div",{className:"cost-row",children:[o.jsx("span",{children:"Taxes:"}),g?o.jsx("input",{type:"number",step:"0.01",value:B.costBreakdown.taxes,onChange:ot=>{const It=parseFloat(ot.target.value)||0,wr=B.costBreakdown.unitPrice,Pr=B.costBreakdown.quantity,Kr=B.costBreakdown.shippingCost,Er=B.costBreakdown.fees,kr=wr*Pr+Kr+It+Er;C({...B,costBreakdown:{...B.costBreakdown,taxes:It,totalCost:kr}})},className:"inline-edit-input-small"}):o.jsxs("span",{children:["$",T.costBreakdown.taxes.toFixed(2)]})]}),o.jsxs("div",{className:"cost-row",children:[o.jsx("span",{children:"Fees:"}),g?o.jsx("input",{type:"number",step:"0.01",value:B.costBreakdown.fees,onChange:ot=>{const It=parseFloat(ot.target.value)||0,wr=B.costBreakdown.unitPrice,Pr=B.costBreakdown.quantity,Kr=B.costBreakdown.shippingCost,Er=B.costBreakdown.taxes,kr=wr*Pr+Kr+Er+It;C({...B,costBreakdown:{...B.costBreakdown,fees:It,totalCost:kr}})},className:"inline-edit-input-small"}):o.jsxs("span",{children:["$",T.costBreakdown.fees.toFixed(2)]})]}),o.jsxs("div",{className:"cost-row total",children:[o.jsx("span",{children:o.jsx("strong",{children:"Total:"})}),o.jsx("span",{children:o.jsxs("strong",{children:["$",g?B.costBreakdown.totalCost.toFixed(2):T.costBreakdown.totalCost.toFixed(2)]})})]})]})]}),o.jsxs("div",{className:"detail-section",children:[o.jsx("h4",{children:"Project Details"}),o.jsxs("div",{className:"detail-grid",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Urgency:"}),g?o.jsxs("select",{value:B.projectDetails.urgency,onChange:ot=>C({...B,projectDetails:{...B.projectDetails,urgency:ot.target.value}}),className:"inline-edit-input",children:[o.jsx("option",{value:"flexible",children:"Flexible"}),o.jsx("option",{value:"urgent",children:"Urgent"}),o.jsx("option",{value:"critical",children:"Critical"})]}):` ${T.projectDetails.urgency}`]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Needed by:"}),g?o.jsx("input",{type:"date",value:((tr=B.projectDetails.neededByDate)==null?void 0:tr.split("T")[0])||"",onChange:ot=>C({...B,projectDetails:{...B.projectDetails,neededByDate:ot.target.value}}),className:"inline-edit-input",min:new Date().toISOString().split("T")[0]}):` ${Os(T.projectDetails.neededByDate)}`]})]}),o.jsxs("div",{className:"purpose",children:[o.jsx("strong",{children:"Purpose:"}),g?o.jsx("textarea",{value:((Sr=B.projectDetails)==null?void 0:Sr.purpose)||"",onChange:ot=>C({...B,projectDetails:{...B.projectDetails,purpose:ot.target.value}}),className:"inline-edit-textarea",rows:"4"}):o.jsx("p",{children:((ct=T.projectDetails)==null?void 0:ct.purpose)||"N/A"})]})]}),(T.sponsorshipInfo.canBeSponsored||T.sponsorshipInfo.sponsorshipSearchStatus!=="not_applicable")&&o.jsxs("div",{className:"detail-section",children:[o.jsx("h4",{children:"Sponsorship Information"}),o.jsx("p",{style:{color:"var(--subtxt)",fontSize:"0.9rem",fontStyle:"italic",marginBottom:"1rem"},children:"Determined during technical approval"}),o.jsxs("div",{className:"detail-grid",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Search Status:"}),o.jsx("span",{className:`sponsorship-status ${T.sponsorshipInfo.sponsorshipSearchStatus||"not_started"}`,children:(T.sponsorshipInfo.sponsorshipSearchStatus||"not_started").replace(/_/g," ").replace(/\b\w/g,ot=>ot.toUpperCase())})]}),T.sponsorshipInfo.sponsorshipSuccessful&&o.jsxs("div",{children:[o.jsx("strong",{children:"Result:"})," ",o.jsx("span",{style:{color:"#28a745",fontWeight:"bold"},children:" Obtained for Free!"})]}),T.sponsorshipInfo.sponsorContactName&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Sponsor Contact:"})," ",T.sponsorshipInfo.sponsorContactName]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Company:"})," ",T.sponsorshipInfo.sponsorCompany]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Email:"})," ",T.sponsorshipInfo.sponsorContactEmail]})]})]}),T.sponsorshipInfo.sponsorshipResponse&&o.jsxs("div",{className:"response",children:[o.jsx("strong",{children:"Notes:"}),o.jsx("p",{children:T.sponsorshipInfo.sponsorshipResponse})]})]}),o.jsxs("div",{className:"detail-section",children:[o.jsx("h4",{children:"Approval Workflow"}),o.jsxs("div",{className:"approval-grid",children:[o.jsxs("div",{className:"approval-item",children:[o.jsx("strong",{children:"1. Technical Approval:"}),o.jsx("span",{className:`approval-status ${((Mt=(gn=T.approvalWorkflow)==null?void 0:gn.technicalDirectorApproval)==null?void 0:Mt.status)||"pending"}`,children:((($t=(ui=T.approvalWorkflow)==null?void 0:ui.technicalDirectorApproval)==null?void 0:$t.status)||"pending").replace(/_/g," ").toUpperCase()}),((Ln=(di=T.approvalWorkflow)==null?void 0:di.technicalDirectorApproval)==null?void 0:Ln.approvedBy)&&o.jsxs("p",{className:"approval-meta",children:["By: ",T.approvalWorkflow.technicalDirectorApproval.approvedBy]}),((hs=(Tr=T.approvalWorkflow)==null?void 0:Tr.technicalDirectorApproval)==null?void 0:hs.approvalDate)&&o.jsxs("p",{className:"approval-meta",children:["Date: ",new Date(T.approvalWorkflow.technicalDirectorApproval.approvalDate).toLocaleString()]}),((hi=(qn=T.approvalWorkflow)==null?void 0:qn.technicalDirectorApproval)==null?void 0:hi.comments)&&o.jsxs("p",{className:"approval-comment",children:[" ",T.approvalWorkflow.technicalDirectorApproval.comments]}),((Fa=(mr=T.approvalWorkflow)==null?void 0:mr.technicalDirectorApproval)==null?void 0:Fa.denialReason)&&o.jsxs("p",{className:"denial-reason",children:[" ",T.approvalWorkflow.technicalDirectorApproval.denialReason]})]}),o.jsxs("div",{className:"approval-item",children:[o.jsx("strong",{children:"2. Purchase Approval:"}),o.jsx("span",{className:`approval-status ${((Qi=(co=T.approvalWorkflow)==null?void 0:co.projectDirectorPurchaseApproval)==null?void 0:Qi.status)||"pending"}`,children:(((ir=(Dt=T.approvalWorkflow)==null?void 0:Dt.projectDirectorPurchaseApproval)==null?void 0:ir.status)||"pending").replace(/_/g," ").toUpperCase()}),((mn=(Cs=T.approvalWorkflow)==null?void 0:Cs.projectDirectorPurchaseApproval)==null?void 0:mn.status)==="not_required"&&o.jsxs("p",{className:"approval-meta",children:[" ",T.approvalWorkflow.projectDirectorPurchaseApproval.comments||"Purchase approval not needed"]}),((Qn=(vr=T.approvalWorkflow)==null?void 0:vr.projectDirectorPurchaseApproval)==null?void 0:Qn.approvedBy)&&o.jsxs("p",{className:"approval-meta",children:["By: ",T.approvalWorkflow.projectDirectorPurchaseApproval.approvedBy]}),((Jn=(ln=T.approvalWorkflow)==null?void 0:ln.projectDirectorPurchaseApproval)==null?void 0:Jn.approvalDate)&&o.jsxs("p",{className:"approval-meta",children:["Date: ",new Date(T.approvalWorkflow.projectDirectorPurchaseApproval.approvalDate).toLocaleString()]}),((uo=(ra=T.approvalWorkflow)==null?void 0:ra.projectDirectorPurchaseApproval)==null?void 0:uo.comments)&&T.approvalWorkflow.projectDirectorPurchaseApproval.status!=="not_required"&&o.jsxs("p",{className:"approval-comment",children:[" ",T.approvalWorkflow.projectDirectorPurchaseApproval.comments]}),((Di=(na=T.approvalWorkflow)==null?void 0:na.projectDirectorPurchaseApproval)==null?void 0:Di.denialReason)&&o.jsxs("p",{className:"denial-reason",children:[" ",T.approvalWorkflow.projectDirectorPurchaseApproval.denialReason]})]})]})]}),T.purchaseStatus.purchased&&o.jsxs("div",{className:"detail-section",children:[o.jsxs("div",{className:"detail-header",children:[o.jsx("h4",{children:"Purchase Information"}),Li&&(()=>{var It,wr,Pr,Kr;return(T.purchaseStatus.purchaseGroupId?r.some(Er=>{var kr,La,Ss,Xn,aa;return((kr=Er.purchaseStatus)==null?void 0:kr.purchaseGroupId)===T.purchaseStatus.purchaseGroupId&&((Ss=(La=Er.documentation)==null?void 0:La.receiptInvoice)==null?void 0:Ss.uploaded)&&((aa=(Xn=Er.documentation)==null?void 0:Xn.receiptInvoice)==null?void 0:aa.fileName)}):((wr=(It=T.documentation)==null?void 0:It.receiptInvoice)==null?void 0:wr.uploaded)&&((Kr=(Pr=T.documentation)==null?void 0:Pr.receiptInvoice)==null?void 0:Kr.fileName))?o.jsx("button",{className:"receipt-icon-button",title:"Download receipt",onClick:Er=>{Er.stopPropagation();const La=(T.purchaseStatus.purchaseGroupId?r.find(Xn=>{var aa,BA,oa,xA,_;return((aa=Xn.purchaseStatus)==null?void 0:aa.purchaseGroupId)===T.purchaseStatus.purchaseGroupId&&((oa=(BA=Xn.documentation)==null?void 0:BA.receiptInvoice)==null?void 0:oa.uploaded)&&((_=(xA=Xn.documentation)==null?void 0:xA.receiptInvoice)==null?void 0:_.fileName)}):T).documentation.receiptInvoice.fileName,Ss=T.purchaseStatus.purchaseGroupId?`${T.purchaseStatus.purchaseGroupId}-receipt.pdf`:`order-${T.id}-receipt.pdf`;Xe(La,Ss)},"aria-label":"Download receipt",children:o.jsxs("svg",{className:"receipt-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M3 2v20l3-2 3 2 3-2 3 2 3-2V2z"}),o.jsx("path",{d:"M7 7h10M7 11h6"})]})}):null})()]}),T.purchaseStatus.purchaseGroupId&&o.jsxs("div",{className:"multi-product-purchase-info",children:[o.jsxs("div",{className:"multi-product-header",children:[o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("rect",{x:"2",y:"2",width:"9",height:"9",rx:"1",ry:"1"}),o.jsx("rect",{x:"13",y:"2",width:"9",height:"9",rx:"1",ry:"1"}),o.jsx("rect",{x:"2",y:"13",width:"9",height:"9",rx:"1",ry:"1"}),o.jsx("rect",{x:"13",y:"13",width:"9",height:"9",rx:"1",ry:"1"})]}),o.jsx("strong",{children:"Multi-Product Purchase"})]}),o.jsxs("p",{className:"multi-product-description",children:["This order was purchased together with ",r.filter(ot=>{var It;return((It=ot.purchaseStatus)==null?void 0:It.purchaseGroupId)===T.purchaseStatus.purchaseGroupId&&ot.id!==T.id}).length," other product(s)."]}),T.purchaseStatus.purchaseGroupPrimary&&o.jsxs("div",{className:"primary-order-badge",children:[o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),o.jsx("span",{children:"Primary order - Receipt stored under this purchase group"})]}),o.jsxs("div",{className:"multi-product-items",children:[o.jsx("strong",{children:"Other items in this purchase:"}),o.jsx("ul",{children:r.filter(ot=>{var It;return((It=ot.purchaseStatus)==null?void 0:It.purchaseGroupId)===T.purchaseStatus.purchaseGroupId&&ot.id!==T.id}).map(ot=>o.jsxs("li",{children:[o.jsx("span",{className:"item-name",children:ot.materialDetails.materialName}),o.jsxs("span",{className:"item-cost",children:["$",ot.costBreakdown.totalCost.toFixed(2)]})]},ot.id))})]})]}),o.jsxs("div",{className:"detail-grid",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Purchase Date:"})," ",new Date(T.purchaseStatus.purchaseDate).toLocaleDateString()]}),o.jsxs("div",{children:[o.jsx("strong",{children:"PO Number:"})," ",T.purchaseStatus.purchaseOrderNumber]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Actual Cost:"})," $",(yl=T.purchaseStatus.actualCost)==null?void 0:yl.toFixed(2)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Purchased by:"})," ",T.purchaseStatus.purchasedBy]})]})]}),T.deliveryInfo.deliveredToSubteam&&o.jsxs("div",{className:"detail-section",children:[o.jsx("h4",{children:"Delivery Information"}),o.jsxs("div",{className:"detail-grid",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Delivered:"})," ",new Date(T.deliveryInfo.actualArrivalDate).toLocaleDateString()]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Confirmed by:"})," ",T.deliveryInfo.deliveryConfirmedBy]}),T.deliveryInfo.trackingNumber&&o.jsxs("div",{children:[o.jsx("strong",{children:"Tracking:"})," ",T.deliveryInfo.trackingNumber]})]}),T.deliveryInfo.deliveryNotes&&o.jsxs("div",{className:"delivery-notes",children:[o.jsx("strong",{children:"Notes:"}),o.jsx("p",{children:T.deliveryInfo.deliveryNotes})]})]}),T.status==="pending_project_approval"&&o.jsxs("div",{className:"detail-section next-steps",children:[o.jsx("h4",{children:" Pending Purchase Approval"}),o.jsxs("div",{className:"next-steps-content",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Current Search Status:"})," ",(((sa=T.sponsorshipInfo)==null?void 0:sa.sponsorshipSearchStatus)||"not_started").replace(/_/g," ").replace(/\b\w/g,ot=>ot.toUpperCase())]}),(jt=(ho=T.approvalWorkflow)==null?void 0:ho.projectDirectorPurchaseApproval)!=null&&jt.comments?o.jsx("p",{children:T.approvalWorkflow.projectDirectorPurchaseApproval.comments}):o.jsx("p",{children:"Technical approval has determined this material needs to be purchased. Awaiting purchase approval for budget allocation."})]})]}),T.status==="approved"&&o.jsxs("div",{className:"detail-section next-steps",children:[o.jsx("h4",{children:" Order Approved - Ready to Purchase"}),o.jsxs("div",{className:"next-steps-content",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Expected Delivery Date:"})," ",T.deliveryInfo.expectedArrivalDate?new Date(T.deliveryInfo.expectedArrivalDate).toLocaleDateString():"TBD"]}),((Bl=(bl=T.approvalWorkflow)==null?void 0:bl.projectDirectorPurchaseApproval)==null?void 0:Bl.status)==="not_required"?o.jsx("p",{children:" This order was obtained through sponsorship at no cost! A director will arrange delivery soon."}):o.jsx("p",{children:"This order has been approved for purchase. A director will process the purchase order soon."})]})]}),(T.status==="purchased"||T.status==="shipped")&&o.jsxs("div",{className:"detail-section next-steps",children:[o.jsx("h4",{children:" Order In Transit"}),o.jsxs("div",{className:"next-steps-content",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Expected Delivery:"})," ",T.deliveryInfo.expectedArrivalDate?new Date(T.deliveryInfo.expectedArrivalDate).toLocaleDateString():"TBD"]}),o.jsx("p",{children:"Your order is on its way. You'll be notified when it arrives."}),T.deliveryInfo.trackingNumber&&o.jsxs("p",{children:[o.jsx("strong",{children:"Tracking Number:"})," ",T.deliveryInfo.trackingNumber]})]})]}),T.status==="denied"&&o.jsxs("div",{className:"detail-section next-steps denied",children:[o.jsx("h4",{children:" Order Denied"}),o.jsx("div",{className:"next-steps-content",children:o.jsx("p",{children:"This order request has been denied. Please review the denial reason above and contact a director if you have questions."})})]}),Cr&&(T.status==="pending_approval"||T.status==="pending_technical_approval"||T.status==="pending_project_approval")&&o.jsxs("div",{className:"detail-section approval-actions",children:[o.jsx("h4",{children:"Step 1: Sponsorship Search Status"}),((xl=T.sponsorshipInfo)==null?void 0:xl.sponsorshipSearchStatus)==="not_applicable"||((_l=T.sponsorshipInfo)==null?void 0:_l.sponsorshipSearchStatus)==="failed"||((fi=T.sponsorshipInfo)==null?void 0:fi.sponsorshipSearchStatus)==="successful"?o.jsxs("div",{className:"sponsorship-finalized",children:[o.jsx("p",{className:"approval-help-text",style:{marginBottom:"1rem"},children:" Sponsorship status has been set and locked. Proceed to Step 2 below to approve or deny the order."}),o.jsxs("div",{className:"sponsorship-summary",children:[o.jsxs("div",{className:"summary-item",children:[o.jsx("strong",{children:"Status:"}),o.jsx("span",{className:`sponsorship-status ${((pi=T.sponsorshipInfo)==null?void 0:pi.sponsorshipSearchStatus)||"not_started"}`,children:(((Cl=T.sponsorshipInfo)==null?void 0:Cl.sponsorshipSearchStatus)||"not_started").replace(/_/g," ").replace(/\b\w/g,ot=>ot.toUpperCase())})]}),((Sl=T.sponsorshipInfo)==null?void 0:Sl.sponsorshipResponse)&&o.jsxs("div",{className:"summary-item",children:[o.jsx("strong",{children:"Notes:"}),o.jsx("p",{style:{margin:"0.25rem 0 0 0",color:"var(--subtxt)"},children:T.sponsorshipInfo.sponsorshipResponse})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"approval-help-text",children:'First, update the sponsorship search status. Once set to "Not Applicable", "Failed", or "Successful", you can then approve or deny the order in Step 2 below.'}),o.jsxs("div",{className:"approval-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Sponsorship Search Status *"}),o.jsxs("select",{id:`sponsorship-status-${T.id}`,value:_e[T.id]??((Ua=T.sponsorshipInfo)==null?void 0:Ua.sponsorshipSearchStatus)??"in_progress",onChange:ot=>ve(It=>({...It,[T.id]:ot.target.value})),children:[o.jsx("option",{value:"in_progress",children:"In Progress (Currently searching)"}),o.jsx("option",{value:"not_applicable",children:"Not Applicable (Doesn't require sponsorship)"}),o.jsx("option",{value:"successful",children:"Successful (Obtained for free!)"}),o.jsx("option",{value:"failed",children:"Failed (Need to purchase)"})]}),o.jsxs("small",{style:{color:"var(--subtxt)",fontSize:"0.85rem",marginTop:"0.5rem",display:"block"},children:[" If successful, purchase approval will be skipped",o.jsx("br",{})," If failed/not applicable, order will require purchase approval",o.jsx("br",{})," Status will be locked after saving to prevent changes"]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Sponsorship Notes"}),o.jsx("textarea",{id:`sponsorship-notes-${T.id}`,placeholder:"Add notes about sponsorship search, sponsor contact info, or why it cannot be sponsored...",rows:"2",defaultValue:((fo=T.sponsorshipInfo)==null?void 0:fo.sponsorshipResponse)||""})]}),o.jsx("div",{className:"approval-buttons",children:o.jsx("button",{className:"btn-primary",disabled:(_e[T.id]??((ia=T.sponsorshipInfo)==null?void 0:ia.sponsorshipSearchStatus)??"in_progress")==="in_progress",style:{opacity:(_e[T.id]??((ja=T.sponsorshipInfo)==null?void 0:ja.sponsorshipSearchStatus)??"in_progress")==="in_progress"?.5:1,cursor:(_e[T.id]??((Ia=T.sponsorshipInfo)==null?void 0:Ia.sponsorshipSearchStatus)??"in_progress")==="in_progress"?"not-allowed":"pointer"},onClick:async ot=>{ot.stopPropagation();const It=document.getElementById(`sponsorship-status-${T.id}`).value,wr=document.getElementById(`sponsorship-notes-${T.id}`).value;if(!await Ve("Are you sure you want to lock this sponsorship status? Once saved, it cannot be changed.","Confirm Lock Sponsorship Status"))return;await nt(T.id,{type:"sponsorship_status",searchStatus:It}),wr.trim()&&await nt(T.id,{type:"sponsorship_response",successful:It==="successful",response:wr});const Er=r.map(kr=>kr.id===T.id?{...kr,sponsorshipInfo:{...kr.sponsorshipInfo,sponsorshipSearchStatus:It,sponsorshipResponse:wr}}:kr).find(kr=>kr.id===T.id);y(Er)},children:"Save & Lock Sponsorship Status"})})]})]})]}),Cr&&(T.status==="pending_approval"||T.status==="pending_technical_approval")&&(((El=T.sponsorshipInfo)==null?void 0:El.sponsorshipSearchStatus)==="not_applicable"||((po=T.sponsorshipInfo)==null?void 0:po.sponsorshipSearchStatus)==="failed"||((go=T.sponsorshipInfo)==null?void 0:go.sponsorshipSearchStatus)==="successful")&&o.jsxs("div",{className:"detail-section approval-actions",children:[o.jsx("h4",{children:"Step 2: Technical Approval"}),o.jsx("p",{className:"approval-help-text",children:"Sponsorship status has been set. Now you can approve or deny this order request."}),o.jsxs("div",{className:"approval-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Technical Approval Comments / Denial Reason"}),o.jsx("textarea",{id:`tech-approval-comments-${T.id}`,placeholder:"Add comments for approval or reason for denial...",rows:"3"})]}),o.jsxs("div",{className:"approval-buttons",children:[o.jsx("button",{className:"btn-approve",onClick:async ot=>{var Pr,Kr;ot.stopPropagation();const It=document.getElementById(`tech-approval-comments-${T.id}`).value,wr=((Pr=T.sponsorshipInfo)==null?void 0:Pr.sponsorshipSearchStatus)||"in_progress";await nt(T.id,{type:"technical_director_approval",approved:!0,approvedBy:me(),comments:It||"Approved - material needed for project",sponsorshipStatus:wr,sponsorshipNotes:((Kr=T.sponsorshipInfo)==null?void 0:Kr.sponsorshipResponse)||""}),y(null)},children:" Approve Order"}),o.jsx("button",{className:"btn-deny",onClick:async ot=>{ot.stopPropagation();const It=document.getElementById(`tech-approval-comments-${T.id}`).value;if(!It.trim()){await ke("Please provide a reason for denial","Denial Reason Required");return}await Ve("Are you sure you want to deny this order? This action will notify the submitter.","Confirm Denial")&&(await nt(T.id,{type:"technical_director_approval",approved:!1,approvedBy:me(),denialReason:It}),y(null))},children:" Deny Order"})]})]})]}),Cr&&T.status==="pending_project_approval"&&o.jsxs("div",{className:"detail-section approval-actions",children:[o.jsx("h4",{children:"Purchase Approval"}),o.jsx("p",{className:"approval-help-text",children:"Sponsorship was unsuccessful. Approve purchase to spend money on this material."}),o.jsxs("div",{className:"approval-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Comments / Denial Reason"}),o.jsx("textarea",{id:`purchase-approval-comments-${T.id}`,placeholder:"Add budget approval comments or reason for denial...",rows:"3"})]}),o.jsxs("div",{className:"approval-buttons",children:[o.jsx("button",{className:"btn-approve",onClick:async ot=>{ot.stopPropagation();const It=document.getElementById(`purchase-approval-comments-${T.id}`).value;await nt(T.id,{type:"purchase_approval",approved:!0,approvedBy:me(),comments:It||"Budget approved - proceed with purchase"}),y(null)},children:" Approve Purchase"}),o.jsx("button",{className:"btn-deny",onClick:async ot=>{ot.stopPropagation();const It=document.getElementById(`purchase-approval-comments-${T.id}`).value;if(!It.trim()){await ke("Please provide a reason for denial","Denial Reason Required");return}await Ve("Are you sure you want to deny purchase approval? This will deny the order.","Confirm Denial")&&(await nt(T.id,{type:"purchase_approval",approved:!1,approvedBy:me(),denialReason:It}),y(null))},children:" Deny Purchase"})]})]})]}),g&&o.jsx("div",{className:"detail-section edit-actions",children:o.jsxs("div",{className:"edit-buttons",children:[o.jsx("button",{className:"btn-save-edit",onClick:async ot=>{ot.stopPropagation(),await Et()},children:" Save Changes"}),o.jsx("button",{className:"btn-cancel-edit",onClick:ot=>{ot.stopPropagation(),b(!1),C(null)},children:" Cancel"})]})})]})]})}):null},[Cr,g,B,nt,ke,Ve,Et]),lo=W.useMemo(()=>()=>o.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:o.jsxs("div",{className:"modal-content large",onClick:T=>T.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Submit New Order Request"}),o.jsx("button",{className:"modal-close",onClick:()=>w(!1),children:""})]}),o.jsx("div",{className:"modal-body",ref:a,children:o.jsxs("form",{onSubmit:T=>{T.preventDefault(),Ir()},children:[o.jsxs("div",{className:"form-section",children:[o.jsx("h4",{children:"Submission Details"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Subteam *"}),o.jsxs("select",{value:J.submissionDetails.subteam,onChange:T=>xe({...J,submissionDetails:{...J.submissionDetails,subteam:T.target.value}}),required:!0,children:[o.jsx("option",{value:"",children:"Select Subteam"}),o.jsx("option",{value:"Business",children:"Business"}),o.jsx("option",{value:"Aerodynamics",children:"Aerodynamics"}),o.jsx("option",{value:"Low Voltage",children:"Low Voltage"}),o.jsx("option",{value:"Systems Architecture",children:"Systems Architecture"}),o.jsx("option",{value:"High Voltage",children:"High Voltage"}),o.jsx("option",{value:"Structures",children:"Structures"}),o.jsx("option",{value:"Vehicle Dynamics",children:"Vehicle Dynamics"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Your Name *"}),o.jsx("input",{type:"name",value:J.submissionDetails.submitterName,onChange:T=>xe({...J,submissionDetails:{...J.submissionDetails,submitterName:T.target.value}}),required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Your Email *"}),o.jsx("input",{type:"email",value:J.submissionDetails.submitterEmail,onChange:T=>xe({...J,submissionDetails:{...J.submissionDetails,submitterEmail:T.target.value}}),required:!0})]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h4",{children:"Material Details"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Material Name *"}),o.jsx("input",{type:"text",value:J.materialDetails.materialName,onChange:T=>xe({...J,materialDetails:{...J.materialDetails,materialName:T.target.value}}),required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Material Link *"}),o.jsx("input",{type:"text",value:J.materialDetails.materialLink,onChange:T=>xe({...J,materialDetails:{...J.materialDetails,materialLink:T.target.value}}),pattern:".*\\..+.*",title:"Please enter a valid link (must contain a domain like .com, .org, etc.)",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Supplier"}),o.jsx("input",{type:"text",value:J.materialDetails.supplier,onChange:T=>xe({...J,materialDetails:{...J.materialDetails,supplier:T.target.value}})})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Detailed Specifications *"}),o.jsx("textarea",{value:J.materialDetails.specifications,onChange:T=>xe({...J,materialDetails:{...J.materialDetails,specifications:T.target.value}}),rows:"4",placeholder:"Provide thorough specifications including dimensions, materials, performance characteristics, etc.",required:!0})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h4",{children:"Cost Information"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Price of 1 item *"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:J.costBreakdown.unitPrice,onChange:T=>xe({...J,costBreakdown:{...J.costBreakdown,unitPrice:T.target.value}}),placeholder:"0.00",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Quantity of items requested *"}),o.jsx("input",{type:"number",min:"1",value:J.costBreakdown.quantity,onChange:T=>xe({...J,costBreakdown:{...J.costBreakdown,quantity:T.target.value}}),placeholder:"1",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Shipping cost *"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:J.costBreakdown.shippingCost,onChange:T=>xe({...J,costBreakdown:{...J.costBreakdown,shippingCost:T.target.value}}),placeholder:"0.00",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Total cost of order after taxes or fees *"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:J.costBreakdown.totalCost,onChange:T=>xe({...J,costBreakdown:{...J.costBreakdown,totalCost:T.target.value}}),placeholder:"0.00",required:!0})]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h4",{children:"Project Details"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Urgency *"}),o.jsxs("select",{value:J.projectDetails.urgency,onChange:T=>xe({...J,projectDetails:{...J.projectDetails,urgency:T.target.value}}),required:!0,children:[o.jsx("option",{value:"flexible",children:"Flexible"}),o.jsx("option",{value:"needed_by_date",children:"Needed by specific date"}),o.jsx("option",{value:"asap",children:"ASAP"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{children:["Needed By Date ",J.projectDetails.urgency!=="flexible"?"*":""]}),o.jsx("input",{type:"date",value:J.projectDetails.neededByDate,onChange:T=>xe({...J,projectDetails:{...J.projectDetails,neededByDate:T.target.value}}),required:J.projectDetails.urgency!=="flexible",min:new Date().toISOString().split("T")[0]})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Purpose for Project *"}),o.jsx("textarea",{value:J.projectDetails.purpose,onChange:T=>xe({...J,projectDetails:{...J.projectDetails,purpose:T.target.value}}),rows:"3",placeholder:"Explain how this material will be used in the project and why it's needed",required:!0})]})]}),o.jsxs("div",{className:"form-actions",children:[o.jsx("button",{type:"button",onClick:()=>w(!1),className:"btn-secondary",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn-primary",children:"Submit Order Request"})]})]})})]})}),[J,d]);return s?o.jsx("div",{className:"loading",children:"Loading orders..."}):An?o.jsxs("div",{className:"order-manager",children:[o.jsxs("div",{className:"order-header",children:[o.jsx("h2",{className:"order-title",children:"Order Management"}),o.jsxs("div",{className:"header-actions",children:[o.jsx(eh,{status:Ge,lastSync:pt,onRefresh:it,connectionError:Ze}),(Ea||Cr)&&o.jsx("button",{className:"btn-primary",onClick:()=>w(!0),children:"+ Submit New Order"})]})]}),o.jsxs("div",{className:"stats-summary",children:[o.jsxs("div",{className:"stat-card",children:[o.jsx("div",{className:"stat-number",children:En.filter(T=>T.status==="pending_technical_approval"||T.status==="pending_project_approval"||T.status==="pending_approval").length}),o.jsx("div",{className:"stat-label",children:"Pending Approval"})]}),o.jsxs("div",{className:"stat-card",children:[o.jsx("div",{className:"stat-number",children:En.filter(T=>T.status==="approved").length}),o.jsx("div",{className:"stat-label",children:"Ready to Purchase"})]}),o.jsxs("div",{className:"stat-card",children:[o.jsx("div",{className:"stat-number",children:En.filter(T=>T.status==="shipped"||T.status==="purchased").length}),o.jsx("div",{className:"stat-label",children:"In Transit"})]}),o.jsxs("div",{className:"stat-card",children:[o.jsxs("div",{className:"stat-number",children:["$",En.reduce((T,he)=>{var Qe;return T+(((Qe=he.costBreakdown)==null?void 0:Qe.totalCost)||0)},0).toFixed(2)]}),o.jsx("div",{className:"stat-label",children:"Total Value"})]})]}),o.jsxs("div",{className:"filters",children:[o.jsxs("div",{className:"filter-group",children:[o.jsx("label",{className:"filter-label",children:"Status"}),o.jsxs("select",{className:"filter-select",value:A,onChange:T=>l(T.target.value),children:[o.jsx("option",{value:"all",children:"All Statuses"}),o.jsx("option",{value:"pending_technical_approval",children:"Pending Tech Director Approval"}),o.jsx("option",{value:"pending_project_approval",children:"Pending Purchase Approval"}),o.jsx("option",{value:"approved",children:"Approved"}),o.jsx("option",{value:"shipped",children:"Shipped"}),o.jsx("option",{value:"delivered",children:"Delivered"}),o.jsx("option",{value:"denied",children:"Denied"})]})]}),o.jsxs("div",{className:"filter-group",children:[o.jsx("label",{className:"filter-label",children:"Team"}),o.jsxs("select",{className:"filter-select",value:c,onChange:T=>u(T.target.value),children:[o.jsx("option",{value:"all",children:"All Teams"}),ta.map(T=>o.jsx("option",{value:T,children:T},T))]})]}),o.jsxs("div",{className:"filter-group",children:[o.jsx("label",{className:"filter-label",children:"Orders Placed"}),o.jsxs("select",{className:"filter-select",value:h,onChange:T=>p(T.target.value),children:[Be().map(T=>o.jsx("option",{value:T.value,children:T.label},T.value)),o.jsx("option",{value:"all",children:"All Time"})]})]}),o.jsx("div",{className:"filter-actions",style:{marginLeft:"auto",display:"flex",alignItems:"flex-end",gap:"8px"},children:Li&&o.jsx("button",{className:"btn-secondary",onClick:()=>$(!0),title:"Download order receipts and data",children:"Download Receipts"})})]}),En.length===0?o.jsxs("div",{className:"no-orders",children:[o.jsx("h3",{children:"No orders found"}),o.jsx("p",{children:"No orders match your current filters."})]}):o.jsx("div",{className:"orders-grid",children:En.map(T=>{var he,Qe,dt;return o.jsxs("div",{className:"order-card",onClick:()=>y(T),children:[o.jsxs("div",{className:"order-header-section",children:[o.jsxs("div",{className:"order-title-section",children:[o.jsx("h3",{className:"order-part-name",children:T.materialDetails.materialName}),o.jsxs("div",{className:"order-meta",children:[o.jsx("strong",{children:T.submissionDetails.subteam}),"  Requested by ",T.submissionDetails.submitterName]}),o.jsxs("div",{className:"order-meta",children:["Submitted: ",new Date(T.submissionTimestamp).toLocaleDateString()]})]}),o.jsx("div",{className:"order-badges",children:o.jsx("span",{className:"status-badge",style:{backgroundColor:ci(T.status)},children:Ps(T.status)})})]}),o.jsxs("div",{className:"order-details",children:[o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Supplier:"}),o.jsx("span",{className:"detail-value",children:((he=T.materialDetails)==null?void 0:he.supplier)||"N/A"})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Quantity:"}),o.jsx("span",{className:"detail-value",children:T.costBreakdown.quantity})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Unit Price:"}),o.jsxs("span",{className:"detail-value",children:["$",T.costBreakdown.unitPrice.toFixed(2)]})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Total:"}),o.jsxs("span",{className:"detail-value",children:["$",T.costBreakdown.totalCost.toFixed(2)]})]}),T.deliveryInfo.expectedArrivalDate&&o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Expected Delivery:"}),o.jsx("span",{className:"detail-value",children:new Date(T.deliveryInfo.expectedArrivalDate).toLocaleDateString()})]})]}),o.jsxs("div",{className:"order-notes",children:[o.jsx("strong",{children:"Purpose:"})," ",(Qe=T.projectDetails)!=null&&Qe.purpose?T.projectDetails.purpose.substring(0,150):"N/A",((dt=T.projectDetails)==null?void 0:dt.purpose)&&T.projectDetails.purpose.length>150&&"..."]}),Cr&&o.jsxs("div",{className:"order-actions",onClick:Nt=>Nt.stopPropagation(),children:[(T.status==="pending_approval"||T.status==="pending_technical_approval")&&o.jsx("button",{className:"action-btn approve-deny-btn",onClick:()=>y(T),children:o.jsx("span",{className:"btn-text",children:"Tech Approve/Deny"})}),T.status==="pending_project_approval"&&o.jsx("button",{className:"action-btn approve-deny-btn",onClick:()=>y(T),children:o.jsx("span",{className:"btn-text",children:"Purchase Approve/Deny"})}),T.status==="approved"&&o.jsx("button",{className:"action-btn mark-ordered-btn",onClick:()=>{P(T),L(!0)},children:o.jsx("span",{className:"btn-text",children:"Mark as Purchased"})}),(T.status==="purchased"||T.status==="shipped")&&o.jsxs("button",{className:"action-btn mark-delivered-btn",onClick:()=>nt(T.id,{type:"delivery",confirmedBy:me(),notes:"Delivered to subteam"}),children:[o.jsx("span",{className:"btn-icon",children:""}),o.jsx("span",{className:"btn-text",children:"Mark as Delivered"})]})]})]},T.id)})}),m&&ka({order:m,onClose:()=>y(null)}),d&&lo(),N&&Q&&o.jsx("div",{className:"modal-overlay",onClick:()=>L(!1),children:o.jsxs("div",{className:"modal-content purchase-modal",onClick:T=>T.stopPropagation(),style:{maxWidth:"800px"},children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Mark Order as Purchased"}),o.jsx("button",{className:"modal-close",onClick:()=>{L(!1),ce(!1),de([]),Ue({})},children:""})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"purchase-order-summary",children:[o.jsx("h4",{children:Q.materialDetails.materialName}),o.jsxs("p",{children:[o.jsx("strong",{children:"Subteam:"})," ",Q.submissionDetails.subteam]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Total Cost:"})," $",Q.costBreakdown.totalCost.toFixed(2)]})]}),o.jsxs("form",{onSubmit:async T=>{var he,Qe;if(T.preventDefault(),!V.receiptPdf){alert("Please upload a PDF receipt.");return}try{const dt=((he=ht.currentUser)==null?void 0:he.email)||"unknown";if(q){const Nt=Q.id,er=[Q,...ue].map(Mt=>Mt.id),{publicUrl:gr,updatedOrders:tr}=await ze.uploadPurchaseGroupReceipt(V.receiptPdf,Nt,er,dt),Sr=new Map(tr.map(Mt=>[Mt.id,Mt])),ct=r.map(Mt=>Sr.get(Mt.id)||Mt);n(ct),Ft({orders:ct});const gn={fileName:gr,uploadDate:new Date().toISOString(),uploadedBy:dt};L(!1),P(null),ce(!1),de([]),Ue({}),x(null),pe(null),O({expectedDeliveryDate:"",deliveryNotes:"",purchaseOrderNumber:"",trackingNumber:""}),await new Promise(Mt=>setTimeout(Mt,50)),await dr({receiptInfo:gn})}else{const Nt=await ze.uploadOrderReceipt(V.receiptPdf,Q.id,dt),xt=r.map(tr=>tr.id===Q.id?Nt:tr);n(xt),Ft({orders:xt});const er=((Qe=Nt==null?void 0:Nt.documentation)==null?void 0:Qe.receiptInvoice)||{},gr={fileName:er.fileName||"",uploadDate:er.uploadDate||new Date().toISOString(),uploadedBy:er.uploadedBy||dt};L(!1),P(null),ce(!1),de([]),Ue({}),x(null),pe(null),O({expectedDeliveryDate:"",deliveryNotes:"",purchaseOrderNumber:"",trackingNumber:""}),await new Promise(tr=>setTimeout(tr,50)),await dr({receiptInfo:gr})}}catch(dt){alert("Failed to upload receipt: "+dt.message)}},children:[o.jsxs("div",{className:"form-section",children:[o.jsx("h4",{children:"Purchase Type"}),o.jsxs("div",{className:"purchase-type-options",children:[o.jsxs("div",{className:`purchase-type-card ${q?"":"selected"}`,onClick:()=>{ce(!1),de([]),Ue({})},children:[o.jsxs("div",{className:"type-option-header",children:[o.jsx("div",{className:"type-option-icon",children:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),o.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"9"}),o.jsx("line",{x1:"9",y1:"12",x2:"15",y2:"12"}),o.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]})}),o.jsx("div",{className:"type-option-radio",children:o.jsx("div",{className:"radio-outer",children:!q&&o.jsx("div",{className:"radio-inner"})})})]}),o.jsxs("div",{className:"type-option-content",children:[o.jsx("h5",{children:"Single Item"}),o.jsx("p",{children:"Purchase only this current item"})]})]}),o.jsxs("div",{className:`purchase-type-card ${q?"selected":""}`,onClick:()=>ce(!0),children:[o.jsxs("div",{className:"type-option-header",children:[o.jsx("div",{className:"type-option-icon",children:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("rect",{x:"2",y:"2",width:"9",height:"9",rx:"1",ry:"1"}),o.jsx("rect",{x:"13",y:"2",width:"9",height:"9",rx:"1",ry:"1"}),o.jsx("rect",{x:"2",y:"13",width:"9",height:"9",rx:"1",ry:"1"}),o.jsx("rect",{x:"13",y:"13",width:"9",height:"9",rx:"1",ry:"1"})]})}),o.jsx("div",{className:"type-option-radio",children:o.jsx("div",{className:"radio-outer",children:q&&o.jsx("div",{className:"radio-inner"})})})]}),o.jsxs("div",{className:"type-option-content",children:[o.jsx("h5",{children:"Multi-Product Order"}),o.jsx("p",{children:"Purchase multiple approved items together"})]})]})]}),q&&o.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--subtxt)",marginTop:"1rem",padding:"0.75rem",background:"rgba(59, 130, 246, 0.08)",borderRadius:"6px",borderLeft:"3px solid #3b82f6"},children:["Select additional approved orders that were purchased together with this one. You'll upload ",o.jsx("strong",{children:"one receipt"})," for all items."]}),q&&o.jsxs("div",{className:"additional-orders-section",children:[o.jsx("label",{className:"additional-orders-label",children:"Select Additional Orders to Purchase Together:"}),o.jsx("div",{className:"additional-orders-container",children:r.filter(T=>{var he,Qe;return T.id!==Q.id&&T.status==="approved"&&((Qe=(he=T.approvalWorkflow)==null?void 0:he.projectDirectorPurchaseApproval)==null?void 0:Qe.status)==="approved"}).length===0?o.jsx("div",{className:"no-additional-orders",children:o.jsx("p",{children:"No other approved orders available for multi-purchase."})}):o.jsx("div",{className:"additional-orders-list",children:r.filter(T=>{var he,Qe;return T.id!==Q.id&&T.status==="approved"&&((Qe=(he=T.approvalWorkflow)==null?void 0:he.projectDirectorPurchaseApproval)==null?void 0:Qe.status)==="approved"}).map(T=>{var he,Qe,dt,Nt;return o.jsxs("div",{className:`additional-order-item ${ue.find(xt=>xt.id===T.id)?"selected":""}`,onClick:()=>{if(ue.find(xt=>xt.id===T.id)){de(ue.filter(er=>er.id!==T.id));const xt={...be};delete xt[T.id],Ue(xt)}else de([...ue,T])},children:[o.jsx("div",{className:"order-item-checkbox",children:o.jsx("div",{className:"checkbox-outer",children:ue.find(xt=>xt.id===T.id)&&o.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:o.jsx("path",{d:"M2 6L5 9L10 3",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),o.jsxs("div",{className:"order-item-content",children:[o.jsx("div",{className:"order-item-name",children:((he=T.materialDetails)==null?void 0:he.materialName)||"Unnamed Item"}),o.jsxs("div",{className:"order-item-meta",children:[o.jsxs("span",{className:"order-item-cost",children:["$",((dt=(Qe=T.costBreakdown)==null?void 0:Qe.totalCost)==null?void 0:dt.toFixed(2))||"0.00"]}),o.jsx("span",{className:"order-item-separator",children:""}),o.jsx("span",{className:"order-item-team",children:(Nt=T.submissionDetails)==null?void 0:Nt.subteam})]})]})]},T.id)})})}),ue.length>0&&o.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(16, 185, 129, 0.08)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"6px",color:"var(--text)"},children:[o.jsx("strong",{style:{color:"#10b981"},children:ue.length})," additional order(s) selected ",o.jsxs("strong",{style:{color:"#10b981",marginLeft:"0.5rem"},children:["Total: $",(Q.costBreakdown.totalCost+ue.reduce((T,he)=>T+he.costBreakdown.totalCost,0)).toFixed(2)]})]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h4",{children:"Delivery Information"}),q?o.jsxs(o.Fragment,{children:[o.jsx("p",{style:{fontSize:"0.9rem",color:"var(--muted)",marginBottom:"12px"},children:"Set expected delivery date for each product:"}),[Q,...ue].map(T=>o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{children:[T.materialDetails.materialName," *"]}),o.jsx("input",{type:"date",value:be[T.id]||"",onChange:he=>Ue({...be,[T.id]:he.target.value}),required:!0,min:new Date().toISOString().split("T")[0]})]},T.id))]}):o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Expected Delivery Date *"}),o.jsx("input",{type:"date",value:V.expectedDeliveryDate,onChange:T=>O({...V,expectedDeliveryDate:T.target.value}),required:!0,min:new Date().toISOString().split("T")[0]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Delivery Notes"}),o.jsx("textarea",{value:V.deliveryNotes,onChange:T=>O({...V,deliveryNotes:T.target.value}),placeholder:"Add any custom notes about the delivery (e.g., special handling, expected carrier, etc.)",rows:"4"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Tracking Number (Optional)"}),o.jsx("input",{type:"text",value:V.trackingNumber,onChange:T=>O({...V,trackingNumber:T.target.value}),placeholder:"Enter tracking number if available"})]}),o.jsxs("div",{className:"form-group",style:{position:"relative"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:["Purchase Order Number",o.jsx("button",{type:"button","aria-label":"What is this?",onClick:()=>Se(!Ae),style:{background:"transparent",border:"none",color:"var(--muted)",cursor:"pointer",fontSize:"0.95rem"},title:"What is this?",children:""})]}),o.jsx("input",{type:"text",value:Q!=null&&Q.id?Q.id.toString():"",readOnly:!0,className:"inline-edit-input",style:{background:"rgba(255,255,255,0.1)",color:"var(--text)",border:"1px solid #555",borderRadius:"4px"}}),Ae&&o.jsxs("div",{role:"note",className:"po-info-box",style:{marginTop:"8px",padding:"10px",background:"rgba(0,0,0,0.06)",borderRadius:"6px",fontSize:"0.92rem",lineHeight:"1.25"},children:[o.jsx("strong",{children:"Internal Order Number:"})," This number is assigned automatically for SolarPack internal records. It links receipts and documentation to this specific SolarPack order for accounting and tracking. It is not the vendor's or merchant's order number (for example, Amazon's order number) and should not be used as the external shipment or merchant reference."]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Receipt PDF *"}),q&&ue.length>0&&o.jsxs("div",{className:"multi-product-receipt-warning info",children:[o.jsx("div",{className:"info-icon","aria-hidden":!0,children:o.jsx("svg",{width:"36",height:"36",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"info",children:o.jsxs("g",{fill:"none",fillRule:"evenodd",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#fff",opacity:"0"}),o.jsx("path",{d:"M12 7.5a1 1 0 100 2 1 1 0 000-2zm-.75 4.25h1.5v4.5h-1.5z",fill:"currentColor",transform:"translate(0 0)"})]})})}),o.jsxs("div",{className:"info-content",children:[o.jsx("strong",{children:"Single Receipt for All Items"}),o.jsxs("p",{children:["Upload ONE receipt that covers all ",1+ue.length," products in this purchase. This receipt will be shared across all selected orders."]})]})]}),o.jsxs("div",{className:`image-upload-area ${fe?"has-image":""}`,onDrop:cs,onDragOver:us,onDragEnter:us,onDragLeave:on,onClick:()=>{var T;return(T=document.getElementById("receipt-file-input"))==null?void 0:T.click()},style:{cursor:"pointer"},children:[fe?o.jsxs("div",{className:"image-preview-container",children:[o.jsxs("div",{className:"file-preview",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{width:36,height:36},children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"17 8 12 3 7 8"}),o.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),o.jsxs("div",{style:{marginLeft:12},children:[o.jsx("div",{style:{fontWeight:600},children:I}),o.jsx("div",{style:{fontSize:"0.85rem",color:"var(--muted)"},children:(fe&&(fe.size/1024/1024).toFixed(2))+" MB"})]})]}),o.jsx("button",{className:"remove-image-btn",onClick:T=>{T.stopPropagation(),Wn()},title:"Remove file",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}):o.jsxs("div",{className:"upload-placeholder",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"17 8 12 3 7 8"}),o.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),o.jsx("p",{children:"Drop PDF here or click to upload"}),o.jsx("p",{className:"upload-hint",children:"PDF only  Max 1MB"})]}),o.jsx("input",{id:"receipt-file-input",type:"file",accept:"application/pdf",onChange:T=>mt(T.target.files[0]),style:{display:"none"}})]})]})]}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>L(!1),children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn-submit",children:"Confirm Purchase"})]})]})]})]})}),k&&o.jsx("div",{className:"modal-overlay",onClick:()=>$(!1),children:o.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:720},children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Download Orders & Receipts"}),o.jsx("button",{className:"modal-close",onClick:()=>$(!1),children:""})]}),o.jsxs("div",{className:"modal-body",children:[o.jsx("div",{className:"download-description",children:o.jsx("p",{children:"Select a date range and choose your download option. Files will be prepared for download based on your selection."})}),o.jsxs("form",{onSubmit:De,children:[o.jsxs("div",{className:"form-section",children:[o.jsx("h4",{children:"Date Range"}),o.jsxs("div",{className:"date-range-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Start Date *"}),o.jsx("div",{className:"input-with-icon",style:{position:"relative"},children:o.jsx("input",{type:"date",value:D,onChange:T=>U(T.target.value),required:!0,style:{paddingRight:"20px",background:"linear-gradient(to right, transparent 0%, transparent 80%, white 80%, white 100%)"}})})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"End Date *"}),o.jsx("div",{className:"input-with-icon",style:{position:"relative"},children:o.jsx("input",{type:"date",value:H,onChange:T=>S(T.target.value),required:!0,style:{paddingRight:"20px",background:"linear-gradient(to right, transparent 0%, transparent 80%, white 80%, white 100%)"}})})]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h4",{children:"Download Type"}),o.jsxs("div",{className:"download-options-grid",children:[o.jsxs("label",{className:`download-option-card ${ee==="all"?"selected":""}`,children:[o.jsx("input",{type:"radio",name:"downloadOption",value:"all",checked:ee==="all",onChange:()=>ge("all"),className:"sr-only"}),o.jsxs("div",{className:"option-header",children:[o.jsx("div",{className:"option-icon",children:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),o.jsx("polyline",{points:"14,2 14,8 20,8"}),o.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),o.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),o.jsx("polyline",{points:"10,9 9,9 8,9"})]})}),o.jsx("div",{className:"option-check",children:o.jsx("div",{className:"checkmark"})})]}),o.jsxs("div",{className:"option-content",children:[o.jsx("h5",{children:"Complete Order Package"}),o.jsx("p",{children:"Full order details PDF with separate receipt files for comprehensive records"}),o.jsxs("ul",{className:"option-features",children:[o.jsx("li",{children:"Order submission details"}),o.jsx("li",{children:"Material specifications"}),o.jsx("li",{children:"Cost breakdown"}),o.jsx("li",{children:"Approval workflow"}),o.jsx("li",{children:"Separate receipt files"})]})]})]}),o.jsxs("label",{className:`download-option-card ${ee==="receipts"?"selected":""}`,children:[o.jsx("input",{type:"radio",name:"downloadOption",value:"receipts",checked:ee==="receipts",onChange:()=>ge("receipts"),className:"sr-only"}),o.jsxs("div",{className:"option-header",children:[o.jsx("div",{className:"option-icon",children:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"17,8 12,3 7,8"}),o.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})}),o.jsx("div",{className:"option-check",children:o.jsx("div",{className:"checkmark"})})]}),o.jsxs("div",{className:"option-content",children:[o.jsx("h5",{children:"Receipts Only"}),o.jsx("p",{children:"Just the uploaded receipt PDFs for accounting and reimbursement purposes"}),o.jsxs("ul",{className:"option-features",children:[o.jsx("li",{children:"Individual receipt files"}),o.jsx("li",{children:"Purchase documentation"}),o.jsx("li",{children:"Accounting records"}),o.jsx("li",{children:"Faster download"}),o.jsx("li",{children:"Smaller file size"})]})]})]})]})]}),D&&H&&o.jsxs("div",{className:"download-summary",children:[o.jsx("div",{className:"summary-icon",children:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"7,10 12,15 17,10"}),o.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),o.jsxs("div",{className:"summary-content",children:[o.jsx("strong",{children:"Ready to download"}),o.jsxs("span",{children:[ee==="all"?"Complete order packages with receipts":"Individual receipt files only"," from ",new Date(D).toLocaleDateString()," to ",new Date(H).toLocaleDateString()]}),Ge==="saving"&&o.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.8rem",color:"#3b82f6"},children:"Gathering receipts... This may take a moment."})]})]}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>$(!1),children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn-primary",disabled:!D||!H||Ge==="saving",children:Ge==="saving"?o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Preparing Download..."}),o.jsx("div",{className:"loading-spinner",style:{width:"16px",height:"16px",border:"2px solid transparent",borderTop:"2px solid currentColor",borderRadius:"50%",animation:"spin 1s linear infinite",marginLeft:"8px"}})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Prepare Download"}),o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginLeft:"8px"},children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"7,10 12,15 17,10"}),o.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})]})})]})]})]})]})}),le&&se&&o.jsx("div",{className:"modal-overlay",onClick:()=>ne(!1),children:o.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Approve or Deny Order"}),o.jsx("button",{className:"modal-close",onClick:()=>ne(!1),children:""})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"approval-order-summary",children:[o.jsx("h4",{children:se.materialDetails.materialName}),o.jsxs("p",{children:[o.jsx("strong",{children:"Subteam:"})," ",se.submissionDetails.subteam]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Submitter:"})," ",se.submissionDetails.submitterName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Total Cost:"})," $",se.costBreakdown.totalCost.toFixed(2)]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Purpose:"})," ",((Na=se.projectDetails)==null?void 0:Na.purpose)||"N/A"]})]}),o.jsx("div",{className:"form-section",children:o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Comments / Reason"}),o.jsx("textarea",{value:re,onChange:T=>F(T.target.value),placeholder:"Add comments for approval or reason for denial...",rows:"4"})]})}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>ne(!1),children:"Cancel"}),o.jsx("button",{type:"button",className:"btn-deny",onClick:async()=>{if(!re.trim()){await ke("Please provide a reason for denial","Denial Reason Required");return}await Ve("Are you sure you want to deny this order? This action will notify the submitter.","Confirm Denial")&&(await nt(se.id,{type:"director_approval",approved:!1,approvedBy:me(),denialReason:re}),ne(!1),ye(null),F(""))},children:" Deny Order"}),o.jsx("button",{type:"button",className:"btn-approve",onClick:async()=>{await nt(se.id,{type:"director_approval",approved:!0,approvedBy:me(),comments:re||"Approved by director"}),ne(!1),ye(null),F("")},children:" Approve Order"})]})]})]})})]}):o.jsx("div",{className:"no-permission",children:"You don't have permission to view orders. Contact a team leader for access."})});uk.displayName="OrderManager";const dk=W.forwardRef((t,e)=>{const[r,n]=W.useState([]),[s,i]=W.useState(!0),[a,A]=W.useState(!1),[l,c]=W.useState(null),[u,h]=W.useState(null),[p,d]=W.useState(null),[w,m]=W.useState(!1),[y,g]=W.useState({title:"",author:"",sections:[{id:"s-1",type:"text",content:""}],image_url:"",link_url:"",link_text:"",published:!1});W.useRef(null),W.useRef(null);const{showError:b,showConfirm:B,showSuccess:C}=li(),{status:N,lastSync:L,connectionError:Q,startSaving:P,finishSaving:k,acknowledgeNewData:$,setDisplayedData:D,forceReconnect:U}=Zd(()=>ze.getBlogs(),3e3);W.useEffect(()=>{H()},[]),W.useEffect(()=>{const Ae=async()=>{!document.hidden&&!s&&(console.log(" Tab visible - refreshing blogs"),await new Promise(Se=>setTimeout(Se,300)),H())};return document.addEventListener("visibilitychange",Ae),()=>document.removeEventListener("visibilitychange",Ae)},[s]);const H=async()=>{i(!0);try{const Ae=await ze.getBlogs();n(Ae||[]),D(Ae),$()}catch(Ae){console.error("Error loading blogs:",Ae),await b(`Failed to load blogs: ${Ae.message}`,"Load Error"),n([])}finally{i(!1)}},S=async()=>{N==="error"&&await U(),await H(),$()};W.useImperativeHandle(e,()=>({handleAddBlog:()=>{ee()}}));const ee=(Ae=null)=>{if(Ae){c(Ae);const Se=fe=>{try{const pe=new DOMParser().parseFromString(`<div>${fe||""}</div>`,"text/html").body.firstChild,Y=[];if(!pe)return[{id:`s-${Date.now()}`,type:"text",content:fe||""}];let K="";return pe.childNodes.forEach(J=>{if(J.nodeType===Node.ELEMENT_NODE){const xe=J,_e=xe.getElementsByTagName&&xe.getElementsByTagName("img");if(_e&&_e.length===1&&xe.childNodes.length===1){K&&K.trim()&&(Y.push({id:`s-${Date.now()}-${Y.length}`,type:"text",content:K}),K="");const ve=_e[0];Y.push({id:`s-${Date.now()}-${Y.length}`,type:"image",content:ve.src||""});return}K+=xe.outerHTML||xe.innerHTML||""}else if(J.nodeType===Node.TEXT_NODE){const xe=J.textContent||"";xe.trim()&&(K+=xe)}}),K&&K.trim()&&Y.push({id:`s-${Date.now()}-${Y.length}`,type:"text",content:K}),Y.length===0?[{id:`s-${Date.now()}`,type:"text",content:fe||""}]:Y}catch{return[{id:`s-${Date.now()}`,type:"text",content:fe||""}]}};g({title:Ae.title,author:Ae.author,sections:Se(Ae.body),image_url:Ae.image_url||"",link_url:Ae.link_url||"",link_text:Ae.link_text||"",published:Ae.published}),h(null),d(Ae.image_url||null)}else c(null),g({title:"",author:"",sections:[{id:"s-1",type:"text",content:""}],image_url:"",link_url:"",link_text:"",published:!1}),h(null),d(null);A(!0)},ge=()=>{A(!1),c(null),h(null),d(null),g({title:"",author:"",sections:[{id:"s-1",type:"text",content:""}],image_url:"",link_url:"",link_text:"",published:!1})},le=async Ae=>{if(!Ae)return;if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(Ae.type)){await b("Please upload a JPEG, PNG, WebP, or GIF image.","Invalid File Type");return}const fe=5*1024*1024;if(Ae.size>fe){await b("Maximum file size is 5MB. Please choose a smaller image.","File Too Large");return}h(Ae);const x=new FileReader;x.onloadend=()=>{d(x.result)},x.readAsDataURL(Ae)},ne=Ae=>{Ae.preventDefault(),Ae.stopPropagation();const Se=Ae.dataTransfer.files[0];Se&&le(Se)},se=Ae=>{Ae.preventDefault(),Ae.stopPropagation()},ye=()=>{h(null),d(null),g({...y,image_url:""})},re=(Ae,Se,fe=null)=>{try{const x=V.current&&V.current[Ae];x&&typeof x.focus=="function"&&x.focus(),document.execCommand&&document.execCommand(Se,!1,fe)}catch(x){console.warn("execCommandOnSection failed",x)}},F=(Ae,Se)=>{g(fe=>({...fe,sections:fe.sections.map(x=>x.id===Ae?{...x,content:Se}:x)}))},V=W.useRef({}),O=(Ae="text")=>{const Se=`sec-${Date.now()}`,fe=Ae==="text"?{id:Se,type:"text",content:""}:{id:Se,type:"image",file:null,preview:null};g(x=>({...x,sections:[...x.sections,fe]}))},q=async Ae=>{const Se=y.sections.find(fe=>fe.id===Ae);if(Se){if(Se.type==="image"){const fe=Se.content||Se.preview||"";try{typeof fe=="string"&&fe.includes("/blog-images/")&&fe.includes("blog-inline/")&&await ze.deleteBlogInlineImage(fe)}catch(x){console.error("Failed to delete inline image from storage:",x),await b(`Failed to remove image from storage: ${x.message}`,"Delete Error")}}g(fe=>({...fe,sections:fe.sections.filter(x=>x.id!==Ae)}))}},ce=(Ae,Se)=>{g(fe=>{const x=[...fe.sections],I=x.findIndex(K=>K.id===Ae);if(I===-1)return fe;const pe=Se==="up"?I-1:I+1;if(pe<0||pe>=x.length)return fe;const Y=x[pe];return x[pe]=x[I],x[I]=Y,{...fe,sections:x}})},ue=(Ae,Se)=>{if(!Se)return;if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(Se.type)){b("Please upload a JPEG, PNG, WebP, or GIF image.","Invalid File Type");return}const x=5*1024*1024;if(Se.size>x){b("Maximum file size is 5MB. Please choose a smaller image.","File Too Large");return}const I=new FileReader;I.onloadend=()=>{g(pe=>({...pe,sections:pe.sections.map(Y=>Y.id===Ae?{...Y,file:Se,preview:I.result}:Y)}))},I.readAsDataURL(Se)},de=async()=>{const Ae=Array.isArray(y.sections)?y.sections.map(fe=>{if(fe.type==="text"){const x=V.current[fe.id],I=x?x.innerHTML:fe.content||"";return{...fe,content:I}}return fe}):[],Se=Array.isArray(Ae)&&Ae.some(fe=>fe.type==="text"?fe.content&&fe.content.trim()!=="":fe.type==="image"?!!fe.file||!!fe.preview||!!fe.content:!1);if(!y.title.trim()||!y.author.trim()||!Se){await b("Please fill in all required fields (title, author, body sections)","Required Fields");return}P();try{let fe={...y,sections:Ae};const x=(I,pe={})=>I.map(Y=>{if(Y.type==="text")return Y.content||"";if(Y.type==="image"){const K=pe[Y.id]||Y.content||Y.preview||"";return K?`<p><img src="${K}"/></p>`:""}return""}).join("");if(l){if(u){m(!0);try{const K=await ze.uploadBlogImage(u,l.id);fe.image_url=K,console.log(" Header image uploaded successfully:",K)}catch(K){throw console.error("Error uploading header image:",K),await b(`Failed to upload image: ${K.message}`,"Upload Error"),K}finally{m(!1)}}const I={};for(const K of fe.sections)if(K.type==="image"&&K.file)try{const J=await ze.uploadBlogInlineImage(K.file,l.id);I[K.id]=J}catch(J){throw console.error("Error uploading inline image:",J),await b(`Failed to upload inline image: ${J.message}`,"Upload Error"),J}fe.body=x(fe.sections,I);const pe=await ze.updateBlog(l.id,fe),Y=r.map(K=>K.id===l.id?pe:K);n(Y),D(Y),await C("Blog updated successfully")}else{const I=await ze.createBlog({title:fe.title,author:fe.author,body:"",image_url:fe.image_url||null,link_url:fe.link_url||null,link_text:fe.link_text||null,published:fe.published||!1}),pe={};if(u){m(!0);try{pe.image_url=await ze.uploadBlogImage(u,I.id),console.log(" Header image uploaded for new blog:",pe.image_url)}catch(ve){throw console.error("Error uploading header image for new blog:",ve),await b(`Failed to upload image: ${ve.message}`,"Upload Error"),ve}finally{m(!1)}}const Y={};for(const ve of y.sections)if(ve.type==="image"&&ve.file)try{const ke=await ze.uploadBlogInlineImage(ve.file,I.id);Y[ve.id]=ke}catch(ke){throw console.error("Error uploading inline image for new blog:",ke),await b(`Failed to upload inline image: ${ke.message}`,"Upload Error"),ke}const K=x(y.sections,Y),J={...pe,body:K};let xe=I;Object.keys(J).length>0&&(xe=await ze.updateBlog(I.id,J));const _e=[xe,...r];n(_e),D(_e),await C("Blog created successfully")}h(null),d(null),ge(),k()}catch(fe){console.error("Error saving blog:",fe),k(),await b(`Failed to save blog: ${fe.message}`,"Save Error")}},be=async Ae=>{if(await B("Are you sure you want to delete this blog post? This action cannot be undone.","Delete Blog")){P();try{try{const x=r.find(I=>I.id===Ae);if(x&&x.image_url&&x.image_url.includes("/blog-images/")){const I=x.image_url.split("/blog-images/");if(I.length>=2){const pe=decodeURIComponent(I[1].split("?")[0]);await ze.client.storage.from("blog-images").remove([pe]),console.log("Deleted blog header image from storage:",pe)}}try{if(x&&x.body){const Y=new DOMParser().parseFromString(`<div>${x.body}</div>`,"text/html").getElementsByTagName("img");for(let K=0;K<Y.length;K++){const J=Y[K].getAttribute("src")||"";if(J.includes("/blog-images/")&&J.includes("blog-inline/"))try{await ze.deleteBlogInlineImage(J),console.log("Deleted inline image from storage:",J)}catch(xe){console.warn("Failed to delete inline image:",J,xe)}}}}catch(I){console.warn("Error while attempting to parse/delete inline images:",I)}}catch(x){console.error("Error while attempting to remove blog image before delete:",x)}await ze.deleteBlog(Ae);const fe=r.filter(x=>x.id!==Ae);n(fe),D(fe),k(),await C("Blog deleted successfully")}catch(fe){console.error("Error deleting blog:",fe),k(),await b(`Failed to delete blog: ${fe.message}`,"Delete Error")}}},Ue=async Ae=>{P();try{const Se={...Ae,published:!Ae.published};await ze.updateBlog(Ae.id,Se);const fe=r.map(x=>x.id===Ae.id?Se:x);n(fe),D(fe),k(),await C(`Blog ${Se.published?"published":"unpublished"} successfully`)}catch(Se){console.error("Error toggling publish status:",Se),k(),await b(`Failed to update publish status: ${Se.message}`,"Update Error")}};return s?o.jsx("div",{className:"loading",children:"Loading blogs..."}):o.jsxs("div",{className:"blog-manager",children:[o.jsxs("div",{className:"blog-header",children:[o.jsx("h2",{className:"blog-title",children:"Blog Manager"}),o.jsxs("div",{className:"header-actions",children:[o.jsx(eh,{status:N,lastSync:L,onRefresh:S,connectionError:Q}),o.jsx("button",{className:"btn-primary",onClick:()=>ee(),children:"+ New Blog Post"})]})]}),r.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("h3",{children:"No blog posts yet"}),o.jsx("p",{children:"Create your first blog post to get started!"})]}):o.jsx("div",{className:"blog-grid",children:r.map(Ae=>o.jsxs("div",{className:"blog-card",children:[o.jsx("div",{className:"blog-card-header",children:o.jsx("span",{className:`blog-status ${Ae.published?"published":"draft"}`,children:Ae.published?" Published":" Draft"})}),Ae.image_url&&o.jsx("img",{src:Ae.image_url,alt:Ae.title,className:"blog-card-image"}),o.jsx("h3",{className:"blog-card-title",children:Ae.title}),o.jsxs("p",{className:"blog-card-author",children:["By ",Ae.author]}),o.jsx("div",{className:"blog-card-body",dangerouslySetInnerHTML:{__html:Ae.body}}),o.jsxs("div",{className:"blog-card-meta",children:["Last edited: ",new Date(Ae.updated_at).toLocaleString()]}),o.jsxs("div",{className:"blog-card-actions",children:[o.jsx("button",{className:"btn-edit",onClick:()=>ee(Ae),title:"Edit",children:o.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.4em"},children:[o.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{verticalAlign:"middle"},children:[o.jsx("path",{d:"M12 20h9"}),o.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"})]}),"Edit"]})}),o.jsx("button",{className:`btn-toggle ${Ae.published?"unpublish":""}`,onClick:()=>Ue(Ae),title:Ae.published?"Unpublish":"Publish",children:o.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.4em"},children:[Ae.published?o.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{verticalAlign:"middle"},children:o.jsx("path",{d:"M4 4v16h16V4H4zm8 8v4m0-4V8m0 4h4m-4 0H8"})}):o.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{verticalAlign:"middle"},children:o.jsx("path",{d:"M5 12h14M12 5v14"})}),Ae.published?"Unpublish":"Publish"]})}),o.jsx("button",{className:"btn-delete",onClick:()=>be(Ae.id),title:"Delete",children:o.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.4em"},children:[o.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{verticalAlign:"middle"},children:[o.jsx("polyline",{points:"3 6 5 6 21 6"}),o.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2"}),o.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),o.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),"Delete"]})})]})]},Ae.id))}),a&&o.jsx("div",{className:"modal-overlay",onClick:ge,children:o.jsxs("div",{className:"modal-content",onClick:Ae=>Ae.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:l?"Edit Blog Post":"New Blog Post"}),o.jsx("button",{className:"modal-close",onClick:ge,children:""})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Title *"}),o.jsx("input",{type:"text",value:y.title,onChange:Ae=>g({...y,title:Ae.target.value}),placeholder:"Enter blog title"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Author *"}),o.jsx("input",{type:"text",value:y.author,onChange:Ae=>g({...y,author:Ae.target.value}),placeholder:"Enter author name"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Header Image (optional)"}),o.jsxs("div",{className:`image-upload-area ${p?"has-image":""}`,onDrop:ne,onDragOver:se,onClick:()=>document.getElementById("blog-image-input").click(),children:[p?o.jsxs("div",{className:"image-preview-container",children:[o.jsx("img",{src:p,alt:"Preview",className:"image-preview"}),o.jsx("button",{className:"remove-image-btn",onClick:Ae=>{Ae.stopPropagation(),ye()},title:"Remove image",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}):o.jsxs("div",{className:"upload-placeholder",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"17 8 12 3 7 8"}),o.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),o.jsx("p",{children:"Drop image here or click to upload"}),o.jsx("p",{className:"upload-hint",children:"JPG, PNG, WebP, or GIF  Max 5MB"})]}),o.jsx("input",{id:"blog-image-input",type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:Ae=>le(Ae.target.files[0]),style:{display:"none"}})]}),w&&o.jsx("p",{className:"upload-status",children:"Uploading image..."})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Link URL (optional)"}),o.jsx("input",{type:"url",value:y.link_url,onChange:Ae=>g({...y,link_url:Ae.target.value}),placeholder:"https://example.com/article"}),o.jsx("small",{style:{color:"var(--subtxt)",fontSize:"0.85rem",marginTop:"0.25rem",display:"block"},children:"Optional link button displayed at the top of the article"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Link Button Text (optional)"}),o.jsx("input",{type:"text",value:y.link_text,onChange:Ae=>g({...y,link_text:Ae.target.value}),placeholder:"Read Full Article"}),o.jsx("small",{style:{color:"var(--subtxt)",fontSize:"0.85rem",marginTop:"0.25rem",display:"block"},children:'Text for the link button (defaults to "Read More" if not provided)'})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Body *"}),o.jsxs("div",{className:"rich-text-editor",children:[o.jsx("div",{className:"sections-list",children:Array.isArray(y.sections)&&y.sections.map((Ae,Se)=>o.jsxs("div",{className:"section-item",children:[o.jsxs("div",{className:"section-controls",children:[o.jsxs("strong",{children:["Section ",Se+1]}),o.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[o.jsx("button",{type:"button",className:"btn-small",onClick:()=>ce(Ae.id,"up"),title:"Move up","aria-label":`Move section ${Se+1} up`,children:o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("polyline",{points:"18 15 12 9 6 15"})})}),o.jsx("button",{type:"button",className:"btn-small",onClick:()=>ce(Ae.id,"down"),title:"Move down","aria-label":`Move section ${Se+1} down`,children:o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("polyline",{points:"6 9 12 15 18 9"})})}),o.jsx("button",{type:"button",className:"btn-small btn-delete",onClick:()=>q(Ae.id),title:"Remove section","aria-label":`Remove section ${Se+1}`,children:o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("polyline",{points:"3 6 5 6 21 6"}),o.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),o.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),o.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})]}),Ae.type==="text"?o.jsxs("div",{className:"section-editor",children:[o.jsxs("div",{className:"editor-toolbar",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[o.jsxs("div",{className:"toolbar-group",children:[o.jsxs("select",{className:"font-select",onChange:fe=>re(Ae.id,"fontName",fe.target.value),defaultValue:"Arial",children:[o.jsx("option",{value:"Arial",children:"Arial"}),o.jsx("option",{value:"Georgia",children:"Georgia"}),o.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),o.jsx("option",{value:"Verdana",children:"Verdana"}),o.jsx("option",{value:"Courier New",children:"Courier New"})]}),o.jsxs("select",{className:"size-select",onChange:fe=>re(Ae.id,"fontSize",fe.target.value),defaultValue:"3",children:[o.jsx("option",{value:"1",children:"Small"}),o.jsx("option",{value:"2",children:"Normal"}),o.jsx("option",{value:"3",children:"Large"}),o.jsx("option",{value:"4",children:"X-Large"}),o.jsx("option",{value:"5",children:"XX-Large"})]})]}),o.jsxs("div",{className:"toolbar-group",children:[o.jsx("button",{className:"toolbar-btn",onClick:()=>re(Ae.id,"bold"),title:"Bold",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"}),o.jsx("path",{d:"M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"})]})}),o.jsx("button",{className:"toolbar-btn",onClick:()=>re(Ae.id,"italic"),title:"Italic",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"19",y1:"4",x2:"10",y2:"4"}),o.jsx("line",{x1:"14",y1:"20",x2:"5",y2:"20"}),o.jsx("line",{x1:"15",y1:"4",x2:"9",y2:"20"})]})}),o.jsx("button",{className:"toolbar-btn",onClick:()=>re(Ae.id,"underline"),title:"Underline",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"}),o.jsx("line",{x1:"4",y1:"21",x2:"20",y2:"21"})]})})]}),o.jsxs("div",{className:"toolbar-group",children:[o.jsx("button",{className:"toolbar-btn",onClick:()=>re(Ae.id,"justifyLeft"),title:"Align Left",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"21",y1:"10",x2:"3",y2:"10"}),o.jsx("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),o.jsx("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),o.jsx("line",{x1:"21",y1:"18",x2:"3",y2:"18"})]})}),o.jsx("button",{className:"toolbar-btn",onClick:()=>re(Ae.id,"justifyCenter"),title:"Align Center",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"17",y1:"10",x2:"7",y2:"10"}),o.jsx("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),o.jsx("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),o.jsx("line",{x1:"17",y1:"18",x2:"7",y2:"18"})]})}),o.jsx("button",{className:"toolbar-btn",onClick:()=>re(Ae.id,"justifyRight"),title:"Align Right",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"21",y1:"10",x2:"3",y2:"10"}),o.jsx("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),o.jsx("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),o.jsx("line",{x1:"21",y1:"18",x2:"3",y2:"18"})]})})]}),o.jsxs("div",{className:"toolbar-group",children:[o.jsx("button",{className:"toolbar-btn",onClick:()=>re(Ae.id,"insertUnorderedList"),title:"Bullet List",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),o.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),o.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),o.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),o.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),o.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]})}),o.jsx("button",{className:"toolbar-btn",onClick:()=>re(Ae.id,"insertOrderedList"),title:"Numbered List",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"10",y1:"6",x2:"21",y2:"6"}),o.jsx("line",{x1:"10",y1:"12",x2:"21",y2:"12"}),o.jsx("line",{x1:"10",y1:"18",x2:"21",y2:"18"}),o.jsx("path",{d:"M4 6h1v4H4V6zm2.5 12H6V6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5V18a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1v-4zm0-6h-1V8h1v4z"})]})})]}),o.jsx("div",{className:"toolbar-group",children:o.jsx("button",{className:"toolbar-btn",onClick:()=>{const fe=prompt("Enter URL:");fe&&re(Ae.id,"createLink",fe)},title:"Insert Link",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),o.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]})})})]}),o.jsx("div",{ref:fe=>{V.current[Ae.id]=fe;try{fe&&Ae.content!=null&&fe.innerHTML!==Ae.content&&document.activeElement!==fe&&(fe.innerHTML=Ae.content)}catch{}},className:"editor-content section-text",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:fe=>F(Ae.id,fe.currentTarget.innerHTML)})]}):o.jsxs("div",{className:`image-upload-area ${Ae.preview||Ae.content?"has-image":""}`,onDrop:fe=>{fe.preventDefault(),fe.stopPropagation();const x=fe.dataTransfer.files[0];x&&ue(Ae.id,x)},onDragOver:fe=>fe.preventDefault(),onClick:()=>document.getElementById(`sec-img-${Ae.id}`).click(),children:[Ae.preview||Ae.content?o.jsxs("div",{className:"image-preview-container",children:[o.jsx("img",{src:Ae.preview||Ae.content,alt:"Preview",className:"image-preview"}),o.jsx("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:o.jsx("button",{className:"remove-image-btn",onClick:fe=>{(async()=>{fe.stopPropagation();try{const x=Ae.content||"";typeof x=="string"&&x.includes("/blog-images/")&&x.includes("blog-inline/")&&await ze.deleteBlogInlineImage(x)}catch(x){console.error("Failed to delete inline image from storage:",x);try{await b(`Failed to remove image from storage: ${x.message}`,"Delete Error")}catch{}}finally{g(x=>({...x,sections:x.sections.map(I=>I.id===Ae.id?{...I,file:null,preview:null,content:""}:I)}))}})()},title:"Remove image","aria-label":"Remove image",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]}):o.jsxs("div",{className:"upload-placeholder",children:[o.jsx("p",{children:"Drop image here or click to upload"}),o.jsx("p",{className:"upload-hint",children:"JPG, PNG, WebP, or GIF  Max 5MB"})]}),o.jsx("input",{id:`sec-img-${Ae.id}`,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:fe=>ue(Ae.id,fe.target.files[0]),style:{display:"none"}})]})]},Ae.id))}),o.jsxs("div",{className:"sections-actions",children:[o.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>O("text"),children:"+ Text Section"}),o.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>O("image"),children:"+ Image Section"})]})]})]}),o.jsx("div",{className:"form-group",children:o.jsxs("div",{className:"form-check",children:[o.jsx("input",{type:"checkbox",id:"published",checked:y.published,onChange:Ae=>g({...y,published:Ae.target.checked})}),o.jsx("label",{htmlFor:"published",children:"Publish immediately"})]})})]}),o.jsxs("div",{className:"form-actions",children:[o.jsx("button",{className:"btn-secondary",onClick:ge,disabled:N==="saving",children:"Cancel"}),o.jsx("button",{className:"btn-primary",onClick:de,disabled:N==="saving","aria-busy":N==="saving",children:N==="saving"?o.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[o.jsx("div",{className:"loading-spinner",style:{width:16,height:16,border:"2px solid #333",borderTopColor:"var(--accent)",borderRadius:"50%"}}),o.jsx("span",{children:l?"Saving...":"Creating..."})]}):o.jsxs(o.Fragment,{children:[l?"Update":"Create"," Blog Post"]})})]})]})})]})});dk.displayName="BlogManager";const I7=()=>{const[t,e]=W.useState({first_name:"",last_name:"",phone_number:""}),[r,n]=W.useState(!0),[s,i]=W.useState(!1),a=li();W.useEffect(()=>{let u=!0;return(async()=>{n(!0);try{await ht.waitForInit();const p=ht.getUser();if(!p){e({first_name:"",last_name:"",phone_number:""}),n(!1);return}const d={first_name:p.first_name||"",last_name:p.last_name||"",phone_number:p.phone_number||""};if(!d.first_name&&!d.last_name&&!d.phone_number){const w=await ze.getUserProfile(),m=w==null?void 0:w.role;m&&(d.first_name=m.first_name||"",d.last_name=m.last_name||"",d.phone_number=m.phone_number||"")}u&&e(d)}catch(p){console.error("Failed to load profile:",p)}finally{u&&n(!1)}})(),()=>{u=!1}},[]);const A=u=>{const{name:h,value:p}=u.target;e(d=>({...d,[h]:p}))},l=async()=>{i(!0);try{await ze.updateUserProfile(t),await ht.loadUserData();try{await a.showSuccess("Profile saved.")}catch{}}catch(u){console.error("Save failed:",u);const h=(u==null?void 0:u.message)||"Failed to save profile.";try{await a.showError(h)}catch{}}finally{i(!1)}},c=ht.getUser();return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        .settings-title {
          font-family: 'Bebas Neue', sans-serif;
          font-size: 2rem;
          color: var(--text);
          margin: 0;
          text-align: center;
        }

        .settings-page {
          display: flex;
          align-items: flex-start;
          justify-content: center;
          padding: 1.5rem;
          padding-bottom: 3rem;
          background: transparent;
        }

        .settings-card {
          width: 100%;
          max-width: 920px;
          background: var(--surface);
          padding: 24px;
          border-radius: var(--radius);
          box-shadow: 0 10px 30px rgba(0,0,0,0.12);
          color: var(--text);
          border: 1px solid rgba(0,0,0,0.06);
        }

        .settings-card-header {
          display: flex;
          align-items: center;
          gap: 18px;
          margin-bottom: 16px;
          padding-bottom: 14px;
          border-bottom: 1px solid rgba(0,0,0,0.06);
        }

        .avatar {
          width: 72px;
          height: 72px;
          border-radius: 50%;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          font-weight: 700;
          font-size: 28px;
          color: white;
          background: linear-gradient(135deg,var(--accent), #9b000b);
          box-shadow: 0 6px 18px rgba(0,0,0,0.18);
          flex-shrink: 0;
        }

        .profile-meta { display:flex; flex-direction:column; gap:4px; }
        .profile-email { font-size: 1.05rem; font-weight:700; color: var(--text); }
        .profile-attrs { display:flex; gap:10px; align-items:center; flex-wrap:wrap; font-size:0.86rem; color:var(--subtxt); }
        .profile-attrs .level { padding:4px 8px; border-radius:6px; border:1px solid rgba(0,0,0,0.06); background: transparent; font-weight:700; color:var(--text); }
        .profile-attrs .joined, .profile-attrs .specific-role { color:var(--subtxt); }

        .settings-row { display:flex; gap:1rem; margin:14px 0; align-items:center; }
        .settings-row label { min-width:140px; color:var(--subtxt); font-size:0.9rem; }
        .settings-input { flex:1; padding:0.7rem 0.9rem; border-radius:8px; border:1px solid rgba(0,0,0,0.08); background:var(--bg); color:var(--text); font-size:0.95rem; }
        .settings-input::placeholder { color: rgba(115,115,115,0.6); }
        .settings-input:focus { outline: none; box-shadow: 0 0 0 4px rgba(0,0,0,0.05); border-color: rgba(0,0,0,0.12); }

        .actions-row { display:flex; justify-content:flex-end; margin-top: 6px; }
        .actions-left { display:flex; gap:12px; align-items:center; }
        .btn { background:var(--accent); color:white; padding:0.6rem 1rem; border-radius:8px; border:none; cursor:pointer; font-weight:700; }
        .btn[disabled]{ opacity:0.65; cursor:not-allowed; }

        .footer-meta { margin-top: 14px; display:flex; gap:18px; flex-wrap:wrap; color:var(--subtxt); }
        .footer-meta .meta-item { font-size:0.9rem; display:flex; gap:6px; align-items:center; }

        @media (max-width: 720px) {
          .settings-card { padding: 16px; }
          .settings-row { flex-direction: column; align-items:stretch; }
          .settings-row label { min-width: auto; }
          .actions-row { justify-content: center; }
          .avatar { width: 60px; height: 60px; font-size:22px; }
        }
      `}),o.jsx("h1",{className:"settings-title",children:"Account Settings"}),o.jsx("div",{className:"settings-page",children:o.jsxs("div",{className:"settings-card",role:"region","aria-label":"Account settings",children:[o.jsxs("div",{className:"settings-card-header",children:[o.jsx("div",{className:"avatar","aria-hidden":!0,children:c!=null&&c.first_name||c!=null&&c.email?o.jsx("span",{children:((c==null?void 0:c.first_name)||(c==null?void 0:c.email)||"U").charAt(0).toUpperCase()}):o.jsx("span",{children:"U"})}),o.jsxs("div",{className:"profile-meta",children:[o.jsx("div",{className:"profile-email",children:(c==null?void 0:c.email)||"No email"}),o.jsxs("div",{className:"profile-attrs",children:[o.jsx("span",{className:"level",children:((c==null?void 0:c.level)||"member").toUpperCase()}),o.jsxs("span",{className:"joined",children:["Joined: ",c!=null&&c.joined_at?new Date(c.joined_at).toLocaleDateString():""]}),(c==null?void 0:c.specific_role)&&o.jsx("span",{className:"specific-role",children:c.specific_role})]})]})]}),r?o.jsx("div",{className:"settings-meta",children:"Loading..."}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"settings-row",children:[o.jsx("label",{htmlFor:"first_name",children:"First Name"}),o.jsx("input",{id:"first_name",className:"settings-input",name:"first_name",value:t.first_name,onChange:A,placeholder:"First name"})]}),o.jsxs("div",{className:"settings-row",children:[o.jsx("label",{htmlFor:"last_name",children:"Last Name"}),o.jsx("input",{id:"last_name",className:"settings-input",name:"last_name",value:t.last_name,onChange:A,placeholder:"Last name"})]}),o.jsxs("div",{className:"settings-row",children:[o.jsx("label",{htmlFor:"phone_number",children:"Phone"}),o.jsx("input",{id:"phone_number",className:"settings-input",name:"phone_number",value:t.phone_number,onChange:A,placeholder:"(555) 555-5555"})]}),o.jsx("div",{className:"actions-row",children:o.jsx("div",{className:"actions-left",children:o.jsx("button",{className:"btn",onClick:l,disabled:s,children:s?"Saving...":"Save"})})})]})]})})]})};const E0="file-storage",n5=[{id:"order-receipts",label:"Order Receipts",icon:"fa-receipt"},{id:"blog-images",label:"Blog Images",icon:"fa-newspaper"},{id:"sponsor-logos",label:"Sponsor Logos",icon:"fa-handshake"},{id:"team-images",label:"Team Images",icon:"fa-users"}],s5={image:{extensions:["jpg","jpeg","png","gif","webp","svg","bmp"],icon:"fa-file-image",class:"image"},pdf:{extensions:["pdf"],icon:"fa-file-pdf",class:"pdf"},document:{extensions:["doc","docx","txt","rtf","odt"],icon:"fa-file-word",class:"document"},spreadsheet:{extensions:["xls","xlsx","csv","ods"],icon:"fa-file-excel",class:"spreadsheet"},presentation:{extensions:["ppt","pptx","odp"],icon:"fa-file-powerpoint",class:"document"},video:{extensions:["mp4","webm","avi","mov","mkv"],icon:"fa-file-video",class:"video"},audio:{extensions:["mp3","wav","ogg","flac","aac"],icon:"fa-file-audio",class:"audio"},archive:{extensions:["zip","rar","7z","tar","gz"],icon:"fa-file-zipper",class:"archive"},code:{extensions:["js","jsx","ts","tsx","html","css","json","py"],icon:"fa-file-code",class:"document"},default:{icon:"fa-file",class:""}},i5=!1,L7=()=>{const[t,e]=W.useState([]),[r,n]=W.useState([]),[s,i]=W.useState(!0),[a,A]=W.useState(!1),[l,c]=W.useState([]),[u,h]=W.useState(new Set),[p,d]=W.useState("grid"),[w,m]=W.useState(""),[y,g]=W.useState(null),[b,B]=W.useState(null),[C,N]=W.useState(""),[L,Q]=W.useState(""),[P,k]=W.useState(!1),[$,D]=W.useState(null),U=W.useRef(null),H=W.useRef(null),S=W.useRef(null);W.useRef({pdf:null,renderTask:null});const{showConfirm:ee,showError:ge,showSuccess:le}=li(),[ne,se]=W.useState(!1),[ye,re]=W.useState(null),F=W.useRef(!1),V=W.useRef(0),O=ht.getLevel(),q=[eo.MEMBER,eo.LEADER,eo.DIRECTOR].includes(O),ce=W.useCallback(()=>P&&$?$:E0,[P,$]),ue=W.useCallback(()=>{if(P){const Be=t.slice(1);return $?Be.slice(1).join("/"):""}return t.join("/")},[t,P,$]),de=W.useCallback(async(Be=!1)=>{if(F.current&&!Be){console.log(" Load already in progress, skipping");return}Be&&(console.log(" Waiting for browser to restore before loading..."),await new Promise($e=>setTimeout($e,1e3)));const Ke=++V.current;F.current=!0,i(!0);try{if(!ze||!ze.client)throw new Error("Supabase not configured");if(await ze.ensureAuth(),Ke!==V.current){console.log(" Request superseded, ignoring response");return}if(t.length===0){const{data:$e,error:Pe}=await ze.client.storage.from(E0).list("",{limit:500,sortBy:{column:"name",order:"asc"}});if(Ke!==V.current){console.log(" Request superseded, ignoring response");return}if(Pe)throw Pe;const it={id:"website-data",name:"Website Data",isFolder:!0,isVirtual:!0,isProtected:!0,icon:"fa-folder",iconClass:""},nt=be($e||[]);n([it,...nt]),k(!1),D(null)}else if(t.length===1&&t[0]==="Website Data"){const $e=n5.map(Pe=>({id:Pe.id,name:Pe.label,isFolder:!0,isProtected:!0,bucketId:Pe.id,customIcon:Pe.icon}));n($e),k(!0),D(null)}else if(t[0]==="Website Data"&&t.length>=2){const $e=t[1],Pe=n5.find(it=>it.label===$e);if(Pe){k(!0),D(Pe.id);const it=t.slice(2).join("/"),{data:nt,error:Et}=await ze.client.storage.from(Pe.id).list(it,{limit:500,sortBy:{column:"name",order:"asc"}});if(Ke!==V.current){console.log(" Request superseded, ignoring response");return}if(Et)throw Et;const Ir=be(nt||[],!0);n(Ir)}}else{const $e=t.join("/"),{data:Pe,error:it}=await ze.client.storage.from(E0).list($e,{limit:500,sortBy:{column:"name",order:"asc"}});if(Ke!==V.current){console.log(" Request superseded, ignoring response");return}if(it)throw it;const nt=be(Pe||[]);n(nt),k(!1),D(null)}console.log(" Files loaded successfully")}catch($e){if(Ke!==V.current){console.log(" Request superseded, ignoring error");return}console.error("Failed to load files:",$e),await ge(`Failed to load files: ${$e.message}`,"Load Error"),n([])}finally{Ke===V.current&&(F.current=!1,i(!1))}},[t,ge]);W.useEffect(()=>{const Be=async()=>{document.hidden||(console.log(" Tab visible - will refresh files after delay"),V.current++,F.current=!1,de(!0))};return document.addEventListener("visibilitychange",Be),()=>{document.removeEventListener("visibilitychange",Be)}},[de]);const be=(Be,Ke=!1)=>Be.map($e=>{var it,nt;const Pe=$e.id===null;return{id:$e.id||$e.name,name:$e.name,isFolder:Pe,isProtected:Ke,size:((it=$e.metadata)==null?void 0:it.size)||0,mimeType:((nt=$e.metadata)==null?void 0:nt.mimetype)||"",lastModified:$e.updated_at||$e.created_at||"",...Ue($e.name,Pe)}}),Ue=(Be,Ke)=>{var Pe,it;if(Ke)return{icon:"fa-folder",iconClass:""};const $e=((Pe=Be.split(".").pop())==null?void 0:Pe.toLowerCase())||"";for(const[nt,Et]of Object.entries(s5))if(nt!=="default"&&((it=Et.extensions)!=null&&it.includes($e)))return{icon:Et.icon,iconClass:Et.class,fileType:nt};return{icon:s5.default.icon,iconClass:"",fileType:"unknown"}},Ae=Be=>{if(!Be||Be===0)return"-";const Ke=["B","KB","MB","GB"];let $e=Be,Pe=0;for(;$e>=1024&&Pe<Ke.length-1;)$e/=1024,Pe++;return`${$e.toFixed(1)} ${Ke[Pe]}`},Se=Be=>Be?new Date(Be).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-",fe=Be=>{const Ke=ce(),$e=ue(),Pe=$e?`${$e}/${Be.name}`:Be.name;try{const{data:it}=ze.client.storage.from(Ke).getPublicUrl(Pe);return(it==null?void 0:it.publicUrl)||""}catch(it){return console.warn("getPublicUrl failed",it),""}};W.useEffect(()=>{de()},[de]),W.useEffect(()=>{const Be=()=>g(null);return document.addEventListener("click",Be),()=>document.removeEventListener("click",Be)},[]);const x=Be=>{e([...t,Be]),h(new Set),m("")},I=Be=>{e(Be===-1?[]:t.slice(0,Be+1)),h(new Set),m("")},pe=()=>{t.length>0&&(e(t.slice(0,-1)),h(new Set))},Y=(Be,Ke)=>{if(Ke.ctrlKey||Ke.metaKey){const $e=new Set(u);$e.has(Be.id)?$e.delete(Be.id):$e.add(Be.id),h($e)}else h(new Set([Be.id]))},K=Be=>{Be.isFolder||Be.isVirtual?Be.isVirtual&&Be.id==="website-data"?x("Website Data"):(Be.bucketId,x(Be.name)):Te(Be)},J=(Be,Ke)=>{Be.preventDefault(),g({x:Be.clientX,y:Be.clientY,item:Ke}),u.has(Ke.id)||h(new Set([Ke.id]))},xe=async()=>{if(C.trim())try{i(!0);const Be=ce(),Ke=ue();try{ht.waitForInit&&await ht.waitForInit()}catch{}let $e=ht.getUser?ht.getUser():null;if(!$e)try{const Et=await ze.getUser();Et&&($e={id:Et.id,email:Et.email})}catch{}const Pe=($e==null?void 0:$e.id)||null;let it;Ke&&Ke.trim()!==""?it=`${Ke}/${C.trim()}/.keep`:it=`${C.trim()}/.keep`;const{error:nt}=await ze.client.storage.from(Be).upload(it,new Blob([""],{type:"text/plain"}),{upsert:!0});if(nt)throw nt;await le(`Folder "${C.trim()}" created`),B(null),N(""),await de()}catch(Be){console.error("Failed to create folder:",Be);const Ke=(Be==null?void 0:Be.message)||String(Be);/row[- ]level security|new row violates/i.test(Ke)?await ge(`Failed to create folder: ${Ke}. This usually means database row-level security blocked the INSERT. Possible fixes:
- Ensure the user has a row in \`public.user_roles\` (user_id = your uid) with an allowed status.
- Or ask the DB owner to adjust the INSERT policy on \`storage.objects\` (or add a user-scoped policy).
As a workaround this UI creates folders under your user id (if available).`,"Create Error"):await ge(`Failed to create folder: ${Ke}`,"Create Error")}finally{i(!1)}},_e=async Be=>{if(!Be||Be.length===0)return;A(!0),c(Be.map(Pe=>({name:Pe.name,progress:0,status:"uploading"})));const Ke=ce(),$e=ue();try{for(let Pe=0;Pe<Be.length;Pe++){const it=Be[Pe],nt=$e?`${$e}/${it.name}`:it.name,{error:Et}=await ze.client.storage.from(Ke).upload(nt,it,{cacheControl:"3600",upsert:!0});c(Ir=>Ir.map((Xt,mt)=>mt===Pe?{...Xt,progress:100,status:Et?"error":"success"}:Xt)),Et&&console.error(`Failed to upload ${it.name}:`,Et)}await le("Upload completed"),B(null),await de()}catch(Pe){console.error("Upload failed:",Pe),await ge(`Upload failed: ${Pe.message}`,"Upload Error")}finally{A(!1),c([])}},ve=async()=>{if(!(!L.trim()||!(b!=null&&b.data)))try{i(!0);const Be=ce(),Ke=ue(),$e=Ke?`${Ke}/${b.data.name}`:b.data.name,Pe=Ke?`${Ke}/${L.trim()}`:L.trim(),{data:it,error:nt}=await ze.client.storage.from(Be).download($e);if(nt)throw nt;const{error:Et}=await ze.client.storage.from(Be).upload(Pe,it,{upsert:!0});if(Et)throw Et;const{error:Ir}=await ze.client.storage.from(Be).remove([$e]);if(Ir)throw Ir;await le(`Renamed to "${L.trim()}"`),B(null),Q(""),await de()}catch(Be){console.error("Failed to rename:",Be),await ge(`Failed to rename: ${Be.message}`,"Rename Error")}finally{i(!1)}},ke=async Be=>{if(!Be||Be.length===0)return;const Ke=Be.map(Pe=>Pe.name).join(", ");if(await ee(`Are you sure you want to delete ${Be.length>1?`these ${Be.length} items`:Ke}?`,"Delete Items"))try{i(!0);const Pe=ce(),it=ue(),nt=async Xt=>{let mt=[];const{data:cs,error:us}=await ze.client.storage.from(Pe).list(Xt,{limit:500});if(us)throw us;for(const on of cs||[])if(on.id===null){const Wn=Xt?`${Xt}/${on.name}`:on.name,dr=await nt(Wn);mt=mt.concat(dr)}else mt.push(Xt?`${Xt}/${on.name}`:on.name);return mt};let Et=[];for(const Xt of Be){const mt=it?`${it}/${Xt.name}`:Xt.name;if(Xt.isFolder){const cs=await nt(mt);Et=Et.concat(cs),Et.push(`${mt}/.keep`)}else Et.push(mt)}if(Et=Array.from(new Set(Et)).filter(Boolean),Et.length===0){await le("Nothing to delete."),h(new Set),await de();return}const{error:Ir}=await ze.client.storage.from(Pe).remove(Et);if(Ir)throw Ir;await le(`Deleted ${Be.length} item(s)`),h(new Set),await de()}catch(Pe){console.error("Failed to delete:",Pe),await ge(`Failed to delete: ${Pe.message}`,"Delete Error")}finally{i(!1)}},Ve=Be=>{const Ke=fe(Be);Ke&&window.open(Ke,"_blank")},Te=Be=>{const Ke=fe(Be);B({type:"preview",data:{...Be,url:Ke}})};W.useEffect(()=>{},[b]);const Ge=Be=>{Be.preventDefault(),Be.currentTarget.classList.add("drag-over")},pt=Be=>{Be.currentTarget.classList.remove("drag-over")},Ze=Be=>{if(Be.preventDefault(),Be.currentTarget.classList.remove("drag-over"),P){ge("Cannot upload files to Website Data folder. This folder is read-only.","Protected Folder");return}const Ke=Array.from(Be.dataTransfer.files);Ke.length>0&&_e(Ke)},rt=r.filter(Be=>!(!Be.isFolder&&(Be.name===".keep"||Be.name.startsWith(".")))).filter(Be=>Be.name.toLowerCase().includes(w.toLowerCase())),At=()=>r.filter(Be=>u.has(Be.id)),et=P,Ft=()=>o.jsxs("nav",{className:"breadcrumb-nav",children:[o.jsxs("div",{className:`breadcrumb-item ${t.length===0?"current":""}`,onClick:()=>I(-1),children:[o.jsx("i",{className:"fa-solid fa-hard-drive breadcrumb-icon"}),o.jsx("span",{children:"File Storage"})]}),t.map((Be,Ke)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[o.jsx("span",{className:"breadcrumb-separator",children:o.jsx("i",{className:"fa-solid fa-chevron-right"})}),o.jsxs("div",{className:`breadcrumb-item ${Ke===t.length-1?"current":""}`,onClick:()=>I(Ke),children:[o.jsx("i",{className:`fa-solid ${Be==="Website Data"?"fa-shield-halved":"fa-folder"} breadcrumb-icon`}),o.jsx("span",{children:Be})]})]},Ke))]}),z=()=>o.jsxs("div",{className:"files-toolbar",children:[o.jsxs("div",{className:"toolbar-left",children:[o.jsxs("button",{className:"toolbar-btn",onClick:pe,disabled:t.length===0,children:[o.jsx("i",{className:"fa-solid fa-arrow-up"}),"Up"]}),o.jsxs("button",{className:"toolbar-btn",onClick:de,disabled:s,children:[o.jsx("i",{className:"fa-solid fa-refresh"}),"Refresh"]}),o.jsx("div",{className:"toolbar-divider"}),!et&&q&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{className:"toolbar-btn primary",onClick:()=>B({type:"upload"}),disabled:a,children:[o.jsx("i",{className:"fa-solid fa-upload"}),"Upload"]}),o.jsxs("button",{className:"toolbar-btn",onClick:()=>B({type:"newFolder"}),children:[o.jsx("i",{className:"fa-solid fa-folder-plus"}),"New Folder"]}),o.jsx("div",{className:"toolbar-divider"})]}),u.size>0&&!et&&q&&(()=>{var $e;const Be=At(),Ke=Be.some(Pe=>Pe.id==="website-data");return o.jsxs(o.Fragment,{children:[Be.length===1&&!(($e=Be[0])!=null&&$e.isFolder)&&o.jsxs("button",{className:"toolbar-btn",onClick:()=>{const Pe=Be[0];Q(Pe.name),B({type:"rename",data:Pe})},children:[o.jsx("i",{className:"fa-solid fa-pen"}),"Rename"]}),o.jsxs("button",{className:"toolbar-btn",onClick:()=>ke(Be),disabled:Ke,title:Ke?"Cannot delete Website Data folder":void 0,children:[o.jsx("i",{className:"fa-solid fa-trash"}),"Delete (",Be.length,")"]})]})})()]}),o.jsxs("div",{className:"toolbar-right",children:[o.jsxs("div",{className:"search-wrapper",children:[o.jsx("i",{className:"fa-solid fa-search"}),o.jsx("input",{type:"text",className:"search-input",placeholder:"Search files...",value:w,onChange:Be=>m(Be.target.value)})]}),o.jsxs("div",{className:"view-toggle",children:[o.jsx("button",{className:`view-toggle-btn ${p==="grid"?"active":""}`,onClick:()=>d("grid"),title:"Grid view",children:o.jsx("i",{className:"fa-solid fa-th-large"})}),o.jsx("button",{className:`view-toggle-btn ${p==="list"?"active":""}`,onClick:()=>d("list"),children:o.jsx("i",{className:"fa-solid fa-list"})})]})]})]}),me=()=>et?o.jsxs("div",{className:"protected-zone-alert",children:[o.jsx("i",{className:"fa-solid fa-triangle-exclamation"}),o.jsxs("div",{className:"alert-content",children:[o.jsx("h4",{children:"Read-Only Folder"}),o.jsx("p",{children:"This folder contains website data that should only be modified through their respective admin pages (Orders, Blogs, Sponsors, Team). You can view and download files, but uploading, editing, or deleting is disabled here."})]})]}):null,je=()=>o.jsx("div",{className:"files-grid",children:rt.map(Be=>o.jsxs("div",{className:`file-item ${Be.isFolder?"folder":""} ${Be.isProtected?"protected":""} ${u.has(Be.id)?"selected":""}`,onClick:Ke=>Y(Be,Ke),onDoubleClick:()=>K(Be),onContextMenu:Ke=>J(Ke,Be),children:[o.jsx("input",{type:"checkbox",className:"file-checkbox",checked:u.has(Be.id),title:`Select ${Be.name}`,onChange:Ke=>{Ke.stopPropagation(),h($e=>{const Pe=new Set($e);return Pe.has(Be.id)?Pe.delete(Be.id):Pe.add(Be.id),Pe})},onClick:Ke=>Ke.stopPropagation()}),o.jsx("i",{className:`fa-solid ${Be.customIcon||Be.icon} file-icon ${Be.iconClass||""}`}),o.jsx("span",{className:"file-name",children:Be.name}),!Be.isFolder&&o.jsx("span",{className:"file-meta",children:Ae(Be.size)})]},Be.id))}),De=()=>o.jsxs("div",{className:"files-list",children:[o.jsxs("div",{className:"files-list-header",children:[o.jsx("span",{}),o.jsx("span",{children:"Name"}),o.jsx("span",{children:"Size"}),o.jsx("span",{children:"Modified"}),o.jsx("span",{children:"Type"})]}),rt.map(Be=>o.jsxs("div",{className:`files-list-item ${u.has(Be.id)?"selected":""}`,onClick:Ke=>Y(Be,Ke),onDoubleClick:()=>K(Be),onContextMenu:Ke=>J(Ke,Be),children:[o.jsx("input",{type:"checkbox",className:"file-checkbox",checked:u.has(Be.id),title:`Select ${Be.name}`,onChange:Ke=>{Ke.stopPropagation(),h($e=>{const Pe=new Set($e);return Pe.has(Be.id)?Pe.delete(Be.id):Pe.add(Be.id),Pe})},onClick:Ke=>Ke.stopPropagation()}),o.jsx("i",{className:`fa-solid ${Be.customIcon||Be.icon} file-icon ${Be.iconClass||""}`}),o.jsx("span",{className:"file-name",children:Be.name}),o.jsx("span",{className:"file-size",children:Be.isFolder?"-":Ae(Be.size)}),o.jsx("span",{className:"file-date",children:Se(Be.lastModified)}),o.jsx("span",{className:"file-type",children:Be.isFolder?"Folder":Be.fileType||"File"})]},Be.id))]}),Xe=()=>o.jsxs("div",{className:"empty-folder",children:[o.jsx("i",{className:"fa-solid fa-folder-open"}),o.jsx("h3",{children:"This folder is empty"}),o.jsx("p",{children:et?"No files have been added through the respective admin pages yet.":"Upload files or create folders to get started."})]}),at=()=>{if(!y)return null;const{x:Be,y:Ke,item:$e}=y;return o.jsxs("div",{className:"context-menu",style:{left:Be,top:Ke},onClick:Pe=>Pe.stopPropagation(),children:[$e.isFolder?o.jsxs("div",{className:"context-menu-item",onClick:()=>{K($e),g(null)},children:[o.jsx("i",{className:"fa-solid fa-folder-open"}),"Open"]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"context-menu-item",onClick:()=>{Te($e),g(null)},children:[o.jsx("i",{className:"fa-solid fa-eye"}),"Preview"]}),o.jsxs("div",{className:"context-menu-item",onClick:()=>{Ve($e),g(null)},children:[o.jsx("i",{className:"fa-solid fa-download"}),"Download"]})]}),!et&&q&&!$e.isFolder&&$e.id!=="website-data"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"context-menu-divider"}),o.jsxs("div",{className:"context-menu-item",onClick:()=>{Q($e.name),B({type:"rename",data:$e}),g(null)},children:[o.jsx("i",{className:"fa-solid fa-pen"}),"Rename"]}),o.jsxs("div",{className:"context-menu-item danger",onClick:()=>{ke([$e]),g(null)},children:[o.jsx("i",{className:"fa-solid fa-trash"}),"Delete"]})]}),!et&&q&&$e.id==="website-data"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"context-menu-divider"}),o.jsxs("div",{className:"context-menu-item disabled",children:[o.jsx("i",{className:"fa-solid fa-lock"}),"Cannot delete Website Data"]})]}),et&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"context-menu-divider"}),o.jsxs("div",{className:"context-menu-item disabled",children:[o.jsx("i",{className:"fa-solid fa-lock"}),"Protected (Read-Only)"]})]})]})},tt=()=>{if(!b)return null;switch(b.type){case"newFolder":return o.jsx("div",{className:"files-modal-overlay",onClick:()=>B(null),children:o.jsxs("div",{className:"files-modal new-folder-modal",onClick:nt=>nt.stopPropagation(),children:[o.jsxs("div",{className:"files-modal-header",children:[o.jsx("h3",{className:"files-modal-title",children:"Create New Folder"}),o.jsx("button",{className:"files-modal-close",onClick:()=>B(null),children:o.jsx("i",{className:"fa-solid fa-xmark"})})]}),o.jsx("div",{className:"files-modal-body",children:o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Folder Name"}),o.jsx("input",{type:"text",className:"form-input",value:C,onChange:nt=>N(nt.target.value),placeholder:"Enter folder name",autoFocus:!0,onKeyDown:nt=>nt.key==="Enter"&&xe()})]})}),o.jsxs("div",{className:"files-modal-actions",children:[o.jsx("button",{className:"btn btn-secondary",onClick:()=>B(null),children:"Cancel"}),o.jsx("button",{className:"btn btn-primary",onClick:xe,disabled:!C.trim(),children:"Create Folder"})]})]})});case"rename":return o.jsx("div",{className:"files-modal-overlay",onClick:()=>B(null),children:o.jsxs("div",{className:"files-modal",onClick:nt=>nt.stopPropagation(),children:[o.jsxs("div",{className:"files-modal-header",children:[o.jsx("h3",{className:"files-modal-title",children:"Rename File"}),o.jsx("button",{className:"files-modal-close",onClick:()=>B(null),children:o.jsx("i",{className:"fa-solid fa-xmark"})})]}),o.jsx("div",{className:"files-modal-body",children:o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"New Name"}),o.jsx("input",{type:"text",className:"form-input",value:L,onChange:nt=>Q(nt.target.value),placeholder:"Enter new name",autoFocus:!0,onKeyDown:nt=>nt.key==="Enter"&&ve()})]})}),o.jsxs("div",{className:"files-modal-actions",children:[o.jsx("button",{className:"btn btn-secondary",onClick:()=>B(null),children:"Cancel"}),o.jsx("button",{className:"btn btn-primary",onClick:ve,disabled:!L.trim(),children:"Rename"})]})]})});case"upload":return o.jsx("div",{className:"files-modal-overlay",onClick:()=>!a&&B(null),children:o.jsxs("div",{className:"files-modal new-folder-modal",onClick:nt=>nt.stopPropagation(),children:[o.jsxs("div",{className:"files-modal-header",children:[o.jsx("h3",{className:"files-modal-title",children:"Upload Files"}),o.jsx("button",{className:"files-modal-close",onClick:()=>B(null),disabled:a,children:o.jsx("i",{className:"fa-solid fa-xmark"})})]}),o.jsxs("div",{className:"files-modal-body",children:[o.jsxs("div",{className:"upload-area",ref:H,onDragOver:Ge,onDragLeave:pt,onDrop:nt=>{nt.preventDefault(),nt.currentTarget.classList.remove("drag-over");const Et=Array.from(nt.dataTransfer.files);_e(Et)},onClick:()=>{var nt;return(nt=U.current)==null?void 0:nt.click()},children:[o.jsx("i",{className:"fa-solid fa-cloud-arrow-up"}),o.jsx("h4",{children:"Drag & drop files here"}),o.jsx("p",{children:"or click to browse"}),o.jsx("input",{ref:U,type:"file",multiple:!0,style:{display:"none"},onChange:nt=>{const Et=Array.from(nt.target.files||[]);_e(Et),nt.target.value=""}})]}),l.length>0&&o.jsx("div",{className:"upload-progress",children:l.map((nt,Et)=>o.jsxs("div",{className:"upload-progress-item",children:[o.jsx("i",{className:"fa-solid fa-file"}),o.jsx("span",{className:"file-name",children:nt.name}),o.jsx("div",{className:"upload-progress-bar",children:o.jsx("div",{className:"upload-progress-fill",style:{width:`${nt.progress}%`}})}),o.jsx("span",{className:`upload-status ${nt.status}`,children:nt.status==="uploading"?"Uploading...":nt.status==="success"?"":""})]},Et))})]}),!a&&o.jsx("div",{className:"files-modal-actions",children:o.jsx("button",{className:"btn btn-secondary",onClick:()=>B(null),children:"Close"})})]})});case"preview":const Be=b.data,Ke=Be.fileType==="image",$e=Be.fileType==="video",Pe=Be.fileType==="audio",it=Be.fileType==="pdf";return o.jsx("div",{className:"files-modal-overlay",onClick:()=>B(null),children:o.jsxs("div",{className:"files-modal preview-modal",onClick:nt=>nt.stopPropagation(),children:[o.jsxs("div",{className:"files-modal-header",children:[o.jsx("h3",{className:"files-modal-title",children:Be.name}),o.jsx("button",{className:"files-modal-close",onClick:()=>B(null),children:o.jsx("i",{className:"fa-solid fa-xmark"})})]}),o.jsxs("div",{className:"files-modal-body",children:[o.jsxs("div",{className:"preview-content",children:[Ke&&o.jsx("img",{src:Be.url,alt:Be.name}),$e&&o.jsx("video",{src:Be.url,controls:!0}),Pe&&o.jsx("audio",{src:Be.url,controls:!0}),it&&!i5&&o.jsx("div",{className:"pdf-no-preview",children:o.jsx("i",{className:"fa-solid fa-file-pdf",style:{fontSize:"3rem",color:"#dc3545",marginBottom:"0.75rem"}})}),it&&i5&&o.jsx("div",{className:"pdf-preview-wrapper",children:ne?o.jsx("div",{className:"pdf-loading",children:"Loading preview"}):ye?o.jsx("img",{src:ye,alt:Be.name,className:"pdf-snapshot"}):o.jsx("canvas",{ref:S,className:"pdf-canvas",style:{display:"none"}})}),!Ke&&!$e&&!Pe&&!it&&o.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[o.jsx("i",{className:`fa-solid ${Be.icon}`,style:{fontSize:"4rem",marginBottom:"1rem"}}),o.jsx("p",{children:"Preview not available for this file type"})]})]}),o.jsxs("div",{className:"preview-info",children:[o.jsxs("div",{className:"preview-info-row",children:[o.jsx("span",{className:"preview-info-label",children:"Size"}),o.jsx("span",{className:"preview-info-value",children:Ae(Be.size)})]}),o.jsxs("div",{className:"preview-info-row",children:[o.jsx("span",{className:"preview-info-label",children:"Type"}),o.jsx("span",{className:"preview-info-value",children:Be.mimeType||"Unknown"})]}),o.jsxs("div",{className:"preview-info-row",children:[o.jsx("span",{className:"preview-info-label",children:"Modified"}),o.jsx("span",{className:"preview-info-value",children:Se(Be.lastModified)})]})]})]}),o.jsxs("div",{className:"files-modal-actions",children:[o.jsx("button",{className:"btn btn-secondary",onClick:()=>B(null),children:"Close"}),o.jsxs("button",{className:"btn btn-primary",onClick:()=>Ve(Be),children:[o.jsx("i",{className:"fa-solid fa-download"}),"Download"]})]})]})});default:return null}};return o.jsxs("div",{className:"files-manager",children:[o.jsx("div",{className:"files-header",children:o.jsx("h1",{className:"files-title",children:"File Manager"})}),Ft(),z(),o.jsxs("div",{className:"files-content",onDragOver:et?void 0:Ge,onDragLeave:et?void 0:pt,onDrop:et?void 0:Ze,children:[me(),s?o.jsxs("div",{className:"loading-state",children:[o.jsx("div",{className:"loading-spinner"}),o.jsx("span",{children:"Loading files..."})]}):rt.length===0?Xe():p==="grid"?je():De()]}),at(),tt()]})},Q7=({onLogout:t})=>{const[e,r]=SU(),[n,s]=W.useState(e.get("tab")||"overview"),[i,a]=W.useState(ht.getLevel()),[A,l]=W.useState(!1),c=W.useRef(null),u=W.useRef(null),h=W.useRef(null),p=W.useRef(null),d=W.useRef(null),w=W.useRef(null),m=W.useRef(null);W.useEffect(()=>{const C=e.get("tab");C&&C!==n&&s(C)},[e]);const y=C=>{s(C),r({tab:C})};W.useEffect(()=>(document.body.style.paddingTop="0",()=>{document.body.style.paddingTop="64px"}),[]),W.useEffect(()=>{const C=()=>ht.extendSession();return window.addEventListener("click",C),window.addEventListener("keypress",C),()=>{window.removeEventListener("click",C),window.removeEventListener("keypress",C)}},[]);const b=[{id:"overview",label:"Overview",icon:DL,permission:"view_schedules"},{id:"schedules",label:"Schedules",icon:LL,permission:"view_schedules"},{id:"orders",label:"Orders",icon:$L,permission:"view_orders"},{id:"files",label:"Files",icon:PL},{id:"blogs",label:"Blogs",icon:jL,permission:"view_announcements"},{id:"sponsors",label:"Sponsors",icon:$4,permission:"view_sponsors"},{id:"team",label:"Team",icon:W4,permission:"view_team"},{id:"alumni",label:"Alumni",icon:V4,permission:"view_alumni"},{id:"settings",label:"Settings",icon:Ib}].filter(C=>C.permission?ht.hasPermission(C.permission):ht.isAuthenticated()),B=()=>{switch(n){case"team":return o.jsx(T7,{teamManagerRef:c,userManagerRef:u});case"schedules":return o.jsx(z4,{ref:h});case"orders":return o.jsx(uk,{ref:p});case"alumni":return o.jsx(q4,{ref:d});case"sponsors":return o.jsx(J4,{ref:w});case"blogs":return o.jsx(dk,{ref:m});case"files":return o.jsx(L7,{});case"settings":return o.jsx(I7,{});default:return o.jsx(D7,{onNavigate:y,teamManagerRef:c,scheduleManagerRef:h,orderManagerRef:p,alumniManagerRef:d,sponsorsManagerRef:w,blogManagerRef:m})}};return o.jsxs("div",{className:"admin-dashboard",children:[o.jsx("style",{children:`
        .admin-dashboard {
          min-height: 100vh;
          background: var(--bg);
          margin-top: px;
          padding-top: 0;
        }
        
        body:has(.admin-dashboard) {
          padding-top: 0;
        }

        .dashboard-header {
          background: var(--surface);
          border-bottom: 1px solid #333;
          padding: 1rem 2rem;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .header-left {
          display: flex;
          align-items: center;
          gap: 1rem;
        }

        .dashboard-logo {
          display: flex;
          align-items: center;
          transition: opacity 0.3s ease;
        }

        .dashboard-logo:hover {
          opacity: 0.8;
        }

        .dashboard-logo img {
          height: 40px;
          width: auto;
        }

        .dashboard-title {
          font-family: "Bebas Neue", sans-serif;
          font-size: 1.8rem;
          color: var(--accent);
          margin: 0;
        }

        .user-info {
          display: flex;
          align-items: center;
          gap: 1rem;
        }

        /* Match the header account button sizing and font */
        .user-level {
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          color: var(--text);
          padding: 0.5rem 1rem;
          font-family: "Bebas Neue", sans-serif;
          font-size: 1rem;
          font-weight: 500;
          text-transform: capitalize;
          border: 2px solid var(--text);
          border-radius: 6px;
          background: transparent;
          height: 40px;
          line-height: 1;
        }

        .logout-button {
          background: var(--accent);
          color: white;
          border: none;
          padding: 0.5rem 1rem;
          border-radius: 6px;
          cursor: pointer;
          font-size: 0.9rem;
          font-weight: 500;
          transition: all 0.3s ease;
        }

        .logout-button:hover {
          background: #c71821;
          transform: translateY(-1px);
        }

        .dashboard-nav {
          background: var(--surface);
          padding: 0 2rem;
          overflow-x: auto;
        }

        .nav-tabs {
          display: flex;
          gap: 0.5rem;
          min-width: max-content;
        }

        .nav-tab {
          background: transparent;
          border: none;
          padding: 1rem 1.5rem;
          color: var(--subtxt);
          cursor: pointer;
          border-bottom: 3px solid transparent;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          font-size: 0.95rem;
          white-space: nowrap;
        }

        .nav-tab:hover {
          color: var(--text);
          background: rgba(0, 123, 255, 0.1);
        }

        .nav-tab.active {
          color: var(--accent);
          border-bottom-color: var(--accent);
        }

        .dashboard-content {
          padding: 2rem;
          max-width: 1400px;
          margin: 0 auto;
        }

        @media (max-width: 768px) {
          .dashboard-header {
            padding: 1rem;
            flex-direction: column;
            gap: 1rem;
          }

          .header-left {
            width: 100%;
            justify-content: center;
          }

          .dashboard-logo img {
            height: 32px;
          }

          .dashboard-title {
            font-size: 1.5rem;
          }

          .dashboard-nav {
            padding: 0 1rem;
          }

          .dashboard-content {
            padding: 1rem;
          }
        }
      `}),o.jsxs("header",{className:"dashboard-header",children:[o.jsxs("div",{className:"header-left",children:[o.jsx("a",{href:"https://solarpacknc.com",className:"dashboard-logo",children:o.jsx("img",{src:"/images/solarpack_logo.png",alt:"SolarPack Logo"})}),o.jsx("h1",{className:"dashboard-title",children:"Dashboard"})]}),o.jsxs("div",{className:"user-info",children:[o.jsx("span",{className:"user-level",children:i}),o.jsxs("div",{className:"admin-account-dropdown",style:{position:"relative"},children:[o.jsxs("button",{className:"account-btn authenticated",onClick:()=>l(!A),"aria-haspopup":"true","aria-expanded":A,children:[o.jsx("i",{className:"fas fa-user-check","aria-hidden":"true"}),o.jsx("span",{className:"auth-text",children:"Account"}),o.jsx("i",{className:"fas fa-chevron-down dropdown-arrow","aria-hidden":"true"})]}),A&&o.jsxs("div",{className:"admin-dropdown-menu",style:{position:"absolute",right:0,top:"calc(100% + 8px)",background:"var(--surface)",border:"1px solid #333",borderRadius:6,minWidth:160,zIndex:50},children:[o.jsxs("button",{className:"dropdown-item",onClick:()=>{l(!1),y("settings")},style:{display:"flex",alignItems:"center",gap:8,width:"100%",padding:"0.5rem 0.75rem",background:"transparent",border:"none",textAlign:"left"},children:[o.jsx(Ib,{size:16}),"Settings"]}),o.jsx("div",{style:{height:1,background:"#333",margin:"0.25rem 0"}}),o.jsxs("button",{className:"dropdown-item logout",onClick:()=>{l(!1),t()},style:{display:"flex",alignItems:"center",gap:8,width:"100%",padding:"0.5rem 0.75rem",background:"transparent",border:"none",textAlign:"left"},children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),o.jsx("polyline",{points:"16 17 21 12 16 7"}),o.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Logout"]})]})]})]})]}),o.jsx("nav",{className:"dashboard-nav",children:o.jsx("div",{className:"nav-tabs",children:b.map(C=>{const N=C.icon;return o.jsxs("button",{className:`nav-tab ${n===C.id?"active":""}`,onClick:()=>y(C.id),children:[o.jsx(N,{size:18}),C.label]},C.id)})})}),o.jsx("main",{className:"dashboard-content",children:B()})]})},D7=({onNavigate:t,teamManagerRef:e,scheduleManagerRef:r,orderManagerRef:n,alumniManagerRef:s,sponsorsManagerRef:i,blogManagerRef:a})=>{const[A,l]=W.useState({teamMembers:0,activeSchedules:0,pendingOrders:0,totalAlumni:0}),[c,u]=W.useState([]),[h,p]=W.useState([]),[d,w]=W.useState([]),[m,y]=W.useState(!0);W.useEffect(()=>{P();const k=setInterval(()=>{P()},5e3);return()=>clearInterval(k)},[]),W.useEffect(()=>{const k=async()=>{!document.hidden&&!m&&(console.log(" Tab visible - refreshing dashboard stats"),await new Promise($=>setTimeout($,300)),P())};return document.addEventListener("visibilitychange",k),()=>document.removeEventListener("visibilitychange",k)},[m]);const g=k=>{if(!k)return null;const[$,D,U]=k.split("-").map(Number);return new Date($,D-1,U)},b=(k,$)=>{const D=g(k);return D?D.toLocaleDateString("en-US",$):""},B=(k,$)=>{var U;const D=(U=k.teams)==null?void 0:U.find(H=>H.id===$);return D?D.name:$},C=(k,$)=>{var U;const D=(U=k.teams)==null?void 0:U.find(H=>H.id===$);return D?D.color:"#6c757d"},N=(k,$,D)=>{if(D==="completed")return 100;if(D==="planning"||!k||!$)return 0;const U=g(k),H=g($),S=new Date;if(S.setHours(0,0,0,0),S<U)return 0;if(S>H)return 100;const ee=H-U,ge=S-U;return Math.round(ge/ee*100)},L=k=>({pending_technical_approval:"#ffc107",pending_project_approval:"#ffc107",approved:"#28a745",denied:"#dc3545",shipped:"#007bff",delivered:"#28a745"})[k]||"#6c757d",Q=k=>({pending_technical_approval:"Pending Tech Approval",pending_project_approval:"Pending Project Approval",approved:"Approved",denied:"Denied",shipped:"Shipped",delivered:"Delivered"})[k]||k,P=async()=>{var k,$,D,U,H;try{const{supabaseService:S}=await Wf(()=>Promise.resolve().then(()=>tL),void 0),[ee,ge,le,ne,se]=await Promise.all([S.getTeamMembers(),S.getScheduleData(),S.getOrders(),S.getAlumni(),S.getSponsors()]);console.log("Dashboard Stats Data:",{teamData:ee,scheduleData:ge,ordersData:le,alumniData:ne,sponsorsData:se});const ye=((k=ne.alumniData)==null?void 0:k.reduce((de,be)=>Array.isArray(be.leadership)?de+be.leadership.length:de,0))||0,re=(le==null?void 0:le.orders)||[],F=re.filter(de=>de.status==="pending_technical_approval"||de.status==="approved"||de.status==="shipped").length;l({teamMembers:(($=ee.teamMembers)==null?void 0:$.length)||0,activeSchedules:((D=ge.projects)==null?void 0:D.length)||0,pendingOrders:F,totalAlumni:ye});const V=(ge.projects||[]).filter(de=>de.status!=="completed"&&de.dueDate).sort((de,be)=>g(de.dueDate)-g(be.dueDate)).slice(0,4).map(de=>({...de,teamName:B(ge,de.team),teamColor:C(ge,de.team),progress:N(de.startDate,de.dueDate,de.status)}));u(V);const O=[...re].sort((de,be)=>{var Ue,Ae;return new Date(be.lastUpdated||((Ue=be.submissionDetails)==null?void 0:Ue.submissionDate))-new Date(de.lastUpdated||((Ae=de.submissionDetails)==null?void 0:Ae.submissionDate))}).slice(0,4);p(O);const q=(se==null?void 0:se.sponsorTiers)||[];console.log("Sponsors Data Structure:",{fullData:se,sponsorTiers:q,tierNames:q.map(de=>de.tier)});const ce=["platinum","gold","silver","bronze"],ue=[];for(const de of ce){if(ue.length>=4)break;const be=q.find(Ue=>{var Ae;return(Ae=Ue.tier)==null?void 0:Ae.toLowerCase().includes(de)});if(console.log(`Looking for tier "${de}":`,be),be!=null&&be.sponsors){const Ue=4-ue.length;ue.push(...be.sponsors.slice(0,Ue))}}console.log("Final topSponsorsList:",ue),w(ue),console.log("Updated stats:",{teamMembers:((U=ee.teamMembers)==null?void 0:U.length)||0,activeSchedules:((H=ge.projects)==null?void 0:H.length)||0,pendingOrders:F,totalAlumni:ye,upcomingDeadlines:V.length,recentOrders:O.length,topSponsors:ue.length})}catch(S){console.error("Error loading stats:",S)}finally{y(!1)}};return o.jsxs("div",{className:"overview",children:[o.jsx("style",{children:`
        .overview-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 1.5rem;
          margin-bottom: 2rem;
        }

        .stat-card {
          background: var(--surface);
          padding: 1.5rem;
          border-radius: var(--radius);
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          cursor: pointer;
          transition: all 0.3s ease;
          border: 2px solid transparent;
        }

        .stat-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 6px 16px rgba(0,0,0,0.2);
          border-color: var(--accent);
        }

        .stat-number {
          font-size: 2.5rem;
          font-weight: bold;
          color: var(--accent);
          margin-bottom: 0.5rem;
        }

        .stat-label {
          color: var(--subtxt);
          font-size: 0.9rem;
          text-transform: uppercase;
          letter-spacing: 0.05em;
        }

        .dashboard-section {
          background: var(--surface);
          padding: 1.5rem;
          border-radius: var(--radius);
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          margin-bottom: 2rem;
        }

        .section-title {
          font-size: 1.5rem;
          font-weight: 700;
          color: var(--text);
          margin: 0 0 1.5rem 0;
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }

        .deadline-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 1rem;
          background: var(--bg);
          border-left: 4px solid var(--team-color);
          border-radius: 8px;
          margin-bottom: 0.75rem;
          transition: all 0.3s ease;
          cursor: pointer;
        }

        .deadline-item:hover {
          transform: translateX(4px);
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .deadline-info {
          flex: 1;
        }

        .deadline-title {
          font-weight: 600;
          color: var(--text);
          margin-bottom: 0.25rem;
        }

        .deadline-meta {
          font-size: 0.85rem;
          color: var(--subtxt);
        }

        .deadline-date {
          font-weight: 600;
          color: var(--accent);
          white-space: nowrap;
        }

        .order-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 1rem;
          background: var(--bg);
          border-left: 4px solid var(--status-color);
          border-radius: 8px;
          margin-bottom: 0.75rem;
          transition: all 0.3s ease;
          cursor: pointer;
        }

        .order-item:hover {
          transform: translateX(4px);
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .order-info {
          flex: 1;
        }

        .order-title {
          font-weight: 600;
          color: var(--text);
          margin-bottom: 0.25rem;
        }

        .order-meta {
          font-size: 0.85rem;
          color: var(--subtxt);
        }

        .order-status {
          font-weight: 600;
          font-size: 0.85rem;
          padding: 0.25rem 0.75rem;
          border-radius: 4px;
          background: var(--status-color);
          color: white;
          white-space: nowrap;
        }

        .sponsors-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: 1.5rem;
        }

        .sponsor-card {
          background: var(--bg);
          padding: 1rem;
          border-radius: 8px;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
          cursor: pointer;
          min-height: 120px;
        }

        .sponsor-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .sponsor-logo {
          max-width: 100%;
          max-height: 80px;
          object-fit: contain;
          margin-bottom: 0.5rem;
        }

        .sponsor-name {
          font-size: 0.9rem;
          color: var(--text);
          text-align: center;
          font-weight: 500;
        }

        .empty-message {
          color: var(--subtxt);
          text-align: center;
          padding: 2rem;
          font-style: italic;
        }

        .quick-actions {
          background: var(--surface);
          padding: 1.5rem;
          border-radius: var(--radius);
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          margin-bottom: 2rem;
        }

        .quick-actions h3 {
          color: var(--text);
          margin-bottom: 1rem;
          font-size: 1.5rem;
          font-weight: 700;
        }

        .action-buttons {
          display: flex;
          flex-wrap: wrap;
          gap: 1rem;
        }

        .action-button {
          background: var(--accent);
          color: white;
          border: none;
          padding: 0.75rem 1.5rem;
          border-radius: 6px;
          cursor: pointer;
          font-size: 0.9rem;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }

        .action-button:hover {
          background: #c71821;
          transform: translateY(-1px);
        }
      `}),o.jsxs("div",{className:"overview-grid",children:[o.jsxs("div",{className:"stat-card",onClick:()=>t("schedules"),title:"View projects",children:[o.jsx("div",{className:"stat-number",children:m?"...":A.activeSchedules}),o.jsx("div",{className:"stat-label",children:"Active Projects"})]}),o.jsxs("div",{className:"stat-card",onClick:()=>t("orders"),title:"View pending orders",children:[o.jsx("div",{className:"stat-number",children:m?"...":A.pendingOrders}),o.jsx("div",{className:"stat-label",children:"Pending Orders"})]}),o.jsxs("div",{className:"stat-card",onClick:()=>t("team"),title:"View team members",children:[o.jsx("div",{className:"stat-number",children:m?"...":A.teamMembers}),o.jsx("div",{className:"stat-label",children:"Team Leads"})]}),o.jsxs("div",{className:"stat-card",onClick:()=>t("alumni"),title:"View alumni",children:[o.jsx("div",{className:"stat-number",children:m?"...":A.totalAlumni}),o.jsx("div",{className:"stat-label",children:"Total Alumni"})]})]}),o.jsxs("div",{className:"quick-actions",children:[o.jsx("h3",{children:"Quick Actions"}),o.jsxs("div",{className:"action-buttons",children:[ht.hasPermission("edit_schedules")&&o.jsxs("button",{className:"action-button",onClick:()=>{t("schedules"),setTimeout(()=>{var k,$;($=(k=r.current)==null?void 0:k.handleAddProject)==null||$.call(k)},100)},children:[o.jsx(nd,{size:18}),"New Project"]}),ht.hasPermission("submit_orders")&&o.jsxs("button",{className:"action-button",onClick:()=>{t("orders"),setTimeout(()=>{var k,$;($=(k=n.current)==null?void 0:k.handleSubmitOrder)==null||$.call(k)},100)},children:[o.jsx(XL,{size:18}),"New Order"]}),(ht.hasPermission("edit_announcements")||ht.getLevel()==="leader")&&o.jsxs("button",{className:"action-button",onClick:()=>{t("blogs"),setTimeout(()=>{var k,$;($=(k=a.current)==null?void 0:k.handleAddBlog)==null||$.call(k)},100)},children:[o.jsx(zL,{size:18}),"New Blog Post"]}),ht.hasPermission("edit_sponsors")&&o.jsxs("button",{className:"action-button",onClick:()=>{t("sponsors"),setTimeout(()=>{var k,$;($=(k=i.current)==null?void 0:k.handleAddSponsor)==null||$.call(k)},100)},children:[o.jsx($4,{size:18}),"Add Sponsor"]}),ht.hasPermission("edit_team")&&o.jsxs("button",{className:"action-button",onClick:()=>{t("team"),setTimeout(()=>{var k,$;($=(k=e.current)==null?void 0:k.handleAddMember)==null||$.call(k)},100)},children:[o.jsx(W4,{size:18}),"Add Member"]}),ht.hasPermission("edit_alumni")&&o.jsxs("button",{className:"action-button",onClick:()=>{t("alumni"),setTimeout(()=>{var k,$;($=(k=s.current)==null?void 0:k.handleAddSemester)==null||$.call(k)},100)},children:[o.jsx(V4,{size:18}),"Add Semester"]})]})]}),o.jsxs("div",{className:"dashboard-section",children:[o.jsx("h3",{className:"section-title",children:"Upcoming Deadlines"}),c.length===0?o.jsx("div",{className:"empty-message",children:"No upcoming deadlines"}):c.map(k=>o.jsxs("div",{className:"deadline-item",style:{"--team-color":k.teamColor},onClick:()=>t("schedules"),children:[o.jsxs("div",{className:"deadline-info",children:[o.jsx("div",{className:"deadline-title",children:k.title}),o.jsxs("div",{className:"deadline-meta",children:[k.teamName,"  ",k.assignedTo,"  ",k.progress,"% complete"]})]}),o.jsx("div",{className:"deadline-date",children:b(k.dueDate,{month:"short",day:"numeric"})})]},k.id))]}),o.jsxs("div",{className:"dashboard-section",children:[o.jsx("h3",{className:"section-title",children:"Recent Orders"}),h.length===0?o.jsx("div",{className:"empty-message",children:"No recent orders"}):h.map(k=>{var $,D,U;return o.jsxs("div",{className:"order-item",style:{"--status-color":L(k.status)},onClick:()=>t("orders"),children:[o.jsxs("div",{className:"order-info",children:[o.jsx("div",{className:"order-title",children:(($=k.materialDetails)==null?void 0:$.materialName)||"Unnamed Order"}),o.jsxs("div",{className:"order-meta",children:[(D=k.submissionDetails)==null?void 0:D.subteam,"  $",((U=k.costBreakdown)==null?void 0:U.totalCost)||0]})]}),o.jsx("div",{className:"order-status",style:{background:L(k.status)},children:Q(k.status)})]},k.id)})]}),o.jsxs("div",{className:"dashboard-section",children:[o.jsx("h3",{className:"section-title",children:"Top Sponsors"}),d.length===0?o.jsx("div",{className:"empty-message",children:"No sponsors to display"}):o.jsx("div",{className:"sponsors-grid",children:d.map(k=>o.jsxs("div",{className:"sponsor-card",onClick:()=>t("sponsors"),children:[k.logo&&o.jsx("img",{src:k.logo,alt:k.name,className:"sponsor-logo"}),o.jsx("div",{className:"sponsor-name",children:k.name})]},k.id))})]})]})},T7=({teamManagerRef:t,userManagerRef:e})=>{const[r,n]=W.useState(!1),[s,i]=W.useState(!1),a=ht.getUser(),A=a&&(a.level==="director"||a.level==="leader");return o.jsxs("div",{className:"team-management-view",children:[o.jsx("style",{children:`
        .team-management-view {
          padding: 2rem;
        }

        .management-section {
          background: var(--surface);
          border-radius: var(--radius);
          padding: 1.5rem;
          margin-bottom: 2rem;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .section-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1.5rem;
          padding-bottom: 1rem;
          border-bottom: 2px solid var(--bg);
          cursor: pointer;
          user-select: none;
          transition: background 0.15s;
        }
        .section-header:hover {
          background: rgba(0,0,0,0.03);
        }

        .section-title-main {
          font-family: "Bebas Neue", sans-serif;
          font-size: 2rem;
          color: var(--accent);
          margin: 0;
          letter-spacing: 0.05em;
        }

        .section-description {
          color: var(--subtxt);
          font-size: 0.95rem;
          margin: 0.5rem 0 0 0;
        }

        .chevron {
          display: inline-block;
          transition: transform 0.2s cubic-bezier(.4,2,.6,1);
          font-size: 1.5rem;
          margin-left: 1rem;
          color: var(--accent);
        }
        .chevron.open {
          transform: rotate(90deg);
        }

        .section-content {
          animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .permission-notice {
          background: rgba(255, 193, 7, 0.1);
          border-left: 4px solid #ffc107;
          padding: 1rem;
          border-radius: var(--radius);
          color: var(--txt);
          margin-top: 1rem;
        }

        .permission-notice strong {
          color: var(--accent);
        }
      `}),o.jsxs("div",{className:"management-section",children:[o.jsxs("div",{className:"section-header",onClick:()=>n(l=>!l),children:[o.jsxs("div",{children:[o.jsx("h2",{className:"section-title-main",children:"User Management"}),o.jsxs("p",{className:"section-description",children:["Manage user accounts, roles, and permissions.",(a==null?void 0:a.level)==="director"&&" Directors can promote/demote all users.",(a==null?void 0:a.level)==="leader"&&" Leaders can manage members and other leaders."]})]}),o.jsx("span",{className:`chevron${r?" open":""}`,children:""})]}),r&&o.jsx("div",{className:"section-content",children:A?o.jsx(M4,{ref:e}):o.jsxs("div",{className:"permission-notice",children:[o.jsx("strong",{children:"Limited Access:"})," You can view users but cannot modify their roles. Only directors and leaders can promote or demote users."]})})]}),o.jsxs("div",{className:"management-section",children:[o.jsxs("div",{className:"section-header",onClick:()=>i(l=>!l),children:[o.jsxs("div",{children:[o.jsx("h2",{className:"section-title-main",children:"Team Leader Management"}),o.jsx("p",{className:"section-description",children:"Manage team leader profiles displayed on the public Team page. Add leaders, update bios, and configure display order."})]}),o.jsx("span",{className:`chevron${s?" open":""}`,children:""})]}),s&&o.jsx("div",{className:"section-content",children:o.jsx(H4,{ref:t})})]})]})},P7=()=>{const[t,e]=W.useState(!1),[r,n]=W.useState(!0),s=Ao();W.useEffect(()=>{let A=!0;(async()=>{if(await ht.waitForInit(),A){const u=ht.getUser();if(u&&ht.isPending()){console.log("User is pending approval, redirecting to pending page"),s("/pending-approval");return}if(u&&ht.isRejected()){console.log("User is rejected, redirecting to pending page"),s("/pending-approval");return}const h=ht.isAuthenticated();console.log("Admin auth check after init:",h,u==null?void 0:u.email),e(h),n(!1)}})();const c=ht.onAuthStateChange((u,h)=>{if(A){if(console.log("Admin received auth state change:",u,h==null?void 0:h.email),h&&ht.isPending()){s("/pending-approval");return}if(h&&ht.isRejected()){s("/pending-approval");return}e(u)}});return()=>{A=!1,c()}},[s]);const i=()=>{e(!0)},a=async()=>{try{await ht.signOut(),e(!1),s("/")}catch(A){console.error("Logout error:",A),e(!1),s("/")}};return r?o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",color:"#888"},children:"Loading..."}):o.jsx("div",{className:"admin-app",children:t?o.jsx(Q7,{onLogout:a}):o.jsx(R4,{onLogin:i})})},O7=()=>{const t=Ao(),{showAlert:e}=li(),[r,n]=W.useState(""),[s,i]=W.useState(!1),[a,A]=W.useState(!1),l=async u=>{if(u.preventDefault(),!r){e("Please enter your email address","error");return}i(!0);try{await ht.requestPasswordReset(r),A(!0),e("Password reset email sent! Check your inbox.","success")}catch(h){console.error("Password reset error:",h),A(!0),e("If an account exists with this email, you will receive a password reset link.","info")}finally{i(!1)}},c=()=>{t("/admin")};return o.jsx("div",{className:"login-container",children:o.jsxs("div",{className:"login-card",children:[o.jsxs("div",{className:"login-header",children:[o.jsx("h2",{children:"Reset Password"}),o.jsx("p",{className:"login-subtitle",children:a?"Check your email for a password reset link":"Enter your email to receive a password reset link"})]}),a?o.jsxs("div",{className:"success-message",children:[o.jsxs("p",{children:["We've sent a password reset link to ",o.jsx("strong",{children:r}),"."]}),o.jsx("p",{children:"Click the link in the email to reset your password. The link will expire in 1 hour."}),o.jsx("p",{className:"text-muted",children:"Didn't receive the email? Check your spam folder."}),o.jsx("button",{onClick:c,className:"login-button",style:{marginTop:"20px"},children:"Back to Login"})]}):o.jsxs("form",{onSubmit:l,className:"login-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"email",children:"Email Address"}),o.jsx("input",{type:"email",id:"email",name:"email",value:r,onChange:u=>n(u.target.value),placeholder:"your.email@example.com",required:!0,disabled:s,autoFocus:!0})]}),o.jsx("button",{type:"submit",className:"login-button",disabled:s,children:s?"Sending...":"Send Reset Link"}),o.jsx("div",{className:"login-links",children:o.jsx("button",{type:"button",onClick:c,className:"link-button",disabled:s,children:"Back to login"})})]}),o.jsx("div",{className:"login-footer",children:o.jsxs("p",{children:[o.jsx("strong",{children:"Note:"})," For security reasons, we'll send a reset link regardless of whether the email exists in our system."]})})]})})},R7=()=>{const t=Ao(),{showAlert:e}=li(),[r,n]=W.useState({password:"",confirmPassword:""}),[s,i]=W.useState(!1),[a,A]=W.useState(!1);W.useEffect(()=>{(async()=>{ht.getUser()||(e("Invalid or expired reset link","error"),t("/admin"))})()},[t,e]);const l=h=>{const{name:p,value:d}=h.target;n(w=>({...w,[p]:d}))},c=h=>h.length<8?"Password must be at least 8 characters long":/[A-Z]/.test(h)?/[a-z]/.test(h)?/[0-9]/.test(h)?null:"Password must contain at least one number":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter",u=async h=>{if(h.preventDefault(),!r.password||!r.confirmPassword){e("Please fill in all fields","error");return}if(r.password!==r.confirmPassword){e("Passwords do not match","error");return}const p=c(r.password);if(p){e(p,"error");return}i(!0);try{await ht.updatePassword(r.password),e("Password updated successfully! You can now sign in.","success"),t("/admin",{replace:!0})}catch(d){console.error("Password update error:",d),e(d.message||"Failed to update password. Please try again.","error")}finally{i(!1)}};return o.jsx("div",{className:"login-container",children:o.jsxs("div",{className:"login-card",children:[o.jsxs("div",{className:"login-header",children:[o.jsx("h2",{children:"Set New Password"}),o.jsx("p",{className:"login-subtitle",children:"Choose a strong password for your account"})]}),o.jsxs("form",{onSubmit:u,className:"login-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"password",children:"New Password"}),o.jsxs("div",{className:"password-input-wrapper",children:[o.jsx("input",{type:a?"text":"password",id:"password",name:"password",value:r.password,onChange:l,placeholder:"Enter new password",required:!0,disabled:s,autoFocus:!0}),o.jsx("button",{type:"button",className:"password-toggle",onClick:()=>A(!a),disabled:s,children:a?"":""})]}),o.jsx("small",{className:"form-hint",children:"At least 8 characters with uppercase, lowercase, and numbers"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),o.jsx("input",{type:a?"text":"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:l,placeholder:"Confirm new password",required:!0,disabled:s})]}),o.jsx("button",{type:"submit",className:"login-button",disabled:s,children:s?"Updating...":"Update Password"})]}),o.jsxs("div",{className:"login-footer",children:[o.jsx("p",{children:o.jsx("strong",{children:"Password Requirements:"})}),o.jsxs("ul",{style:{textAlign:"left",fontSize:"0.9em",color:"#666"},children:[o.jsx("li",{children:"Minimum 8 characters"}),o.jsx("li",{children:"At least one uppercase letter"}),o.jsx("li",{children:"At least one lowercase letter"}),o.jsx("li",{children:"At least one number"})]})]})]})})};const H7=()=>{const[t,e]=W.useState(null),[r,n]=W.useState("pending"),[s,i]=W.useState(!1),a=Ao();W.useEffect(()=>{const c=ht.getUser();e(c),A()},[]);const A=async()=>{var c;i(!0);try{const u=await ze.getUserProfile();if((c=u==null?void 0:u.role)!=null&&c.approval_status){const h=u.role.approval_status;if(n(h),h==="approved"){try{ht.loadUserData&&await ht.loadUserData()}catch(p){console.warn("Failed to reload auth user after approval:",p)}a("/admin");return}}}catch(u){console.error("Error checking approval status:",u)}finally{i(!1)}},l=async()=>{await ht.signOut(),window.location.href="/"};return o.jsx("div",{className:"login-container pending-approval-page",children:o.jsxs("div",{className:"login-card pending-approval-card",children:[o.jsxs("div",{className:"login-header",children:[o.jsxs("div",{className:"login-logo",children:[o.jsx("img",{src:"/solarpack_logo.png",alt:"SolarPack logo"}),o.jsx("h1",{className:"login-title",children:"SolarPack"})]}),o.jsx("p",{className:"login-subtitle",children:r==="pending"?"Account Pending Approval":"Account Request Rejected"})]}),r==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"pending-status-icon",children:o.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#e31b23",strokeWidth:"2"}),o.jsx("path",{d:"M12 7v5l3 2",stroke:"#e31b23",strokeWidth:"2",strokeLinecap:"round"})]})}),o.jsxs("p",{className:"pending-approval-message",children:["Thank you for signing up! Your request to join NC State SolarPack is ",o.jsx("span",{className:"pending-highlight",children:"pending approval"}),".",o.jsx("br",{})]}),o.jsxs("div",{className:"pending-approval-info",children:[o.jsx("h2",{children:"What happens next?"}),o.jsxs("ul",{children:[o.jsx("li",{children:"A team leader or director will review your request"}),o.jsx("li",{children:"Check back here or refresh to see your status"}),o.jsx("li",{children:"Contact us if you need urgent access"})]})]}),o.jsxs("div",{className:"pending-approval-contact",children:[o.jsx("span",{className:"contact-label",children:"Need help? "}),o.jsx("span",{className:"contact-email",children:o.jsx("a",{href:"mailto:solarpack@ncsu.edu",children:"solarpack@ncsu.edu"})})]}),o.jsxs("div",{className:"pending-approval-actions",children:[o.jsx("button",{className:"login-button btn-refresh",onClick:A,disabled:s,children:s?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"loading-spinner"}),"Checking..."]}):"Refresh Status"}),o.jsx("button",{className:"login-button btn-signout",onClick:l,children:"Sign Out"})]})]}),r==="rejected"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"pending-status-icon",children:o.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#ef4444",strokeWidth:"2"}),o.jsx("path",{d:"M8 8l8 8M16 8l-8 8",stroke:"#ef4444",strokeWidth:"2",strokeLinecap:"round"})]})}),o.jsxs("p",{className:"pending-approval-message rejected",children:["Sorry, your account request was ",o.jsx("span",{className:"pending-highlight",children:"not approved"}),".",o.jsx("br",{}),"If you believe this is an error, please contact us."]}),o.jsxs("div",{className:"pending-approval-contact",children:[o.jsx("span",{className:"contact-label",children:"Contact:"}),o.jsx("span",{className:"contact-email",children:o.jsx("a",{href:"mailto:solarpack@ncsu.edu",children:"solarpack@ncsu.edu"})})]}),o.jsx("div",{className:"pending-approval-actions",children:o.jsx("button",{className:"login-button btn-signout",onClick:l,children:"Sign Out"})})]}),t&&o.jsx("div",{className:"pending-approval-user-info",children:o.jsxs("small",{children:["Signed in as: ",o.jsx("span",{className:"pending-user-email",children:t.email})]})})]})})};function M7(){const t=Ao();return o.jsx(oL,{children:o.jsxs(qy,{children:[o.jsx(Rn,{path:"/admin",element:o.jsx(P7,{})}),o.jsx(Rn,{path:"/login",element:o.jsx(R4,{onLogin:()=>t("/admin")})}),o.jsx(Rn,{path:"/pending-approval",element:o.jsx(H7,{})}),o.jsx(Rn,{path:"/forgot-password",element:o.jsx(O7,{})}),o.jsx(Rn,{path:"/reset-password",element:o.jsx(R7,{})}),o.jsx(Rn,{path:"/*",element:o.jsx(iL,{children:o.jsxs(qy,{children:[o.jsx(Rn,{path:"/",element:o.jsx(lL,{})}),o.jsx(Rn,{path:"/app",element:o.jsx(uL,{})}),o.jsx(Rn,{path:"/alumni",element:o.jsx(dL,{})}),o.jsx(Rn,{path:"/blogs",element:o.jsx(hL,{})}),o.jsx(Rn,{path:"/contact",element:o.jsx(fL,{})}),o.jsx(Rn,{path:"/donate",element:o.jsx(pL,{})}),o.jsx(Rn,{path:"/privacy-policy",element:o.jsx(mL,{})}),o.jsx(Rn,{path:"/sponsors",element:o.jsx(vL,{})}),o.jsx(Rn,{path:"/team",element:o.jsx(wL,{})}),o.jsx(Rn,{path:"*",element:o.jsx(bL,{})})]})})})]})})}k0.createRoot(document.getElementById("root")).render(o.jsx(v5.StrictMode,{children:o.jsx(BU,{basename:"/",children:o.jsx(M7,{})})}));export{lr as _,Ja as c,o5 as g};
