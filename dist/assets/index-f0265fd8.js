var Tk=Object.defineProperty;var Pk=(t,e,r)=>e in t?Tk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ar=(t,e,r)=>(Pk(t,typeof e!="symbol"?e+"":e,r),r);function Jx(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Wa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ok(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Yx={exports:{}},Wp={},Zx={exports:{}},Rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od=Symbol.for("react.element"),Rk=Symbol.for("react.portal"),Hk=Symbol.for("react.fragment"),Mk=Symbol.for("react.strict_mode"),zk=Symbol.for("react.profiler"),Kk=Symbol.for("react.provider"),$k=Symbol.for("react.context"),Vk=Symbol.for("react.forward_ref"),Gk=Symbol.for("react.suspense"),Wk=Symbol.for("react.memo"),qk=Symbol.for("react.lazy"),S2=Symbol.iterator;function Jk(t){return t===null||typeof t!="object"?null:(t=S2&&t[S2]||t["@@iterator"],typeof t=="function"?t:null)}var e5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t5=Object.assign,r5={};function Lc(t,e,r){this.props=t,this.context=e,this.refs=r5,this.updater=r||e5}Lc.prototype.isReactComponent={};Lc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Lc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function n5(){}n5.prototype=Lc.prototype;function vv(t,e,r){this.props=t,this.context=e,this.refs=r5,this.updater=r||e5}var wv=vv.prototype=new n5;wv.constructor=vv;t5(wv,Lc.prototype);wv.isPureReactComponent=!0;var E2=Array.isArray,s5=Object.prototype.hasOwnProperty,yv={current:null},i5={key:!0,ref:!0,__self:!0,__source:!0};function a5(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)s5.call(e,n)&&!i5.hasOwnProperty(n)&&(s[n]=e[n]);var A=arguments.length-2;if(A===1)s.children=r;else if(1<A){for(var l=Array(A),c=0;c<A;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in A=t.defaultProps,A)s[n]===void 0&&(s[n]=A[n]);return{$$typeof:Od,type:t,key:i,ref:a,props:s,_owner:yv.current}}function Xk(t,e){return{$$typeof:Od,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Od}function Yk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var k2=/\/+/g;function zg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Yk(""+t.key):e.toString(36)}function Nf(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Od:case Rk:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+zg(a,0):n,E2(s)?(r="",t!=null&&(r=t.replace(k2,"$&/")+"/"),Nf(s,e,r,"",function(c){return c})):s!=null&&(bv(s)&&(s=Xk(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(k2,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",E2(t))for(var A=0;A<t.length;A++){i=t[A];var l=n+zg(i,A);a+=Nf(i,e,r,l,s)}else if(l=Jk(t),typeof l=="function")for(t=l.call(t),A=0;!(i=t.next()).done;)i=i.value,l=n+zg(i,A++),a+=Nf(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function bh(t,e,r){if(t==null)return t;var n=[],s=0;return Nf(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Zk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ms={current:null},Ff={transition:null},e3={ReactCurrentDispatcher:ms,ReactCurrentBatchConfig:Ff,ReactCurrentOwner:yv};function o5(){throw Error("act(...) is not supported in production builds of React.")}Rt.Children={map:bh,forEach:function(t,e,r){bh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return bh(t,function(){e++}),e},toArray:function(t){return bh(t,function(e){return e})||[]},only:function(t){if(!bv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Rt.Component=Lc;Rt.Fragment=Hk;Rt.Profiler=zk;Rt.PureComponent=vv;Rt.StrictMode=Mk;Rt.Suspense=Gk;Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e3;Rt.act=o5;Rt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=t5({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=yv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var A=t.type.defaultProps;for(l in e)s5.call(e,l)&&!i5.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&A!==void 0?A[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){A=Array(l);for(var c=0;c<l;c++)A[c]=arguments[c+2];n.children=A}return{$$typeof:Od,type:t.type,key:s,ref:i,props:n,_owner:a}};Rt.createContext=function(t){return t={$$typeof:$k,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Kk,_context:t},t.Consumer=t};Rt.createElement=a5;Rt.createFactory=function(t){var e=a5.bind(null,t);return e.type=t,e};Rt.createRef=function(){return{current:null}};Rt.forwardRef=function(t){return{$$typeof:Vk,render:t}};Rt.isValidElement=bv;Rt.lazy=function(t){return{$$typeof:qk,_payload:{_status:-1,_result:t},_init:Zk}};Rt.memo=function(t,e){return{$$typeof:Wk,type:t,compare:e===void 0?null:e}};Rt.startTransition=function(t){var e=Ff.transition;Ff.transition={};try{t()}finally{Ff.transition=e}};Rt.unstable_act=o5;Rt.useCallback=function(t,e){return ms.current.useCallback(t,e)};Rt.useContext=function(t){return ms.current.useContext(t)};Rt.useDebugValue=function(){};Rt.useDeferredValue=function(t){return ms.current.useDeferredValue(t)};Rt.useEffect=function(t,e){return ms.current.useEffect(t,e)};Rt.useId=function(){return ms.current.useId()};Rt.useImperativeHandle=function(t,e,r){return ms.current.useImperativeHandle(t,e,r)};Rt.useInsertionEffect=function(t,e){return ms.current.useInsertionEffect(t,e)};Rt.useLayoutEffect=function(t,e){return ms.current.useLayoutEffect(t,e)};Rt.useMemo=function(t,e){return ms.current.useMemo(t,e)};Rt.useReducer=function(t,e,r){return ms.current.useReducer(t,e,r)};Rt.useRef=function(t){return ms.current.useRef(t)};Rt.useState=function(t){return ms.current.useState(t)};Rt.useSyncExternalStore=function(t,e,r){return ms.current.useSyncExternalStore(t,e,r)};Rt.useTransition=function(){return ms.current.useTransition()};Rt.version="18.3.1";Zx.exports=Rt;var X=Zx.exports;const A5=Xx(X),t3=Jx({__proto__:null,default:A5},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r3=X,n3=Symbol.for("react.element"),s3=Symbol.for("react.fragment"),i3=Object.prototype.hasOwnProperty,a3=r3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o3={key:!0,ref:!0,__self:!0,__source:!0};function l5(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)i3.call(e,n)&&!o3.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:n3,type:t,key:i,ref:a,props:s,_owner:a3.current}}Wp.Fragment=s3;Wp.jsx=l5;Wp.jsxs=l5;Yx.exports=Wp;var o=Yx.exports,b0={},c5={exports:{}},ai={},u5={exports:{}},d5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ie,re){var Be=ie.length;ie.push(re);e:for(;0<Be;){var se=Be-1>>>1,k=ie[se];if(0<s(k,re))ie[se]=re,ie[Be]=k,Be=se;else break e}}function r(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var re=ie[0],Be=ie.pop();if(Be!==re){ie[0]=Be;e:for(var se=0,k=ie.length,z=k>>>1;se<z;){var V=2*(se+1)-1,G=ie[V],de=V+1,ye=ie[de];if(0>s(G,Be))de<k&&0>s(ye,G)?(ie[se]=ye,ie[de]=Be,se=de):(ie[se]=G,ie[V]=Be,se=V);else if(de<k&&0>s(ye,Be))ie[se]=ye,ie[de]=Be,se=de;else break e}}return re}function s(ie,re){var Be=ie.sortIndex-re.sortIndex;return Be!==0?Be:ie.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,A=a.now();t.unstable_now=function(){return a.now()-A}}var l=[],c=[],u=1,h=null,p=3,d=!1,w=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ie){for(var re=r(c);re!==null;){if(re.callback===null)n(c);else if(re.startTime<=ie)n(c),re.sortIndex=re.expirationTime,e(l,re);else break;re=r(c)}}function _(ie){if(m=!1,B(ie),!w)if(r(l)!==null)w=!0,ve(N);else{var re=r(c);re!==null&&ce(_,re.startTime-ie)}}function N(ie,re){w=!1,m&&(m=!1,g(O),O=-1),d=!0;var Be=p;try{for(B(re),h=r(l);h!==null&&(!(h.expirationTime>re)||ie&&!I());){var se=h.callback;if(typeof se=="function"){h.callback=null,p=h.priorityLevel;var k=se(h.expirationTime<=re);re=t.unstable_now(),typeof k=="function"?h.callback=k:h===r(l)&&n(l),B(re)}else n(l);h=r(l)}if(h!==null)var z=!0;else{var V=r(c);V!==null&&ce(_,V.startTime-re),z=!1}return z}finally{h=null,p=Be,d=!1}}var D=!1,T=null,O=-1,F=5,K=-1;function I(){return!(t.unstable_now()-K<F)}function j(){if(T!==null){var ie=t.unstable_now();K=ie;var re=!0;try{re=T(!0,ie)}finally{re?H():(D=!1,T=null)}}else D=!1}var H;if(typeof y=="function")H=function(){y(j)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,te=C.port2;C.port1.onmessage=j,H=function(){te.postMessage(null)}}else H=function(){b(j,0)};function ve(ie){T=ie,D||(D=!0,H())}function ce(ie,re){O=b(function(){ie(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){w||d||(w=!0,ve(N))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(ie){switch(p){case 1:case 2:case 3:var re=3;break;default:re=p}var Be=p;p=re;try{return ie()}finally{p=Be}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,re){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var Be=p;p=ie;try{return re()}finally{p=Be}},t.unstable_scheduleCallback=function(ie,re,Be){var se=t.unstable_now();switch(typeof Be=="object"&&Be!==null?(Be=Be.delay,Be=typeof Be=="number"&&0<Be?se+Be:se):Be=se,ie){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=Be+k,ie={id:u++,callback:re,priorityLevel:ie,startTime:Be,expirationTime:k,sortIndex:-1},Be>se?(ie.sortIndex=Be,e(c,ie),r(l)===null&&ie===r(c)&&(m?(g(O),O=-1):m=!0,ce(_,Be-se))):(ie.sortIndex=k,e(l,ie),w||d||(w=!0,ve(N))),ie},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(ie){var re=p;return function(){var Be=p;p=re;try{return ie.apply(this,arguments)}finally{p=Be}}}})(d5);u5.exports=d5;var A3=u5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l3=X,ii=A3;function Ze(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h5=new Set,ad={};function al(t,e){xc(t,e),xc(t+"Capture",e)}function xc(t,e){for(ad[t]=e,t=0;t<e.length;t++)h5.add(e[t])}var eo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),B0=Object.prototype.hasOwnProperty,c3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N2={},F2={};function u3(t){return B0.call(F2,t)?!0:B0.call(N2,t)?!1:c3.test(t)?F2[t]=!0:(N2[t]=!0,!1)}function d3(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function h3(t,e,r,n){if(e===null||typeof e>"u"||d3(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vs(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var $n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$n[t]=new vs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$n[e]=new vs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$n[t]=new vs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$n[t]=new vs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$n[t]=new vs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$n[t]=new vs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$n[t]=new vs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$n[t]=new vs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$n[t]=new vs(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bv=/[\-:]([a-z])/g;function xv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bv,xv);$n[e]=new vs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bv,xv);$n[e]=new vs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bv,xv);$n[e]=new vs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$n[t]=new vs(t,1,!1,t.toLowerCase(),null,!1,!1)});$n.xlinkHref=new vs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$n[t]=new vs(t,1,!1,t.toLowerCase(),null,!0,!0)});function _v(t,e,r,n){var s=$n.hasOwnProperty(e)?$n[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(h3(e,r,s,n)&&(r=null),n||s===null?u3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var io=l3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bh=Symbol.for("react.element"),Jl=Symbol.for("react.portal"),Xl=Symbol.for("react.fragment"),Cv=Symbol.for("react.strict_mode"),x0=Symbol.for("react.profiler"),f5=Symbol.for("react.provider"),p5=Symbol.for("react.context"),Sv=Symbol.for("react.forward_ref"),_0=Symbol.for("react.suspense"),C0=Symbol.for("react.suspense_list"),Ev=Symbol.for("react.memo"),jo=Symbol.for("react.lazy"),g5=Symbol.for("react.offscreen"),j2=Symbol.iterator;function lu(t){return t===null||typeof t!="object"?null:(t=j2&&t[j2]||t["@@iterator"],typeof t=="function"?t:null)}var Or=Object.assign,Kg;function _u(t){if(Kg===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Kg=e&&e[1]||""}return`
`+Kg+t}var $g=!1;function Vg(t,e){if(!t||$g)return"";$g=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,A=i.length-1;1<=a&&0<=A&&s[a]!==i[A];)A--;for(;1<=a&&0<=A;a--,A--)if(s[a]!==i[A]){if(a!==1||A!==1)do if(a--,A--,0>A||s[a]!==i[A]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=A);break}}}finally{$g=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?_u(t):""}function f3(t){switch(t.tag){case 5:return _u(t.type);case 16:return _u("Lazy");case 13:return _u("Suspense");case 19:return _u("SuspenseList");case 0:case 2:case 15:return t=Vg(t.type,!1),t;case 11:return t=Vg(t.type.render,!1),t;case 1:return t=Vg(t.type,!0),t;default:return""}}function S0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xl:return"Fragment";case Jl:return"Portal";case x0:return"Profiler";case Cv:return"StrictMode";case _0:return"Suspense";case C0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case p5:return(t.displayName||"Context")+".Consumer";case f5:return(t._context.displayName||"Context")+".Provider";case Sv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ev:return e=t.displayName||null,e!==null?e:S0(t.type)||"Memo";case jo:e=t._payload,t=t._init;try{return S0(t(e))}catch{}}return null}function p3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S0(e);case 8:return e===Cv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function aA(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function m5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function g3(t){var e=m5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xh(t){t._valueTracker||(t._valueTracker=g3(t))}function v5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=m5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ep(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function E0(t,e){var r=e.checked;return Or({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function U2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=aA(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function w5(t,e){e=e.checked,e!=null&&_v(t,"checked",e,!1)}function k0(t,e){w5(t,e);var r=aA(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?N0(t,e.type,r):e.hasOwnProperty("defaultValue")&&N0(t,e.type,aA(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function I2(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function N0(t,e,r){(e!=="number"||ep(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Cu=Array.isArray;function cc(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+aA(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function F0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ze(91));return Or({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Q2(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ze(92));if(Cu(r)){if(1<r.length)throw Error(Ze(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:aA(r)}}function y5(t,e){var r=aA(e.value),n=aA(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function L2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function b5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function j0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?b5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _h,B5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_h=_h||document.createElement("div"),_h.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_h.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function od(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ou={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m3=["Webkit","ms","Moz","O"];Object.keys(Ou).forEach(function(t){m3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ou[e]=Ou[t]})});function x5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ou.hasOwnProperty(t)&&Ou[t]?(""+e).trim():e+"px"}function _5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=x5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var v3=Or({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function U0(t,e){if(e){if(v3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ze(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ze(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ze(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ze(62))}}function I0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q0=null;function kv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var L0=null,uc=null,dc=null;function D2(t){if(t=Md(t)){if(typeof L0!="function")throw Error(Ze(280));var e=t.stateNode;e&&(e=Zp(e),L0(t.stateNode,t.type,e))}}function C5(t){uc?dc?dc.push(t):dc=[t]:uc=t}function S5(){if(uc){var t=uc,e=dc;if(dc=uc=null,D2(t),e)for(t=0;t<e.length;t++)D2(e[t])}}function E5(t,e){return t(e)}function k5(){}var Gg=!1;function N5(t,e,r){if(Gg)return t(e,r);Gg=!0;try{return E5(t,e,r)}finally{Gg=!1,(uc!==null||dc!==null)&&(k5(),S5())}}function Ad(t,e){var r=t.stateNode;if(r===null)return null;var n=Zp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ze(231,e,typeof r));return r}var D0=!1;if(eo)try{var cu={};Object.defineProperty(cu,"passive",{get:function(){D0=!0}}),window.addEventListener("test",cu,cu),window.removeEventListener("test",cu,cu)}catch{D0=!1}function w3(t,e,r,n,s,i,a,A,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Ru=!1,tp=null,rp=!1,T0=null,y3={onError:function(t){Ru=!0,tp=t}};function b3(t,e,r,n,s,i,a,A,l){Ru=!1,tp=null,w3.apply(y3,arguments)}function B3(t,e,r,n,s,i,a,A,l){if(b3.apply(this,arguments),Ru){if(Ru){var c=tp;Ru=!1,tp=null}else throw Error(Ze(198));rp||(rp=!0,T0=c)}}function ol(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function F5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function T2(t){if(ol(t)!==t)throw Error(Ze(188))}function x3(t){var e=t.alternate;if(!e){if(e=ol(t),e===null)throw Error(Ze(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return T2(s),t;if(i===n)return T2(s),e;i=i.sibling}throw Error(Ze(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,A=s.child;A;){if(A===r){a=!0,r=s,n=i;break}if(A===n){a=!0,n=s,r=i;break}A=A.sibling}if(!a){for(A=i.child;A;){if(A===r){a=!0,r=i,n=s;break}if(A===n){a=!0,n=i,r=s;break}A=A.sibling}if(!a)throw Error(Ze(189))}}if(r.alternate!==n)throw Error(Ze(190))}if(r.tag!==3)throw Error(Ze(188));return r.stateNode.current===r?t:e}function j5(t){return t=x3(t),t!==null?U5(t):null}function U5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=U5(t);if(e!==null)return e;t=t.sibling}return null}var I5=ii.unstable_scheduleCallback,P2=ii.unstable_cancelCallback,_3=ii.unstable_shouldYield,C3=ii.unstable_requestPaint,tn=ii.unstable_now,S3=ii.unstable_getCurrentPriorityLevel,Nv=ii.unstable_ImmediatePriority,Q5=ii.unstable_UserBlockingPriority,np=ii.unstable_NormalPriority,E3=ii.unstable_LowPriority,L5=ii.unstable_IdlePriority,qp=null,ba=null;function k3(t){if(ba&&typeof ba.onCommitFiberRoot=="function")try{ba.onCommitFiberRoot(qp,t,void 0,(t.current.flags&128)===128)}catch{}}var Ji=Math.clz32?Math.clz32:j3,N3=Math.log,F3=Math.LN2;function j3(t){return t>>>=0,t===0?32:31-(N3(t)/F3|0)|0}var Ch=64,Sh=4194304;function Su(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var A=a&~s;A!==0?n=Su(A):(i&=a,i!==0&&(n=Su(i)))}else a=r&~s,a!==0?n=Su(a):i!==0&&(n=Su(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ji(e),s=1<<r,n|=t[r],e&=~s;return n}function U3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I3(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Ji(i),A=1<<a,l=s[a];l===-1?(!(A&r)||A&n)&&(s[a]=U3(A,e)):l<=e&&(t.expiredLanes|=A),i&=~A}}function P0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function D5(){var t=Ch;return Ch<<=1,!(Ch&4194240)&&(Ch=64),t}function Wg(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Rd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ji(e),t[e]=r}function Q3(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Ji(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Fv(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ji(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Ar=0;function T5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var P5,jv,O5,R5,H5,O0=!1,Eh=[],Vo=null,Go=null,Wo=null,ld=new Map,cd=new Map,Qo=[],L3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function O2(t,e){switch(t){case"focusin":case"focusout":Vo=null;break;case"dragenter":case"dragleave":Go=null;break;case"mouseover":case"mouseout":Wo=null;break;case"pointerover":case"pointerout":ld.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cd.delete(e.pointerId)}}function uu(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Md(e),e!==null&&jv(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function D3(t,e,r,n,s){switch(e){case"focusin":return Vo=uu(Vo,t,e,r,n,s),!0;case"dragenter":return Go=uu(Go,t,e,r,n,s),!0;case"mouseover":return Wo=uu(Wo,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return ld.set(i,uu(ld.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,cd.set(i,uu(cd.get(i)||null,t,e,r,n,s)),!0}return!1}function M5(t){var e=OA(t.target);if(e!==null){var r=ol(e);if(r!==null){if(e=r.tag,e===13){if(e=F5(r),e!==null){t.blockedOn=e,H5(t.priority,function(){O5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=R0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Q0=n,r.target.dispatchEvent(n),Q0=null}else return e=Md(r),e!==null&&jv(e),t.blockedOn=r,!1;e.shift()}return!0}function R2(t,e,r){jf(t)&&r.delete(e)}function T3(){O0=!1,Vo!==null&&jf(Vo)&&(Vo=null),Go!==null&&jf(Go)&&(Go=null),Wo!==null&&jf(Wo)&&(Wo=null),ld.forEach(R2),cd.forEach(R2)}function du(t,e){t.blockedOn===e&&(t.blockedOn=null,O0||(O0=!0,ii.unstable_scheduleCallback(ii.unstable_NormalPriority,T3)))}function ud(t){function e(s){return du(s,t)}if(0<Eh.length){du(Eh[0],t);for(var r=1;r<Eh.length;r++){var n=Eh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Vo!==null&&du(Vo,t),Go!==null&&du(Go,t),Wo!==null&&du(Wo,t),ld.forEach(e),cd.forEach(e),r=0;r<Qo.length;r++)n=Qo[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Qo.length&&(r=Qo[0],r.blockedOn===null);)M5(r),r.blockedOn===null&&Qo.shift()}var hc=io.ReactCurrentBatchConfig,ip=!0;function P3(t,e,r,n){var s=Ar,i=hc.transition;hc.transition=null;try{Ar=1,Uv(t,e,r,n)}finally{Ar=s,hc.transition=i}}function O3(t,e,r,n){var s=Ar,i=hc.transition;hc.transition=null;try{Ar=4,Uv(t,e,r,n)}finally{Ar=s,hc.transition=i}}function Uv(t,e,r,n){if(ip){var s=R0(t,e,r,n);if(s===null)sm(t,e,n,ap,r),O2(t,n);else if(D3(s,t,e,r,n))n.stopPropagation();else if(O2(t,n),e&4&&-1<L3.indexOf(t)){for(;s!==null;){var i=Md(s);if(i!==null&&P5(i),i=R0(t,e,r,n),i===null&&sm(t,e,n,ap,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else sm(t,e,n,null,r)}}var ap=null;function R0(t,e,r,n){if(ap=null,t=kv(n),t=OA(t),t!==null)if(e=ol(t),e===null)t=null;else if(r=e.tag,r===13){if(t=F5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ap=t,null}function z5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(S3()){case Nv:return 1;case Q5:return 4;case np:case E3:return 16;case L5:return 536870912;default:return 16}default:return 16}}var Po=null,Iv=null,Uf=null;function K5(){if(Uf)return Uf;var t,e=Iv,r=e.length,n,s="value"in Po?Po.value:Po.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return Uf=s.slice(t,1<n?1-n:void 0)}function If(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kh(){return!0}function H2(){return!1}function oi(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(r=t[A],this[A]=r?r(i):i[A]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?kh:H2,this.isPropagationStopped=H2,this}return Or(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kh)},persist:function(){},isPersistent:kh}),e}var Dc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qv=oi(Dc),Hd=Or({},Dc,{view:0,detail:0}),R3=oi(Hd),qg,Jg,hu,Jp=Or({},Hd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hu&&(hu&&t.type==="mousemove"?(qg=t.screenX-hu.screenX,Jg=t.screenY-hu.screenY):Jg=qg=0,hu=t),qg)},movementY:function(t){return"movementY"in t?t.movementY:Jg}}),M2=oi(Jp),H3=Or({},Jp,{dataTransfer:0}),M3=oi(H3),z3=Or({},Hd,{relatedTarget:0}),Xg=oi(z3),K3=Or({},Dc,{animationName:0,elapsedTime:0,pseudoElement:0}),$3=oi(K3),V3=Or({},Dc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),G3=oi(V3),W3=Or({},Dc,{data:0}),z2=oi(W3),q3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=X3[t])?!!e[t]:!1}function Lv(){return Y3}var Z3=Or({},Hd,{key:function(t){if(t.key){var e=q3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=If(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?J3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lv,charCode:function(t){return t.type==="keypress"?If(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?If(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eN=oi(Z3),tN=Or({},Jp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K2=oi(tN),rN=Or({},Hd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lv}),nN=oi(rN),sN=Or({},Dc,{propertyName:0,elapsedTime:0,pseudoElement:0}),iN=oi(sN),aN=Or({},Jp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oN=oi(aN),AN=[9,13,27,32],Dv=eo&&"CompositionEvent"in window,Hu=null;eo&&"documentMode"in document&&(Hu=document.documentMode);var lN=eo&&"TextEvent"in window&&!Hu,$5=eo&&(!Dv||Hu&&8<Hu&&11>=Hu),$2=String.fromCharCode(32),V2=!1;function V5(t,e){switch(t){case"keyup":return AN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yl=!1;function cN(t,e){switch(t){case"compositionend":return G5(e);case"keypress":return e.which!==32?null:(V2=!0,$2);case"textInput":return t=e.data,t===$2&&V2?null:t;default:return null}}function uN(t,e){if(Yl)return t==="compositionend"||!Dv&&V5(t,e)?(t=K5(),Uf=Iv=Po=null,Yl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $5&&e.locale!=="ko"?null:e.data;default:return null}}var dN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dN[t.type]:e==="textarea"}function W5(t,e,r,n){C5(n),e=op(e,"onChange"),0<e.length&&(r=new Qv("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Mu=null,dd=null;function hN(t){i_(t,0)}function Xp(t){var e=tc(t);if(v5(e))return t}function fN(t,e){if(t==="change")return e}var q5=!1;if(eo){var Yg;if(eo){var Zg="oninput"in document;if(!Zg){var W2=document.createElement("div");W2.setAttribute("oninput","return;"),Zg=typeof W2.oninput=="function"}Yg=Zg}else Yg=!1;q5=Yg&&(!document.documentMode||9<document.documentMode)}function q2(){Mu&&(Mu.detachEvent("onpropertychange",J5),dd=Mu=null)}function J5(t){if(t.propertyName==="value"&&Xp(dd)){var e=[];W5(e,dd,t,kv(t)),N5(hN,e)}}function pN(t,e,r){t==="focusin"?(q2(),Mu=e,dd=r,Mu.attachEvent("onpropertychange",J5)):t==="focusout"&&q2()}function gN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xp(dd)}function mN(t,e){if(t==="click")return Xp(e)}function vN(t,e){if(t==="input"||t==="change")return Xp(e)}function wN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yi=typeof Object.is=="function"?Object.is:wN;function hd(t,e){if(Yi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!B0.call(e,s)||!Yi(t[s],e[s]))return!1}return!0}function J2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function X2(t,e){var r=J2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=J2(r)}}function X5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?X5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Y5(){for(var t=window,e=ep();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ep(t.document)}return e}function Tv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yN(t){var e=Y5(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&X5(r.ownerDocument.documentElement,r)){if(n!==null&&Tv(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=X2(r,i);var a=X2(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bN=eo&&"documentMode"in document&&11>=document.documentMode,Zl=null,H0=null,zu=null,M0=!1;function Y2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;M0||Zl==null||Zl!==ep(n)||(n=Zl,"selectionStart"in n&&Tv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zu&&hd(zu,n)||(zu=n,n=op(H0,"onSelect"),0<n.length&&(e=new Qv("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Zl)))}function Nh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ec={animationend:Nh("Animation","AnimationEnd"),animationiteration:Nh("Animation","AnimationIteration"),animationstart:Nh("Animation","AnimationStart"),transitionend:Nh("Transition","TransitionEnd")},em={},Z5={};eo&&(Z5=document.createElement("div").style,"AnimationEvent"in window||(delete ec.animationend.animation,delete ec.animationiteration.animation,delete ec.animationstart.animation),"TransitionEvent"in window||delete ec.transitionend.transition);function Yp(t){if(em[t])return em[t];if(!ec[t])return t;var e=ec[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Z5)return em[t]=e[r];return t}var e_=Yp("animationend"),t_=Yp("animationiteration"),r_=Yp("animationstart"),n_=Yp("transitionend"),s_=new Map,Z2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cA(t,e){s_.set(t,e),al(e,[t])}for(var tm=0;tm<Z2.length;tm++){var rm=Z2[tm],BN=rm.toLowerCase(),xN=rm[0].toUpperCase()+rm.slice(1);cA(BN,"on"+xN)}cA(e_,"onAnimationEnd");cA(t_,"onAnimationIteration");cA(r_,"onAnimationStart");cA("dblclick","onDoubleClick");cA("focusin","onFocus");cA("focusout","onBlur");cA(n_,"onTransitionEnd");xc("onMouseEnter",["mouseout","mouseover"]);xc("onMouseLeave",["mouseout","mouseover"]);xc("onPointerEnter",["pointerout","pointerover"]);xc("onPointerLeave",["pointerout","pointerover"]);al("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));al("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));al("onBeforeInput",["compositionend","keypress","textInput","paste"]);al("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));al("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));al("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_N=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eu));function ey(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,B3(n,e,void 0,t),t.currentTarget=null}function i_(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var A=n[a],l=A.instance,c=A.currentTarget;if(A=A.listener,l!==i&&s.isPropagationStopped())break e;ey(s,A,c),i=l}else for(a=0;a<n.length;a++){if(A=n[a],l=A.instance,c=A.currentTarget,A=A.listener,l!==i&&s.isPropagationStopped())break e;ey(s,A,c),i=l}}}if(rp)throw t=T0,rp=!1,T0=null,t}function Sr(t,e){var r=e[G0];r===void 0&&(r=e[G0]=new Set);var n=t+"__bubble";r.has(n)||(a_(e,t,2,!1),r.add(n))}function nm(t,e,r){var n=0;e&&(n|=4),a_(r,t,n,e)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function fd(t){if(!t[Fh]){t[Fh]=!0,h5.forEach(function(r){r!=="selectionchange"&&(_N.has(r)||nm(r,!1,t),nm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fh]||(e[Fh]=!0,nm("selectionchange",!1,e))}}function a_(t,e,r,n){switch(z5(e)){case 1:var s=P3;break;case 4:s=O3;break;default:s=Uv}r=s.bind(null,e,r,t),s=void 0,!D0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function sm(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var A=n.stateNode.containerInfo;if(A===s||A.nodeType===8&&A.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;A!==null;){if(a=OA(A),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}A=A.parentNode}}n=n.return}N5(function(){var c=i,u=kv(r),h=[];e:{var p=s_.get(t);if(p!==void 0){var d=Qv,w=t;switch(t){case"keypress":if(If(r)===0)break e;case"keydown":case"keyup":d=eN;break;case"focusin":w="focus",d=Xg;break;case"focusout":w="blur",d=Xg;break;case"beforeblur":case"afterblur":d=Xg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=M2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=M3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=nN;break;case e_:case t_:case r_:d=$3;break;case n_:d=iN;break;case"scroll":d=R3;break;case"wheel":d=oN;break;case"copy":case"cut":case"paste":d=G3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=K2}var m=(e&4)!==0,b=!m&&t==="scroll",g=m?p!==null?p+"Capture":null:p;m=[];for(var y=c,B;y!==null;){B=y;var _=B.stateNode;if(B.tag===5&&_!==null&&(B=_,g!==null&&(_=Ad(y,g),_!=null&&m.push(pd(y,_,B)))),b)break;y=y.return}0<m.length&&(p=new d(p,w,null,r,u),h.push({event:p,listeners:m}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",p&&r!==Q0&&(w=r.relatedTarget||r.fromElement)&&(OA(w)||w[to]))break e;if((d||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,d?(w=r.relatedTarget||r.toElement,d=c,w=w?OA(w):null,w!==null&&(b=ol(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(d=null,w=c),d!==w)){if(m=M2,_="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=K2,_="onPointerLeave",g="onPointerEnter",y="pointer"),b=d==null?p:tc(d),B=w==null?p:tc(w),p=new m(_,y+"leave",d,r,u),p.target=b,p.relatedTarget=B,_=null,OA(u)===c&&(m=new m(g,y+"enter",w,r,u),m.target=B,m.relatedTarget=b,_=m),b=_,d&&w)t:{for(m=d,g=w,y=0,B=m;B;B=El(B))y++;for(B=0,_=g;_;_=El(_))B++;for(;0<y-B;)m=El(m),y--;for(;0<B-y;)g=El(g),B--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=El(m),g=El(g)}m=null}else m=null;d!==null&&ty(h,p,d,m,!1),w!==null&&b!==null&&ty(h,b,w,m,!0)}}e:{if(p=c?tc(c):window,d=p.nodeName&&p.nodeName.toLowerCase(),d==="select"||d==="input"&&p.type==="file")var N=fN;else if(G2(p))if(q5)N=vN;else{N=gN;var D=pN}else(d=p.nodeName)&&d.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=mN);if(N&&(N=N(t,c))){W5(h,N,r,u);break e}D&&D(t,p,c),t==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&N0(p,"number",p.value)}switch(D=c?tc(c):window,t){case"focusin":(G2(D)||D.contentEditable==="true")&&(Zl=D,H0=c,zu=null);break;case"focusout":zu=H0=Zl=null;break;case"mousedown":M0=!0;break;case"contextmenu":case"mouseup":case"dragend":M0=!1,Y2(h,r,u);break;case"selectionchange":if(bN)break;case"keydown":case"keyup":Y2(h,r,u)}var T;if(Dv)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Yl?V5(t,r)&&(O="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&($5&&r.locale!=="ko"&&(Yl||O!=="onCompositionStart"?O==="onCompositionEnd"&&Yl&&(T=K5()):(Po=u,Iv="value"in Po?Po.value:Po.textContent,Yl=!0)),D=op(c,O),0<D.length&&(O=new z2(O,t,null,r,u),h.push({event:O,listeners:D}),T?O.data=T:(T=G5(r),T!==null&&(O.data=T)))),(T=lN?cN(t,r):uN(t,r))&&(c=op(c,"onBeforeInput"),0<c.length&&(u=new z2("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=T))}i_(h,e)})}function pd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function op(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ad(t,r),i!=null&&n.unshift(pd(t,i,s)),i=Ad(t,e),i!=null&&n.push(pd(t,i,s))),t=t.return}return n}function El(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ty(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var A=r,l=A.alternate,c=A.stateNode;if(l!==null&&l===n)break;A.tag===5&&c!==null&&(A=c,s?(l=Ad(r,i),l!=null&&a.unshift(pd(r,l,A))):s||(l=Ad(r,i),l!=null&&a.push(pd(r,l,A)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var CN=/\r\n?/g,SN=/\u0000|\uFFFD/g;function ry(t){return(typeof t=="string"?t:""+t).replace(CN,`
`).replace(SN,"")}function jh(t,e,r){if(e=ry(e),ry(t)!==e&&r)throw Error(Ze(425))}function Ap(){}var z0=null,K0=null;function $0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var V0=typeof setTimeout=="function"?setTimeout:void 0,EN=typeof clearTimeout=="function"?clearTimeout:void 0,ny=typeof Promise=="function"?Promise:void 0,kN=typeof queueMicrotask=="function"?queueMicrotask:typeof ny<"u"?function(t){return ny.resolve(null).then(t).catch(NN)}:V0;function NN(t){setTimeout(function(){throw t})}function im(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),ud(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ud(e)}function qo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Tc=Math.random().toString(36).slice(2),va="__reactFiber$"+Tc,gd="__reactProps$"+Tc,to="__reactContainer$"+Tc,G0="__reactEvents$"+Tc,FN="__reactListeners$"+Tc,jN="__reactHandles$"+Tc;function OA(t){var e=t[va];if(e)return e;for(var r=t.parentNode;r;){if(e=r[to]||r[va]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=sy(t);t!==null;){if(r=t[va])return r;t=sy(t)}return e}t=r,r=t.parentNode}return null}function Md(t){return t=t[va]||t[to],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function tc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ze(33))}function Zp(t){return t[gd]||null}var W0=[],rc=-1;function uA(t){return{current:t}}function kr(t){0>rc||(t.current=W0[rc],W0[rc]=null,rc--)}function br(t,e){rc++,W0[rc]=t.current,t.current=e}var oA={},os=uA(oA),js=uA(!1),YA=oA;function _c(t,e){var r=t.type.contextTypes;if(!r)return oA;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Us(t){return t=t.childContextTypes,t!=null}function lp(){kr(js),kr(os)}function iy(t,e,r){if(os.current!==oA)throw Error(Ze(168));br(os,e),br(js,r)}function o_(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Ze(108,p3(t)||"Unknown",s));return Or({},r,n)}function cp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||oA,YA=os.current,br(os,t),br(js,js.current),!0}function ay(t,e,r){var n=t.stateNode;if(!n)throw Error(Ze(169));r?(t=o_(t,e,YA),n.__reactInternalMemoizedMergedChildContext=t,kr(js),kr(os),br(os,t)):kr(js),br(js,r)}var $a=null,eg=!1,am=!1;function A_(t){$a===null?$a=[t]:$a.push(t)}function UN(t){eg=!0,A_(t)}function dA(){if(!am&&$a!==null){am=!0;var t=0,e=Ar;try{var r=$a;for(Ar=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}$a=null,eg=!1}catch(s){throw $a!==null&&($a=$a.slice(t+1)),I5(Nv,dA),s}finally{Ar=e,am=!1}}return null}var nc=[],sc=0,up=null,dp=0,_i=[],Ci=0,ZA=null,qa=1,Ja="";function FA(t,e){nc[sc++]=dp,nc[sc++]=up,up=t,dp=e}function l_(t,e,r){_i[Ci++]=qa,_i[Ci++]=Ja,_i[Ci++]=ZA,ZA=t;var n=qa;t=Ja;var s=32-Ji(n)-1;n&=~(1<<s),r+=1;var i=32-Ji(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,qa=1<<32-Ji(e)+s|r<<s|n,Ja=i+t}else qa=1<<i|r<<s|n,Ja=t}function Pv(t){t.return!==null&&(FA(t,1),l_(t,1,0))}function Ov(t){for(;t===up;)up=nc[--sc],nc[sc]=null,dp=nc[--sc],nc[sc]=null;for(;t===ZA;)ZA=_i[--Ci],_i[Ci]=null,Ja=_i[--Ci],_i[Ci]=null,qa=_i[--Ci],_i[Ci]=null}var si=null,ti=null,Ir=!1,qi=null;function c_(t,e){var r=ki(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function oy(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,si=t,ti=qo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,si=t,ti=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ZA!==null?{id:qa,overflow:Ja}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ki(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,si=t,ti=null,!0):!1;default:return!1}}function q0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function J0(t){if(Ir){var e=ti;if(e){var r=e;if(!oy(t,e)){if(q0(t))throw Error(Ze(418));e=qo(r.nextSibling);var n=si;e&&oy(t,e)?c_(n,r):(t.flags=t.flags&-4097|2,Ir=!1,si=t)}}else{if(q0(t))throw Error(Ze(418));t.flags=t.flags&-4097|2,Ir=!1,si=t}}}function Ay(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;si=t}function Uh(t){if(t!==si)return!1;if(!Ir)return Ay(t),Ir=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$0(t.type,t.memoizedProps)),e&&(e=ti)){if(q0(t))throw u_(),Error(Ze(418));for(;e;)c_(t,e),e=qo(e.nextSibling)}if(Ay(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ze(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ti=qo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ti=null}}else ti=si?qo(t.stateNode.nextSibling):null;return!0}function u_(){for(var t=ti;t;)t=qo(t.nextSibling)}function Cc(){ti=si=null,Ir=!1}function Rv(t){qi===null?qi=[t]:qi.push(t)}var IN=io.ReactCurrentBatchConfig;function fu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ze(309));var n=r.stateNode}if(!n)throw Error(Ze(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var A=s.refs;a===null?delete A[i]:A[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Ze(284));if(!r._owner)throw Error(Ze(290,t))}return t}function Ih(t,e){throw t=Object.prototype.toString.call(e),Error(Ze(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ly(t){var e=t._init;return e(t._payload)}function d_(t){function e(g,y){if(t){var B=g.deletions;B===null?(g.deletions=[y],g.flags|=16):B.push(y)}}function r(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=Zo(g,y),g.index=0,g.sibling=null,g}function i(g,y,B){return g.index=B,t?(B=g.alternate,B!==null?(B=B.index,B<y?(g.flags|=2,y):B):(g.flags|=2,y)):(g.flags|=1048576,y)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function A(g,y,B,_){return y===null||y.tag!==6?(y=hm(B,g.mode,_),y.return=g,y):(y=s(y,B),y.return=g,y)}function l(g,y,B,_){var N=B.type;return N===Xl?u(g,y,B.props.children,_,B.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===jo&&ly(N)===y.type)?(_=s(y,B.props),_.ref=fu(g,y,B),_.return=g,_):(_=Rf(B.type,B.key,B.props,null,g.mode,_),_.ref=fu(g,y,B),_.return=g,_)}function c(g,y,B,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==B.containerInfo||y.stateNode.implementation!==B.implementation?(y=fm(B,g.mode,_),y.return=g,y):(y=s(y,B.children||[]),y.return=g,y)}function u(g,y,B,_,N){return y===null||y.tag!==7?(y=WA(B,g.mode,_,N),y.return=g,y):(y=s(y,B),y.return=g,y)}function h(g,y,B){if(typeof y=="string"&&y!==""||typeof y=="number")return y=hm(""+y,g.mode,B),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bh:return B=Rf(y.type,y.key,y.props,null,g.mode,B),B.ref=fu(g,null,y),B.return=g,B;case Jl:return y=fm(y,g.mode,B),y.return=g,y;case jo:var _=y._init;return h(g,_(y._payload),B)}if(Cu(y)||lu(y))return y=WA(y,g.mode,B,null),y.return=g,y;Ih(g,y)}return null}function p(g,y,B,_){var N=y!==null?y.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return N!==null?null:A(g,y,""+B,_);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Bh:return B.key===N?l(g,y,B,_):null;case Jl:return B.key===N?c(g,y,B,_):null;case jo:return N=B._init,p(g,y,N(B._payload),_)}if(Cu(B)||lu(B))return N!==null?null:u(g,y,B,_,null);Ih(g,B)}return null}function d(g,y,B,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(B)||null,A(y,g,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Bh:return g=g.get(_.key===null?B:_.key)||null,l(y,g,_,N);case Jl:return g=g.get(_.key===null?B:_.key)||null,c(y,g,_,N);case jo:var D=_._init;return d(g,y,B,D(_._payload),N)}if(Cu(_)||lu(_))return g=g.get(B)||null,u(y,g,_,N,null);Ih(y,_)}return null}function w(g,y,B,_){for(var N=null,D=null,T=y,O=y=0,F=null;T!==null&&O<B.length;O++){T.index>O?(F=T,T=null):F=T.sibling;var K=p(g,T,B[O],_);if(K===null){T===null&&(T=F);break}t&&T&&K.alternate===null&&e(g,T),y=i(K,y,O),D===null?N=K:D.sibling=K,D=K,T=F}if(O===B.length)return r(g,T),Ir&&FA(g,O),N;if(T===null){for(;O<B.length;O++)T=h(g,B[O],_),T!==null&&(y=i(T,y,O),D===null?N=T:D.sibling=T,D=T);return Ir&&FA(g,O),N}for(T=n(g,T);O<B.length;O++)F=d(T,g,O,B[O],_),F!==null&&(t&&F.alternate!==null&&T.delete(F.key===null?O:F.key),y=i(F,y,O),D===null?N=F:D.sibling=F,D=F);return t&&T.forEach(function(I){return e(g,I)}),Ir&&FA(g,O),N}function m(g,y,B,_){var N=lu(B);if(typeof N!="function")throw Error(Ze(150));if(B=N.call(B),B==null)throw Error(Ze(151));for(var D=N=null,T=y,O=y=0,F=null,K=B.next();T!==null&&!K.done;O++,K=B.next()){T.index>O?(F=T,T=null):F=T.sibling;var I=p(g,T,K.value,_);if(I===null){T===null&&(T=F);break}t&&T&&I.alternate===null&&e(g,T),y=i(I,y,O),D===null?N=I:D.sibling=I,D=I,T=F}if(K.done)return r(g,T),Ir&&FA(g,O),N;if(T===null){for(;!K.done;O++,K=B.next())K=h(g,K.value,_),K!==null&&(y=i(K,y,O),D===null?N=K:D.sibling=K,D=K);return Ir&&FA(g,O),N}for(T=n(g,T);!K.done;O++,K=B.next())K=d(T,g,O,K.value,_),K!==null&&(t&&K.alternate!==null&&T.delete(K.key===null?O:K.key),y=i(K,y,O),D===null?N=K:D.sibling=K,D=K);return t&&T.forEach(function(j){return e(g,j)}),Ir&&FA(g,O),N}function b(g,y,B,_){if(typeof B=="object"&&B!==null&&B.type===Xl&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case Bh:e:{for(var N=B.key,D=y;D!==null;){if(D.key===N){if(N=B.type,N===Xl){if(D.tag===7){r(g,D.sibling),y=s(D,B.props.children),y.return=g,g=y;break e}}else if(D.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===jo&&ly(N)===D.type){r(g,D.sibling),y=s(D,B.props),y.ref=fu(g,D,B),y.return=g,g=y;break e}r(g,D);break}else e(g,D);D=D.sibling}B.type===Xl?(y=WA(B.props.children,g.mode,_,B.key),y.return=g,g=y):(_=Rf(B.type,B.key,B.props,null,g.mode,_),_.ref=fu(g,y,B),_.return=g,g=_)}return a(g);case Jl:e:{for(D=B.key;y!==null;){if(y.key===D)if(y.tag===4&&y.stateNode.containerInfo===B.containerInfo&&y.stateNode.implementation===B.implementation){r(g,y.sibling),y=s(y,B.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else e(g,y);y=y.sibling}y=fm(B,g.mode,_),y.return=g,g=y}return a(g);case jo:return D=B._init,b(g,y,D(B._payload),_)}if(Cu(B))return w(g,y,B,_);if(lu(B))return m(g,y,B,_);Ih(g,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,y!==null&&y.tag===6?(r(g,y.sibling),y=s(y,B),y.return=g,g=y):(r(g,y),y=hm(B,g.mode,_),y.return=g,g=y),a(g)):r(g,y)}return b}var Sc=d_(!0),h_=d_(!1),hp=uA(null),fp=null,ic=null,Hv=null;function Mv(){Hv=ic=fp=null}function zv(t){var e=hp.current;kr(hp),t._currentValue=e}function X0(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function fc(t,e){fp=t,Hv=ic=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ns=!0),t.firstContext=null)}function Ui(t){var e=t._currentValue;if(Hv!==t)if(t={context:t,memoizedValue:e,next:null},ic===null){if(fp===null)throw Error(Ze(308));ic=t,fp.dependencies={lanes:0,firstContext:t}}else ic=ic.next=t;return e}var RA=null;function Kv(t){RA===null?RA=[t]:RA.push(t)}function f_(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Kv(e)):(r.next=s.next,s.next=r),e.interleaved=r,ro(t,n)}function ro(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Uo=!1;function $v(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,qt&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,ro(t,r)}return s=n.interleaved,s===null?(e.next=e,Kv(n)):(e.next=s.next,s.next=e),n.interleaved=e,ro(t,r)}function Qf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Fv(t,r)}}function cy(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function pp(t,e,r,n){var s=t.updateQueue;Uo=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,A=s.shared.pending;if(A!==null){s.shared.pending=null;var l=A,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,A=u.lastBaseUpdate,A!==a&&(A===null?u.firstBaseUpdate=c:A.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;a=0,u=c=l=null,A=i;do{var p=A.lane,d=A.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:d,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var w=t,m=A;switch(p=e,d=r,m.tag){case 1:if(w=m.payload,typeof w=="function"){h=w.call(d,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=m.payload,p=typeof w=="function"?w.call(d,h,p):w,p==null)break e;h=Or({},h,p);break e;case 2:Uo=!0}}A.callback!==null&&A.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[A]:p.push(A))}else d={eventTime:d,lane:p,tag:A.tag,payload:A.payload,callback:A.callback,next:null},u===null?(c=u=d,l=h):u=u.next=d,a|=p;if(A=A.next,A===null){if(A=s.shared.pending,A===null)break;p=A,A=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);tl|=a,t.lanes=a,t.memoizedState=h}}function uy(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Ze(191,s));s.call(n)}}}var zd={},Ba=uA(zd),md=uA(zd),vd=uA(zd);function HA(t){if(t===zd)throw Error(Ze(174));return t}function Vv(t,e){switch(br(vd,e),br(md,t),br(Ba,zd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:j0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=j0(e,t)}kr(Ba),br(Ba,e)}function Ec(){kr(Ba),kr(md),kr(vd)}function g_(t){HA(vd.current);var e=HA(Ba.current),r=j0(e,t.type);e!==r&&(br(md,t),br(Ba,r))}function Gv(t){md.current===t&&(kr(Ba),kr(md))}var Tr=uA(0);function gp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var om=[];function Wv(){for(var t=0;t<om.length;t++)om[t]._workInProgressVersionPrimary=null;om.length=0}var Lf=io.ReactCurrentDispatcher,Am=io.ReactCurrentBatchConfig,el=0,Pr=null,bn=null,kn=null,mp=!1,Ku=!1,wd=0,QN=0;function Yn(){throw Error(Ze(321))}function qv(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Yi(t[r],e[r]))return!1;return!0}function Jv(t,e,r,n,s,i){if(el=i,Pr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lf.current=t===null||t.memoizedState===null?PN:ON,t=r(n,s),Ku){i=0;do{if(Ku=!1,wd=0,25<=i)throw Error(Ze(301));i+=1,kn=bn=null,e.updateQueue=null,Lf.current=RN,t=r(n,s)}while(Ku)}if(Lf.current=vp,e=bn!==null&&bn.next!==null,el=0,kn=bn=Pr=null,mp=!1,e)throw Error(Ze(300));return t}function Xv(){var t=wd!==0;return wd=0,t}function ma(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?Pr.memoizedState=kn=t:kn=kn.next=t,kn}function Ii(){if(bn===null){var t=Pr.alternate;t=t!==null?t.memoizedState:null}else t=bn.next;var e=kn===null?Pr.memoizedState:kn.next;if(e!==null)kn=e,bn=t;else{if(t===null)throw Error(Ze(310));bn=t,t={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},kn===null?Pr.memoizedState=kn=t:kn=kn.next=t}return kn}function yd(t,e){return typeof e=="function"?e(t):e}function lm(t){var e=Ii(),r=e.queue;if(r===null)throw Error(Ze(311));r.lastRenderedReducer=t;var n=bn,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var A=a=null,l=null,c=i;do{var u=c.lane;if((el&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(A=l=h,a=n):l=l.next=h,Pr.lanes|=u,tl|=u}c=c.next}while(c!==null&&c!==i);l===null?a=n:l.next=A,Yi(n,e.memoizedState)||(Ns=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Pr.lanes|=i,tl|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function cm(t){var e=Ii(),r=e.queue;if(r===null)throw Error(Ze(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Yi(i,e.memoizedState)||(Ns=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function m_(){}function v_(t,e){var r=Pr,n=Ii(),s=e(),i=!Yi(n.memoizedState,s);if(i&&(n.memoizedState=s,Ns=!0),n=n.queue,Yv(b_.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||kn!==null&&kn.memoizedState.tag&1){if(r.flags|=2048,bd(9,y_.bind(null,r,n,s,e),void 0,null),Fn===null)throw Error(Ze(349));el&30||w_(r,e,s)}return s}function w_(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Pr.updateQueue,e===null?(e={lastEffect:null,stores:null},Pr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function y_(t,e,r,n){e.value=r,e.getSnapshot=n,B_(e)&&x_(t)}function b_(t,e,r){return r(function(){B_(e)&&x_(t)})}function B_(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Yi(t,r)}catch{return!0}}function x_(t){var e=ro(t,1);e!==null&&Xi(e,t,1,-1)}function dy(t){var e=ma();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yd,lastRenderedState:t},e.queue=t,t=t.dispatch=TN.bind(null,Pr,t),[e.memoizedState,t]}function bd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Pr.updateQueue,e===null?(e={lastEffect:null,stores:null},Pr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function __(){return Ii().memoizedState}function Df(t,e,r,n){var s=ma();Pr.flags|=t,s.memoizedState=bd(1|e,r,void 0,n===void 0?null:n)}function tg(t,e,r,n){var s=Ii();n=n===void 0?null:n;var i=void 0;if(bn!==null){var a=bn.memoizedState;if(i=a.destroy,n!==null&&qv(n,a.deps)){s.memoizedState=bd(e,r,i,n);return}}Pr.flags|=t,s.memoizedState=bd(1|e,r,i,n)}function hy(t,e){return Df(8390656,8,t,e)}function Yv(t,e){return tg(2048,8,t,e)}function C_(t,e){return tg(4,2,t,e)}function S_(t,e){return tg(4,4,t,e)}function E_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function k_(t,e,r){return r=r!=null?r.concat([t]):null,tg(4,4,E_.bind(null,e,t),r)}function Zv(){}function N_(t,e){var r=Ii();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&qv(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function F_(t,e){var r=Ii();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&qv(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function j_(t,e,r){return el&21?(Yi(r,e)||(r=D5(),Pr.lanes|=r,tl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ns=!0),t.memoizedState=r)}function LN(t,e){var r=Ar;Ar=r!==0&&4>r?r:4,t(!0);var n=Am.transition;Am.transition={};try{t(!1),e()}finally{Ar=r,Am.transition=n}}function U_(){return Ii().memoizedState}function DN(t,e,r){var n=Yo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},I_(t))Q_(e,r);else if(r=f_(t,e,r,n),r!==null){var s=gs();Xi(r,t,n,s),L_(r,e,n)}}function TN(t,e,r){var n=Yo(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(I_(t))Q_(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,A=i(a,r);if(s.hasEagerState=!0,s.eagerState=A,Yi(A,a)){var l=e.interleaved;l===null?(s.next=s,Kv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=f_(t,e,s,n),r!==null&&(s=gs(),Xi(r,t,n,s),L_(r,e,n))}}function I_(t){var e=t.alternate;return t===Pr||e!==null&&e===Pr}function Q_(t,e){Ku=mp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function L_(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Fv(t,r)}}var vp={readContext:Ui,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},PN={readContext:Ui,useCallback:function(t,e){return ma().memoizedState=[t,e===void 0?null:e],t},useContext:Ui,useEffect:hy,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Df(4194308,4,E_.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Df(4194308,4,t,e)},useInsertionEffect:function(t,e){return Df(4,2,t,e)},useMemo:function(t,e){var r=ma();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ma();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=DN.bind(null,Pr,t),[n.memoizedState,t]},useRef:function(t){var e=ma();return t={current:t},e.memoizedState=t},useState:dy,useDebugValue:Zv,useDeferredValue:function(t){return ma().memoizedState=t},useTransition:function(){var t=dy(!1),e=t[0];return t=LN.bind(null,t[1]),ma().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Pr,s=ma();if(Ir){if(r===void 0)throw Error(Ze(407));r=r()}else{if(r=e(),Fn===null)throw Error(Ze(349));el&30||w_(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,hy(b_.bind(null,n,i,t),[t]),n.flags|=2048,bd(9,y_.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=ma(),e=Fn.identifierPrefix;if(Ir){var r=Ja,n=qa;r=(n&~(1<<32-Ji(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=wd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=QN++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ON={readContext:Ui,useCallback:N_,useContext:Ui,useEffect:Yv,useImperativeHandle:k_,useInsertionEffect:C_,useLayoutEffect:S_,useMemo:F_,useReducer:lm,useRef:__,useState:function(){return lm(yd)},useDebugValue:Zv,useDeferredValue:function(t){var e=Ii();return j_(e,bn.memoizedState,t)},useTransition:function(){var t=lm(yd)[0],e=Ii().memoizedState;return[t,e]},useMutableSource:m_,useSyncExternalStore:v_,useId:U_,unstable_isNewReconciler:!1},RN={readContext:Ui,useCallback:N_,useContext:Ui,useEffect:Yv,useImperativeHandle:k_,useInsertionEffect:C_,useLayoutEffect:S_,useMemo:F_,useReducer:cm,useRef:__,useState:function(){return cm(yd)},useDebugValue:Zv,useDeferredValue:function(t){var e=Ii();return bn===null?e.memoizedState=t:j_(e,bn.memoizedState,t)},useTransition:function(){var t=cm(yd)[0],e=Ii().memoizedState;return[t,e]},useMutableSource:m_,useSyncExternalStore:v_,useId:U_,unstable_isNewReconciler:!1};function Vi(t,e){if(t&&t.defaultProps){e=Or({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Y0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Or({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var rg={isMounted:function(t){return(t=t._reactInternals)?ol(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=gs(),s=Yo(t),i=Xa(n,s);i.payload=e,r!=null&&(i.callback=r),e=Jo(t,i,s),e!==null&&(Xi(e,t,s,n),Qf(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=gs(),s=Yo(t),i=Xa(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Jo(t,i,s),e!==null&&(Xi(e,t,s,n),Qf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=gs(),n=Yo(t),s=Xa(r,n);s.tag=2,e!=null&&(s.callback=e),e=Jo(t,s,n),e!==null&&(Xi(e,t,n,r),Qf(e,t,n))}};function fy(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!hd(r,n)||!hd(s,i):!0}function D_(t,e,r){var n=!1,s=oA,i=e.contextType;return typeof i=="object"&&i!==null?i=Ui(i):(s=Us(e)?YA:os.current,n=e.contextTypes,i=(n=n!=null)?_c(t,s):oA),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function py(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&rg.enqueueReplaceState(e,e.state,null)}function Z0(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},$v(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ui(i):(i=Us(e)?YA:os.current,s.context=_c(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Y0(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&rg.enqueueReplaceState(s,s.state,null),pp(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function kc(t,e){try{var r="",n=e;do r+=f3(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function um(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function e1(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var HN=typeof WeakMap=="function"?WeakMap:Map;function T_(t,e,r){r=Xa(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){yp||(yp=!0,c1=n),e1(t,e)},r}function P_(t,e,r){r=Xa(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){e1(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){e1(t,e),typeof n!="function"&&(Xo===null?Xo=new Set([this]):Xo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function gy(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new HN;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=tF.bind(null,t,e,r),e.then(t,t))}function my(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vy(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Xa(-1,1),e.tag=2,Jo(r,e,1))),r.lanes|=1),t)}var MN=io.ReactCurrentOwner,Ns=!1;function hs(t,e,r,n){e.child=t===null?h_(e,null,r,n):Sc(e,t.child,r,n)}function wy(t,e,r,n,s){r=r.render;var i=e.ref;return fc(e,s),n=Jv(t,e,r,n,i,s),r=Xv(),t!==null&&!Ns?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,no(t,e,s)):(Ir&&r&&Pv(e),e.flags|=1,hs(t,e,n,s),e.child)}function yy(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!ow(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,O_(t,e,i,n,s)):(t=Rf(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:hd,r(a,n)&&t.ref===e.ref)return no(t,e,s)}return e.flags|=1,t=Zo(i,n),t.ref=e.ref,t.return=e,e.child=t}function O_(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(hd(i,n)&&t.ref===e.ref)if(Ns=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Ns=!0);else return e.lanes=t.lanes,no(t,e,s)}return t1(t,e,r,n,s)}function R_(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},br(oc,Ys),Ys|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,br(oc,Ys),Ys|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,br(oc,Ys),Ys|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,br(oc,Ys),Ys|=n;return hs(t,e,s,r),e.child}function H_(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function t1(t,e,r,n,s){var i=Us(r)?YA:os.current;return i=_c(e,i),fc(e,s),r=Jv(t,e,r,n,i,s),n=Xv(),t!==null&&!Ns?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,no(t,e,s)):(Ir&&n&&Pv(e),e.flags|=1,hs(t,e,r,s),e.child)}function by(t,e,r,n,s){if(Us(r)){var i=!0;cp(e)}else i=!1;if(fc(e,s),e.stateNode===null)Tf(t,e),D_(e,r,n),Z0(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,A=e.memoizedProps;a.props=A;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ui(c):(c=Us(r)?YA:os.current,c=_c(e,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(A!==n||l!==c)&&py(e,a,n,c),Uo=!1;var p=e.memoizedState;a.state=p,pp(e,n,a,s),l=e.memoizedState,A!==n||p!==l||js.current||Uo?(typeof u=="function"&&(Y0(e,r,u,n),l=e.memoizedState),(A=Uo||fy(e,r,A,n,p,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=A):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,p_(t,e),A=e.memoizedProps,c=e.type===e.elementType?A:Vi(e.type,A),a.props=c,h=e.pendingProps,p=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ui(l):(l=Us(r)?YA:os.current,l=_c(e,l));var d=r.getDerivedStateFromProps;(u=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(A!==h||p!==l)&&py(e,a,n,l),Uo=!1,p=e.memoizedState,a.state=p,pp(e,n,a,s);var w=e.memoizedState;A!==h||p!==w||js.current||Uo?(typeof d=="function"&&(Y0(e,r,d,n),w=e.memoizedState),(c=Uo||fy(e,r,c,n,p,w,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,w,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,w,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||A===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),a.props=n,a.state=w,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||A===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return r1(t,e,r,n,i,s)}function r1(t,e,r,n,s,i){H_(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&ay(e,r,!1),no(t,e,i);n=e.stateNode,MN.current=e;var A=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Sc(e,t.child,null,i),e.child=Sc(e,null,A,i)):hs(t,e,A,i),e.memoizedState=n.state,s&&ay(e,r,!0),e.child}function M_(t){var e=t.stateNode;e.pendingContext?iy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iy(t,e.context,!1),Vv(t,e.containerInfo)}function By(t,e,r,n,s){return Cc(),Rv(s),e.flags|=256,hs(t,e,r,n),e.child}var n1={dehydrated:null,treeContext:null,retryLane:0};function s1(t){return{baseLanes:t,cachePool:null,transitions:null}}function z_(t,e,r){var n=e.pendingProps,s=Tr.current,i=!1,a=(e.flags&128)!==0,A;if((A=a)||(A=t!==null&&t.memoizedState===null?!1:(s&2)!==0),A?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),br(Tr,s&1),t===null)return J0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ig(a,n,0,null),t=WA(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=s1(r),e.memoizedState=n1,t):ew(e,a));if(s=t.memoizedState,s!==null&&(A=s.dehydrated,A!==null))return zN(t,e,a,n,A,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,A=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Zo(s,l),n.subtreeFlags=s.subtreeFlags&14680064),A!==null?i=Zo(A,i):(i=WA(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?s1(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=n1,n}return i=t.child,t=i.sibling,n=Zo(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ew(t,e){return e=ig({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qh(t,e,r,n){return n!==null&&Rv(n),Sc(e,t.child,null,r),t=ew(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zN(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=um(Error(Ze(422))),Qh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=ig({mode:"visible",children:n.children},s,0,null),i=WA(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Sc(e,t.child,null,a),e.child.memoizedState=s1(a),e.memoizedState=n1,i);if(!(e.mode&1))return Qh(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var A=n.dgst;return n=A,i=Error(Ze(419)),n=um(i,n,void 0),Qh(t,e,a,n)}if(A=(a&t.childLanes)!==0,Ns||A){if(n=Fn,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ro(t,s),Xi(n,t,s,-1))}return aw(),n=um(Error(Ze(421))),Qh(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=rF.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ti=qo(s.nextSibling),si=e,Ir=!0,qi=null,t!==null&&(_i[Ci++]=qa,_i[Ci++]=Ja,_i[Ci++]=ZA,qa=t.id,Ja=t.overflow,ZA=e),e=ew(e,n.children),e.flags|=4096,e)}function xy(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),X0(t.return,e,r)}function dm(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function K_(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(hs(t,e,n.children,r),n=Tr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xy(t,r,e);else if(t.tag===19)xy(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(br(Tr,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&gp(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),dm(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&gp(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}dm(e,!0,r,null,i);break;case"together":dm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function no(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),tl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ze(153));if(e.child!==null){for(t=e.child,r=Zo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Zo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function KN(t,e,r){switch(e.tag){case 3:M_(e),Cc();break;case 5:g_(e);break;case 1:Us(e.type)&&cp(e);break;case 4:Vv(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;br(hp,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(br(Tr,Tr.current&1),e.flags|=128,null):r&e.child.childLanes?z_(t,e,r):(br(Tr,Tr.current&1),t=no(t,e,r),t!==null?t.sibling:null);br(Tr,Tr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return K_(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),br(Tr,Tr.current),n)break;return null;case 22:case 23:return e.lanes=0,R_(t,e,r)}return no(t,e,r)}var $_,i1,V_,G_;$_=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};i1=function(){};V_=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,HA(Ba.current);var i=null;switch(r){case"input":s=E0(t,s),n=E0(t,n),i=[];break;case"select":s=Or({},s,{value:void 0}),n=Or({},n,{value:void 0}),i=[];break;case"textarea":s=F0(t,s),n=F0(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ap)}U0(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var A=s[c];for(a in A)A.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ad.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(A=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==A&&(l!=null||A!=null))if(c==="style")if(A){for(a in A)!A.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&A[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,A=A?A.__html:void 0,l!=null&&A!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ad.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Sr("scroll",t),i||A===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};G_=function(t,e,r,n){r!==n&&(e.flags|=4)};function pu(t,e){if(!Ir)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Zn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function $N(t,e,r){var n=e.pendingProps;switch(Ov(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(e),null;case 1:return Us(e.type)&&lp(),Zn(e),null;case 3:return n=e.stateNode,Ec(),kr(js),kr(os),Wv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Uh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qi!==null&&(h1(qi),qi=null))),i1(t,e),Zn(e),null;case 5:Gv(e);var s=HA(vd.current);if(r=e.type,t!==null&&e.stateNode!=null)V_(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ze(166));return Zn(e),null}if(t=HA(Ba.current),Uh(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[va]=e,n[gd]=i,t=(e.mode&1)!==0,r){case"dialog":Sr("cancel",n),Sr("close",n);break;case"iframe":case"object":case"embed":Sr("load",n);break;case"video":case"audio":for(s=0;s<Eu.length;s++)Sr(Eu[s],n);break;case"source":Sr("error",n);break;case"img":case"image":case"link":Sr("error",n),Sr("load",n);break;case"details":Sr("toggle",n);break;case"input":U2(n,i),Sr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Sr("invalid",n);break;case"textarea":Q2(n,i),Sr("invalid",n)}U0(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var A=i[a];a==="children"?typeof A=="string"?n.textContent!==A&&(i.suppressHydrationWarning!==!0&&jh(n.textContent,A,t),s=["children",A]):typeof A=="number"&&n.textContent!==""+A&&(i.suppressHydrationWarning!==!0&&jh(n.textContent,A,t),s=["children",""+A]):ad.hasOwnProperty(a)&&A!=null&&a==="onScroll"&&Sr("scroll",n)}switch(r){case"input":xh(n),I2(n,i,!0);break;case"textarea":xh(n),L2(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ap)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=b5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[va]=e,t[gd]=n,$_(t,e,!1,!1),e.stateNode=t;e:{switch(a=I0(r,n),r){case"dialog":Sr("cancel",t),Sr("close",t),s=n;break;case"iframe":case"object":case"embed":Sr("load",t),s=n;break;case"video":case"audio":for(s=0;s<Eu.length;s++)Sr(Eu[s],t);s=n;break;case"source":Sr("error",t),s=n;break;case"img":case"image":case"link":Sr("error",t),Sr("load",t),s=n;break;case"details":Sr("toggle",t),s=n;break;case"input":U2(t,n),s=E0(t,n),Sr("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Or({},n,{value:void 0}),Sr("invalid",t);break;case"textarea":Q2(t,n),s=F0(t,n),Sr("invalid",t);break;default:s=n}U0(r,s),A=s;for(i in A)if(A.hasOwnProperty(i)){var l=A[i];i==="style"?_5(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&B5(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&od(t,l):typeof l=="number"&&od(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ad.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Sr("scroll",t):l!=null&&_v(t,i,l,a))}switch(r){case"input":xh(t),I2(t,n,!1);break;case"textarea":xh(t),L2(t);break;case"option":n.value!=null&&t.setAttribute("value",""+aA(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?cc(t,!!n.multiple,i,!1):n.defaultValue!=null&&cc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ap)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zn(e),null;case 6:if(t&&e.stateNode!=null)G_(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ze(166));if(r=HA(vd.current),HA(Ba.current),Uh(e)){if(n=e.stateNode,r=e.memoizedProps,n[va]=e,(i=n.nodeValue!==r)&&(t=si,t!==null))switch(t.tag){case 3:jh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jh(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[va]=e,e.stateNode=n}return Zn(e),null;case 13:if(kr(Tr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ir&&ti!==null&&e.mode&1&&!(e.flags&128))u_(),Cc(),e.flags|=98560,i=!1;else if(i=Uh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Ze(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ze(317));i[va]=e}else Cc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zn(e),i=!1}else qi!==null&&(h1(qi),qi=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Tr.current&1?xn===0&&(xn=3):aw())),e.updateQueue!==null&&(e.flags|=4),Zn(e),null);case 4:return Ec(),i1(t,e),t===null&&fd(e.stateNode.containerInfo),Zn(e),null;case 10:return zv(e.type._context),Zn(e),null;case 17:return Us(e.type)&&lp(),Zn(e),null;case 19:if(kr(Tr),i=e.memoizedState,i===null)return Zn(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)pu(i,!1);else{if(xn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=gp(t),a!==null){for(e.flags|=128,pu(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return br(Tr,Tr.current&1|2),e.child}t=t.sibling}i.tail!==null&&tn()>Nc&&(e.flags|=128,n=!0,pu(i,!1),e.lanes=4194304)}else{if(!n)if(t=gp(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),pu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ir)return Zn(e),null}else 2*tn()-i.renderingStartTime>Nc&&r!==1073741824&&(e.flags|=128,n=!0,pu(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=tn(),e.sibling=null,r=Tr.current,br(Tr,n?r&1|2:r&1),e):(Zn(e),null);case 22:case 23:return iw(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ys&1073741824&&(Zn(e),e.subtreeFlags&6&&(e.flags|=8192)):Zn(e),null;case 24:return null;case 25:return null}throw Error(Ze(156,e.tag))}function VN(t,e){switch(Ov(e),e.tag){case 1:return Us(e.type)&&lp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ec(),kr(js),kr(os),Wv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gv(e),null;case 13:if(kr(Tr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ze(340));Cc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return kr(Tr),null;case 4:return Ec(),null;case 10:return zv(e.type._context),null;case 22:case 23:return iw(),null;case 24:return null;default:return null}}var Lh=!1,as=!1,GN=typeof WeakSet=="function"?WeakSet:Set,pt=null;function ac(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Gr(t,e,n)}else r.current=null}function a1(t,e,r){try{r()}catch(n){Gr(t,e,n)}}var _y=!1;function WN(t,e){if(z0=ip,t=Y5(),Tv(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,A=-1,l=-1,c=0,u=0,h=t,p=null;t:for(;;){for(var d;h!==r||s!==0&&h.nodeType!==3||(A=a+s),h!==i||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(d=h.firstChild)!==null;)p=h,h=d;for(;;){if(h===t)break t;if(p===r&&++c===s&&(A=a),p===i&&++u===n&&(l=a),(d=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=d}r=A===-1||l===-1?null:{start:A,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(K0={focusedElem:t,selectionRange:r},ip=!1,pt=e;pt!==null;)if(e=pt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pt=t;else for(;pt!==null;){e=pt;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var m=w.memoizedProps,b=w.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Vi(e.type,m),b);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var B=e.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ze(163))}}catch(_){Gr(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,pt=t;break}pt=e.return}return w=_y,_y=!1,w}function $u(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&a1(e,r,i)}s=s.next}while(s!==n)}}function ng(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function o1(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function W_(t){var e=t.alternate;e!==null&&(t.alternate=null,W_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[va],delete e[gd],delete e[G0],delete e[FN],delete e[jN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function q_(t){return t.tag===5||t.tag===3||t.tag===4}function Cy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||q_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function A1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ap));else if(n!==4&&(t=t.child,t!==null))for(A1(t,e,r),t=t.sibling;t!==null;)A1(t,e,r),t=t.sibling}function l1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(l1(t,e,r),t=t.sibling;t!==null;)l1(t,e,r),t=t.sibling}var Rn=null,Wi=!1;function Co(t,e,r){for(r=r.child;r!==null;)J_(t,e,r),r=r.sibling}function J_(t,e,r){if(ba&&typeof ba.onCommitFiberUnmount=="function")try{ba.onCommitFiberUnmount(qp,r)}catch{}switch(r.tag){case 5:as||ac(r,e);case 6:var n=Rn,s=Wi;Rn=null,Co(t,e,r),Rn=n,Wi=s,Rn!==null&&(Wi?(t=Rn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Rn.removeChild(r.stateNode));break;case 18:Rn!==null&&(Wi?(t=Rn,r=r.stateNode,t.nodeType===8?im(t.parentNode,r):t.nodeType===1&&im(t,r),ud(t)):im(Rn,r.stateNode));break;case 4:n=Rn,s=Wi,Rn=r.stateNode.containerInfo,Wi=!0,Co(t,e,r),Rn=n,Wi=s;break;case 0:case 11:case 14:case 15:if(!as&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&a1(r,e,a),s=s.next}while(s!==n)}Co(t,e,r);break;case 1:if(!as&&(ac(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(A){Gr(r,e,A)}Co(t,e,r);break;case 21:Co(t,e,r);break;case 22:r.mode&1?(as=(n=as)||r.memoizedState!==null,Co(t,e,r),as=n):Co(t,e,r);break;default:Co(t,e,r)}}function Sy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new GN),e.forEach(function(n){var s=nF.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Mi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,A=a;e:for(;A!==null;){switch(A.tag){case 5:Rn=A.stateNode,Wi=!1;break e;case 3:Rn=A.stateNode.containerInfo,Wi=!0;break e;case 4:Rn=A.stateNode.containerInfo,Wi=!0;break e}A=A.return}if(Rn===null)throw Error(Ze(160));J_(i,a,s),Rn=null,Wi=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Gr(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)X_(e,t),e=e.sibling}function X_(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mi(e,t),ha(t),n&4){try{$u(3,t,t.return),ng(3,t)}catch(m){Gr(t,t.return,m)}try{$u(5,t,t.return)}catch(m){Gr(t,t.return,m)}}break;case 1:Mi(e,t),ha(t),n&512&&r!==null&&ac(r,r.return);break;case 5:if(Mi(e,t),ha(t),n&512&&r!==null&&ac(r,r.return),t.flags&32){var s=t.stateNode;try{od(s,"")}catch(m){Gr(t,t.return,m)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,A=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{A==="input"&&i.type==="radio"&&i.name!=null&&w5(s,i),I0(A,a);var c=I0(A,i);for(a=0;a<l.length;a+=2){var u=l[a],h=l[a+1];u==="style"?_5(s,h):u==="dangerouslySetInnerHTML"?B5(s,h):u==="children"?od(s,h):_v(s,u,h,c)}switch(A){case"input":k0(s,i);break;case"textarea":y5(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var d=i.value;d!=null?cc(s,!!i.multiple,d,!1):p!==!!i.multiple&&(i.defaultValue!=null?cc(s,!!i.multiple,i.defaultValue,!0):cc(s,!!i.multiple,i.multiple?[]:"",!1))}s[gd]=i}catch(m){Gr(t,t.return,m)}}break;case 6:if(Mi(e,t),ha(t),n&4){if(t.stateNode===null)throw Error(Ze(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){Gr(t,t.return,m)}}break;case 3:if(Mi(e,t),ha(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ud(e.containerInfo)}catch(m){Gr(t,t.return,m)}break;case 4:Mi(e,t),ha(t);break;case 13:Mi(e,t),ha(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nw=tn())),n&4&&Sy(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(as=(c=as)||u,Mi(e,t),as=c):Mi(e,t),ha(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(pt=t,u=t.child;u!==null;){for(h=pt=u;pt!==null;){switch(p=pt,d=p.child,p.tag){case 0:case 11:case 14:case 15:$u(4,p,p.return);break;case 1:ac(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(m){Gr(n,r,m)}}break;case 5:ac(p,p.return);break;case 22:if(p.memoizedState!==null){ky(h);continue}}d!==null?(d.return=p,pt=d):ky(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(A=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,A.style.display=x5("display",a))}catch(m){Gr(t,t.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Gr(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mi(e,t),ha(t),n&4&&Sy(t);break;case 21:break;default:Mi(e,t),ha(t)}}function ha(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(q_(r)){var n=r;break e}r=r.return}throw Error(Ze(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(od(s,""),n.flags&=-33);var i=Cy(t);l1(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,A=Cy(t);A1(t,A,a);break;default:throw Error(Ze(161))}}catch(l){Gr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qN(t,e,r){pt=t,Y_(t)}function Y_(t,e,r){for(var n=(t.mode&1)!==0;pt!==null;){var s=pt,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Lh;if(!a){var A=s.alternate,l=A!==null&&A.memoizedState!==null||as;A=Lh;var c=as;if(Lh=a,(as=l)&&!c)for(pt=s;pt!==null;)a=pt,l=a.child,a.tag===22&&a.memoizedState!==null?Ny(s):l!==null?(l.return=a,pt=l):Ny(s);for(;i!==null;)pt=i,Y_(i),i=i.sibling;pt=s,Lh=A,as=c}Ey(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,pt=i):Ey(t)}}function Ey(t){for(;pt!==null;){var e=pt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:as||ng(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!as)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Vi(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&uy(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}uy(e,a,r)}break;case 5:var A=e.stateNode;if(r===null&&e.flags&4){r=A;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ud(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ze(163))}as||e.flags&512&&o1(e)}catch(p){Gr(e,e.return,p)}}if(e===t){pt=null;break}if(r=e.sibling,r!==null){r.return=e.return,pt=r;break}pt=e.return}}function ky(t){for(;pt!==null;){var e=pt;if(e===t){pt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,pt=r;break}pt=e.return}}function Ny(t){for(;pt!==null;){var e=pt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ng(4,e)}catch(l){Gr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Gr(e,s,l)}}var i=e.return;try{o1(e)}catch(l){Gr(e,i,l)}break;case 5:var a=e.return;try{o1(e)}catch(l){Gr(e,a,l)}}}catch(l){Gr(e,e.return,l)}if(e===t){pt=null;break}var A=e.sibling;if(A!==null){A.return=e.return,pt=A;break}pt=e.return}}var JN=Math.ceil,wp=io.ReactCurrentDispatcher,tw=io.ReactCurrentOwner,ji=io.ReactCurrentBatchConfig,qt=0,Fn=null,dn=null,Kn=0,Ys=0,oc=uA(0),xn=0,Bd=null,tl=0,sg=0,rw=0,Vu=null,ks=null,nw=0,Nc=1/0,za=null,yp=!1,c1=null,Xo=null,Dh=!1,Oo=null,bp=0,Gu=0,u1=null,Pf=-1,Of=0;function gs(){return qt&6?tn():Pf!==-1?Pf:Pf=tn()}function Yo(t){return t.mode&1?qt&2&&Kn!==0?Kn&-Kn:IN.transition!==null?(Of===0&&(Of=D5()),Of):(t=Ar,t!==0||(t=window.event,t=t===void 0?16:z5(t.type)),t):1}function Xi(t,e,r,n){if(50<Gu)throw Gu=0,u1=null,Error(Ze(185));Rd(t,r,n),(!(qt&2)||t!==Fn)&&(t===Fn&&(!(qt&2)&&(sg|=r),xn===4&&Lo(t,Kn)),Is(t,n),r===1&&qt===0&&!(e.mode&1)&&(Nc=tn()+500,eg&&dA()))}function Is(t,e){var r=t.callbackNode;I3(t,e);var n=sp(t,t===Fn?Kn:0);if(n===0)r!==null&&P2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&P2(r),e===1)t.tag===0?UN(Fy.bind(null,t)):A_(Fy.bind(null,t)),kN(function(){!(qt&6)&&dA()}),r=null;else{switch(T5(n)){case 1:r=Nv;break;case 4:r=Q5;break;case 16:r=np;break;case 536870912:r=L5;break;default:r=np}r=aC(r,Z_.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Z_(t,e){if(Pf=-1,Of=0,qt&6)throw Error(Ze(327));var r=t.callbackNode;if(pc()&&t.callbackNode!==r)return null;var n=sp(t,t===Fn?Kn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Bp(t,n);else{e=n;var s=qt;qt|=2;var i=tC();(Fn!==t||Kn!==e)&&(za=null,Nc=tn()+500,GA(t,e));do try{ZN();break}catch(A){eC(t,A)}while(1);Mv(),wp.current=i,qt=s,dn!==null?e=0:(Fn=null,Kn=0,e=xn)}if(e!==0){if(e===2&&(s=P0(t),s!==0&&(n=s,e=d1(t,s))),e===1)throw r=Bd,GA(t,0),Lo(t,n),Is(t,tn()),r;if(e===6)Lo(t,n);else{if(s=t.current.alternate,!(n&30)&&!XN(s)&&(e=Bp(t,n),e===2&&(i=P0(t),i!==0&&(n=i,e=d1(t,i))),e===1))throw r=Bd,GA(t,0),Lo(t,n),Is(t,tn()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Ze(345));case 2:jA(t,ks,za);break;case 3:if(Lo(t,n),(n&130023424)===n&&(e=nw+500-tn(),10<e)){if(sp(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){gs(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=V0(jA.bind(null,t,ks,za),e);break}jA(t,ks,za);break;case 4:if(Lo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-Ji(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=tn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*JN(n/1960))-n,10<n){t.timeoutHandle=V0(jA.bind(null,t,ks,za),n);break}jA(t,ks,za);break;case 5:jA(t,ks,za);break;default:throw Error(Ze(329))}}}return Is(t,tn()),t.callbackNode===r?Z_.bind(null,t):null}function d1(t,e){var r=Vu;return t.current.memoizedState.isDehydrated&&(GA(t,e).flags|=256),t=Bp(t,e),t!==2&&(e=ks,ks=r,e!==null&&h1(e)),t}function h1(t){ks===null?ks=t:ks.push.apply(ks,t)}function XN(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Yi(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lo(t,e){for(e&=~rw,e&=~sg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ji(e),n=1<<r;t[r]=-1,e&=~n}}function Fy(t){if(qt&6)throw Error(Ze(327));pc();var e=sp(t,0);if(!(e&1))return Is(t,tn()),null;var r=Bp(t,e);if(t.tag!==0&&r===2){var n=P0(t);n!==0&&(e=n,r=d1(t,n))}if(r===1)throw r=Bd,GA(t,0),Lo(t,e),Is(t,tn()),r;if(r===6)throw Error(Ze(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jA(t,ks,za),Is(t,tn()),null}function sw(t,e){var r=qt;qt|=1;try{return t(e)}finally{qt=r,qt===0&&(Nc=tn()+500,eg&&dA())}}function rl(t){Oo!==null&&Oo.tag===0&&!(qt&6)&&pc();var e=qt;qt|=1;var r=ji.transition,n=Ar;try{if(ji.transition=null,Ar=1,t)return t()}finally{Ar=n,ji.transition=r,qt=e,!(qt&6)&&dA()}}function iw(){Ys=oc.current,kr(oc)}function GA(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,EN(r)),dn!==null)for(r=dn.return;r!==null;){var n=r;switch(Ov(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&lp();break;case 3:Ec(),kr(js),kr(os),Wv();break;case 5:Gv(n);break;case 4:Ec();break;case 13:kr(Tr);break;case 19:kr(Tr);break;case 10:zv(n.type._context);break;case 22:case 23:iw()}r=r.return}if(Fn=t,dn=t=Zo(t.current,null),Kn=Ys=e,xn=0,Bd=null,rw=sg=tl=0,ks=Vu=null,RA!==null){for(e=0;e<RA.length;e++)if(r=RA[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}RA=null}return t}function eC(t,e){do{var r=dn;try{if(Mv(),Lf.current=vp,mp){for(var n=Pr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}mp=!1}if(el=0,kn=bn=Pr=null,Ku=!1,wd=0,tw.current=null,r===null||r.return===null){xn=1,Bd=e,dn=null;break}e:{var i=t,a=r.return,A=r,l=e;if(e=Kn,A.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=A,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=my(a);if(d!==null){d.flags&=-257,vy(d,a,A,i,e),d.mode&1&&gy(i,c,e),e=d,l=c;var w=e.updateQueue;if(w===null){var m=new Set;m.add(l),e.updateQueue=m}else w.add(l);break e}else{if(!(e&1)){gy(i,c,e),aw();break e}l=Error(Ze(426))}}else if(Ir&&A.mode&1){var b=my(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),vy(b,a,A,i,e),Rv(kc(l,A));break e}}i=l=kc(l,A),xn!==4&&(xn=2),Vu===null?Vu=[i]:Vu.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=T_(i,l,e);cy(i,g);break e;case 1:A=l;var y=i.type,B=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Xo===null||!Xo.has(B)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=P_(i,A,e);cy(i,_);break e}}i=i.return}while(i!==null)}nC(r)}catch(N){e=N,dn===r&&r!==null&&(dn=r=r.return);continue}break}while(1)}function tC(){var t=wp.current;return wp.current=vp,t===null?vp:t}function aw(){(xn===0||xn===3||xn===2)&&(xn=4),Fn===null||!(tl&268435455)&&!(sg&268435455)||Lo(Fn,Kn)}function Bp(t,e){var r=qt;qt|=2;var n=tC();(Fn!==t||Kn!==e)&&(za=null,GA(t,e));do try{YN();break}catch(s){eC(t,s)}while(1);if(Mv(),qt=r,wp.current=n,dn!==null)throw Error(Ze(261));return Fn=null,Kn=0,xn}function YN(){for(;dn!==null;)rC(dn)}function ZN(){for(;dn!==null&&!_3();)rC(dn)}function rC(t){var e=iC(t.alternate,t,Ys);t.memoizedProps=t.pendingProps,e===null?nC(t):dn=e,tw.current=null}function nC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=VN(r,e),r!==null){r.flags&=32767,dn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xn=6,dn=null;return}}else if(r=$N(r,e,Ys),r!==null){dn=r;return}if(e=e.sibling,e!==null){dn=e;return}dn=e=t}while(e!==null);xn===0&&(xn=5)}function jA(t,e,r){var n=Ar,s=ji.transition;try{ji.transition=null,Ar=1,eF(t,e,r,n)}finally{ji.transition=s,Ar=n}return null}function eF(t,e,r,n){do pc();while(Oo!==null);if(qt&6)throw Error(Ze(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ze(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Q3(t,i),t===Fn&&(dn=Fn=null,Kn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Dh||(Dh=!0,aC(np,function(){return pc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ji.transition,ji.transition=null;var a=Ar;Ar=1;var A=qt;qt|=4,tw.current=null,WN(t,r),X_(r,t),yN(K0),ip=!!z0,K0=z0=null,t.current=r,qN(r),C3(),qt=A,Ar=a,ji.transition=i}else t.current=r;if(Dh&&(Dh=!1,Oo=t,bp=s),i=t.pendingLanes,i===0&&(Xo=null),k3(r.stateNode),Is(t,tn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(yp)throw yp=!1,t=c1,c1=null,t;return bp&1&&t.tag!==0&&pc(),i=t.pendingLanes,i&1?t===u1?Gu++:(Gu=0,u1=t):Gu=0,dA(),null}function pc(){if(Oo!==null){var t=T5(bp),e=ji.transition,r=Ar;try{if(ji.transition=null,Ar=16>t?16:t,Oo===null)var n=!1;else{if(t=Oo,Oo=null,bp=0,qt&6)throw Error(Ze(331));var s=qt;for(qt|=4,pt=t.current;pt!==null;){var i=pt,a=i.child;if(pt.flags&16){var A=i.deletions;if(A!==null){for(var l=0;l<A.length;l++){var c=A[l];for(pt=c;pt!==null;){var u=pt;switch(u.tag){case 0:case 11:case 15:$u(8,u,i)}var h=u.child;if(h!==null)h.return=u,pt=h;else for(;pt!==null;){u=pt;var p=u.sibling,d=u.return;if(W_(u),u===c){pt=null;break}if(p!==null){p.return=d,pt=p;break}pt=d}}}var w=i.alternate;if(w!==null){var m=w.child;if(m!==null){w.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}pt=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,pt=a;else e:for(;pt!==null;){if(i=pt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$u(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,pt=g;break e}pt=i.return}}var y=t.current;for(pt=y;pt!==null;){a=pt;var B=a.child;if(a.subtreeFlags&2064&&B!==null)B.return=a,pt=B;else e:for(a=y;pt!==null;){if(A=pt,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:ng(9,A)}}catch(N){Gr(A,A.return,N)}if(A===a){pt=null;break e}var _=A.sibling;if(_!==null){_.return=A.return,pt=_;break e}pt=A.return}}if(qt=s,dA(),ba&&typeof ba.onPostCommitFiberRoot=="function")try{ba.onPostCommitFiberRoot(qp,t)}catch{}n=!0}return n}finally{Ar=r,ji.transition=e}}return!1}function jy(t,e,r){e=kc(r,e),e=T_(t,e,1),t=Jo(t,e,1),e=gs(),t!==null&&(Rd(t,1,e),Is(t,e))}function Gr(t,e,r){if(t.tag===3)jy(t,t,r);else for(;e!==null;){if(e.tag===3){jy(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xo===null||!Xo.has(n))){t=kc(r,t),t=P_(e,t,1),e=Jo(e,t,1),t=gs(),e!==null&&(Rd(e,1,t),Is(e,t));break}}e=e.return}}function tF(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=gs(),t.pingedLanes|=t.suspendedLanes&r,Fn===t&&(Kn&r)===r&&(xn===4||xn===3&&(Kn&130023424)===Kn&&500>tn()-nw?GA(t,0):rw|=r),Is(t,e)}function sC(t,e){e===0&&(t.mode&1?(e=Sh,Sh<<=1,!(Sh&130023424)&&(Sh=4194304)):e=1);var r=gs();t=ro(t,e),t!==null&&(Rd(t,e,r),Is(t,r))}function rF(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),sC(t,r)}function nF(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ze(314))}n!==null&&n.delete(e),sC(t,r)}var iC;iC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||js.current)Ns=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ns=!1,KN(t,e,r);Ns=!!(t.flags&131072)}else Ns=!1,Ir&&e.flags&1048576&&l_(e,dp,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Tf(t,e),t=e.pendingProps;var s=_c(e,os.current);fc(e,r),s=Jv(null,e,n,t,s,r);var i=Xv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Us(n)?(i=!0,cp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$v(e),s.updater=rg,e.stateNode=s,s._reactInternals=e,Z0(e,n,t,r),e=r1(null,e,n,!0,i,r)):(e.tag=0,Ir&&i&&Pv(e),hs(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Tf(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=iF(n),t=Vi(n,t),s){case 0:e=t1(null,e,n,t,r);break e;case 1:e=by(null,e,n,t,r);break e;case 11:e=wy(null,e,n,t,r);break e;case 14:e=yy(null,e,n,Vi(n.type,t),r);break e}throw Error(Ze(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Vi(n,s),t1(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Vi(n,s),by(t,e,n,s,r);case 3:e:{if(M_(e),t===null)throw Error(Ze(387));n=e.pendingProps,i=e.memoizedState,s=i.element,p_(t,e),pp(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=kc(Error(Ze(423)),e),e=By(t,e,n,r,s);break e}else if(n!==s){s=kc(Error(Ze(424)),e),e=By(t,e,n,r,s);break e}else for(ti=qo(e.stateNode.containerInfo.firstChild),si=e,Ir=!0,qi=null,r=h_(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Cc(),n===s){e=no(t,e,r);break e}hs(t,e,n,r)}e=e.child}return e;case 5:return g_(e),t===null&&J0(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,$0(n,s)?a=null:i!==null&&$0(n,i)&&(e.flags|=32),H_(t,e),hs(t,e,a,r),e.child;case 6:return t===null&&J0(e),null;case 13:return z_(t,e,r);case 4:return Vv(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Sc(e,null,n,r):hs(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Vi(n,s),wy(t,e,n,s,r);case 7:return hs(t,e,e.pendingProps,r),e.child;case 8:return hs(t,e,e.pendingProps.children,r),e.child;case 12:return hs(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,br(hp,n._currentValue),n._currentValue=a,i!==null)if(Yi(i.value,a)){if(i.children===s.children&&!js.current){e=no(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var A=i.dependencies;if(A!==null){a=i.child;for(var l=A.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Xa(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),X0(i.return,r,e),A.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Ze(341));a.lanes|=r,A=a.alternate,A!==null&&(A.lanes|=r),X0(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}hs(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,fc(e,r),s=Ui(s),n=n(s),e.flags|=1,hs(t,e,n,r),e.child;case 14:return n=e.type,s=Vi(n,e.pendingProps),s=Vi(n.type,s),yy(t,e,n,s,r);case 15:return O_(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Vi(n,s),Tf(t,e),e.tag=1,Us(n)?(t=!0,cp(e)):t=!1,fc(e,r),D_(e,n,s),Z0(e,n,s,r),r1(null,e,n,!0,t,r);case 19:return K_(t,e,r);case 22:return R_(t,e,r)}throw Error(Ze(156,e.tag))};function aC(t,e){return I5(t,e)}function sF(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ki(t,e,r,n){return new sF(t,e,r,n)}function ow(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iF(t){if(typeof t=="function")return ow(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sv)return 11;if(t===Ev)return 14}return 2}function Zo(t,e){var r=t.alternate;return r===null?(r=ki(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Rf(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")ow(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Xl:return WA(r.children,s,i,e);case Cv:a=8,s|=8;break;case x0:return t=ki(12,r,e,s|2),t.elementType=x0,t.lanes=i,t;case _0:return t=ki(13,r,e,s),t.elementType=_0,t.lanes=i,t;case C0:return t=ki(19,r,e,s),t.elementType=C0,t.lanes=i,t;case g5:return ig(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case f5:a=10;break e;case p5:a=9;break e;case Sv:a=11;break e;case Ev:a=14;break e;case jo:a=16,n=null;break e}throw Error(Ze(130,t==null?t:typeof t,""))}return e=ki(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function WA(t,e,r,n){return t=ki(7,t,n,e),t.lanes=r,t}function ig(t,e,r,n){return t=ki(22,t,n,e),t.elementType=g5,t.lanes=r,t.stateNode={isHidden:!1},t}function hm(t,e,r){return t=ki(6,t,null,e),t.lanes=r,t}function fm(t,e,r){return e=ki(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aF(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wg(0),this.expirationTimes=Wg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wg(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Aw(t,e,r,n,s,i,a,A,l){return t=new aF(t,e,r,A,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ki(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$v(i),t}function oF(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function oC(t){if(!t)return oA;t=t._reactInternals;e:{if(ol(t)!==t||t.tag!==1)throw Error(Ze(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Us(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ze(171))}if(t.tag===1){var r=t.type;if(Us(r))return o_(t,r,e)}return e}function AC(t,e,r,n,s,i,a,A,l){return t=Aw(r,n,!0,t,s,i,a,A,l),t.context=oC(null),r=t.current,n=gs(),s=Yo(r),i=Xa(n,s),i.callback=e??null,Jo(r,i,s),t.current.lanes=s,Rd(t,s,n),Is(t,n),t}function ag(t,e,r,n){var s=e.current,i=gs(),a=Yo(s);return r=oC(r),e.context===null?e.context=r:e.pendingContext=r,e=Xa(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Jo(s,e,a),t!==null&&(Xi(t,s,a,i),Qf(t,s,a)),a}function xp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Uy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function lw(t,e){Uy(t,e),(t=t.alternate)&&Uy(t,e)}function AF(){return null}var lC=typeof reportError=="function"?reportError:function(t){console.error(t)};function cw(t){this._internalRoot=t}og.prototype.render=cw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ze(409));ag(t,e,null,null)};og.prototype.unmount=cw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rl(function(){ag(null,t,null,null)}),e[to]=null}};function og(t){this._internalRoot=t}og.prototype.unstable_scheduleHydration=function(t){if(t){var e=R5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Qo.length&&e!==0&&e<Qo[r].priority;r++);Qo.splice(r,0,t),r===0&&M5(t)}};function uw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ag(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Iy(){}function lF(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=xp(a);i.call(c)}}var a=AC(e,n,t,0,null,!1,!1,"",Iy);return t._reactRootContainer=a,t[to]=a.current,fd(t.nodeType===8?t.parentNode:t),rl(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var A=n;n=function(){var c=xp(l);A.call(c)}}var l=Aw(t,0,!1,null,null,!1,!1,"",Iy);return t._reactRootContainer=l,t[to]=l.current,fd(t.nodeType===8?t.parentNode:t),rl(function(){ag(e,l,r,n)}),l}function lg(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var A=s;s=function(){var l=xp(a);A.call(l)}}ag(e,a,t,s)}else a=lF(r,e,t,s,n);return xp(a)}P5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Su(e.pendingLanes);r!==0&&(Fv(e,r|1),Is(e,tn()),!(qt&6)&&(Nc=tn()+500,dA()))}break;case 13:rl(function(){var n=ro(t,1);if(n!==null){var s=gs();Xi(n,t,1,s)}}),lw(t,1)}};jv=function(t){if(t.tag===13){var e=ro(t,134217728);if(e!==null){var r=gs();Xi(e,t,134217728,r)}lw(t,134217728)}};O5=function(t){if(t.tag===13){var e=Yo(t),r=ro(t,e);if(r!==null){var n=gs();Xi(r,t,e,n)}lw(t,e)}};R5=function(){return Ar};H5=function(t,e){var r=Ar;try{return Ar=t,e()}finally{Ar=r}};L0=function(t,e,r){switch(e){case"input":if(k0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Zp(n);if(!s)throw Error(Ze(90));v5(n),k0(n,s)}}}break;case"textarea":y5(t,r);break;case"select":e=r.value,e!=null&&cc(t,!!r.multiple,e,!1)}};E5=sw;k5=rl;var cF={usingClientEntryPoint:!1,Events:[Md,tc,Zp,C5,S5,sw]},gu={findFiberByHostInstance:OA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uF={bundleType:gu.bundleType,version:gu.version,rendererPackageName:gu.rendererPackageName,rendererConfig:gu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:io.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=j5(t),t===null?null:t.stateNode},findFiberByHostInstance:gu.findFiberByHostInstance||AF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{qp=Th.inject(uF),ba=Th}catch{}}ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cF;ai.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uw(e))throw Error(Ze(200));return oF(t,e,null,r)};ai.createRoot=function(t,e){if(!uw(t))throw Error(Ze(299));var r=!1,n="",s=lC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Aw(t,1,!1,null,null,r,!1,n,s),t[to]=e.current,fd(t.nodeType===8?t.parentNode:t),new cw(e)};ai.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ze(188)):(t=Object.keys(t).join(","),Error(Ze(268,t)));return t=j5(e),t=t===null?null:t.stateNode,t};ai.flushSync=function(t){return rl(t)};ai.hydrate=function(t,e,r){if(!Ag(e))throw Error(Ze(200));return lg(null,t,e,!0,r)};ai.hydrateRoot=function(t,e,r){if(!uw(t))throw Error(Ze(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=lC;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=AC(e,null,t,1,r??null,s,!1,i,a),t[to]=e.current,fd(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new og(e)};ai.render=function(t,e,r){if(!Ag(e))throw Error(Ze(200));return lg(null,t,e,!1,r)};ai.unmountComponentAtNode=function(t){if(!Ag(t))throw Error(Ze(40));return t._reactRootContainer?(rl(function(){lg(null,null,t,!1,function(){t._reactRootContainer=null,t[to]=null})}),!0):!1};ai.unstable_batchedUpdates=sw;ai.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ag(r))throw Error(Ze(200));if(t==null||t._reactInternals===void 0)throw Error(Ze(38));return lg(t,e,r,!1,n)};ai.version="18.3.1-next-f1338f8080-20240426";function cC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cC)}catch(t){console.error(t)}}cC(),c5.exports=ai;var dF=c5.exports,Qy=dF;b0.createRoot=Qy.createRoot,b0.hydrateRoot=Qy.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xd.apply(this,arguments)}var Ro;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ro||(Ro={}));const Ly="popstate";function hF(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:A}=n.location;return f1("",{pathname:i,search:a,hash:A},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:_p(s)}return pF(e,r,null,t)}function hn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fF(){return Math.random().toString(36).substr(2,8)}function Dy(t,e){return{usr:t.state,key:t.key,idx:e}}function f1(t,e,r,n){return r===void 0&&(r=null),xd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Pc(e):e,{state:r,key:e&&e.key||n||fF()})}function _p(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Pc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function pF(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,A=Ro.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(xd({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function h(){A=Ro.Pop;let b=u(),g=b==null?null:b-c;c=b,l&&l({action:A,location:m.location,delta:g})}function p(b,g){A=Ro.Push;let y=f1(m.location,b,g);r&&r(y,b),c=u()+1;let B=Dy(y,c),_=m.createHref(y);try{a.pushState(B,"",_)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(_)}i&&l&&l({action:A,location:m.location,delta:1})}function d(b,g){A=Ro.Replace;let y=f1(m.location,b,g);r&&r(y,b),c=u();let B=Dy(y,c),_=m.createHref(y);a.replaceState(B,"",_),i&&l&&l({action:A,location:m.location,delta:0})}function w(b){let g=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof b=="string"?b:_p(b);return y=y.replace(/ $/,"%20"),hn(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let m={get action(){return A},get location(){return t(s,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Ly,h),l=b,()=>{s.removeEventListener(Ly,h),l=null}},createHref(b){return e(s,b)},createURL:w,encodeLocation(b){let g=w(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:d,go(b){return a.go(b)}};return m}var Ty;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ty||(Ty={}));function gF(t,e,r){return r===void 0&&(r="/"),mF(t,e,r,!1)}function mF(t,e,r,n){let s=typeof e=="string"?Pc(e):e,i=dw(s.pathname||"/",r);if(i==null)return null;let a=dC(t);vF(a);let A=null;for(let l=0;A==null&&l<a.length;++l){let c=NF(i);A=EF(a[l],c,n)}return A}function dC(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,A)=>{let l={relativePath:A===void 0?i.path||"":A,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(hn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=eA([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(hn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),dC(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:CF(c,i.index),routesMeta:u})};return t.forEach((i,a)=>{var A;if(i.path===""||!((A=i.path)!=null&&A.includes("?")))s(i,a);else for(let l of hC(i.path))s(i,a,l)}),e}function hC(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=hC(n.join("/")),A=[];return A.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&A.push(...a),A.map(l=>t.startsWith("/")&&l===""?"/":l)}function vF(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:SF(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const wF=/^:[\w-]+$/,yF=3,bF=2,BF=1,xF=10,_F=-2,Py=t=>t==="*";function CF(t,e){let r=t.split("/"),n=r.length;return r.some(Py)&&(n+=_F),e&&(n+=bF),r.filter(s=>!Py(s)).reduce((s,i)=>s+(wF.test(i)?yF:i===""?BF:xF),n)}function SF(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function EF(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,s={},i="/",a=[];for(let A=0;A<n.length;++A){let l=n[A],c=A===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=Oy({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=Oy({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:eA([i,h.pathname]),pathnameBase:IF(eA([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=eA([i,h.pathnameBase]))}return a}function Oy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=kF(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),A=s.slice(1);return{params:n.reduce((c,u,h)=>{let{paramName:p,isOptional:d}=u;if(p==="*"){let m=A[h]||"";a=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const w=A[h];return d&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function kF(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),uC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,A,l)=>(n.push({paramName:A,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function NF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function FF(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Pc(t):t;return{pathname:r?r.startsWith("/")?r:jF(r,e):e,search:QF(n),hash:LF(s)}}function jF(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function pm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UF(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function fC(t,e){let r=UF(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function pC(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Pc(t):(s=xd({},t),hn(!s.pathname||!s.pathname.includes("?"),pm("?","pathname","search",s)),hn(!s.pathname||!s.pathname.includes("#"),pm("#","pathname","hash",s)),hn(!s.search||!s.search.includes("#"),pm("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,A;if(a==null)A=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}A=h>=0?e[h]:"/"}let l=FF(s,A),c=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const eA=t=>t.join("/").replace(/\/\/+/g,"/"),IF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function DF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gC=["post","put","patch","delete"];new Set(gC);const TF=["get",...gC];new Set(TF);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_d.apply(this,arguments)}const hw=X.createContext(null),PF=X.createContext(null),Al=X.createContext(null),cg=X.createContext(null),ll=X.createContext({outlet:null,matches:[],isDataRoute:!1}),mC=X.createContext(null);function OF(t,e){let{relative:r}=e===void 0?{}:e;Kd()||hn(!1);let{basename:n,navigator:s}=X.useContext(Al),{hash:i,pathname:a,search:A}=wC(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:eA([n,a])),s.createHref({pathname:l,search:A,hash:i})}function Kd(){return X.useContext(cg)!=null}function Oc(){return Kd()||hn(!1),X.useContext(cg).location}function vC(t){X.useContext(Al).static||X.useLayoutEffect(t)}function ao(){let{isDataRoute:t}=X.useContext(ll);return t?YF():RF()}function RF(){Kd()||hn(!1);let t=X.useContext(hw),{basename:e,future:r,navigator:n}=X.useContext(Al),{matches:s}=X.useContext(ll),{pathname:i}=Oc(),a=JSON.stringify(fC(s,r.v7_relativeSplatPath)),A=X.useRef(!1);return vC(()=>{A.current=!0}),X.useCallback(function(c,u){if(u===void 0&&(u={}),!A.current)return;if(typeof c=="number"){n.go(c);return}let h=pC(c,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:eA([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,a,i,t])}function wC(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=X.useContext(Al),{matches:s}=X.useContext(ll),{pathname:i}=Oc(),a=JSON.stringify(fC(s,n.v7_relativeSplatPath));return X.useMemo(()=>pC(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function HF(t,e){return MF(t,e)}function MF(t,e,r,n){Kd()||hn(!1);let{navigator:s}=X.useContext(Al),{matches:i}=X.useContext(ll),a=i[i.length-1],A=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Oc(),u;if(e){var h;let b=typeof e=="string"?Pc(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||hn(!1),u=b}else u=c;let p=u.pathname||"/",d=p;if(l!=="/"){let b=l.replace(/^\//,"").split("/");d="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=gF(t,{pathname:d}),m=GF(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},A,b.params),pathname:eA([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:eA([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return e&&m?X.createElement(cg.Provider,{value:{location:_d({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ro.Pop}},m):m}function zF(){let t=XF(),e=DF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),r?X.createElement("pre",{style:s},r):null,i)}const KF=X.createElement(zF,null);class $F extends X.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?X.createElement(ll.Provider,{value:this.props.routeContext},X.createElement(mC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VF(t){let{routeContext:e,match:r,children:n}=t,s=X.useContext(hw);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),X.createElement(ll.Provider,{value:e},n)}function GF(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,A=(s=r)==null?void 0:s.errors;if(A!=null){let u=a.findIndex(h=>h.route.id&&(A==null?void 0:A[h.route.id])!==void 0);u>=0||hn(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let h=a[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:d}=r,w=h.route.loader&&p[h.route.id]===void 0&&(!d||d[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,h,p)=>{let d,w=!1,m=null,b=null;r&&(d=A&&h.route.id?A[h.route.id]:void 0,m=h.route.errorElement||KF,l&&(c<0&&p===0?(ZF("route-fallback",!1),w=!0,b=null):c===p&&(w=!0,b=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,p+1)),y=()=>{let B;return d?B=m:w?B=b:h.route.Component?B=X.createElement(h.route.Component,null):h.route.element?B=h.route.element:B=u,X.createElement(VF,{match:h,routeContext:{outlet:u,matches:g,isDataRoute:r!=null},children:B})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?X.createElement($F,{location:r.location,revalidation:r.revalidation,component:m,error:d,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var yC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yC||{}),Cp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Cp||{});function WF(t){let e=X.useContext(hw);return e||hn(!1),e}function qF(t){let e=X.useContext(PF);return e||hn(!1),e}function JF(t){let e=X.useContext(ll);return e||hn(!1),e}function bC(t){let e=JF(),r=e.matches[e.matches.length-1];return r.route.id||hn(!1),r.route.id}function XF(){var t;let e=X.useContext(mC),r=qF(Cp.UseRouteError),n=bC(Cp.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function YF(){let{router:t}=WF(yC.UseNavigateStable),e=bC(Cp.UseNavigateStable),r=X.useRef(!1);return vC(()=>{r.current=!0}),X.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,_d({fromRouteId:e},i)))},[t,e])}const Ry={};function ZF(t,e,r){!e&&!Ry[t]&&(Ry[t]=!0)}function ej(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Pn(t){hn(!1)}function tj(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Ro.Pop,navigator:i,static:a=!1,future:A}=t;Kd()&&hn(!1);let l=e.replace(/^\/*/,"/"),c=X.useMemo(()=>({basename:l,navigator:i,static:a,future:_d({v7_relativeSplatPath:!1},A)}),[l,A,i,a]);typeof n=="string"&&(n=Pc(n));let{pathname:u="/",search:h="",hash:p="",state:d=null,key:w="default"}=n,m=X.useMemo(()=>{let b=dw(u,l);return b==null?null:{location:{pathname:b,search:h,hash:p,state:d,key:w},navigationType:s}},[l,u,h,p,d,w,s]);return m==null?null:X.createElement(Al.Provider,{value:c},X.createElement(cg.Provider,{children:r,value:m}))}function Hy(t){let{children:e,location:r}=t;return HF(p1(e),r)}new Promise(()=>{});function p1(t,e){e===void 0&&(e=[]);let r=[];return X.Children.forEach(t,(n,s)=>{if(!X.isValidElement(n))return;let i=[...e,s];if(n.type===X.Fragment){r.push.apply(r,p1(n.props.children,i));return}n.type!==Pn&&hn(!1),!n.props.index||!n.props.children||hn(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=p1(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function g1(){return g1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g1.apply(this,arguments)}function rj(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function nj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sj(t,e){return t.button===0&&(!e||e==="_self")&&!nj(t)}function m1(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function ij(t,e){let r=m1(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(i=>{r.append(s,i)})}),r}const aj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oj="6";try{window.__reactRouterVersion=oj}catch{}const Aj="startTransition",My=t3[Aj];function lj(t){let{basename:e,children:r,future:n,window:s}=t,i=X.useRef();i.current==null&&(i.current=hF({window:s,v5Compat:!0}));let a=i.current,[A,l]=X.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},u=X.useCallback(h=>{c&&My?My(()=>l(h)):l(h)},[l,c]);return X.useLayoutEffect(()=>a.listen(u),[a,u]),X.useEffect(()=>ej(n),[n]),X.createElement(tj,{basename:e,children:r,location:A.location,navigationType:A.action,navigator:a,future:n})}const cj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sp=X.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:A,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,p=rj(e,aj),{basename:d}=X.useContext(Al),w,m=!1;if(typeof c=="string"&&uj.test(c)&&(w=c,cj))try{let B=new URL(window.location.href),_=c.startsWith("//")?new URL(B.protocol+c):new URL(c),N=dw(_.pathname,d);_.origin===B.origin&&N!=null?c=N+_.search+_.hash:m=!0}catch{}let b=OF(c,{relative:s}),g=dj(c,{replace:a,state:A,target:l,preventScrollReset:u,relative:s,viewTransition:h});function y(B){n&&n(B),B.defaultPrevented||g(B)}return X.createElement("a",g1({},p,{href:w||b,onClick:m||i?n:y,ref:r,target:l}))});var zy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(zy||(zy={}));var Ky;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ky||(Ky={}));function dj(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:A}=e===void 0?{}:e,l=ao(),c=Oc(),u=wC(t,{relative:a});return X.useCallback(h=>{if(sj(h,r)){h.preventDefault();let p=n!==void 0?n:_p(c)===_p(u);l(t,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:A})}},[c,l,u,n,s,r,t,i,a,A])}function hj(t){let e=X.useRef(m1(t)),r=X.useRef(!1),n=Oc(),s=X.useMemo(()=>ij(n.search,r.current?null:e.current),[n.search]),i=ao(),a=X.useCallback((A,l)=>{const c=m1(typeof A=="function"?A(s):A);r.current=!0,i("?"+c,l)},[i,s]);return[s,a]}var v1=function(t,e){return v1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},v1(t,e)};function BC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");v1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ep=function(){return Ep=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ep.apply(this,arguments)};function Rc(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function xC(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var A=t.length-1;A>=0;A--)(a=t[A])&&(i=(s<3?a(i):s>3?a(e,r,i):a(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function _C(t,e){return function(r,n){e(r,n,t)}}function CC(t,e,r,n,s,i){function a(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var A=n.kind,l=A==="getter"?"get":A==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),h,p=!1,d=r.length-1;d>=0;d--){var w={};for(var m in n)w[m]=m==="access"?{}:n[m];for(var m in n.access)w.access[m]=n.access[m];w.addInitializer=function(g){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(g||null))};var b=(0,r[d])(A==="accessor"?{get:u.get,set:u.set}:u[l],w);if(A==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(h=a(b.get))&&(u.get=h),(h=a(b.set))&&(u.set=h),(h=a(b.init))&&s.unshift(h)}else(h=a(b))&&(A==="field"?s.unshift(h):u[l]=h)}c&&Object.defineProperty(c,n.name,u),p=!0}function SC(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function EC(t){return typeof t=="symbol"?t:"".concat(t)}function kC(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function NC(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function bt(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(h){a(h)}}function l(u){try{c(n.throw(u))}catch(h){a(h)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})}function FC(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=A(0),a.throw=A(1),a.return=A(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function A(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var ug=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function jC(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ug(e,t,r)}function kp(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fw(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(A){a={error:A}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function UC(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(fw(arguments[e]));return t}function IC(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],a=0,A=i.length;a<A;a++,s++)n[s]=i[a];return n}function QC(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Fc(t){return this instanceof Fc?(this.v=t,this):new Fc(t)}function LC(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),A("next"),A("throw"),A("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(d){return function(w){return Promise.resolve(w).then(d,h)}}function A(d,w){n[d]&&(s[d]=function(m){return new Promise(function(b,g){i.push([d,m,b,g])>1||l(d,m)})},w&&(s[d]=w(s[d])))}function l(d,w){try{c(n[d](w))}catch(m){p(i[0][3],m)}}function c(d){d.value instanceof Fc?Promise.resolve(d.value.v).then(u,h):p(i[0][2],d)}function u(d){l("next",d)}function h(d){l("throw",d)}function p(d,w){d(w),i.shift(),i.length&&l(i[0][0],i[0][1])}}function DC(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(a){return(r=!r)?{value:Fc(t[s](a)),done:!1}:i?i(a):a}:i}}function TC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof kp=="function"?kp(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(A,l){a=t[i](a),s(A,l,a.done,a.value)})}}function s(i,a,A,l){Promise.resolve(l).then(function(c){i({value:c,done:A})},a)}}function PC(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var fj=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},w1=function(t){return w1=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},w1(t)};function OC(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=w1(t),n=0;n<r.length;n++)r[n]!=="default"&&ug(e,t,r[n]);return fj(e,t),e}function RC(t){return t&&t.__esModule?t:{default:t}}function HC(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function MC(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function zC(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function KC(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var pj=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function $C(t){function e(i){t.error=t.hasError?new pj(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(a){return e(a),s()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function VC(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,a){return n?e?".jsx":".js":s&&(!i||!a)?r:s+i+"."+a.toLowerCase()+"js"}):t}const gj={__extends:BC,__assign:Ep,__rest:Rc,__decorate:xC,__param:_C,__esDecorate:CC,__runInitializers:SC,__propKey:EC,__setFunctionName:kC,__metadata:NC,__awaiter:bt,__generator:FC,__createBinding:ug,__exportStar:jC,__values:kp,__read:fw,__spread:UC,__spreadArrays:IC,__spreadArray:QC,__await:Fc,__asyncGenerator:LC,__asyncDelegator:DC,__asyncValues:TC,__makeTemplateObject:PC,__importStar:OC,__importDefault:RC,__classPrivateFieldGet:HC,__classPrivateFieldSet:MC,__classPrivateFieldIn:zC,__addDisposableResource:KC,__disposeResources:$C,__rewriteRelativeImportExtension:VC},mj=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:KC,get __assign(){return Ep},__asyncDelegator:DC,__asyncGenerator:LC,__asyncValues:TC,__await:Fc,__awaiter:bt,__classPrivateFieldGet:HC,__classPrivateFieldIn:zC,__classPrivateFieldSet:MC,__createBinding:ug,__decorate:xC,__disposeResources:$C,__esDecorate:CC,__exportStar:jC,__extends:BC,__generator:FC,__importDefault:RC,__importStar:OC,__makeTemplateObject:PC,__metadata:NC,__param:_C,__propKey:EC,__read:fw,__rest:Rc,__rewriteRelativeImportExtension:VC,__runInitializers:SC,__setFunctionName:kC,__spread:UC,__spreadArray:QC,__spreadArrays:IC,__values:kp,default:gj},Symbol.toStringTag,{value:"Module"})),vj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class pw extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class wj extends pw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $y extends pw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Vy extends pw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var y1;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(y1||(y1={}));class yj{constructor(e,{headers:r={},customFetch:n,region:s=y1.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=vj(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return bt(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:A,method:l,body:c,signal:u,timeout:h}=n;let p={},{region:d}=n;d||(d=this.region);const w=new URL(`${this.url}/${r}`);d&&d!=="any"&&(p["x-region"]=d,w.searchParams.set("forceFunctionRegion",d));let m;c&&(A&&!Object.prototype.hasOwnProperty.call(A,"Content-Type")||!A)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(p["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(p["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let b=u;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),u?(b=a.signal,u.addEventListener("abort",()=>a.abort())):b=a.signal);const g=yield this.fetch(w.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),A),body:m,signal:b}).catch(N=>{throw new wj(N)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new $y(g);if(!g.ok)throw new Vy(g);let B=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return B==="application/json"?_=yield g.json():B==="application/octet-stream"||B==="application/pdf"?_=yield g.blob():B==="text/event-stream"?_=g:B==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(A){return{data:null,error:A,response:A instanceof Vy||A instanceof $y?A.context:void 0}}finally{i&&clearTimeout(i)}})}}var fs={};const Hc=Ok(mj);var Ph={},Oh={},Rh={},Hh={},Mh={},zh={},Gy;function GC(){if(Gy)return zh;Gy=1,Object.defineProperty(zh,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return zh.default=t,zh}var Wy;function WC(){if(Wy)return Mh;Wy=1,Object.defineProperty(Mh,"__esModule",{value:!0});const e=Hc.__importDefault(GC());class r{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let A=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,h,p;let d=null,w=null,m=null,b=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const N=await l.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?w=N:w=JSON.parse(N))}const B=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),_=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");B&&_&&_.length>1&&(m=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(d={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,m=null,b=406,g="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const B=await l.text();try{d=JSON.parse(B),Array.isArray(d)&&l.status===404&&(w=[],d=null,b=200,g="OK")}catch{l.status===404&&B===""?(b=204,g="No Content"):d={message:B}}if(d&&this.isMaybeSingle&&(!((p=d==null?void 0:d.details)===null||p===void 0)&&p.includes("0 rows"))&&(d=null,b=200,g="OK"),d&&this.shouldThrowOnError)throw new e.default(d)}return{error:d,data:w,count:m,status:b,statusText:g}});return this.shouldThrowOnError||(A=A.catch(l=>{var c,u,h,p,d,w;let m="";const b=l==null?void 0:l.cause;if(b){const g=(c=b==null?void 0:b.message)!==null&&c!==void 0?c:"",y=(u=b==null?void 0:b.code)!==null&&u!==void 0?u:"";m=`${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"FetchError"}: ${l==null?void 0:l.message}`,m+=`

Caused by: ${(p=b==null?void 0:b.name)!==null&&p!==void 0?p:"Error"}: ${g}`,y&&(m+=` (${y})`),b!=null&&b.stack&&(m+=`
${b.stack}`)}else m=(d=l==null?void 0:l.stack)!==null&&d!==void 0?d:"";return{error:{message:`${(w=l==null?void 0:l.name)!==null&&w!==void 0?w:"FetchError"}: ${l==null?void 0:l.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),A.then(s,i)}returns(){return this}overrideTypes(){return this}}return Mh.default=r,Mh}var qy;function qC(){if(qy)return Hh;qy=1,Object.defineProperty(Hh,"__esModule",{value:!0});const e=Hc.__importDefault(WC());class r extends e.default{select(s){let i=!1;const a=(s??"*").split("").map(A=>/\s/.test(A)&&!i?"":(A==='"'&&(i=!i),A)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:A,referencedTable:l=A}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const A=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(A,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:A=a}={}){const l=typeof A>"u"?"offset":`${A}.offset`,c=typeof A>"u"?"limit":`${A}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:A=!1,wal:l=!1,format:c="text"}={}){var u;const h=[s?"analyze":null,i?"verbose":null,a?"settings":null,A?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Hh.default=r,Hh}var Jy;function gw(){if(Jy)return Rh;Jy=1,Object.defineProperty(Rh,"__esModule",{value:!0});const e=Hc.__importDefault(qC()),r=new RegExp("[,()]");class n extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const A=Array.from(new Set(a)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${A})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:A,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=A===void 0?"":`(${A})`;return this.url.searchParams.append(i,`${c}fts${u}.${a}`),this}match(i){return Object.entries(i).forEach(([a,A])=>{this.url.searchParams.append(a,`eq.${A}`)}),this}not(i,a,A){return this.url.searchParams.append(i,`not.${a}.${A}`),this}or(i,{foreignTable:a,referencedTable:A=a}={}){const l=A?`${A}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,a,A){return this.url.searchParams.append(i,`${a}.${A}`),this}}return Rh.default=n,Rh}var Xy;function JC(){if(Xy)return Oh;Xy=1,Object.defineProperty(Oh,"__esModule",{value:!0});const e=Hc.__importDefault(gw());class r{constructor(s,{headers:i={},schema:a,fetch:A}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=A}select(s,i){const{head:a=!1,count:A}=i??{},l=a?"HEAD":"GET";let c=!1;const u=(s??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),A&&this.headers.append("Prefer",`count=${A}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var A;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(A=this.fetch)!==null&&A!==void 0?A:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:A,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),A&&this.headers.append("Prefer",`count=${A}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((p,d)=>p.concat(Object.keys(d)),[]);if(h.length>0){const p=[...new Set(h)].map(d=>`"${d}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var a;const A="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:A,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Oh.default=r,Oh}var Yy;function bj(){if(Yy)return Ph;Yy=1,Object.defineProperty(Ph,"__esModule",{value:!0});const t=Hc,e=t.__importDefault(JC()),r=t.__importDefault(gw());class n{constructor(i,{headers:a={},schema:A,fetch:l}={}){this.url=i,this.headers=new Headers(a),this.schemaName=A,this.fetch=l}from(i){const a=new URL(`${this.url}/${i}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:A=!1,get:l=!1,count:c}={}){var u;let h;const p=new URL(`${this.url}/rpc/${i}`);let d;A||l?(h=A?"HEAD":"GET",Object.entries(a).filter(([m,b])=>b!==void 0).map(([m,b])=>[m,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([m,b])=>{p.searchParams.append(m,b)})):(h="POST",d=a);const w=new Headers(this.headers);return c&&w.set("Prefer",`count=${c}`),new r.default({method:h,url:p,headers:w,schema:this.schemaName,body:d,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Ph.default=n,Ph}Object.defineProperty(fs,"__esModule",{value:!0});var XC=fs.PostgrestError=o4=fs.PostgrestBuilder=i4=fs.PostgrestTransformBuilder=n4=fs.PostgrestFilterBuilder=t4=fs.PostgrestQueryBuilder=ZC=fs.PostgrestClient=void 0;const Mc=Hc,YC=Mc.__importDefault(bj());var ZC=fs.PostgrestClient=YC.default;const e4=Mc.__importDefault(JC());var t4=fs.PostgrestQueryBuilder=e4.default;const r4=Mc.__importDefault(gw());var n4=fs.PostgrestFilterBuilder=r4.default;const s4=Mc.__importDefault(qC());var i4=fs.PostgrestTransformBuilder=s4.default;const a4=Mc.__importDefault(WC());var o4=fs.PostgrestBuilder=a4.default;const A4=Mc.__importDefault(GC());XC=fs.PostgrestError=A4.default;var l4=fs.default={PostgrestClient:YC.default,PostgrestQueryBuilder:e4.default,PostgrestFilterBuilder:r4.default,PostgrestTransformBuilder:s4.default,PostgrestBuilder:a4.default,PostgrestError:A4.default};const Bj=Jx({__proto__:null,get PostgrestBuilder(){return o4},get PostgrestClient(){return ZC},get PostgrestError(){return XC},get PostgrestFilterBuilder(){return n4},get PostgrestQueryBuilder(){return t4},get PostgrestTransformBuilder(){return i4},default:l4},[fs]),{PostgrestClient:xj,PostgrestQueryBuilder:EH,PostgrestFilterBuilder:kH,PostgrestTransformBuilder:NH,PostgrestBuilder:FH,PostgrestError:jH}=l4||Bj;class _j{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Cj="2.83.0",Sj=`realtime-js/${Cj}`,c4="1.0.0",Ej="2.0.0",Zy=c4,b1=1e4,kj=1e3,Nj=100;var QA;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(QA||(QA={}));var yn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(yn||(yn={}));var xi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xi||(xi={}));var B1;(function(t){t.websocket="websocket"})(B1||(B1={}));var LA;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(LA||(LA={}));class Fj{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){var r,n;const{event:s,topic:i,payload:a}=e,A=(r=e.ref)!==null&&r!==void 0?r:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",c=this.META_LENGTH+l.length+A.length+i.length+s.length,u=new ArrayBuffer(this.HEADER_LENGTH+c);let h=new DataView(u),p=0;h.setUint8(p++,this.KINDS.push),h.setUint8(p++,l.length),h.setUint8(p++,A.length),h.setUint8(p++,i.length),h.setUint8(p++,s.length),Array.from(l,w=>h.setUint8(p++,w.charCodeAt(0))),Array.from(A,w=>h.setUint8(p++,w.charCodeAt(0))),Array.from(i,w=>h.setUint8(p++,w.charCodeAt(0))),Array.from(s,w=>h.setUint8(p++,w.charCodeAt(0)));var d=new Uint8Array(u.byteLength+a.byteLength);return d.set(new Uint8Array(u),0),d.set(new Uint8Array(a),u.byteLength),d.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n,s,i;const a=e.topic,A=(r=e.ref)!==null&&r!==void 0?r:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",c=e.payload.event,u=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+A.length+a.length+c.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let d=new DataView(p),w=0;d.setUint8(w++,this.KINDS.userBroadcastPush),d.setUint8(w++,l.length),d.setUint8(w++,A.length),d.setUint8(w++,a.length),d.setUint8(w++,c.length),d.setUint8(w++,this.BINARY_ENCODING),Array.from(l,b=>d.setUint8(w++,b.charCodeAt(0))),Array.from(A,b=>d.setUint8(w++,b.charCodeAt(0))),Array.from(a,b=>d.setUint8(w++,b.charCodeAt(0))),Array.from(c,b=>d.setUint8(w++,b.charCodeAt(0)));var m=new Uint8Array(p.byteLength+u.byteLength);return m.set(new Uint8Array(p),0),m.set(new Uint8Array(u),p.byteLength),m.buffer}_encodeJsonUserBroadcastPush(e){var r,n,s,i;const a=e.topic,A=(r=e.ref)!==null&&r!==void 0?r:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",c=e.payload.event,u=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},p=new TextEncoder().encode(JSON.stringify(u)).buffer,d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+A.length+a.length+c.length,w=new ArrayBuffer(this.HEADER_LENGTH+d);let m=new DataView(w),b=0;m.setUint8(b++,this.KINDS.userBroadcastPush),m.setUint8(b++,l.length),m.setUint8(b++,A.length),m.setUint8(b++,a.length),m.setUint8(b++,c.length),m.setUint8(b++,this.JSON_ENCODING),Array.from(l,y=>m.setUint8(b++,y.charCodeAt(0))),Array.from(A,y=>m.setUint8(b++,y.charCodeAt(0))),Array.from(a,y=>m.setUint8(b++,y.charCodeAt(0))),Array.from(c,y=>m.setUint8(b++,y.charCodeAt(0)));var g=new Uint8Array(w.byteLength+p.byteLength);return g.set(new Uint8Array(w),0),g.set(new Uint8Array(p),w.byteLength),g.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,a,A,l]=n;return r({join_ref:s,ref:i,topic:a,event:A,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,s);case this.KINDS.reply:return this._decodeReply(e,r,s);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodePush(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3);let A=this.HEADER_LENGTH+this.META_LENGTH-1;const l=n.decode(e.slice(A,A+s));A=A+s;const c=n.decode(e.slice(A,A+i));A=A+i;const u=n.decode(e.slice(A,A+a));A=A+a;const h=JSON.parse(n.decode(e.slice(A,e.byteLength)));return{join_ref:l,ref:null,topic:c,event:u,payload:h}}_decodeReply(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),A=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const c=n.decode(e.slice(l,l+s));l=l+s;const u=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+a));l=l+a;const p=n.decode(e.slice(l,l+A));l=l+A;const d=JSON.parse(n.decode(e.slice(l,e.byteLength))),w={status:p,response:d};return{join_ref:c,ref:u,topic:h,event:xi.reply,payload:w}}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const A=n.decode(e.slice(a,a+s));a=a+s;const l=n.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{join_ref:null,ref:null,topic:A,event:l,payload:c}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),A=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+s));l=l+s;const u=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+a));l=l+a;const p=e.slice(l,e.byteLength),d=A===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,w={type:this.BROADCAST,event:u,payload:d};return a>0&&(w.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:w}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class u4{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var wr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(wr||(wr={}));const eb=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=jj(a,t,e,s),i),{}):{}},jj=(t,e,r,n)=>{const s=e.find(A=>A.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?d4(i,a):x1(a)},d4=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Lj(e,r)}switch(t){case wr.bool:return Uj(e);case wr.float4:case wr.float8:case wr.int2:case wr.int4:case wr.int8:case wr.numeric:case wr.oid:return Ij(e);case wr.json:case wr.jsonb:return Qj(e);case wr.timestamp:return Dj(e);case wr.abstime:case wr.date:case wr.daterange:case wr.int4range:case wr.int8range:case wr.money:case wr.reltime:case wr.text:case wr.time:case wr.timestamptz:case wr.timetz:case wr.tsrange:case wr.tstzrange:return x1(e);default:return x1(e)}},x1=t=>t,Uj=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ij=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Qj=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Lj=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(A=>d4(e,A))}return t},Dj=t=>typeof t=="string"?t.replace(" ","T"):t,h4=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class gm{constructor(e,r,n={},s=b1){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var tb;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(tb||(tb={}));class Wu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:A}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wu.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Wu.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],A()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:A}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Wu.syncDiff(this.state,s,i,a),A())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),A={},l={};return this.map(i,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const h=i[c];if(h){const p=u.map(b=>b.presence_ref),d=h.map(b=>b.presence_ref),w=u.filter(b=>d.indexOf(b.presence_ref)<0),m=h.filter(b=>p.indexOf(b.presence_ref)<0);w.length>0&&(A[c]=w),m.length>0&&(l[c]=m)}else A[c]=u}),this.syncDiff(i,{joins:A,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(A,l)=>{var c;const u=(c=e[A])!==null&&c!==void 0?c:[];if(e[A]=this.cloneDeep(l),u.length>0){const h=e[A].map(d=>d.presence_ref),p=u.filter(d=>h.indexOf(d.presence_ref)<0);e[A].unshift(...p)}n(A,u,l)}),this.map(a,(A,l)=>{let c=e[A];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[A]=c,s(A,c,l),c.length===0&&delete e[A]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rb;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(rb||(rb={}));var qu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(qu||(qu={}));var Ka;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ka||(Ka={}));class mw{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=yn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new gm(this,xi.join,this.params,this.timeout),this.rejoinTimer=new u4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=yn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=yn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xi.reply,{},(a,A)=>{this._trigger(this._replyEventName(A),a)}),this.presence=new Wu(this),this.broadcastEndpointURL=h4(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==yn.closed){const{config:{broadcast:a,presence:A,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[qu.PRESENCE]&&this.bindings[qu.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:a,presence:Object.assign(Object.assign({},A),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(d=>e==null?void 0:e(Ka.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Ka.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var w;if(this.socket.setAuth(),d===void 0){e==null||e(Ka.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,b=(w=m==null?void 0:m.length)!==null&&w!==void 0?w:0,g=[];for(let y=0;y<b;y++){const B=m[y],{filter:{event:_,schema:N,table:D,filter:T}}=B,O=d&&d[y];if(O&&O.event===_&&O.schema===N&&O.table===D&&O.filter===T)g.push(Object.assign(Object.assign({},B),{id:O.id}));else{this.unsubscribe(),this.state=yn.errored,e==null||e(Ka.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Ka.SUBSCRIBED);return}}).receive("error",d=>{this.state=yn.errored,e==null||e(Ka.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ka.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===yn.joined&&e===qu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},A=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(A.status===202)return{success:!0};let l=A.statusText;try{const c=await A.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,A,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(A=(a=this.params)===null||a===void 0?void 0:a.config)===null||A===void 0?void 0:A.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=yn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new gm(this,xi.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new gm(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Nj){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:A,error:l,leave:c,join:u}=xi;if(n&&[A,l,c,u].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(d=>{var w,m,b;return((w=d.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(m=d.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(d=>d.callback(p,n)):(i=this.bindings[a])===null||i===void 0||i.filter(d=>{var w,m,b,g,y,B;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in d){const _=d.id,N=(w=d.filter)===null||w===void 0?void 0:w.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(y=(g=d==null?void 0:d.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((B=r==null?void 0:r.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===a}).map(d=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:m,table:b,commit_timestamp:g,type:y,errors:B}=w;p=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:g,eventType:y,new:{},old:{},errors:B}),this._getPayloadRecords(w))}d.callback(p,n)})}_isClosed(){return this.state===yn.closed}_isJoined(){return this.state===yn.joined}_isJoining(){return this.state===yn.joining}_isLeaving(){return this.state===yn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&mw.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xi.close,{},e)}_onError(e){this._on(xi.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=eb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=eb(e.columns,e.old_record)),r}}const mm=()=>{},Kh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Tj=[1e3,2e3,5e3,1e4],Pj=1e4,Oj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rj{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=b1,this.transport=null,this.heartbeatIntervalMs=Kh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mm,this.ref=0,this.reconnectTimer=null,this.vsn=Zy,this.logger=mm,this.conn=null,this.sendBuffer=[],this.serializer=new Fj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${B1.websocket}`,this.httpEndpoint=h4(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_j.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case QA.connecting:return LA.Connecting;case QA.open:return LA.Open;case QA.closing:return LA.Closing;default:return LA.Closed}}isConnected(){return this.connectionState()===LA.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new mw(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,A=>{var l;(l=this.conn)===null||l===void 0||l.send(A)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(kj,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Kh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,A=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${A}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===QA.open||this.conn.readyState===QA.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(xi.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Oj],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Sj};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(xi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new u4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Kh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,A,l,c,u,h,p,d;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:b1,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Kh.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(A=e==null?void 0:e.heartbeatCallback)!==null&&A!==void 0?A:mm,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Zy,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:w=>Tj[w-1]||Pj,this.vsn){case c4:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(w,m)=>m(JSON.stringify(w)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(w,m)=>m(JSON.parse(w));break;case Ej:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class vw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Dr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Hj extends vw{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _1 extends vw{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const ww=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Mj=()=>Response,C1=t=>{if(Array.isArray(t))return t.map(r=>C1(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=C1(n)}),e},zj=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Kj=(t,e,r)=>bt(void 0,void 0,void 0,function*(){const n=yield Mj();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new Hj(vm(s),i,a))}).catch(s=>{e(new _1(vm(s),s))}):e(new _1(vm(t),t))}),$j=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(zj(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function $d(t,e,r,n,s,i){return bt(this,void 0,void 0,function*(){return new Promise((a,A)=>{t(r,$j(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>Kj(l,A,n))})})}function Cd(t,e,r,n){return bt(this,void 0,void 0,function*(){return $d(t,"GET",e,r,n)})}function Gi(t,e,r,n,s){return bt(this,void 0,void 0,function*(){return $d(t,"POST",e,n,s,r)})}function S1(t,e,r,n,s){return bt(this,void 0,void 0,function*(){return $d(t,"PUT",e,n,s,r)})}function Vj(t,e,r,n){return bt(this,void 0,void 0,function*(){return $d(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function yw(t,e,r,n,s){return bt(this,void 0,void 0,function*(){return $d(t,"DELETE",e,n,s,r)})}class Gj{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return bt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Dr(e))return{data:null,error:e};throw e}})}}var f4;class Wj{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[f4]="BlobDownloadBuilder",this.promise=null}asStream(){return new Gj(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return bt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Dr(e))return{data:null,error:e};throw e}})}}f4=Symbol.toStringTag;const qj=Wj,Jj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Xj{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=ww(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return bt(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},nb),s);let A=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,A["cache-control"]=`max-age=${a.cacheControl}`,A["content-type"]=a.contentType,l&&(A["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(A=Object.assign(Object.assign({},A),s.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),h=yield(e=="PUT"?S1:Gi)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:A},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dr(i))return{data:null,error:i};throw i}})}upload(e,r,n){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return bt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),A=new URL(this.url+`/object/upload/sign/${a}`);A.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:nb.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield S1(this.fetch,A.toString(),l,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Dr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return bt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Gi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),A=a.searchParams.get("token");if(!A)throw new vw("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:A},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dr(n))return{data:null,error:n};throw n}})}update(e,r,n){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return bt(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dr(s))return{data:null,error:s};throw s}})}copy(e,r,n){return bt(this,void 0,void 0,function*(){try{return{data:{path:(yield Gi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dr(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return bt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Gi(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dr(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return bt(this,void 0,void 0,function*(){try{const s=yield Gi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dr(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",A=this._getFinalPath(e),l=()=>Cd(this.fetch,`${this.url}/${s}/${A}${a}`,{headers:this.headers,noResolveJson:!0});return new qj(l,this.shouldThrowOnError)}info(e){return bt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Cd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:C1(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dr(n))return{data:null,error:n};throw n}})}exists(e){return bt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Vj(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dr(n)&&n instanceof _1){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const A=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${A}/public/${n}${c}`)}}}remove(e){return bt(this,void 0,void 0,function*(){try{return{data:yield yw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}list(e,r,n){return bt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Jj),r),{prefix:e||""});return{data:yield Gi(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dr(s))return{data:null,error:s};throw s}})}listV2(e,r){return bt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Gi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dr(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const p4="2.83.0",g4={"X-Client-Info":`storage-js/${p4}`};class Yj{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},g4),r),this.fetch=ww(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return bt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Cd(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}getBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield Cd(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}createBucket(e){return bt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Gi(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dr(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return bt(this,void 0,void 0,function*(){try{return{data:yield S1(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield yw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Zj{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},g4),r),this.fetch=ww(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}listBuckets(e){return bt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Cd(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield yw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}}const bw={"X-Client-Info":`storage-js/${p4}`,"Content-Type":"application/json"};class m4 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Zs(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class wm extends m4{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class eU extends m4{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var sb;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(sb||(sb={}));const Bw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tU=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ib=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),rU=(t,e,r)=>bt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const A=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new wm(ib(a),s,A))}).catch(()=>{const a=s+"",A=i.statusText||`HTTP ${s} error`;e(new wm(A,s,a))});else{const a=s+"",A=i.statusText||`HTTP ${s} error`;e(new wm(A,s,a))}}else e(new eU(ib(t),t))}),nU=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(tU(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function sU(t,e,r,n,s,i){return bt(this,void 0,void 0,function*(){return new Promise((a,A)=>{t(r,nU(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>rU(l,A,n))})})}function ei(t,e,r,n,s){return bt(this,void 0,void 0,function*(){return sU(t,"POST",e,n,s,r)})}class iU{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bw),r),this.fetch=Bw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return bt(this,void 0,void 0,function*(){try{return{data:(yield ei(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}getIndex(e,r){return bt(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zs(n))return{data:null,error:n};throw n}})}listIndexes(e){return bt(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return bt(this,void 0,void 0,function*(){try{return{data:(yield ei(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zs(n))return{data:null,error:n};throw n}})}}class aU{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bw),r),this.fetch=Bw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return bt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ei(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}getVectors(e){return bt(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}listVectors(e){return bt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield ei(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}queryVectors(e){return bt(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}deleteVectors(e){return bt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ei(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}}class oU{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bw),r),this.fetch=Bw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:(yield ei(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}getBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}listBuckets(){return bt(this,arguments,void 0,function*(e={}){try{return{data:yield ei(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}deleteBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:(yield ei(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}}class AU extends oU{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new lU(this.url,this.headers,e,this.fetch)}}class lU extends iU{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return bt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return bt(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return bt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return bt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new cU(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class cU extends aU{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return bt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return bt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return bt(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return bt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return bt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class uU extends Yj{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new Xj(this.url,this.headers,e,this.fetch)}get vectors(){return new AU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Zj(this.url+"/iceberg",this.headers,this.fetch)}}const dU="2.83.0";let ku="";typeof Deno<"u"?ku="deno":typeof document<"u"?ku="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ku="react-native":ku="node";const hU={"X-Client-Info":`supabase-js-${ku}/${dU}`},fU={headers:hU},pU={schema:"public"},gU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mU={},vU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),wU=()=>Headers,yU=(t,e,r)=>{const n=vU(r),s=wU();return async(i,a)=>{var A;const l=(A=await e())!==null&&A!==void 0?A:t;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:c}))}};function bU(t){return t.endsWith("/")?t:t+"/"}function BU(t,e){var r,n;const{db:s,auth:i,realtime:a,global:A}=t,{db:l,auth:c,realtime:u,global:h}=e,p={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),A),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=A==null?void 0:A.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function xU(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(bU(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const v4="2.83.0",Kl=30*1e3,E1=3,ym=E1*Kl,_U="http://localhost:9999",CU="supabase.auth.token",SU={"X-Client-Info":`gotrue-js/${v4}`},k1="X-Supabase-Api-Version",w4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},EU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kU=10*60*1e3;class Sd extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function _t(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class NU extends Sd{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function FU(t){return _t(t)&&t.name==="AuthApiError"}class DA extends Sd{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class hA extends Sd{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class qs extends hA{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jU(t){return _t(t)&&t.name==="AuthSessionMissingError"}class kl extends hA{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $h extends hA{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Vh extends hA{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function UU(t){return _t(t)&&t.name==="AuthImplicitGrantRedirectError"}class ab extends hA{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class N1 extends hA{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function bm(t){return _t(t)&&t.name==="AuthRetryableFetchError"}class ob extends hA{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class F1 extends hA{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Np="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ab=` 	
\r=`.split(""),IU=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ab.length;e+=1)t[Ab[e].charCodeAt(0)]=-2;for(let e=0;e<Np.length;e+=1)t[Np[e].charCodeAt(0)]=e;return t})();function lb(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Np[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Np[n]),e.queuedBits-=6}}function y4(t,e,r){const n=IU[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function cb(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{DU(a,n,r)};for(let a=0;a<t.length;a+=1)y4(t.charCodeAt(a),s,i);return e.join("")}function QU(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function LU(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}QU(n,e)}}function DU(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function gc(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)y4(t.charCodeAt(s),r,n);return new Uint8Array(e)}function TU(t){const e=[];return LU(t,r=>e.push(r)),new Uint8Array(e)}function MA(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>lb(s,r,n)),lb(null,r,n),e.join("")}function PU(t){return Math.round(Date.now()/1e3)+t}function OU(){return Symbol("auth-callback")}const On=()=>typeof window<"u"&&typeof document<"u",EA={tested:!1,writable:!1},b4=()=>{if(!On())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(EA.tested)return EA.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),EA.tested=!0,EA.writable=!0}catch{EA.tested=!0,EA.writable=!1}return EA.writable};function RU(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const B4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),HU=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$l=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},kA=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},So=async(t,e)=>{await t.removeItem(e)};class dg{constructor(){this.promise=new dg.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}dg.promiseConstructor=Promise;function Bm(t){const e=t.split(".");if(e.length!==3)throw new F1("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!EU.test(e[n]))throw new F1("JWT not in base64url format");return{header:JSON.parse(cb(e[0])),payload:JSON.parse(cb(e[1])),signature:gc(e[2]),raw:{header:e[0],payload:e[1]}}}async function MU(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function zU(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function KU(t){return("0"+t.toString(16)).substr(-2)}function $U(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,KU).join("")}async function VU(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function GU(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await VU(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nl(t,e,r=!1){const n=$U();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await $l(t,`${e}-code-verifier`,s);const i=await GU(n);return[i,n===i?"plain":"s256"]}const WU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qU(t){const e=t.headers.get(k1);if(!e||!e.match(WU))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function JU(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function XU(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fl(t){if(!YU.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xm(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ZU(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function ub(t){return JSON.parse(JSON.stringify(t))}const UA=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),eI=[502,503,504];async function db(t){var e;if(!HU(t))throw new N1(UA(t),0);if(eI.includes(t.status))throw new N1(UA(t),t.status);let r;try{r=await t.json()}catch(i){throw new DA(UA(i),i)}let n;const s=qU(t);if(s&&s.getTime()>=w4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ob(UA(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new qs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new ob(UA(r),t.status,r.weak_password.reasons);throw new NU(UA(r),t.status||500,n)}const tI=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Nt(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[k1]||(i[k1]=w4["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const A=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await rI(t,e,r+A,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function rI(t,e,r,n,s,i){const a=tI(e,n,s,i);let A;try{A=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new N1(UA(l),0)}if(A.ok||await db(A),n!=null&&n.noResolveJson)return A;try{return await A.json()}catch(l){await db(l)}}function Ki(t){var e;let r=null;iI(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=PU(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function hb(t){const e=Ki(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Do(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function nI(t){return{data:t,error:null}}function sI(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=Rc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),A={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:A,user:l},error:null}}function fb(t){return t}function iI(t){return t.access_token&&t.refresh_token&&t.expires_in}const _m=["global","local","others"];class aI{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=B4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=_m[0]){if(_m.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_m.join(", ")}`);try{return await Nt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Nt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Do})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Rc(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Nt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:sI,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(_t(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Nt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Do})}catch(r){if(_t(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,A,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Nt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:fb});if(u.error)throw u.error;const h=await u.json(),p=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,d=(l=(A=u.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(w=>{const m=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);c[`${b}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(_t(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Fl(e);try{return await Nt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Do})}catch(r){if(_t(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Fl(e);try{return await Nt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Do})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Fl(e);try{return await Nt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Do})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Fl(e.userId);try{const{data:r,error:n}=await Nt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Fl(e.userId),Fl(e.id);try{return{data:await Nt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,a,A,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Nt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:fb});if(u.error)throw u.error;const h=await u.json(),p=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,d=(l=(A=u.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(w=>{const m=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);c[`${b}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(_t(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await Nt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Nt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Nt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Nt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Nt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_t(r))return{data:null,error:r};throw r}}}function pb(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const jl={debug:!!(globalThis&&b4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class x4 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class oI extends x4{}async function AI(t,e,r){jl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),jl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){jl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{jl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw jl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new oI(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(jl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function lI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _4(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function cI(t){return parseInt(t,16)}function uI(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function dI(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:A,requestId:l,resources:c,scheme:u,uri:h,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const d=_4(t.address),w=u?`${u}://${n}`:n,m=t.statement?`${t.statement}
`:"",b=`${w} wants you to sign in with your Ethereum account:
${d}

${m}`;let g=`URI: ${h}
Version: ${p}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),A&&(g+=`
Not Before: ${A.toISOString()}`),l&&(g+=`
Request ID: ${l}`),c){let y=`
Resources:`;for(const B of c){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);y+=`
- ${B}`}g+=y}return`${b}
${g}`}class cn extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Fp extends cn{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function hI({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new cn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new cn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new cn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new cn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new cn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new cn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(A=>A.type==="public-key").length===0?new cn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new cn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(C4(a)){if(i.rp.id!==a)return new cn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new cn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new cn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new cn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new cn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function fI({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new cn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new cn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(C4(n)){if(r.rpId!==n)return new cn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new cn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new cn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new cn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class pI{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const gI=new pI;function mI(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Rc(t,["challenge","user","excludeCredentials"]),i=gc(e).buffer,a=Object.assign(Object.assign({},r),{id:gc(r.id).buffer}),A=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){A.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];A.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:gc(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return A}function vI(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Rc(t,["challenge","allowCredentials"]),s=gc(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const A=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},A),{id:gc(A.id).buffer,type:A.type||"public-key",transports:A.transports})}}return i}function wI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:MA(new Uint8Array(t.response.attestationObject)),clientDataJSON:MA(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function yI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:MA(new Uint8Array(s.authenticatorData)),clientDataJSON:MA(new Uint8Array(s.clientDataJSON)),signature:MA(new Uint8Array(s.signature)),userHandle:s.userHandle?MA(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function C4(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function gb(){var t,e;return!!(On()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function bI(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Fp("Browser returned unexpected credential type",e)}:{data:null,error:new Fp("Empty credential response",e)}}catch(e){return{data:null,error:hI({error:e,options:t})}}}async function BI(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Fp("Browser returned unexpected credential type",e)}:{data:null,error:new Fp("Empty credential response",e)}}catch(e){return{data:null,error:fI({error:e,options:t})}}}const xI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_I={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function jp(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(e(a)){const A=n[i];e(A)?n[i]=jp(A,a):n[i]=jp(a)}else n[i]=a}return n}function CI(t,e){return jp(xI,t,e||{})}function SI(t,e){return jp(_I,t,e||{})}class EI{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:A}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:A};const l=s??gI.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=CI(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:h}=await bI({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=SI(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:h}=await BI(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(a){return _t(a)?{data:null,error:a}:{data:null,error:new DA("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Sd("rpId is required for WebAuthn authentication")};try{if(!gb())return{data:null,error:new DA("Browser does not support WebAuthn",null)};const{data:a,error:A}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:A};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return _t(a)?{data:null,error:a}:{data:null,error:new DA("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Sd("rpId is required for WebAuthn registration")};try{if(!gb())return{data:null,error:new DA("Browser does not support WebAuthn",null)};const{data:a,error:A}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:A};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return _t(a)?{data:null,error:a}:{data:null,error:new DA("Unexpected error in register",a)}}}}lI();const kI={url:_U,storageKey:CU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function mb(t,e,r){return await r()}const Ul={};class Ed{get jwks(){var e,r;return(r=(e=Ul[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ul[this.storageKey]=Object.assign(Object.assign({},Ul[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ul[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ul[this.storageKey]=Object.assign(Object.assign({},Ul[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},kI),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Ed.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ed.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&On()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new aI({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=B4(i.fetch),this.lock=i.lock||mb,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:On()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=AI:this.lock=mb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new EI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:b4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pb(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=pb(this.memoryStorage)),On()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${v4}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(On()&&(r=RU(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),On()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),UU(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:A}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",A),await this._saveSession(a),setTimeout(async()=>{A==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return _t(r)?this._returnResult({error:r}):this._returnResult({error:new DA("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ki}),{data:a,error:A}=i;if(A||!a)return this._returnResult({data:{user:null,session:null},error:A});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(_t(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:u,password:h,options:p}=e;let d=null,w=null;this.flowType==="pkce"&&([d,w]=await Nl(this.storage,this.storageKey)),i=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:d,code_challenge_method:w},xform:Ki})}else if("phone"in e){const{phone:u,password:h,options:p}=e;i=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ki})}else throw new $h("You must provide either an email or phone number and a password");const{data:a,error:A}=i;if(A||!a)return this._returnResult({data:{user:null,session:null},error:A});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(_t(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:A}=e;r=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:hb})}else if("phone"in e){const{phone:i,password:a,options:A}=e;r=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:hb})}else throw new $h("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new kl;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(_t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,a,A,l,c,u,h,p;let d,w;if("message"in e)d=e.message,w=e.signature;else{const{chain:m,wallet:b,statement:g,options:y}=e;let B;if(On())if(typeof b=="object")B=b;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")B=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=b}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),N=await B.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=_4(N[0]);let T=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!T){const F=await B.request({method:"eth_chainId"});T=cI(F)}const O={domain:_.host,address:D,statement:g,uri:_.href,version:"1",chainId:T,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(A=y==null?void 0:y.signInWithEthereum)===null||A===void 0?void 0:A.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.resources};d=dI(O),w=await B.request({method:"personal_sign",params:[uI(d),D]})}try{const{data:m,error:b}=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:d,signature:w},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ki});if(b)throw b;if(!m||!m.session||!m.user){const g=new kl;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:b})}catch(m){if(_t(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var r,n,s,i,a,A,l,c,u,h,p,d;let w,m;if("message"in e)w=e.message,m=e.signature;else{const{chain:b,wallet:g,statement:y,options:B}=e;let _;if(On())if(typeof g=="object")_=g;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))_=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const N=new URL((r=B==null?void 0:B.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const D=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B==null?void 0:B.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),y?{statement:y}:null));let T;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")T=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)T=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)w=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),m=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${N.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=B==null?void 0:B.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=B==null?void 0:B.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((a=B==null?void 0:B.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((A=B==null?void 0:B.signInWithSolana)===null||A===void 0)&&A.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((l=B==null?void 0:B.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((c=B==null?void 0:B.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((h=(u=B==null?void 0:B.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...B.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const D=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=D}}try{const{data:b,error:g}=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:MA(m)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Ki});if(g)throw g;if(!b||!b.session||!b.user){const y=new kl;return this._returnResult({data:{user:null,session:null},error:y})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:g})}catch(b){if(_t(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await kA(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ki});if(await So(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const A=new kl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:A})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(_t(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,A=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ki}),{data:l,error:c}=A;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new kl;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(_t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:A,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Nl(this.storage,this.storageKey));const{error:h}=await Nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:A,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:A,options:l}=e,{data:c,error:u}=await Nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:A,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new $h("You must provide either an email or phone number.")}catch(A){if(_t(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:A}=await Nt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ki});if(A)throw A;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(_t(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,a;try{let A=null,l=null;this.flowType==="pkce"&&([A,l]=await Nl(this.storage,this.storageKey));const c=await Nt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:A,code_challenge_method:l}),headers:this.headers,xform:nI});return!((i=c.data)===null||i===void 0)&&i.url&&On()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(A){if(_t(A))return this._returnResult({data:null,error:A});throw A}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new qs;const{error:s}=await Nt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(_t(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await Nt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:A}=await Nt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:A})}throw new $h("You must provide either an email or phone number and a type")}catch(r){if(_t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await kA(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ym:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await kA(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=xm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=ZU(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Do}):await this._useSession(async r=>{var n,s,i;const{data:a,error:A}=r;if(A)throw A;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qs}:await Nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Do})})}catch(r){if(_t(r))return jU(r)&&(await this._removeSession(),await So(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new qs;const a=s.session;let A=null,l=null;this.flowType==="pkce"&&e.email!=null&&([A,l]=await Nl(this.storage,this.storageKey));const{data:c,error:u}=await Nt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:A,code_challenge_method:l}),jwt:a.access_token,xform:Do});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(_t(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qs;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Bm(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:A,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!A)return{data:{user:null,session:null},error:null};i=A}else{const{data:A,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:A.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(_t(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:A}=r;if(A)throw A;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new qs;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(_t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!On())throw new Vh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Vh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ab("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ab("No code detected.");const{data:y,error:B}=await this._exchangeCodeForSession(e.code);if(B)throw B;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:A,expires_at:l,token_type:c}=e;if(!i||!A||!a||!c)throw new Vh("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(A);let p=u+h;l&&(p=parseInt(l));const d=p-u;d*1e3<=Kl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${h}s`);const w=p-h;u-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,u):u-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,u);const{data:m,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:a,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(_t(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await kA(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:A}=await this.admin.signOut(a,e);if(A&&!(FU(A)&&(A.status===404||A.status===401||A.status===403)))return this._returnResult({error:A})}return e!=="others"&&(await this._removeSession(),await So(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=OU(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Nl(this.storage,this.storageKey,!0));try{return await Nt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(_t(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,A,l,c,u;const{data:h,error:p}=i;if(p)throw p;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(A=e.options)===null||A===void 0?void 0:A.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Nt(this.fetch,"GET",d,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return On()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(_t(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:A,token:l,access_token:c,nonce:u}=e,h=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:A,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ki}),{data:p,error:d}=h;return d?this._returnResult({data:{user:null,session:null},error:d}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new kl}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:d}))}catch(s){if(_t(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await Nt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await zU(async s=>(s>0&&await MU(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Nt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ki})),(s,i)=>{const a=200*Math.pow(2,s);return i&&bm(i)&&Date.now()+a-n<Kl})}catch(n){if(this._debug(r,"error",n),_t(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),On()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await kA(this.storage,this.storageKey);if(s&&this.userStorage){let a=await kA(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await $l(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:xm()}else if(s&&!s.user&&!s.user){const a=await kA(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await So(this.storage,this.storageKey+"-user"),await $l(this.storage,this.storageKey,s)):s.user=xm()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ym;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${ym}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),bm(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:A}=await this._getUser(s.access_token);!A&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new qs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new dg;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new qs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const A={data:i.session,error:null};return this.refreshingDeferred.resolve(A),A}catch(i){if(this._debug(s,"error",i),_t(i)){const a={data:null,error:i};return bm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async A=>{try{await A.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let A=0;A<i.length;A+=1)console.error(i[A]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await $l(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=ub(s);await $l(this.storage,this.storageKey,i)}else{const s=ub(r);await $l(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await So(this.storage,this.storageKey),await So(this.storage,this.storageKey+"-code-verifier"),await So(this.storage,this.storageKey+"-user"),this.userStorage&&await So(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&On()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Kl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Kl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Kl}ms, refresh threshold is ${E1} ticks`),s<=E1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof x4)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!On()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Nl(this.storage,this.storageKey),A=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(A.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Nt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const A=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await Nt(this.fetch,"POST",`${this.url}/factors`,{body:A,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?wI(e.webauthn.credential_response):yI(e.webauthn.credential_response)})}:{code:e.code}),{data:A,error:l}=await Nt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+A.expires_in},A)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",A),this._returnResult({data:A,error:l}))})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await Nt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:A}=a;if(A.type!=="webauthn")return{data:A,error:null};switch(A.webauthn.type){case"create":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:mI(A.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:vI(A.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Bm(n.access_token);let a=null;i.aal&&(a=i.aal);let A=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(A="aal2");const c=i.amr||[];return{data:{currentLevel:a,nextLevel:A,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Nt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new qs})})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new qs});const a=await Nt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:A=>({data:A,error:null})});return a.data&&a.data.redirect_url&&On()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new qs});const a=await Nt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:A=>({data:A,error:null})});return a.data&&a.data.redirect_url&&On()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Nt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new qs})})}catch(e){if(_t(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Nt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new qs})})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(A=>A.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(A=>A.kid===e),n&&this.jwks_cached_at+kU>s)return n;const{data:i,error:a}=await Nt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(A=>A.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:d,error:w}=await this.getSession();if(w||!d.session)return this._returnResult({data:null,error:w});n=d.session.access_token}const{header:s,payload:i,signature:a,raw:{header:A,payload:l}}=Bm(n);r!=null&&r.allowExpired||JU(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:d}=await this.getUser(n);if(d)throw d;return{data:{claims:i,header:s,signature:a},error:null}}const u=XU(s.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,a,TU(`${A}.${l}`)))throw new F1("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}}Ed.nextInstanceID={};const NI=Ed;class FI extends NI{constructor(e){super(e)}}class jI{constructor(e,r,n){var s,i,a;this.supabaseUrl=e,this.supabaseKey=r;const A=xU(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",A),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",A),this.storageUrl=new URL("storage/v1",A),this.functionsUrl=new URL("functions/v1",A);const l=`sb-${A.hostname.split(".")[0]}-auth-token`,c={db:pU,realtime:mU,auth:Object.assign(Object.assign({},gU),{storageKey:l}),global:fU},u=BU(n??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=yU(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new xj(new URL("rest/v1",A).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new uU(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new yj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:A,lock:l,debug:c,throwOnError:u},h,p){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new FI({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),h),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:A,lock:l,debug:c,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Rj(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const UI=(t,e,r)=>new jI(t,e,r);function II(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}II()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const QI="https://dlbqvrsmvgjrynytmlsk.supabase.co",LI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRsYnF2cnNtdmdqcnlueXRtbHNrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIwOTk1ODAsImV4cCI6MjA3NzY3NTU4MH0.0crmxxtamB9eF16rro75UTVEqNzaRoNEjD85RpO3dGc";let Cm=null;const DI=()=>(Cm||(Cm=UI(QI,LI,{auth:{persistSession:!0,storageKey:"solarpack-auth",storage:window.localStorage,autoRefreshToken:!0,detectSessionInUrl:!0}}),console.log("Supabase client initialized with persistent auth")),Cm);class TI{async uploadOrderReceipt(e,r,n){if(!this.client)throw new Error("Supabase not configured");if(!e||e.type!=="application/pdf")throw new Error("Invalid file type. Only PDF receipts are allowed.");const i=`${r}.pdf`,{data:a,error:A}=await this.client.storage.from("order-receipts").upload(i,e,{cacheControl:"3600",upsert:!0});if(A)throw A;const{data:l}=this.client.storage.from("order-receipts").getPublicUrl(i),c=(l==null?void 0:l.publicUrl)||"",u=new Date().toISOString(),{data:h,error:p}=await this.client.from("orders").update({receipt_file_name:c,receipt_uploaded:!0,receipt_upload_date:u,receipt_uploaded_by:n}).eq("id",r).select().single();if(p)throw console.error("Failed to update order receipt metadata:",p),p;try{return this.transformOrderFromDB(h)}catch{return{id:h==null?void 0:h.id,documentation:{receiptInvoice:{uploaded:!0,fileName:c,uploadDate:u,uploadedBy:n}},lastUpdated:u}}}async uploadPurchaseGroupReceipt(e,r,n,s){if(!this.client)throw new Error("Supabase not configured");if(!e||e.type!=="application/pdf")throw new Error("Invalid file type. Only PDF receipts are allowed.");if(!n||n.length===0)throw new Error("At least one order ID is required.");const A=`${n[0]}.pdf`,{data:l,error:c}=await this.client.storage.from("order-receipts").upload(A,e,{cacheControl:"3600",upsert:!0});if(c)throw c;const{data:u}=this.client.storage.from("order-receipts").getPublicUrl(A),h=(u==null?void 0:u.publicUrl)||"",p=new Date().toISOString(),d=n.map((g,y)=>this.client.from("orders").update({receipt_file_name:h,receipt_uploaded:!0,receipt_upload_date:p,receipt_uploaded_by:s,purchase_group_id:r,purchase_group_primary:y===0,purchase_group_receipt_file:h}).eq("id",g).select().single()),w=await Promise.all(d),m=w.filter(g=>g.error);if(m.length>0)throw console.error("Failed to update some orders with receipt metadata:",m),new Error(`Failed to update ${m.length} order(s)`);const b=w.map(g=>this.transformOrderFromDB(g.data));return{publicUrl:h,updatedOrders:b}}constructor(){this.client=DI()}isConfigured(){return this.client!==null}async getTeamMembers(){if(!this.client)throw new Error("Supabase not configured");const{data:e,error:r}=await this.client.from("team_members").select("*").order("order",{ascending:!0});if(r)throw r;const n=Array.isArray(e)?e:[],s=n.map(i=>i.user_id).filter(Boolean);if(s.length>0)try{const{data:i,error:a}=await this.client.from("user_roles").select("user_id, email").in("user_id",s);if(!a&&Array.isArray(i)){const A=new Map(i.map(l=>[l.user_id,l.email]));n.forEach(l=>{l.user_id&&A.has(l.user_id)&&(l.user_email=A.get(l.user_id)||null)})}}catch(i){console.warn("Failed to fetch linked user emails for team members",i)}return{teamMembers:n,lastUpdated:new Date().toISOString()}}async saveTeamMember(e){if(!this.client)throw new Error("Supabase not configured");if(e.id){const{data:r,error:n}=await this.client.from("team_members").upsert(e).select().single();if(n)throw n;return r}else{const{data:r,error:n}=await this.client.from("team_members").insert(e).select().single();if(n)throw n;return r}}async deleteTeamMember(e){if(!this.client)throw new Error("Supabase not configured");const{data:r}=await this.client.from("team_members").select("image").eq("id",e).single();if(r!=null&&r.image&&r.image.includes("supabase"))try{await this.deleteTeamMemberImage(r.image)}catch(s){console.warn("Failed to delete image from storage:",s)}const{error:n}=await this.client.from("team_members").delete().eq("id",e);if(n)throw n}async getUsersForTeamAssignment(){if(!this.client)throw new Error("Supabase not configured");const{data:e,error:r}=await this.client.from("user_roles").select("user_id, email, level, specific_role").in("level",["director","leader"]).order("level",{ascending:!1}).order("email",{ascending:!0});if(r)throw r;return e||[]}async updateUserSpecificRole(e,r){if(!this.client)throw new Error("Supabase not configured");if(!e)throw new Error("Invalid user id");const n={specific_role:r},{data:s,error:i}=await this.client.from("user_roles").update(n).eq("user_id",e).select().single();if(i)throw i;return s}async uploadTeamMemberImage(e,r){if(!this.client)throw new Error("Supabase not configured");if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(e.type))throw new Error("Invalid file type. Please upload a JPEG, PNG, WebP, or GIF image.");const s=5*1024*1024;if(e.size>s)throw new Error("File size too large. Maximum size is 5MB.");const i=e.name.split(".").pop(),a=Date.now(),l=`team-headshots/${`${r}-${a}.${i}`}`,{data:c,error:u}=await this.client.storage.from("team-images").upload(l,e,{cacheControl:"3600",upsert:!1});if(u)throw u;const{data:{publicUrl:h}}=this.client.storage.from("team-images").getPublicUrl(l);return h}async deleteTeamMemberImage(e){if(!this.client)throw new Error("Supabase not configured");const r=e.split("/team-images/");if(r.length<2){console.warn("Invalid image URL format:",e);return}const n=r[1],{error:s}=await this.client.storage.from("team-images").remove([n]);if(s)throw s}async getAlumni(){if(!this.client)throw new Error("Supabase not configured");const{data:e,error:r}=await this.client.from("alumni").select("*").order("order",{ascending:!1});if(r)throw r;return{alumniData:Array.isArray(e)?e:[],lastUpdated:new Date().toISOString()}}async saveAlumniSemester(e){if(!this.client)throw new Error("Supabase not configured");const{data:r,error:n}=await this.client.from("alumni").upsert(e).select().single();if(n)throw n;return r}async deleteAlumniSemester(e){if(!this.client)throw new Error("Supabase not configured");const r=typeof e=="string"?parseInt(e,10):e;if(!Number.isFinite(r))throw new Error("Invalid id for deletion");const{error:n}=await this.client.from("alumni").delete().eq("id",r);if(n)throw n}async deleteAlumniSemesterSafe(e){if(!this.client)throw new Error("Supabase not configured");if(!e||typeof e.id!="number"&&typeof e.id!="string"&&!e.semester)throw new Error("Invalid delete target");let r=e.id;if(typeof r=="string"){const s=parseInt(r,10);Number.isFinite(s)&&(r=s)}if(typeof r!="number"){const{data:s,error:i}=await this.client.from("alumni").select("id").eq("semester",e.semester).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(i)throw i;if(!(s!=null&&s.id))throw new Error("Semester not found");r=s.id}const{error:n}=await this.client.from("alumni").delete().eq("id",r);if(n)throw n}async saveAlumniOrder(e){var a;if(!this.client)throw new Error("Supabase not configured");if(!Array.isArray(e)||e.length===0)return;const r=e.filter(A=>typeof A.id=="number"&&!Number.isNaN(A.id));if(r.length===0)return;const n=r.map(({id:A,order:l})=>this.client.from("alumni").update({order:l}).eq("id",A)),i=(a=(await Promise.all(n)).find(A=>A.error))==null?void 0:a.error;if(i)throw i}async getSponsors(){if(!this.client)throw new Error("Supabase not configured");const{data:e,error:r}=await this.client.from("sponsors").select("*").order("order",{ascending:!0});if(r)throw r;const n={};return(e||[]).forEach(i=>{n[i.tier]||(n[i.tier]=[]),n[i.tier].push({id:i.id,name:i.name,logo:i.logo,website:i.website,order:i.order})}),{sponsorTiers:Object.keys(n).map(i=>({tier:i,sponsors:n[i]})),lastUpdated:new Date().toISOString()}}async saveSponsor(e){if(!this.client)throw new Error("Supabase not configured");if(e.id){const{data:r,error:n}=await this.client.from("sponsors").upsert(e).select().single();if(n)throw n;return r}else{const{data:r,error:n}=await this.client.from("sponsors").insert(e).select().single();if(n)throw n;return r}}async deleteSponsor(e){if(!this.client)throw new Error("Supabase not configured");const{data:r}=await this.client.from("sponsors").select("logo").eq("id",e).single();if(r!=null&&r.logo&&r.logo.includes("supabase"))try{await this.deleteSponsorLogo(r.logo)}catch(s){console.warn("Failed to delete logo from storage:",s)}const{error:n}=await this.client.from("sponsors").delete().eq("id",e);if(n)throw n}async uploadSponsorLogo(e,r){if(!this.client)throw new Error("Supabase not configured");if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif","image/svg+xml"].includes(e.type))throw new Error("Invalid file type. Please upload a JPEG, PNG, WebP, SVG, or GIF image.");const s=5*1024*1024;if(e.size>s)throw new Error("File size too large. Maximum size is 5MB.");const i=e.name.split(".").pop(),a=Date.now(),l=`sponsor-logos/${`${r}-${a}.${i}`}`,{data:c,error:u}=await this.client.storage.from("sponsor-logos").upload(l,e,{cacheControl:"3600",upsert:!1});if(u)throw u;const{data:{publicUrl:h}}=this.client.storage.from("sponsor-logos").getPublicUrl(l);return h}async deleteSponsorLogo(e){if(!this.client)throw new Error("Supabase not configured");const r=e.split("/sponsor-logos/");if(r.length<2){console.warn("Invalid logo URL format:",e);return}const n=r[1],{error:s}=await this.client.storage.from("sponsor-logos").remove([n]);if(s)throw s}async getScheduleData(){if(!this.client)throw new Error("Supabase not configured");try{const[e,r]=await Promise.all([this.client.from("schedule_teams").select("*").order("name",{ascending:!0}),this.client.from("schedule_projects").select("*").order("due_date",{ascending:!0})]);if(e.error)throw e.error;if(r.error)throw r.error;const n=(r.data||[]).map(a=>a.id);let s=[];if(n.length>0){const{data:a,error:A}=await this.client.from("schedule_tasks").select("*").in("project_id",n).order("due_date",{ascending:!0});if(A)throw A;s=a||[]}const i=(r.data||[]).map(a=>({...this.transformProjectFromDB(a),tasks:s.filter(A=>A.project_id===a.id).map(A=>this.transformTaskFromDB(A))}));return{teams:(e.data||[]).map(a=>({id:a.id,name:a.name,color:a.color,description:a.description})),projects:i,lastUpdated:new Date().toISOString()}}catch(e){throw console.error("Error fetching schedule data:",e),e}}async getTeams(){if(!this.client)throw new Error("Supabase not configured");const{data:e,error:r}=await this.client.from("schedule_teams").select("*").order("name",{ascending:!0});if(r)throw r;return e||[]}async saveTeam(e){if(!this.client)throw new Error("Supabase not configured");const{data:r,error:n}=await this.client.from("schedule_teams").upsert(e).select().single();if(n)throw n;return r}async deleteTeam(e){if(!this.client)throw new Error("Supabase not configured");const{error:r}=await this.client.from("schedule_teams").delete().eq("id",e);if(r)throw r}async getProjects(){if(!this.client)throw new Error("Supabase not configured");const{data:e,error:r}=await this.client.from("schedule_projects").select("*").order("due_date",{ascending:!0});if(r)throw r;return(e||[]).map(n=>this.transformProjectFromDB(n))}async saveProject(e){if(!this.client)throw new Error("Supabase not configured");const r=this.transformProjectToDB(e),{data:n,error:s}=await this.client.from("schedule_projects").upsert(r).select().single();if(s)throw s;return this.transformProjectFromDB(n)}async deleteProject(e){if(!this.client)throw new Error("Supabase not configured");const{error:r}=await this.client.from("schedule_projects").delete().eq("id",e);if(r)throw r}async updateProjectFields(e,r){if(!this.client)throw new Error("Supabase not configured");if(typeof e!="number")throw new Error("updateProjectFields: id must be a number");if(!r||typeof r!="object")throw new Error("updateProjectFields: fields must be an object");const{data:n,error:s}=await this.client.from("schedule_projects").update(r).eq("id",e).select().single();if(s)throw s;return this.transformProjectFromDB(n)}async getTasks(e=null){if(!this.client)throw new Error("Supabase not configured");let r=this.client.from("schedule_tasks").select("*").order("due_date",{ascending:!0});e&&(r=r.eq("project_id",e));const{data:n,error:s}=await r;if(s)throw s;return(n||[]).map(i=>this.transformTaskFromDB(i))}async saveTask(e){if(!this.client)throw new Error("Supabase not configured");const r=this.transformTaskToDB(e),{data:n,error:s}=await this.client.from("schedule_tasks").upsert(r).select().single();if(s)throw s;return this.transformTaskFromDB(n)}async deleteTask(e){if(!this.client)throw new Error("Supabase not configured");const{error:r}=await this.client.from("schedule_tasks").delete().eq("id",e);if(r)throw r}async updateTaskFields(e,r){if(!this.client)throw new Error("Supabase not configured");if(typeof e!="number")throw new Error("updateTaskFields: id must be a number");if(!r||typeof r!="object")throw new Error("updateTaskFields: fields must be an object");const{data:n,error:s}=await this.client.from("schedule_tasks").update(r).eq("id",e).select().single();if(s)throw s;return this.transformTaskFromDB(n)}transformProjectFromDB(e){return e?{id:e.id,title:e.title,description:e.description,team:e.team,priority:e.priority,status:e.status,startDate:e.start_date,dueDate:e.due_date,estimatedHours:e.estimated_hours||0,actualHours:e.actual_hours||0,progress:e.progress||0,assignedTo:e.assigned_to,notes:e.notes,weeklyNotes:e.weekly_notes||"",tasks:[]}:null}transformProjectToDB(e){const r={title:e.title,description:e.description,team:e.team,priority:e.priority||"medium",status:e.status||"planning",start_date:e.startDate,due_date:e.dueDate,estimated_hours:e.estimatedHours||0,actual_hours:e.actualHours||0,progress:e.progress||0,assigned_to:e.assignedTo,notes:e.notes,weekly_notes:e.weeklyNotes||null};if(e.id!==void 0&&e.id!==null){const n=typeof e.id=="string"?parseInt(e.id,10):e.id;Number.isFinite(n)&&(r.id=n)}return r}transformTaskFromDB(e){return e?{id:e.id,projectId:e.project_id,title:e.title,description:e.description,startDate:e.start_date,dueDate:e.due_date,estimatedHours:e.estimated_hours||0,actualHours:e.actual_hours||0,status:e.status,priority:e.priority,assignedTo:e.assigned_to,progress:e.progress||0,notes:e.notes}:null}transformTaskToDB(e){const r={project_id:e.projectId,title:e.title,description:e.description,start_date:e.startDate,due_date:e.dueDate,estimated_hours:e.estimatedHours||0,actual_hours:e.actualHours||0,status:e.status||"pending",priority:e.priority||"medium",assigned_to:e.assignedTo,progress:e.progress||0,notes:e.notes};if(e.id!==void 0&&e.id!==null){const n=typeof e.id=="string"?parseInt(e.id,10):e.id;Number.isFinite(n)&&(r.id=n)}return r}async getOrders(){if(!this.client)throw new Error("Supabase not configured");const{data:e,error:r}=await this.client.from("orders").select("*").order("created_at",{ascending:!1});if(r)throw r;return{orders:(e||[]).map(s=>this.transformOrderFromDB(s)),lastUpdated:new Date().toISOString()}}async getOrdersWithReceipts(e,r){if(!this.client)throw new Error("Supabase not configured");const{data:n,error:s}=await this.client.from("orders").select("*").gte("submission_timestamp",e.toISOString()).lte("submission_timestamp",r.toISOString()).eq("receipt_uploaded",!0).order("submission_timestamp",{ascending:!0});if(s)throw s;return(n||[]).map(a=>this.transformOrderFromDB(a))}async downloadFileFromStorage(e,r){if(!this.client)throw new Error("Supabase not configured");const{data:n,error:s}=await this.client.storage.from(e).download(r);if(s)throw s;return n}getFileNameFromStorageUrl(e){if(!e)return null;try{const n=new URL(e).pathname.split("/");return n[n.length-1]}catch{console.warn("Failed to parse storage URL:",e);const n=e.split("/");return n[n.length-1]}}async createOrder(e){if(!this.client)throw new Error("Supabase not configured");const r=this.transformOrderToDB(e),{data:n,error:s}=await this.client.from("orders").insert(r).select().single();if(s)throw s;return this.transformOrderFromDB(n)}async updateOrder(e,r){if(!this.client)throw new Error("Supabase not configured");const{data:n,error:s}=await this.client.from("orders").select().eq("id",e).single();if(s)throw s;const i=this.transformOrderFromDB(n),a=(h,p)=>{if(!p)return h;const d=Array.isArray(h)?h.slice():{...h};return Object.keys(p).forEach(w=>{const m=p[w],b=d[w];m&&typeof m=="object"&&!Array.isArray(m)?d[w]=a(b||{},m):d[w]=m}),d},A=a(i,r),l=this.transformOrderToDB(A);l.updated_at=new Date().toISOString(),l.last_updated=new Date().toISOString();const{data:c,error:u}=await this.client.from("orders").update(l).eq("id",e).select().single();if(u)throw u;return this.transformOrderFromDB(c)}async deleteOrder(e){if(!this.client)throw new Error("Supabase not configured");const{error:r}=await this.client.from("orders").delete().eq("id",e);if(r)throw r}transformOrderFromDB(e){return e?{id:e.id,submissionTimestamp:e.submission_timestamp,submissionDetails:{subteam:e.subteam,submitterName:e.submitter_name,submitterEmail:e.submitter_email},materialDetails:{materialName:e.material_name,specifications:e.specifications,materialLink:e.material_link,supplier:e.supplier,supplierContact:e.supplier_contact},costBreakdown:{unitPrice:parseFloat(e.unit_price||0),quantity:e.quantity||1,subtotal:parseFloat(e.subtotal||0),shippingCost:parseFloat(e.shipping_cost||0),taxes:parseFloat(e.taxes||0),fees:parseFloat(e.fees||0),totalCost:parseFloat(e.total_cost||0)},projectDetails:{purpose:e.purpose,priority:e.priority||"medium",urgency:e.urgency||"flexible",neededByDate:e.needed_by_date},approvalWorkflow:{technicalDirectorApproval:{status:e.tech_approval_status||"pending",approvedBy:e.tech_approved_by,approvalDate:e.tech_approval_date,comments:e.tech_comments||"",denialReason:e.tech_denial_reason||""},projectDirectorPurchaseApproval:{status:e.project_approval_status||"pending",approvedBy:e.project_approved_by,approvalDate:e.project_approval_date,comments:e.project_comments||"",denialReason:e.project_denial_reason||""}},sponsorshipInfo:{canBeSponsored:e.can_be_sponsored||!1,sponsorContactName:e.sponsor_contact_name,sponsorContactEmail:e.sponsor_contact_email,sponsorCompany:e.sponsor_company,sponsorshipRequested:e.sponsorship_requested||!1,sponsorshipRequestDate:e.sponsorship_request_date,sponsorshipSuccessful:e.sponsorship_successful||!1,sponsorshipResponse:e.sponsorship_response||"",sponsorshipResponseDate:e.sponsorship_response_date,sponsorshipSearchStatus:e.sponsorship_search_status||"not_started"},purchaseStatus:{purchased:e.purchased||!1,purchaseDate:e.purchase_date,purchaseOrderNumber:e.purchase_order_number||"",purchaseGroupId:e.purchase_group_id||null,purchaseGroupPrimary:e.purchase_group_primary||!1,purchaseGroupReceiptFile:e.purchase_group_receipt_file||null,actualCost:e.actual_cost?parseFloat(e.actual_cost):null,purchasedBy:e.purchased_by||""},deliveryInfo:{expectedArrivalDate:e.expected_arrival_date,actualArrivalDate:e.actual_arrival_date,deliveredToSubteam:e.delivered_to_subteam||!1,deliveryConfirmedBy:e.delivery_confirmed_by||"",deliveryNotes:e.delivery_notes||"",trackingNumber:e.tracking_number||""},documentation:{receiptInvoice:{uploaded:e.receipt_uploaded||!1,fileName:e.receipt_file_name||"",uploadDate:e.receipt_upload_date,uploadedBy:e.receipt_uploaded_by||""},additionalDocuments:e.additional_documents||[]},returnInfo:{returned:e.returned||!1,returnDate:e.return_date,returnReason:e.return_reason||"",returnAuthorizedBy:e.return_authorized_by||"",refundAmount:e.refund_amount?parseFloat(e.refund_amount):null,refundProcessed:e.refund_processed||!1},status:e.status||"pending_technical_approval",lastUpdated:e.last_updated||e.updated_at,createdBy:e.created_by}:null}transformOrderToDB(e){var n,s,i,a,A,l,c,u,h,p,d,w,m,b,g,y,B,_,N,D,T,O,F,K,I,j,H,C,te,ve,ce,ie,re,Be,se,k,z,V,G,de,ye,we,Z,he,le,ae,Se,E,Q,pe,ee,J,q,Ce,Ee,xe,Fe,Ke,Te,$e,dt,tt,Je,M,ge,Le,Ue,qe,rt,st,it,me,Pe,Xe,et,at,Me,ct,fr;const r={submission_timestamp:e.submissionTimestamp||new Date().toISOString(),subteam:(n=e.submissionDetails)==null?void 0:n.subteam,submitter_name:(s=e.submissionDetails)==null?void 0:s.submitterName,submitter_email:(i=e.submissionDetails)==null?void 0:i.submitterEmail,created_by:e.createdBy||((a=e.submissionDetails)==null?void 0:a.submitterEmail),material_name:(A=e.materialDetails)==null?void 0:A.materialName,specifications:(l=e.materialDetails)==null?void 0:l.specifications,material_link:(c=e.materialDetails)==null?void 0:c.materialLink,supplier:(u=e.materialDetails)==null?void 0:u.supplier,supplier_contact:(h=e.materialDetails)==null?void 0:h.supplierContact,unit_price:(p=e.costBreakdown)==null?void 0:p.unitPrice,quantity:((d=e.costBreakdown)==null?void 0:d.quantity)||1,subtotal:(w=e.costBreakdown)==null?void 0:w.subtotal,shipping_cost:((m=e.costBreakdown)==null?void 0:m.shippingCost)||0,taxes:((b=e.costBreakdown)==null?void 0:b.taxes)||0,fees:((g=e.costBreakdown)==null?void 0:g.fees)||0,total_cost:(y=e.costBreakdown)==null?void 0:y.totalCost,purpose:(B=e.projectDetails)==null?void 0:B.purpose,priority:((_=e.projectDetails)==null?void 0:_.priority)||"medium",urgency:((N=e.projectDetails)==null?void 0:N.urgency)||"flexible",needed_by_date:(D=e.projectDetails)==null?void 0:D.neededByDate,tech_approval_status:((O=(T=e.approvalWorkflow)==null?void 0:T.technicalDirectorApproval)==null?void 0:O.status)||"pending",tech_approved_by:(K=(F=e.approvalWorkflow)==null?void 0:F.technicalDirectorApproval)==null?void 0:K.approvedBy,tech_approval_date:(j=(I=e.approvalWorkflow)==null?void 0:I.technicalDirectorApproval)==null?void 0:j.approvalDate,tech_comments:((C=(H=e.approvalWorkflow)==null?void 0:H.technicalDirectorApproval)==null?void 0:C.comments)||"",tech_denial_reason:((ve=(te=e.approvalWorkflow)==null?void 0:te.technicalDirectorApproval)==null?void 0:ve.denialReason)||"",project_approval_status:((ie=(ce=e.approvalWorkflow)==null?void 0:ce.projectDirectorPurchaseApproval)==null?void 0:ie.status)||"pending",project_approved_by:(Be=(re=e.approvalWorkflow)==null?void 0:re.projectDirectorPurchaseApproval)==null?void 0:Be.approvedBy,project_approval_date:(k=(se=e.approvalWorkflow)==null?void 0:se.projectDirectorPurchaseApproval)==null?void 0:k.approvalDate,project_comments:((V=(z=e.approvalWorkflow)==null?void 0:z.projectDirectorPurchaseApproval)==null?void 0:V.comments)||"",project_denial_reason:((de=(G=e.approvalWorkflow)==null?void 0:G.projectDirectorPurchaseApproval)==null?void 0:de.denialReason)||"",can_be_sponsored:((ye=e.sponsorshipInfo)==null?void 0:ye.canBeSponsored)||!1,sponsor_contact_name:(we=e.sponsorshipInfo)==null?void 0:we.sponsorContactName,sponsor_contact_email:(Z=e.sponsorshipInfo)==null?void 0:Z.sponsorContactEmail,sponsor_company:(he=e.sponsorshipInfo)==null?void 0:he.sponsorCompany,sponsorship_requested:((le=e.sponsorshipInfo)==null?void 0:le.sponsorshipRequested)||!1,sponsorship_request_date:(ae=e.sponsorshipInfo)==null?void 0:ae.sponsorshipRequestDate,sponsorship_successful:((Se=e.sponsorshipInfo)==null?void 0:Se.sponsorshipSuccessful)||!1,sponsorship_response:((E=e.sponsorshipInfo)==null?void 0:E.sponsorshipResponse)||"",sponsorship_response_date:(Q=e.sponsorshipInfo)==null?void 0:Q.sponsorshipResponseDate,sponsorship_search_status:((pe=e.sponsorshipInfo)==null?void 0:pe.sponsorshipSearchStatus)||"not_started",purchased:((ee=e.purchaseStatus)==null?void 0:ee.purchased)||!1,purchase_date:(J=e.purchaseStatus)==null?void 0:J.purchaseDate,purchase_order_number:((q=e.purchaseStatus)==null?void 0:q.purchaseOrderNumber)||"",purchase_group_id:((Ce=e.purchaseStatus)==null?void 0:Ce.purchaseGroupId)||null,purchase_group_primary:((Ee=e.purchaseStatus)==null?void 0:Ee.purchaseGroupPrimary)||!1,purchase_group_receipt_file:((xe=e.purchaseStatus)==null?void 0:xe.purchaseGroupReceiptFile)||null,actual_cost:(Fe=e.purchaseStatus)==null?void 0:Fe.actualCost,purchased_by:((Ke=e.purchaseStatus)==null?void 0:Ke.purchasedBy)||"",expected_arrival_date:(Te=e.deliveryInfo)==null?void 0:Te.expectedArrivalDate,actual_arrival_date:($e=e.deliveryInfo)==null?void 0:$e.actualArrivalDate,delivered_to_subteam:((dt=e.deliveryInfo)==null?void 0:dt.deliveredToSubteam)||!1,delivery_confirmed_by:((tt=e.deliveryInfo)==null?void 0:tt.deliveryConfirmedBy)||"",delivery_notes:((Je=e.deliveryInfo)==null?void 0:Je.deliveryNotes)||"",tracking_number:((M=e.deliveryInfo)==null?void 0:M.trackingNumber)||"",receipt_uploaded:((Le=(ge=e.documentation)==null?void 0:ge.receiptInvoice)==null?void 0:Le.uploaded)||!1,receipt_file_name:((qe=(Ue=e.documentation)==null?void 0:Ue.receiptInvoice)==null?void 0:qe.fileName)||"",receipt_upload_date:(st=(rt=e.documentation)==null?void 0:rt.receiptInvoice)==null?void 0:st.uploadDate,receipt_uploaded_by:((me=(it=e.documentation)==null?void 0:it.receiptInvoice)==null?void 0:me.uploadedBy)||"",additional_documents:((Pe=e.documentation)==null?void 0:Pe.additionalDocuments)||[],returned:((Xe=e.returnInfo)==null?void 0:Xe.returned)||!1,return_date:(et=e.returnInfo)==null?void 0:et.returnDate,return_reason:((at=e.returnInfo)==null?void 0:at.returnReason)||"",return_authorized_by:((Me=e.returnInfo)==null?void 0:Me.returnAuthorizedBy)||"",refund_amount:(ct=e.returnInfo)==null?void 0:ct.refundAmount,refund_processed:((fr=e.returnInfo)==null?void 0:fr.refundProcessed)||!1,status:e.status||"pending_technical_approval",last_updated:e.lastUpdated||new Date().toISOString()};return e.id&&(r.id=e.id),r}subscribeToTable(e,r){if(!this.client)throw new Error("Supabase not configured");return this.client.channel(`public:${e}`).on("postgres_changes",{event:"*",schema:"public",table:e},r).subscribe()}unsubscribe(e){e&&e.unsubscribe()}async getBlogs(){if(!this.client)throw new Error("Supabase not configured");const{data:e,error:r}=await this.client.from("blogs").select("*").order("created_at",{ascending:!1});if(r)throw r;return e||[]}async getBlog(e){if(!this.client)throw new Error("Supabase not configured");const{data:r,error:n}=await this.client.from("blogs").select("*").eq("id",e).single();if(n)throw n;return r}async getPublishedBlogs(){if(!this.client)throw new Error("Supabase not configured");const{data:e,error:r}=await this.client.from("blogs").select("*").eq("published",!0).order("created_at",{ascending:!1});if(r)throw r;return e||[]}async createBlog(e){if(!this.client)throw new Error("Supabase not configured");const{data:r,error:n}=await this.client.from("blogs").insert({title:e.title,author:e.author,body:e.body,image_url:e.image_url||null,link_url:e.link_url||null,link_text:e.link_text||null,published:e.published||!1}).select().single();if(n)throw n;return r}async updateBlog(e,r){if(!this.client)throw new Error("Supabase not configured");const{data:n,error:s}=await this.client.from("blogs").update({title:r.title,author:r.author,body:r.body,image_url:r.image_url||null,link_url:r.link_url||null,link_text:r.link_text||null,published:r.published}).eq("id",e).select().single();if(s)throw s;return n}async deleteBlog(e){if(!this.client)throw new Error("Supabase not configured");const{data:r}=await this.client.from("blogs").select("image_url").eq("id",e).single();if(r!=null&&r.image_url&&r.image_url.includes("supabase"))try{await this.deleteBlogImage(r.image_url)}catch(s){console.warn("Failed to delete image from storage:",s)}const{error:n}=await this.client.from("blogs").delete().eq("id",e);if(n)throw n}async uploadBlogImage(e,r){if(!this.client)throw new Error("Supabase not configured");if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(e.type))throw new Error("Invalid file type. Please upload a JPEG, PNG, WebP, or GIF image.");const s=5*1024*1024;if(e.size>s)throw new Error("File size too large. Maximum size is 5MB.");const i=e.name.split(".").pop(),a=Date.now(),l=`blog-headers/${`${r}-${a}.${i}`}`,{data:c,error:u}=await this.client.storage.from("blog-images").upload(l,e,{cacheControl:"3600",upsert:!1});if(u)throw u;const{data:{publicUrl:h}}=this.client.storage.from("blog-images").getPublicUrl(l);return h}async uploadBlogInlineImage(e,r){if(!this.client)throw new Error("Supabase not configured");if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(e.type))throw new Error("Invalid file type. Please upload a JPEG, PNG, WebP, or GIF image.");const s=5*1024*1024;if(e.size>s)throw new Error("File size too large. Maximum size is 5MB.");const i=e.name.split(".").pop(),a=Date.now(),l=`blog-inline/${`${r}-${a}.${i}`}`,{data:c,error:u}=await this.client.storage.from("blog-images").upload(l,e,{cacheControl:"3600",upsert:!1});if(u)throw u;const{data:{publicUrl:h}}=this.client.storage.from("blog-images").getPublicUrl(l);return h}async deleteBlogImage(e){if(!this.client)throw new Error("Supabase not configured");const r=e.split("/blog-images/");if(r.length<2){console.warn("Invalid image URL format:",e);return}const n=r[1],{error:s}=await this.client.storage.from("blog-images").remove([n]);if(s)throw s}async deleteBlogInlineImage(e){if(!this.client)throw new Error("Supabase not configured");if(!e)return;const r=e.split("/blog-images/");if(r.length<2){console.warn("Invalid inline image URL format:",e);return}const n=r[1],{error:s}=await this.client.storage.from("blog-images").remove([n]);if(s)throw s}async signUp(e,r,n){if(!this.client)throw new Error("Supabase not configured");const s={email:e,password:r,...n?{options:{data:n}}:{}},{data:i,error:a}=await this.client.auth.signUp(s);if(a)throw a;return i}async signIn(e,r){if(!this.client)throw new Error("Supabase not configured");const{data:n,error:s}=await this.client.auth.signInWithPassword({email:e,password:r});if(s)throw s;return n}async signOut(){if(!this.client)throw new Error("Supabase not configured");const{error:e}=await this.client.auth.signOut();if(e)throw e}async getUser(){if(!this.client)throw new Error("Supabase not configured");const{data:{user:e}}=await this.client.auth.getUser();return e}async getUserRole(){if(!this.client)throw new Error("Supabase not configured");const{data:{user:e}}=await this.client.auth.getUser();if(!e)return null;const{data:r,error:n}=await this.client.from("user_roles").select("*").eq("user_id",e.id).single();return n?(console.error("Error fetching user role:",n),{level:"member",email:e.email}):r}async upsertUserRoleForUserId(e,r={}){if(!this.client)throw new Error("Supabase not configured");const n={user_id:e,...r.email!==void 0?{email:r.email}:{},...r.first_name!==void 0?{first_name:r.first_name}:{},...r.last_name!==void 0?{last_name:r.last_name}:{},...r.phone_number!==void 0?{phone_number:r.phone_number}:{}},{data:s,error:i}=await this.client.from("user_roles").upsert(n,{onConflict:"user_id"}).select().maybeSingle();if(i)throw i;return s}async getUserProfile(){if(!this.client)throw new Error("Supabase not configured");const{data:{user:e}}=await this.client.auth.getUser();if(!e)return null;const{data:r,error:n}=await this.client.from("user_roles").select("*").eq("user_id",e.id).maybeSingle();return n&&console.warn("getUserProfile: failed to fetch user_roles row",n),{user:e,role:r||null}}async updateUserProfile(e){if(!this.client)throw new Error("Supabase not configured");const{data:{user:r}}=await this.client.auth.getUser();if(!r)throw new Error("No authenticated user");const n={user_id:r.id,...e.email!==void 0?{email:e.email}:{email:r.email},...e.first_name!==void 0?{first_name:e.first_name}:{},...e.last_name!==void 0?{last_name:e.last_name}:{},...e.phone_number!==void 0?{phone_number:e.phone_number}:{}},{data:s,error:i}=await this.client.from("user_roles").upsert(n,{onConflict:"user_id"}).select().single();if(i)throw i;return s}async updateUserRole(e,r){if(!this.client)throw new Error("Supabase not configured");const{data:n,error:s}=await this.client.from("user_roles").update({level:r}).eq("user_id",e).select().single();if(s)throw s;return n}async getAllUserRoles(){if(!this.client)throw new Error("Supabase not configured");const{data:e,error:r}=await this.client.from("user_roles").select("*").order("created_at",{ascending:!1});if(r)throw r;return e||[]}async getPendingUsers(){if(!this.client)throw new Error("Supabase not configured");const{data:e,error:r}=await this.client.from("user_roles").select("*").eq("approval_status","pending").order("created_at",{ascending:!1});if(r)throw r;return e||[]}async approveUser(e,r,n="member"){if(!this.client)throw new Error("Supabase not configured");const{data:s,error:i}=await this.client.from("user_roles").update({approval_status:"approved",approved_by:r,approved_at:new Date().toISOString(),level:n}).eq("user_id",e).select().single();if(i)throw i;return s}async rejectUser(e,r){if(!this.client)throw new Error("Supabase not configured");const{data:n,error:s}=await this.client.from("user_roles").update({approval_status:"rejected",approved_by:r,approved_at:new Date().toISOString()}).eq("user_id",e).select().single();if(s)throw s;return n}async resetPassword(e){if(!this.client)throw new Error("Supabase not configured");const{error:r}=await this.client.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});if(r)throw r}async updatePassword(e){if(!this.client)throw new Error("Supabase not configured");const{data:r,error:n}=await this.client.auth.updateUser({password:e});if(n)throw n;return r}async verifyOTP(e,r){if(!this.client)throw new Error("Supabase not configured");const{data:n,error:s}=await this.client.auth.verifyOtp({email:e,token:r,type:"email"});if(s)throw s;return n}async resendConfirmationEmail(e){if(!this.client)throw new Error("Supabase not configured");const{error:r}=await this.client.auth.resend({type:"signup",email:e});if(r)throw r}onAuthStateChange(e){if(!this.client)throw new Error("Supabase not configured");return this.client.auth.onAuthStateChange(e)}async getSession(){if(!this.client)throw new Error("Supabase not configured");const{data:{session:e}}=await this.client.auth.getSession();return e}}const Ve=new TI,PI=Object.freeze(Object.defineProperty({__proto__:null,default:Ve,supabaseService:Ve},Symbol.toStringTag,{value:"Module"})),Ya={MEMBER:"member",LEADER:"leader",DIRECTOR:"director"},OI={[Ya.MEMBER]:["view_schedules","view_team","view_announcements","view_sponsors","view_alumni","view_orders"],[Ya.LEADER]:["view_schedules","view_team","view_announcements","view_sponsors","view_alumni","view_orders","edit_schedules","edit_team","edit_sponsors","edit_alumni","submit_orders","edit_announcements"],[Ya.DIRECTOR]:["view_schedules","view_team","view_announcements","view_sponsors","view_alumni","view_orders","edit_schedules","edit_team","edit_sponsors","edit_alumni","edit_orders","edit_announcements","approve_orders","manage_users","submit_orders"]};class RI{constructor(){this.currentUser=null,this.authSubscription=null,this.isInitialized=!1,this.initPromise=null,this.authStateListeners=new Set,this.initializeAuth()}async initializeAuth(){return this.initPromise=this._doInitialize(),this.initPromise}async _doInitialize(){var e;try{if(!Ve.isConfigured()){console.warn("Supabase not configured. Authentication disabled."),this.isInitialized=!0;return}const r=await Ve.getSession();console.log("Initial session check:",r?"Session found":"No session"),r&&await this.loadUserData(),this.authSubscription=Ve.onAuthStateChange(async(n,s)=>{console.log("Auth state changed:",n,s?"with session":"no session"),n==="SIGNED_IN"||n==="TOKEN_REFRESHED"||n==="INITIAL_SESSION"?s&&await this.loadUserData():n==="SIGNED_OUT"&&(this.currentUser=null),this._notifyListeners()}),this.isInitialized=!0,console.log("Auth initialization complete, user:",((e=this.currentUser)==null?void 0:e.email)||"none")}catch(r){console.error("Error initializing auth:",r),this.isInitialized=!0}}async waitForInit(){this.initPromise&&await this.initPromise}onAuthStateChange(e){return this.authStateListeners.add(e),()=>{this.authStateListeners.delete(e)}}_notifyListeners(){const e=this.isAuthenticated();this.authStateListeners.forEach(r=>{try{r(e,this.currentUser)}catch(n){console.error("Auth state listener error:",n)}})}async loadUserData(){var e,r;try{const n=await Ve.getUserProfile();if(!n||!n.user){this.currentUser=null;return}const{user:s,role:i}=n;try{const a=(s==null?void 0:s.user_metadata)||{};if((a.first_name||a.last_name)&&(!i||!i.first_name||!i.last_name)){await Ve.updateUserProfile({...a.first_name?{first_name:a.first_name}:{},...a.last_name?{last_name:a.last_name}:{}});const l=await Ve.getUserProfile();l&&l.role&&Object.assign(n,{role:l.role})}}catch(a){console.warn("Could not upsert profile metadata to user_roles:",a.message||a)}this.currentUser={id:s.id,email:s.email,level:(i==null?void 0:i.level)||Ya.MEMBER,permissions:OI[(i==null?void 0:i.level)||Ya.MEMBER],emailConfirmed:s.email_confirmed_at!==null,first_name:(i==null?void 0:i.first_name)||((e=s==null?void 0:s.user_metadata)==null?void 0:e.first_name)||null,last_name:(i==null?void 0:i.last_name)||((r=s==null?void 0:s.user_metadata)==null?void 0:r.last_name)||null,phone_number:(i==null?void 0:i.phone_number)||null,specific_role:(i==null?void 0:i.specific_role)||null,joined_at:s.created_at||null,approval_status:(i==null?void 0:i.approval_status)||"pending",approved_at:(i==null?void 0:i.approved_at)||null,approved_by:(i==null?void 0:i.approved_by)||null}}catch(n){console.error("Error loading user data:",n),this.currentUser=null}}async signUp(e,r,n,s){try{const i={};n&&(i.first_name=n),s&&(i.last_name=s);const a=await Ve.signUp(e,r,Object.keys(i).length?i:void 0);try{a&&a.user&&(n||s)&&await Ve.upsertUserRoleForUserId(a.user.id,{first_name:n||void 0,last_name:s||void 0,email:e})}catch(l){console.warn("Signup: could not upsert names into user_roles:",(l==null?void 0:l.message)||l)}let A=!a.session;if(a.session)await this.loadUserData();else try{const l=await this.signIn(e,r);return A=!1,{...l,needsEmailConfirmation:A}}catch(l){console.warn("Auto sign-in after signup failed:",l);try{a.user&&(i.first_name||i.last_name)&&await Ve.upsertUserRoleForUserId(a.user.id,{first_name:i.first_name,last_name:i.last_name,email:e})}catch(c){console.warn("Could not upsert user_roles after signup (likely RLS):",(c==null?void 0:c.message)||c)}}return{...a,needsEmailConfirmation:A}}catch(i){throw console.error("Sign up error:",i),i}}async signIn(e,r){try{const n=await Ve.signIn(e,r);return await this.loadUserData(),this._notifyListeners(),n}catch(n){throw console.error("Sign in error:",n),n}}async signOut(){try{await Ve.signOut(),this.currentUser=null,this._notifyListeners()}catch(e){throw console.error("Sign out error:",e),e}}async logout(){return this.signOut()}async requestPasswordReset(e){try{await Ve.resetPassword(e)}catch(r){throw console.error("Password reset error:",r),r}}async updatePassword(e){try{await Ve.updatePassword(e)}catch(r){throw console.error("Update password error:",r),r}}async verifyEmail(e,r){try{const n=await Ve.verifyOTP(e,r);return await this.loadUserData(),n}catch(n){throw console.error("Email verification error:",n),n}}async extendSession(){try{const e=await Ve.getSession();return e&&(await this.loadUserData(),this._notifyListeners()),e}catch(e){return console.warn("extendSession failed:",e),null}}async resendConfirmation(e){try{await Ve.resendConfirmationEmail(e)}catch(r){throw console.error("Resend confirmation error:",r),r}}isAuthenticated(){return this.currentUser!==null&&this.currentUser.approval_status==="approved"}isApproved(){return this.currentUser!==null&&this.currentUser.approval_status==="approved"}isPending(){return this.currentUser!==null&&this.currentUser.approval_status==="pending"}isRejected(){return this.currentUser!==null&&this.currentUser.approval_status==="rejected"}hasPermission(e){return this.isAuthenticated()?this.currentUser.permissions.includes(e):!1}getLevel(){return this.isAuthenticated()?this.currentUser.level:null}getUser(){return this.currentUser}async updateUserRole(e,r){if(!this.hasPermission("manage_users"))throw new Error("Permission denied: Only directors can update user roles");try{await Ve.updateUserRole(e,r)}catch(n){throw console.error("Update user role error:",n),n}}async getAllUsers(){if(!this.hasPermission("manage_users"))throw new Error("Permission denied: Only directors can view all users");try{return await Ve.getAllUserRoles()}catch(e){throw console.error("Get all users error:",e),e}}cleanup(){this.authSubscription&&this.authSubscription.data.subscription.unsubscribe()}}const ft=new RI;const HI=()=>{const[t,e]=X.useState(!1),[r,n]=X.useState(!1),[s,i]=X.useState(!1),a=Oc(),A=ao();X.useEffect(()=>{let b=!0;(async()=>{await ft.waitForInit(),b&&n(ft.isAuthenticated())})();const y=ft.onAuthStateChange(B=>{b&&n(B)});return()=>{b=!1,y()}},[]),X.useEffect(()=>{const b=g=>{s&&!g.target.closest(".auth-dropdown")&&i(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[s]);const l=()=>{e(!t)},c=()=>{e(!1)},u=()=>{r?i(!s):A("/login")},h=()=>{i(!1),A("/admin")},p=()=>{(async()=>{try{await ft.logout()}catch(g){console.error("Logout failed:",g)}finally{n(!1),i(!1),A("/")}})()},d=()=>{c(),A("/login")};X.useEffect(()=>{e(!1)},[a]),X.useEffect(()=>{const b=()=>{window.innerWidth>767&&t&&e(!1)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[t]),X.useEffect(()=>(document.body.style.overflow=t?"hidden":"",()=>{document.body.style.overflow=""}),[t]);const w=b=>!!(b==="/"&&a.pathname==="/"||b!=="/"&&a.pathname.startsWith(b)),m=[{path:"/",label:"Home"},{path:"/app",label:"App"},{path:"/team",label:"Team"},{path:"/alumni",label:"Alumni"},{path:"/sponsors",label:"Sponsors"},{path:"/donate",label:"Donate"},{path:"/blogs",label:"Blogs"},{path:"/contact",label:"Contact"}];return o.jsxs(o.Fragment,{children:[o.jsxs("header",{className:"header",children:[o.jsxs("button",{className:"logo",style:{background:"none",border:"none",padding:0,cursor:"pointer"},onClick:()=>{A("/")},children:[o.jsx("img",{src:"/solarpack_logo.png",alt:"SolarPack logo"}),"SolarPack"]}),o.jsx("nav",{className:"nav",children:m.map(({path:b,label:g})=>o.jsx(Sp,{to:b,className:w(b)?"active":"",children:g},b))}),o.jsx("div",{className:"auth-section",children:r?o.jsxs("div",{className:"auth-dropdown",children:[o.jsxs("button",{className:"account-btn authenticated",onClick:u,children:[o.jsx("i",{className:"fas fa-user-check","aria-hidden":"true"}),o.jsx("span",{className:"auth-text",children:"Account"}),o.jsx("i",{className:"fas fa-chevron-down dropdown-arrow","aria-hidden":"true"})]}),s&&o.jsxs("div",{className:"dropdown-menu",children:[o.jsxs("button",{onClick:h,className:"dropdown-item",children:[o.jsx("i",{className:"fas fa-tachometer-alt","aria-hidden":"true"}),"Dashboard"]}),o.jsxs("button",{onClick:p,className:"dropdown-item logout",children:[o.jsx("i",{className:"fas fa-sign-out-alt","aria-hidden":"true"}),"Logout"]})]})]}):o.jsxs("button",{className:"account-btn",onClick:u,children:[o.jsx("i",{className:"fas fa-user","aria-hidden":"true"}),o.jsx("span",{className:"auth-text",children:"Sign In"})]})}),o.jsx("button",{className:"burger",onClick:l,"aria-label":"Toggle navigation",children:o.jsx("i",{className:`fas ${t?"fa-times":"fa-bars"}`,"aria-hidden":"true"})})]}),o.jsx("div",{className:`mobile-panel ${t?"open":""}`,onClick:c,children:o.jsxs("nav",{className:"m-nav",onClick:b=>b.stopPropagation(),children:[m.map(({path:b,label:g})=>o.jsx(Sp,{to:b,className:w(b)?"active":"",onClick:c,children:g},b)),o.jsx("div",{className:"mobile-auth",children:r?o.jsxs(o.Fragment,{children:[o.jsxs("button",{className:"mobile-auth-btn authenticated",onClick:h,children:[o.jsx("i",{className:"fas fa-tachometer-alt","aria-hidden":"true"}),"Dashboard"]}),o.jsxs("button",{className:"mobile-auth-btn logout",onClick:p,children:[o.jsx("i",{className:"fas fa-sign-out-alt","aria-hidden":"true"}),"Logout"]})]}):o.jsxs("button",{className:"mobile-auth-btn",onClick:d,children:[o.jsx("i",{className:"fas fa-user","aria-hidden":"true"}),"Sign In"]})})]})})]})},MI=({children:t})=>o.jsxs(o.Fragment,{children:[o.jsx(HI,{}),o.jsx("main",{children:t}),o.jsx("footer",{className:"footer",children:" 2025 NC State SolarPack. All rights reserved."})]}),zI=({isOpen:t,onClose:e,onConfirm:r,title:n,message:s,type:i="info",confirmText:a="OK",cancelText:A="Cancel"})=>{if(X.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;const l=i==="confirm",c=()=>{r?r():e()},u=()=>{e()},h=()=>{switch(i){case"error":return o.jsxs("svg",{className:"alert-icon error",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),o.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]});case"warning":return o.jsxs("svg",{className:"alert-icon warning",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),o.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),o.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"success":return o.jsxs("svg",{className:"alert-icon success",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),o.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]});case"confirm":return o.jsxs("svg",{className:"alert-icon confirm",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"}),o.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"})]});default:return o.jsxs("svg",{className:"alert-icon info",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),o.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}};return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        .alert-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.75);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 10000;
          animation: fadeIn 0.2s ease-out;
        }

        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        @keyframes slideIn {
          from {
            transform: scale(0.9);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }

        .alert-box {
          background: var(--surface);
          border-radius: 12px;
          padding: 2rem;
          max-width: 450px;
          width: 90%;
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
          animation: slideIn 0.3s ease-out;
        }

        .alert-header {
          display: flex;
          align-items: center;
          gap: 1rem;
          margin-bottom: 1.5rem;
        }

        .alert-icon {
          width: 48px;
          height: 48px;
          flex-shrink: 0;
        }

        .alert-icon.error {
          color: #ef4444;
        }

        .alert-icon.warning {
          color: #f59e0b;
        }

        .alert-icon.success {
          color: #10b981;
        }

        .alert-icon.info {
          color: #3b82f6;
        }

        .alert-icon.confirm {
          color: #dc2626;
        }

        .alert-title {
          font-family: "Bebas Neue", sans-serif;
          font-size: 1.5rem;
          color: var(--text);
          margin: 0;
          flex: 1;
        }

        .alert-message {
          color: var(--subtxt);
          line-height: 1.6;
          margin-bottom: 2rem;
          font-size: 0.95rem;
        }

        .alert-message-section {
          margin-bottom: 1.25rem;
        }

        .alert-message-section:last-child {
          margin-bottom: 0;
        }

        .alert-message-main {
          font-size: 1rem;
          color: var(--text);
          font-weight: 500;
          margin-bottom: 0.75rem;
        }

        .alert-message-details {
          font-size: 0.9rem;
          color: var(--subtxt);
          margin-bottom: 0.5rem;
        }

        .alert-message-note {
          display: flex;
          gap: 0.75rem;
          padding: 1rem;
          background: rgba(220, 38, 38, 0.1);
          border-left: 3px solid #dc2626;
          border-radius: 6px;
          margin-top: 1rem;
        }

        .alert-message-note-icon {
          width: 20px;
          height: 20px;
          color: #dc2626;
          flex-shrink: 0;
          margin-top: 2px;
        }

        .alert-message-note-content {
          flex: 1;
        }

        .alert-message-note-title {
          font-weight: 600;
          color: #dc2626;
          margin-bottom: 0.25rem;
          font-size: 0.9rem;
        }

        .alert-message-note-text {
          font-size: 0.85rem;
          color: var(--subtxt);
          line-height: 1.5;
        }

        .alert-actions {
          display: flex;
          gap: 1rem;
          justify-content: flex-end;
        }

        .alert-btn {
          padding: 0.75rem 1.5rem;
          border-radius: 8px;
          border: none;
          cursor: pointer;
          font-size: 0.9rem;
          font-weight: 600;
          transition: all 0.2s ease;
          font-family: inherit;
        }

        .alert-btn-primary {
          background: var(--accent);
          color: white;
        }

        .alert-btn-primary:hover {
          background: #c71821;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(227, 28, 35, 0.4);
        }

        .alert-btn-secondary {
          background: transparent;
          color: var(--text);
          border: 1px solid var(--subtxt);
        }

        .alert-btn-secondary:hover {
          background: rgba(255, 255, 255, 0.05);
          border-color: var(--text);
        }

        .alert-btn-danger {
          background: #dc2626;
          color: white;
        }

        .alert-btn-danger:hover {
          background: #b91c1c;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(220, 38, 38, 0.4);
        }
      `}),o.jsx("div",{className:"alert-overlay",onClick:u,children:o.jsxs("div",{className:"alert-box",onClick:p=>p.stopPropagation(),children:[o.jsxs("div",{className:"alert-header",children:[h(),o.jsx("h3",{className:"alert-title",children:n})]}),o.jsx("div",{className:"alert-message",children:typeof s=="string"?o.jsx("p",{children:s}):s}),o.jsxs("div",{className:"alert-actions",children:[l&&o.jsx("button",{className:"alert-btn alert-btn-secondary",onClick:u,children:A}),o.jsx("button",{className:`alert-btn ${i==="confirm"?"alert-btn-danger":"alert-btn-primary"}`,onClick:c,autoFocus:!0,children:a})]})]})})]})},S4=X.createContext(null),KI=({children:t})=>{const[e,r]=X.useState([]),[n,s]=X.useState(null),i=X.useCallback(w=>new Promise(m=>{const b={id:Date.now()+Math.random(),...w,resolve:m};n?r(g=>[...g,b]):s(b)}),[n]),a=X.useCallback((w=!1)=>{n!=null&&n.resolve&&(n.type==="confirm"?n.resolve(w):n.resolve(!0)),r(m=>{const[b,...g]=m;return s(b||null),g})},[n]),A=X.useCallback(()=>{a(!0)},[a]),l=X.useCallback((w,m="Error")=>i({title:m,message:w,type:"error"}),[i]),c=X.useCallback((w,m="Warning")=>i({title:m,message:w,type:"warning"}),[i]),u=X.useCallback((w,m="Success")=>i({title:m,message:w,type:"success"}),[i]),h=X.useCallback((w,m="Confirm Action",b="Confirm",g="Cancel")=>i({title:m,message:w,type:"confirm",confirmText:b,cancelText:g}),[i]),p=X.useCallback((w,m="info")=>i({title:{error:"Error",warning:"Warning",success:"Success",info:"Information"}[m]||"Alert",message:w,type:m}),[i]),d=X.useMemo(()=>({showAlert:p,showAlertAdvanced:i,showError:l,showWarning:c,showSuccess:u,showConfirm:h}),[p,i,l,c,u,h]);return o.jsxs(S4.Provider,{value:d,children:[t,n&&o.jsx(zI,{isOpen:!0,onClose:a,onConfirm:A,title:n.title||"Alert",message:n.message||"",type:n.type||"info",confirmText:n.confirmText||"OK",cancelText:n.cancelText||"Cancel"},n.id)]})},Ai=()=>{const t=X.useContext(S4);if(!t)throw new Error("useAlert must be used within an AlertProvider");return t};const E4=({onLogin:t})=>{const e=ao(),{showAlert:r}=Ai(),[n,s]=X.useState("login"),[i,a]=X.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[A,l]=X.useState(!1),[c,u]=X.useState(!1),h=y=>{const{name:B,value:_}=y.target;a(N=>({...N,[B]:_}))},p=y=>y.length<6?"Password must be at least 6 characters long":/[A-Z]/.test(y)?/[a-z]/.test(y)?/[0-9]/.test(y)?/[^A-Za-z0-9]/.test(y)?null:"Password must contain at least one symbol":"Password must contain at least one number":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter",d=i.password||"",w={length:d.length>=6,lower:/[a-z]/.test(d),upper:/[A-Z]/.test(d),number:/[0-9]/.test(d),symbol:/[^A-Za-z0-9]/.test(d)},m=async y=>{y.preventDefault(),l(!0);try{if(n==="signup"){if(!i.email||!i.password||!i.confirmPassword||!i.firstName||!i.lastName){r("Please fill in all fields","error"),l(!1);return}if(i.password!==i.confirmPassword){r("Passwords do not match","error"),l(!1);return}const B=p(i.password);if(B){r(B,"error"),l(!1);return}await ft.signUp(i.email,i.password,i.firstName,i.lastName),r("Account created! Awaiting approval from team leaders.","success"),e("/pending-approval")}else{if(!i.email||!i.password){r("Please enter your email and password","error"),l(!1);return}if(await ft.signIn(i.email,i.password),ft.isPending()){r("Your account is pending approval","info"),e("/pending-approval");return}if(ft.isRejected()){r("Your account request was not approved","error"),e("/pending-approval");return}r("Welcome back!","success"),t()}}catch(B){console.error("Auth error:",B);let _="An error occurred. Please try again.";B.message.includes("Invalid login credentials")?_="Invalid email or password":B.message.includes("User already registered")?_="An account with this email already exists":B.message.includes("Invalid email")?_="Please enter a valid email address":_=B.message||_,r(_,"error")}finally{l(!1)}},b=()=>{s(n==="login"?"signup":"login"),a({email:"",password:"",confirmPassword:"",firstName:"",lastName:""})},g=()=>{e("/forgot-password")};return o.jsx("div",{className:"login-container",children:o.jsxs("div",{className:"login-card",children:[o.jsxs("div",{className:"login-header",children:[o.jsxs("div",{className:"login-logo",children:[o.jsx("img",{src:"/solarpack_logo.png",alt:"SolarPack logo"}),o.jsx("h1",{className:"login-title",children:"SolarPack"})]}),o.jsx("p",{className:"login-subtitle",children:n==="login"?"Admin Dashboard Access":"Create Your Account"})]}),o.jsxs("form",{onSubmit:m,className:"login-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"email",children:"Email Address"}),o.jsx("input",{type:"email",id:"email",name:"email",className:"form-input",value:i.email,onChange:h,placeholder:"your.email@ncsu.edu",disabled:A,autoFocus:!0,autoComplete:"email",required:!0})]}),n==="signup"&&o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group half",children:[o.jsx("label",{htmlFor:"firstName",children:"First Name"}),o.jsx("input",{type:"text",id:"firstName",name:"firstName",className:"form-input",value:i.firstName,onChange:h,placeholder:"First name",disabled:A,required:!0,autoComplete:"given-name"})]}),o.jsxs("div",{className:"form-group half",children:[o.jsx("label",{htmlFor:"lastName",children:"Last Name"}),o.jsx("input",{type:"text",id:"lastName",name:"lastName",className:"form-input",value:i.lastName,onChange:h,placeholder:"Last name",disabled:A,required:!0,autoComplete:"family-name"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"password-input-wrapper",children:[o.jsx("input",{type:c?"text":"password",id:"password",name:"password",className:"form-input",value:i.password,onChange:h,placeholder:n==="signup"?"Create a strong password":"Enter your password",disabled:A,required:!0,autoComplete:n==="signup"?"new-password":"current-password"}),o.jsx("button",{type:"button",className:"password-toggle",onClick:()=>u(!c),disabled:A,"aria-pressed":c,"aria-label":c?"Hide password":"Show password",children:c?o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[o.jsx("path",{d:"M17.94 17.94A10.94 10.94 0 0 1 12 20C7 20 2.73 16.11 1 12c.47-1 .99-1.95 1.57-2.82"}),o.jsx("path",{d:"M3 3l18 18"}),o.jsx("path",{d:"M9.88 9.88A3 3 0 0 0 14.12 14.12"})]}):o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[o.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12z"}),o.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),n==="signup"&&o.jsxs("div",{children:[o.jsx("small",{className:"form-hint",children:"Password requirements"}),o.jsxs("ul",{className:"password-checklist","aria-live":"polite",children:[o.jsxs("li",{className:w.length?"met":"unmet",children:[o.jsx("span",{className:"check-icon","aria-hidden":!0,children:w.length?"":""}),o.jsx("span",{children:"Minimum 6 characters"})]}),o.jsxs("li",{className:w.lower?"met":"unmet",children:[o.jsx("span",{className:"check-icon","aria-hidden":!0,children:w.lower?"":""}),o.jsx("span",{children:"At least one lowercase letter"})]}),o.jsxs("li",{className:w.upper?"met":"unmet",children:[o.jsx("span",{className:"check-icon","aria-hidden":!0,children:w.upper?"":""}),o.jsx("span",{children:"At least one uppercase letter"})]}),o.jsxs("li",{className:w.number?"met":"unmet",children:[o.jsx("span",{className:"check-icon","aria-hidden":!0,children:w.number?"":""}),o.jsx("span",{children:"At least one number"})]}),o.jsxs("li",{className:w.symbol?"met":"unmet",children:[o.jsx("span",{className:"check-icon","aria-hidden":!0,children:w.symbol?"":""}),o.jsx("span",{children:"At least one symbol (e.g. !@#$%)"})]})]})]})]}),n==="signup"&&o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),o.jsx("input",{type:c?"text":"password",id:"confirmPassword",name:"confirmPassword",className:"form-input",value:i.confirmPassword,onChange:h,placeholder:"Re-enter your password",disabled:A,required:!0,autoComplete:"new-password"})]}),o.jsx("button",{type:"submit",className:"login-button",disabled:A,children:A?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"loading-spinner"}),n==="login"?"Signing In...":"Creating Account..."]}):n==="login"?"Sign In":"Create Account"}),o.jsxs("div",{className:"login-links",children:[n==="login"&&o.jsx("button",{type:"button",onClick:g,className:"link-button",disabled:A,children:"Forgot password?"}),o.jsx("button",{type:"button",onClick:b,className:"link-button",disabled:A,children:n==="login"?"Don't have an account? Sign up":"Already have an account? Sign in"})]})]}),n==="signup"&&o.jsx("div",{className:"login-footer",children:o.jsx("p",{className:"text-muted",children:"Your account will require approval from a team leader or director before you can access the dashboard."})})]})})},Il={container:{width:"100%",maxWidth:1200,margin:"0 auto 2rem auto",padding:"2rem",background:"var(--card)",borderRadius:"var(--radius)",boxShadow:"0 1px 6px #0004",display:"block"},label:{fontSize:"1.2rem",fontWeight:600,marginBottom:"1rem",textAlign:"center",color:"var(--text)",letterSpacing:".02em"},barWrapper:{position:"relative",width:"100%",height:98,marginBottom:"0.5rem"},barContainer:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"100%",height:38,borderRadius:"999px",overflow:"hidden",background:"#222",boxShadow:"0 1px 6px #0002",zIndex:1,display:"block"},barFill:{height:"100%",background:"linear-gradient(90deg, var(--accent) 0%, #ff4a45 100%)",borderRadius:"999px 0 0 999px",transition:"width 0.6s cubic-bezier(.4,0,.2,1)",position:"absolute",left:0,top:0},carSticker:{position:"absolute",top:"50%",transform:"translateY(-50%)",width:136,height:136,pointerEvents:"none",zIndex:2,transition:"left 0.6s cubic-bezier(.4,0,.2,1)"}},$I=({percentage:t=0,upcomingProjects:e=[],totalProjects:r=0,completedCount:n=0})=>o.jsxs("div",{style:Il.container,children:[o.jsxs("div",{style:Il.label,children:[o.jsx("span",{style:{color:"var(--accent)"},children:"Car Build Progress:"})," ",t,"%"]}),o.jsxs("div",{style:Il.barWrapper,children:[o.jsx("div",{style:Il.barContainer,children:o.jsx("div",{style:{...Il.barFill,width:`${t}%`}})}),o.jsx("img",{src:"/images/car_sticker.png",alt:"Car Sticker",style:{...Il.carSticker,left:`calc(${t}% - 49px)`}})]}),e.length>0&&o.jsx("div",{style:{marginTop:"2rem",display:"flex",flexDirection:"column",gap:"0.8rem",width:"100%",marginInline:"auto",paddingInline:"1rem"},children:e.map(s=>{const i=r>0?100/r:0;return o.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.03)",borderRadius:"10px",boxShadow:"0 1px 4px #0001",padding:"0.85rem 1.2rem 0.85rem 1.6rem",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--text)",border:"1px solid rgba(255, 255, 255, 0.03)",borderLeft:"4px solid var(--accent)",width:"100%",marginInline:"auto",justifyContent:"space-between"},children:[o.jsx("span",{style:{fontWeight:600,fontSize:"1rem"},children:s.title}),o.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--accent)"},children:["+",i.toFixed(1),"%"]})]},s.id)})})]});const VI=()=>{const[t,e]=X.useState(0),[r,n]=X.useState([]),[s,i]=X.useState(0),[a,A]=X.useState(0);return X.useEffect(()=>{document.title="SolarPack",(async()=>{try{const u=(await Ve.getScheduleData()).projects||[],h=u.length;if(h>0){const w=u.filter(b=>b.status==="completed").length,m=Math.round(w/h*100);e(m),i(h),A(w)}else e(0),i(0),A(0);const p=new Date,d=u.filter(w=>w.status!=="completed"&&new Date(w.dueDate)>=p).sort((w,m)=>new Date(w.dueDate)-new Date(m.dueDate)).slice(0,3);n(d)}catch{e(0),n([])}})()},[]),o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"hero",children:[o.jsx("img",{src:"/solarpack_logo.gif",alt:"SolarPack Logo"}),o.jsxs("div",{className:"hero-content",children:[o.jsx("h1",{children:"SolarPack"}),o.jsx("div",{className:"subtitle",children:"Solar Vehicle Team at NC State"}),o.jsx("p",{children:"Striving to break barriers in the sustainable vehicle industry with a hardworking group of over 80 passionate students. Join us in our journey to a more sustainable future for transportation."}),o.jsxs("a",{className:"donate-btn",href:"https://www.paypal.com/fundraiser/charity/3728956",target:"_blank",rel:"noopener","aria-label":"Donate to SolarPack via PayPal",children:[o.jsx("i",{className:"fab fa-paypal","aria-hidden":"true"}),"Donate"]})]})]}),o.jsx("div",{style:{width:"100%",background:"transparent",marginBottom:0},children:o.jsx($I,{percentage:t,upcomingProjects:r,totalProjects:s,completedCount:a})}),o.jsxs("section",{className:"section",children:[o.jsx("img",{src:"/hero_shot.jpg",alt:"SolarPack Team"}),o.jsx("h2",{children:"Sustainable, Efficient, and Powerful."}),o.jsx("p",{children:"As NC State's first solar vehicle team, we are aiming to show the world that solar energy can be used to power a car. Along the way, we are making a solar vehicle no other team has done before."})]}),o.jsxs("section",{className:"section features",children:[o.jsxs("div",{className:"feature",children:[o.jsx("ion-icon",{name:"earth-outline"}),o.jsx("h3",{children:"Global Impact"}),o.jsx("p",{children:"We're showing the world that solar energy can power a multi-occupancy car. By building a vehicle no one has seen before, we hope to prove that sustainability and power can go hand in hand."})]}),o.jsxs("div",{className:"feature",children:[o.jsx("ion-icon",{name:"cog-outline"}),o.jsx("h3",{children:"Engineering Excellence"}),o.jsx("p",{children:"Our team thrives on creative problem solving. Members develop real-world skills as they tackle unique engineering challenges throughout our build process."})]}),o.jsxs("div",{className:"feature",children:[o.jsx("ion-icon",{name:"bulb-outline"}),o.jsx("h3",{children:"Innovation"}),o.jsx("p",{children:"Pioneering new solutions, our members are always innovatingusing every resource to bring big ideas to life and push the boundaries of solar vehicle technology."})]}),o.jsxs("div",{className:"feature",children:[o.jsx("ion-icon",{name:"hand-left-outline"}),o.jsx("h3",{children:"Collaboration"}),o.jsx("p",{children:"We partner with companies and alumni to guide our journey, building strong relationships as we promote the future of energy-efficient vehicles."})]}),o.jsxs("div",{className:"feature",children:[o.jsx("ion-icon",{name:"location-outline"}),o.jsx("h3",{children:"Rooted in the Triangle"}),o.jsx("p",{children:"Proudly representing the Research Triangle, we embody the spirit of innovation and excellence that defines our regiondriving forward as leaders in sustainable technology."})]})]}),o.jsx(GI,{}),o.jsxs("div",{className:"socials",children:[o.jsx("a",{href:"https://www.instagram.com/solarpacknc/",target:"_blank",rel:"noopener",children:o.jsx("i",{className:"fab fa-instagram"})}),o.jsx("a",{href:"https://www.linkedin.com/company/solarpack-nc-state/",target:"_blank",rel:"noopener",children:o.jsx("i",{className:"fab fa-linkedin"})}),o.jsx("a",{href:"https://www.facebook.com/SolarPackNC/",target:"_blank",rel:"noopener",children:o.jsx("i",{className:"fab fa-facebook"})})]})]})},GI=()=>{const[t,e]=X.useState(4),r=X.useRef(null),n=X.useRef(null),[s,i]=X.useState(320),[a,A]=X.useState(0),[l,c]=X.useState(0),u=["/race2025/race2025_1.jpg","/race2025/race2025_2.jpg","/race2025/race2025_3.jpg","/race2025/race2025_4.jpg","/race2025/race2025_5.jpg","/race2025/race2025_6.jpg","/race2025/race2025_7.jpg","/race2025/race2025_8.jpg","/race2025/race2025_9.jpg"],h=()=>{if(r.current&&n.current){const N=r.current.querySelector(".carousel-slide");if(N){const D=N.getBoundingClientRect(),T=n.current.getBoundingClientRect();i(D.width),A(T.width),c(Math.round((T.width-D.width)/2))}}};X.useEffect(()=>{h();const N=new ResizeObserver(h);return n.current&&N.observe(n.current),()=>N.disconnect()},[]);const p=19.2,d=N=>{e(N)},w=()=>{e(N=>(N+1)%u.length)},m=()=>{e(N=>(N-1+u.length)%u.length)},b=-Math.round(t*(s+p))+l,[g,y]=X.useState(null),B=N=>{y(N)},_=N=>{if(g!==null){const D=N-g;D<-30?w():D>30&&m(),y(null)}};return o.jsxs("section",{className:"section race-carousel",children:[o.jsx("h2",{children:"2025 Race Highlights"}),o.jsxs("div",{className:"carousel-container",children:[o.jsx("button",{className:"carousel-arrow left",onClick:m,"aria-label":"Previous",children:o.jsx("i",{className:"fas fa-chevron-left"})}),o.jsx("div",{className:"carousel-viewport",ref:n,onMouseDown:N=>B(N.pageX),onMouseUp:N=>_(N.pageX),onTouchStart:N=>B(N.touches[0].pageX),onTouchEnd:N=>_(N.changedTouches[0].pageX),children:o.jsx("div",{className:"carousel-track",ref:r,style:{transform:`translateX(${b}px)`},children:u.map((N,D)=>o.jsx("div",{className:"carousel-slide",children:o.jsx("img",{src:N,alt:`Race 2025 Image ${D+1}`})},D))})}),o.jsx("button",{className:"carousel-arrow right",onClick:w,"aria-label":"Next",children:o.jsx("i",{className:"fas fa-chevron-right"})}),o.jsx("div",{className:"carousel-dots",children:u.map((N,D)=>o.jsx("span",{className:`dot ${D===t?"active":""}`,onClick:()=>d(D)},D))})]})]})},WI=()=>{X.useEffect(()=>{document.title="SolarPack  App"},[]);const t={ipad1:{image:"/images/ipad-app/Ipad 1.png",title:"Home Page",description:"The Home Page is the main dashboard for the app, providing a real-time overview of all critical vehicle and system stats. It is designed for quick-glance monitoring and immediate access to the most important data.",features:["Live Gauges: Speed, RPM, and current draw with animated arc gauges","Battery & Solar Info: Battery voltage, wattage, solar voltage, and solar power","Temperature Readouts: Motor and inverter temperatures","System Status Indicator: Animated status dot and label","Responsive Layout: Optimized for iPad with large, easy-to-read values"]},ipad2:{image:"/images/ipad-app/Ipad 2.png",title:"BMS Page",description:"The BMS (Battery Management System) Page provides a detailed, real-time overview of battery pack health, cell-level data, and system status. Essential for monitoring, diagnostics, and troubleshooting of the battery system.",features:["Pack Overview: Total battery voltage, current draw, wattage, and 12V battery voltage","State Badges: Charging/discharging status and enable signals","Cell Grid: 1010 grid of all cell voltages and temperatures, labeled and color-coded","Fault Codes: Lists active BMS fault codes","Status Indicator: Animated status dot and label for BMS power state"]},ipad3:{image:"/images/ipad-app/Ipad 3.png",title:"Motor Controller Page",description:"The Motor Controller Page provides a comprehensive, real-time view of the traction motor and its controller, including RPM, temperatures, voltages, and cooling system status. Essential for monitoring drive performance and diagnosing issues.",features:["RPM Gauge: Large animated arc gauge for motor RPM","Temperature Readouts: Motor and controller (inverter) temperatures","Voltage Monitoring: High-voltage and 12V system voltages","Cooling System Status: Visual indicators for radiator and pump status","System Status Indicator: Header with animated status dot and label"]},ipad4:{image:"/images/ipad-app/Ipad 4.png",title:"Charging Page",description:"The Charging Page provides a comprehensive, real-time overview of battery pack and solar charging status, including charge rates, voltages, estimated time remaining, and solar-only mode controls. Essential for monitoring charging performance and managing energy sources.",features:["Charging Status: Charger plugged in, requested current, charge rate, and pack voltage","Solar Charging: Solar voltage, amps, power, and charger status","Battery Visualization: Large battery icon with animated fill","Estimated Time Remaining: Calculates time to full charge","Solar-Only Mode: Toggle switch for solar-only charging","Rolling Line Chart: Real-time chart of charge rates"]},ipad5:{image:"/images/ipad-app/Ipad 5.png",title:"Low Voltage Page",description:"The Low Voltage Page provides a real-time overview of board health and auxiliary systems, including a grid of board status indicators and ignition mode controls. Essential for monitoring the health of low-voltage electronics and managing ignition states.",features:["Board Health Grid: 23 grid of board cards showing status (OK, Fault, Offline)","Ignition Mode Control: View and adjust ignition mode (OFF, ACC, ON, START)","Status Indicators: Animated status dots for live feedback","Responsive Layout: Optimized for iPad with grid-based design and large icons"]}};return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        /* Page-specific styles */
        .app-hero {
          position: relative;
          background: linear-gradient(135deg, #1a1a1a 0%, #0c0c0c 100%);
          border-radius: var(--radius);
          padding: 4rem 2rem;
          margin-bottom: 3rem;
          overflow: hidden;
          box-shadow: 0 8px 32px rgba(227, 27, 35, 0.15);
        }

        .app-hero::before {
          content: '';
          position: absolute;
          top: -50%;
          right: -20%;
          width: 600px;
          height: 600px;
          background: radial-gradient(circle, rgba(227, 27, 35, 0.15) 0%, transparent 70%);
          border-radius: 50%;
          animation: pulse 8s ease-in-out infinite;
        }

        @keyframes pulse {
          0%, 100% { transform: scale(1); opacity: 0.3; }
          50% { transform: scale(1.1); opacity: 0.5; }
        }

        .app-hero-content {
          position: relative;
          z-index: 1;
          text-align: center;
          max-width: 800px;
          margin: 0 auto;
        }

        .app-hero h1 {
          font-family: 'Bebas Neue', sans-serif;
          font-size: clamp(3rem, 10vw, 5rem);
          color: var(--accent);
          margin-bottom: 1rem;
          letter-spacing: 0.08em;
          text-shadow: 0 0 40px rgba(227, 27, 35, 0.4);
        }

        .app-hero-subtitle {
          font-size: clamp(1.1rem, 2.5vw, 1.4rem);
          color: var(--subtxt);
          line-height: 1.7;
          margin-bottom: 2.5rem;
          max-width: 700px;
          margin-left: auto;
          margin-right: auto;
        }

        /* App Buttons */
        .app-buttons {
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 1.5rem;
          flex-wrap: wrap;
          margin-top: 2rem;
        }

        .app-store-badge {
          height: 56px;
          width: auto;
          transition: transform 0.3s ease, filter 0.3s ease;
          filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.3));
        }

        .app-store-badge:hover {
          transform: translateY(-4px);
          filter: drop-shadow(0 8px 20px rgba(0, 0, 0, 0.4));
        }

        .telemetry-btn {
          background: linear-gradient(135deg, var(--accent) 0%, #c41920 100%);
          color: #fff;
          font-family: 'Bebas Neue', sans-serif;
          font-size: 1.2rem;
          font-weight: bold;
          letter-spacing: 2px;
          padding: 1.1rem 2.5rem;
          display: flex;
          align-items: center;
          gap: 0.8rem;
          border: none;
          border-radius: 10px;
          box-shadow: 0 4px 20px rgba(227, 27, 35, 0.4);
          cursor: pointer;
          transition: all 0.3s ease;
          text-transform: uppercase;
          text-decoration: none;
        }

        .telemetry-btn:hover {
          transform: translateY(-4px);
          box-shadow: 0 8px 30px rgba(227, 27, 35, 0.6);
          background: linear-gradient(135deg, #ff2831 0%, #e31b23 100%);
        }

        .telemetry-btn:active {
          transform: translateY(-2px);
        }

        /* Features Section */
        .features-section {
          margin: 4rem 0;
        }

        .features-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 2rem;
          margin-top: 3rem;
        }

        .feature-card {
          background: linear-gradient(135deg, #1a1a1a 0%, #141414 100%);
          border-radius: var(--radius);
          padding: 2rem;
          text-align: center;
          transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
          border: 1px solid transparent;
          position: relative;
          overflow: hidden;
        }

        .feature-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg, rgba(227, 27, 35, 0.1) 0%, transparent 100%);
          opacity: 0;
          transition: opacity 0.4s ease;
        }

        .feature-card:hover {
          transform: translateY(-8px);
          border-color: rgba(227, 27, 35, 0.3);
          box-shadow: 0 12px 40px rgba(227, 27, 35, 0.2);
        }

        .feature-card:hover::before {
          opacity: 1;
        }

        .feature-icon {
          font-size: 3rem;
          color: var(--accent);
          margin-bottom: 1rem;
          position: relative;
          z-index: 1;
          display: inline-block;
          transition: transform 0.4s ease;
        }

        .feature-card:hover .feature-icon {
          transform: scale(1.1) rotateY(360deg);
        }

        .feature-card h3 {
          font-family: 'Bebas Neue', sans-serif;
          font-size: 1.6rem;
          color: var(--accent);
          margin: 1rem 0 0.8rem;
          letter-spacing: 0.05em;
          position: relative;
          z-index: 1;
        }

        .feature-card p {
          font-size: 1rem;
          color: var(--subtxt);
          line-height: 1.6;
          position: relative;
          z-index: 1;
        }

        /* Section Titles */
        .section-title {
          font-family: 'Bebas Neue', sans-serif;
          font-size: clamp(2.5rem, 6vw, 3.5rem);
          text-align: center;
          color: var(--text);
          margin-bottom: 1rem;
          letter-spacing: 0.06em;
        }

        .section-subtitle {
          text-align: center;
          color: var(--subtxt);
          font-size: 1.15rem;
          max-width: 700px;
          margin: 0 auto 2rem;
          line-height: 1.6;
        }

        /* Screenshots Grid */
        .screenshots-section {
          margin: 4rem 0;
        }

        .screenshots-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 2.5rem;
          margin-top: 3rem;
        }

        .screenshot-card {
          border-radius: 12px;
          overflow: hidden;
          background: #1a1a1a;
          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
        }

        .screenshot-card img {
          width: 100%;
          height: auto;
          display: block;
        }

        /* Privacy Link */
        .privacy-link {
          text-align: center;
          margin: 4rem 0 2rem;
          font-size: 1rem;
        }

        .privacy-link a {
          color: var(--accent);
          text-decoration: none;
          opacity: 0.8;
          transition: all 0.3s ease;
          padding: 0.5rem 1rem;
          border-radius: 6px;
        }

        .privacy-link a:hover {
          opacity: 1;
          background: rgba(227, 27, 35, 0.1);
        }

        /* Responsive Design */
        @media (max-width: 968px) {
          .app-hero {
            padding: 3rem 1.5rem;
          }

          .features-grid {
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.5rem;
          }

          .screenshots-grid {
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
          }
        }

        @media (max-width: 768px) {
          .app-buttons {
            flex-direction: column;
            gap: 1.2rem;
          }

          .features-grid {
            grid-template-columns: 1fr;
          }

          .screenshots-grid {
            grid-template-columns: 1fr;
            gap: 1.5rem;
          }
        }

        @media (max-width: 480px) {
          .app-hero {
            padding: 2.5rem 1rem;
          }

          .feature-card {
            padding: 1.5rem;
          }
        }
      `}),o.jsx("div",{className:"app-hero",children:o.jsxs("div",{className:"app-hero-content",children:[o.jsx("h1",{children:"SolarPack App"}),o.jsx("p",{className:"app-hero-subtitle",children:"Experience real-time vehicle telemetry, comprehensive system monitoring, and cutting-edge solar data visualization. Built for performance, designed for insight."}),o.jsxs("div",{className:"app-buttons",children:[o.jsx("a",{href:"https://apps.apple.com/us/app/solarpack/id6748289347","aria-label":"Download on the App Store",children:o.jsx("img",{src:"/images/app_store.png",alt:"Download on the App Store",className:"app-store-badge"})}),o.jsxs("a",{href:"https://solarpack-app-server-alyv.onrender.com/#",target:"_blank",rel:"noopener noreferrer",className:"telemetry-btn",children:[o.jsx("i",{className:"fas fa-satellite-dish"}),"VIEW LIVE TELEMETRY"]})]})]})}),o.jsx("section",{className:"features-section",children:o.jsxs("div",{className:"features-grid",children:[o.jsxs("div",{className:"feature-card",children:[o.jsx("i",{className:"fas fa-tachometer-alt feature-icon"}),o.jsx("h3",{children:"Real-Time Data"}),o.jsx("p",{children:"Monitor vehicle speed, RPM, current draw, and battery metrics with live-updating gauges and visualizations."})]}),o.jsxs("div",{className:"feature-card",children:[o.jsx("i",{className:"fas fa-solar-panel feature-icon"}),o.jsx("h3",{children:"Solar Monitoring"}),o.jsx("p",{children:"Track solar voltage, power output, and charging status with dedicated solar system analytics."})]}),o.jsxs("div",{className:"feature-card",children:[o.jsx("i",{className:"fas fa-battery-full feature-icon"}),o.jsx("h3",{children:"Battery Management"}),o.jsx("p",{children:"Cell-level voltage and temperature monitoring with a comprehensive 100-cell grid display and fault detection."})]}),o.jsxs("div",{className:"feature-card",children:[o.jsx("i",{className:"fas fa-microchip feature-icon"}),o.jsx("h3",{children:"System Health"}),o.jsx("p",{children:"Complete board health monitoring with status indicators for all auxiliary systems and ignition control."})]}),o.jsxs("div",{className:"feature-card",children:[o.jsx("i",{className:"fas fa-chart-line feature-icon"}),o.jsx("h3",{children:"Analytics"}),o.jsx("p",{children:"Rolling line charts and historical data visualization for charge rates and performance metrics."})]}),o.jsxs("div",{className:"feature-card",children:[o.jsx("i",{className:"fas fa-cog feature-icon"}),o.jsx("h3",{children:"Motor Control"}),o.jsx("p",{children:"Monitor motor and controller temperatures, voltages, and cooling system status with precision gauges."})]})]})}),o.jsx("section",{className:"screenshots-section",children:o.jsx("div",{className:"screenshots-grid",children:Object.entries(t).map(([e,r])=>o.jsx("div",{className:"screenshot-card",children:o.jsx("img",{src:r.image,alt:r.title})},e))})}),o.jsx("div",{className:"privacy-link",children:o.jsx("a",{href:"/privacy-policy",children:"Privacy & Data Policy"})})]})},qI=()=>{const[t,e]=X.useState([]),[r,n]=X.useState(!0),[s,i]=X.useState(null);X.useEffect(()=>{document.title="SolarPack  Alumni",a()},[]);const a=async()=>{try{const c=await Ve.getAlumni();e(c.alumniData||[]),console.log(" Loaded alumni data from Supabase:",c.alumniData.length,"semesters")}catch(c){console.error("Error loading alumni data from Supabase:",c),i(c.message),e([])}finally{n(!1)}},A=[],l=[];for(let c=0;c<t.length;c+=2){const u=t[c],h=t[c+1];u&&A.push(u),h&&l.push(h)}return r?o.jsx("div",{style:{textAlign:"center",padding:"4rem",color:"var(--subtxt)"},children:"Loading alumni data..."}):s?o.jsxs("div",{style:{textAlign:"center",padding:"4rem",color:"#dc3545"},children:["Error loading alumni data: ",s]}):o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        /* Page-specific styles */
        h1 { 
          font-family: "Bebas Neue", sans-serif; 
          font-size: clamp(2.5rem, 7vw, 4.5rem); 
          letter-spacing: 0.04em; 
          margin: 2.5rem 0 0.5rem; 
          text-align: center; 
        }
        
        .alumni-grid { 
          display: grid; 
          grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); 
          gap: 2rem; 
          max-width: 900px; 
          margin: 2.5rem auto 0; 
        }
        
        .alumni-card { 
          background: var(--card); 
          border-radius: var(--radius); 
          box-shadow: 0 1px 6px #0003; 
          padding: 2rem 1.2rem 1.2rem; 
          text-align: center; 
        }
        
        .alumni-img { 
          width: 90px; 
          height: 90px; 
          border-radius: 50%; 
          background: #222; 
          object-fit: cover; 
          margin-bottom: 1rem; 
        }
        
        .alumni-name { 
          font-family: "Bebas Neue", sans-serif; 
          font-size: 1.5rem; 
          color: var(--accent); 
          margin-bottom: 0.2rem; 
        }
        
        .alumni-role { 
          color: var(--subtxt); 
          font-size: 1.1rem; 
          margin-bottom: 0.7rem; 
        }
        
        .alumni-socials a { 
          color: var(--accent); 
          margin: 0 0.4rem; 
          font-size: 1.2rem; 
        }
        
        .alumni-socials a:hover { 
          color: #fff; 
        }
        
        .alumni-by-year {
          max-width: 900px;
          margin: 2.5rem auto 0;
        }
        
        .alumni-columns {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 2.5rem;
        }
        
        /* Responsive alumni layout: 1 column if screen < 850px */
        @media (max-width: 850px) {
          .alumni-columns {
            grid-template-columns: 1fr;
            justify-items: center;
            gap: 1.5rem;
          }
          .alumni-by-year {
            padding: 0 1rem;
          }
        }
        
        .footer { 
          text-align: center; 
          color: #888; 
          font-size: 1rem; 
          margin: 3.5rem 0 1.5rem; 
        }

        .alumni-section {
          margin-bottom: 2.5rem;
        }

        .alumni-section h2 {
          color: var(--accent);
          font-family: 'Bebas Neue', sans-serif;
          font-size: 2rem;
          margin-bottom: 0.7rem;
        }

        .alumni-section ul {
          color: var(--subtxt);
          font-size: 1.13rem;
          line-height: 1.7;
          list-style: none;
          padding: 0;
        }

        .alumni-section li {
          margin-bottom: 0.3rem;
        }

        .alumni-section b {
          color: var(--text);
        }
      `}),o.jsx("h1",{children:"Alumni"}),o.jsx("div",{className:"alumni-grid"}),o.jsx("div",{className:"alumni-by-year",children:o.jsxs("div",{className:"alumni-columns",children:[o.jsx("div",{children:A.map((c,u)=>{var h;return o.jsxs("section",{className:"alumni-section",children:[o.jsx("h2",{children:c.semester}),o.jsx("ul",{children:(h=c.leadership)==null?void 0:h.map((p,d)=>o.jsxs("li",{children:[o.jsxs("b",{children:[p.role,":"]})," ",p.name]},d))})]},u)})}),o.jsx("div",{children:l.map((c,u)=>{var h;return o.jsxs("section",{className:"alumni-section",children:[o.jsx("h2",{children:c.semester}),o.jsx("ul",{children:(h=c.leadership)==null?void 0:h.map((p,d)=>o.jsxs("li",{children:[o.jsxs("b",{children:[p.role,":"]})," ",p.name]},d))})]},u)})})]})})]})},JI=()=>{const[t,e]=X.useState([]),[r,n]=X.useState(!0),[s,i]=X.useState(null);X.useEffect(()=>{a()},[]);const a=async()=>{n(!0);try{const u=await Ve.getPublishedBlogs();e(u||[])}catch(u){console.error("Error loading blogs:",u),e([])}finally{n(!1)}},A=u=>{i(u),window.scrollTo({top:0,behavior:"smooth"})},l=()=>{i(null)},c=(u,h=150)=>{if(!u)return"";const p=document.createElement("div");p.innerHTML=u;const d=p.textContent||p.innerText||"";return d.length<=h?d:d.substring(0,h).trim()+"..."};return r?o.jsx("div",{className:"blogs-page",children:o.jsx("div",{className:"blogs-container",children:o.jsx("div",{className:"loading",children:"Loading blog posts..."})})}):o.jsxs("div",{className:"blogs-page",children:[o.jsx("style",{children:`
        .blogs-page {
          min-height: 100vh;
          background: var(--bg);
          padding: 2rem 1rem;
        }

        .blogs-container {
          max-width: 1200px;
          margin: 0 auto;
        }

        .blogs-header {
          text-align: center;
          margin-bottom: 3rem;
        }

        .blogs-title {
          font-family: "Bebas Neue", sans-serif;
          font-size: clamp(2.5rem, 7vw, 4.5rem);
          letter-spacing: 0.04em;
          margin: 2.5rem 0 0.5rem;
          text-align: center;
        }

        .blogs-subtitle {
          color: var(--subtxt);
          font-size: 1.2rem;
        }

        .blogs-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
          gap: 2rem;
          margin-bottom: 3rem;
        }

        .blog-card {
          background: var(--surface);
          border-radius: var(--radius);
          overflow: hidden;
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          transition: transform 0.3s ease, box-shadow 0.3s ease;
          cursor: pointer;
          display: flex;
          flex-direction: column;
        }

        .blog-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 8px 24px rgba(0,0,0,0.25);
        }

        .blog-card-image {
          width: 100%;
          height: 200px;
          object-fit: cover;
          background: rgba(255, 255, 255, 0.05);
        }

        .blog-card-content {
          padding: 1.5rem;
          flex: 1;
          display: flex;
          flex-direction: column;
        }

        .blog-card-title {
          font-size: 1.5rem;
          font-weight: 600;
          color: var(--text);
          margin-bottom: 0.75rem;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }

        .blog-card-meta {
          display: flex;
          gap: 1rem;
          color: var(--subtxt);
          font-size: 0.9rem;
          margin-bottom: 1rem;
        }

        .blog-card-author {
          font-weight: 500;
        }

        .blog-card-date {
          opacity: 0.8;
        }

        .blog-card-excerpt {
          color: var(--text);
          line-height: 1.6;
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;
          overflow: hidden;
          margin-bottom: 1rem;
          flex: 1;
        }

        .blog-card-read-more {
          color: var(--accent);
          font-weight: 600;
          text-decoration: none;
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          transition: gap 0.3s ease;
        }

        .blog-card:hover .blog-card-read-more {
          gap: 0.75rem;
        }

        /* Full Blog Modal */
        .blog-modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.85);
          display: flex;
          align-items: flex-start;
          justify-content: center;
          z-index: 1000;
          padding: 2rem 1rem;
          overflow-y: auto;
        }

        .blog-modal {
          background: var(--surface);
          border-radius: var(--radius);
          max-width: 900px;
          width: 100%;
          margin: 2rem auto;
          box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .blog-modal-header {
          position: relative;
        }

        .blog-modal-close {
          position: absolute;
          top: 1rem;
          right: 1rem;
          background: rgba(0, 0, 0, 0.6);
          border: none;
          color: white;
          font-size: 2rem;
          width: 3rem;
          height: 3rem;
          border-radius: 50%;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: background 0.3s ease;
          z-index: 10;
        }

        .blog-modal-close:hover {
          background: rgba(0, 0, 0, 0.8);
        }

        .blog-modal-image {
          width: 100%;
          height: 400px;
          object-fit: cover;
          background: rgba(255, 255, 255, 0.05);
        }

        .blog-modal-content {
          padding: 2rem;
        }

        .blog-modal-title {
          font-family: "Bebas Neue", sans-serif;
          font-size: 2.5rem;
          color: var(--accent);
          margin: 0 0 1rem 0;
          line-height: 1.2;
        }

        .blog-modal-meta {
          display: flex;
          gap: 1.5rem;
          color: var(--subtxt);
          font-size: 1rem;
          margin-bottom: 2rem;
          padding-bottom: 1rem;
          border-bottom: 2px solid #333;
        }

        .blog-modal-author {
          font-weight: 600;
        }

        .blog-modal-date {
          opacity: 0.8;
        }

        .blog-modal-body {
          color: var(--text);
          line-height: 1.8;
          font-size: 1.1rem;
        }

        .blog-modal-body h1,
        .blog-modal-body h2,
        .blog-modal-body h3,
        .blog-modal-body h4,
        .blog-modal-body h5,
        .blog-modal-body h6 {
          color: var(--text);
          margin: 2rem 0 1rem 0;
          line-height: 1.3;
        }

        .blog-modal-body h1 {
          font-size: 2rem;
          border-bottom: 2px solid var(--accent);
          padding-bottom: 0.5rem;
        }

        .blog-modal-body h2 {
          font-size: 1.75rem;
        }

        .blog-modal-body h3 {
          font-size: 1.5rem;
        }

        .blog-modal-body h4 {
          font-size: 1.25rem;
        }

        .blog-modal-body p {
          margin-bottom: 1.5rem;
        }

        .blog-modal-body img {
          max-width: 100%;
          height: auto;
          border-radius: 8px;
          margin: 1.5rem 0;
          box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .blog-modal-body ul,
        .blog-modal-body ol {
          margin: 1rem 0 1.5rem 0;
          padding-left: 2rem;
        }

        .blog-modal-body li {
          margin-bottom: 0.5rem;
        }

        .blog-modal-body blockquote {
          border-left: 4px solid var(--accent);
          padding-left: 1.5rem;
          margin: 1.5rem 0;
          color: var(--subtxt);
          font-style: italic;
          background: rgba(227, 23, 23, 0.05);
          padding: 1rem 1.5rem;
          border-radius: 0 8px 8px 0;
        }

        .blog-modal-body code {
          background: #2d2d2d;
          padding: 0.2rem 0.4rem;
          border-radius: 4px;
          font-family: 'Courier New', monospace;
          font-size: 0.9em;
          color: #f8f8f2;
        }

        .blog-modal-body pre {
          background: #2d2d2d;
          padding: 1.5rem;
          border-radius: 8px;
          overflow-x: auto;
          margin: 1.5rem 0;
          border: 1px solid #444;
        }

        .blog-modal-body pre code {
          background: none;
          padding: 0;
        }

        .blog-modal-body table {
          width: 100%;
          border-collapse: collapse;
          margin: 1.5rem 0;
          background: var(--bg);
        }

        .blog-modal-body th,
        .blog-modal-body td {
          padding: 0.75rem;
          border: 1px solid #444;
          text-align: left;
        }

        .blog-modal-body th {
          background: rgba(227, 23, 23, 0.1);
          font-weight: 600;
        }

        .blog-modal-body a {
          color: var(--accent);
          text-decoration: none;
          border-bottom: 1px solid transparent;
          transition: border-color 0.3s ease;
        }

        .blog-modal-body a:hover {
          border-bottom: 1px solid var(--accent);
        }

        .blog-modal-body strong {
          font-weight: 700;
          color: var(--text);
        }

        .blog-modal-body em {
          font-style: italic;
          color: var(--subtxt);
        }

        .blog-link-button {
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          background: var(--accent);
          color: white;
          padding: 0.75rem 1.5rem;
          border-radius: 6px;
          text-decoration: none;
          font-weight: 600;
          margin-bottom: 2rem;
          transition: all 0.3s ease;
          border: none;
          cursor: pointer;
        }

        .blog-link-button:hover {
          background: #c71821;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(227, 23, 23, 0.3);
        }

        .blog-link-button:active {
          transform: translateY(0);
        }

        .loading {
          text-align: center;
          padding: 4rem 1rem;
          color: var(--subtxt);
          font-size: 1.2rem;
        }

        .empty-state {
          text-align: center;
          padding: 4rem 1rem;
          color: var(--subtxt);
        }

        .empty-state h3 {
          font-size: 2rem;
          color: var(--text);
          margin-bottom: 1rem;
        }

        .empty-state p {
          font-size: 1.1rem;
        }

        @media (max-width: 768px) {
          .blogs-grid {
            grid-template-columns: 1fr;
            gap: 1.5rem;
          }

          .blog-modal {
            margin: 0;
            border-radius: 0;
            min-height: 100vh;
          }

          .blog-modal-image {
            height: 250px;
          }

          .blog-modal-content {
            padding: 1.5rem;
          }

          .blog-modal-title {
            font-size: 2rem;
          }

          .blog-modal-body {
            font-size: 1rem;
          }

          .blog-modal-body h1 {
            font-size: 1.75rem;
          }

          .blog-modal-body h2 {
            font-size: 1.5rem;
          }

          .blog-modal-body h3 {
            font-size: 1.25rem;
          }
        }
      `}),o.jsxs("div",{className:"blogs-container",children:[o.jsxs("div",{className:"blogs-header",children:[o.jsx("h1",{className:"blogs-title",children:"Blog"}),o.jsx("p",{className:"blogs-subtitle",children:"Latest updates and stories from the NC State SolarPack team"})]}),t.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("h3",{children:"No blog posts yet"}),o.jsx("p",{children:"Check back soon for updates from our team!"})]}):o.jsx("div",{className:"blogs-grid",children:t.map(u=>o.jsxs("div",{className:"blog-card",onClick:()=>A(u),children:[u.image_url&&o.jsx("img",{src:u.image_url,alt:u.title,className:"blog-card-image"}),o.jsxs("div",{className:"blog-card-content",children:[o.jsx("h2",{className:"blog-card-title",children:u.title}),o.jsxs("div",{className:"blog-card-meta",children:[o.jsxs("span",{className:"blog-card-author",children:["By ",u.author]}),o.jsx("span",{className:"blog-card-date",children:new Date(u.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),o.jsx("div",{className:"blog-card-excerpt",dangerouslySetInnerHTML:{__html:c(u.body)||"No content available..."}}),o.jsx("span",{className:"blog-card-read-more",children:"Read More "})]})]},u.id))})]}),s&&o.jsx("div",{className:"blog-modal-overlay",onClick:l,children:o.jsxs("div",{className:"blog-modal",onClick:u=>u.stopPropagation(),children:[o.jsxs("div",{className:"blog-modal-header",children:[o.jsx("button",{className:"blog-modal-close",onClick:l,children:""}),s.image_url&&o.jsx("img",{src:s.image_url,alt:s.title,className:"blog-modal-image"})]}),o.jsxs("div",{className:"blog-modal-content",children:[o.jsx("h1",{className:"blog-modal-title",children:s.title}),o.jsxs("div",{className:"blog-modal-meta",children:[o.jsxs("span",{className:"blog-modal-author",children:["By ",s.author]}),o.jsx("span",{className:"blog-modal-date",children:new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),s.link_url&&o.jsxs("a",{href:s.link_url,target:"_blank",rel:"noopener noreferrer",className:"blog-link-button",children:[s.link_text||"Read More"," "]}),o.jsx("div",{className:"blog-modal-body",dangerouslySetInnerHTML:{__html:s.body}})]})]})})]})},XI=()=>(X.useEffect(()=>{document.title="SolarPack  Contact"},[]),o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        /* Page-specific styles */
        h1 { 
          font-family: "Bebas Neue", sans-serif; 
          font-size: clamp(2.5rem, 7vw, 4.5rem); 
          letter-spacing: 0.04em; 
          margin: 2.5rem 0 0.5rem; 
          text-align: center; 
        }
        
        .contact-section { 
          background: var(--card); 
          border-radius: var(--radius); 
          box-shadow: 0 1px 6px #0003; 
          padding: 2.5rem 1.5rem; 
          max-width: 600px; 
          margin: 2.5rem auto 0; 
          text-align: center; 
        }
        
        .contact-info { 
          color: var(--subtxt); 
          font-size: 1.1rem; 
          margin-bottom: 1.5rem; 
        }
        
        .contact-socials a { 
          color: var(--accent); 
          margin: 0 0.5rem; 
          font-size: 1.5rem; 
        }
        
        .contact-socials a:hover { 
          color: #fff; 
        }
        
        .footer { 
          text-align: center; 
          color: #888; 
          font-size: 1rem; 
          margin: 3.5rem 0 1.5rem; 
        }
        
        .contact-info a[href^="mailto"] { 
          color: var(--accent); 
          text-decoration: underline; 
        }
        
        .contact-info a[href^="mailto"]:hover { 
          color: #fff; 
        }
      `}),o.jsx("h1",{children:"Contact Us"}),o.jsxs("div",{className:"contact-section",children:[o.jsxs("div",{className:"contact-info",children:[o.jsxs("p",{children:["Email us at ",o.jsx("a",{href:"mailto:solarpacknc@ncsu.edu",children:"solarpacknc@ncsu.edu"})]}),o.jsx("p",{children:"Or reach out on our socials below!"})]}),o.jsxs("div",{className:"contact-socials",children:[o.jsx("a",{href:"https://www.instagram.com/solarpacknc/",title:"Instagram",target:"_blank",rel:"noopener",children:o.jsx("i",{className:"fab fa-instagram"})}),o.jsx("a",{href:"https://www.linkedin.com/company/solarpack-nc-state/",title:"LinkedIn",target:"_blank",rel:"noopener",children:o.jsx("i",{className:"fab fa-linkedin"})}),o.jsx("a",{href:"https://www.facebook.com/SolarPackNC/",title:"Facebook",target:"_blank",rel:"noopener",children:o.jsx("i",{className:"fab fa-facebook"})})]})]})]})),YI=()=>{const[t,e]=X.useState(null),[r,n]=X.useState(""),[s,i]=X.useState(!1);X.useEffect(()=>{document.title="SolarPack  Donate"},[]);const a=[5,50,100,200],A=u=>{e(u),n(u.toString()),i(!0)},l=u=>{const h=u.target.value;n(h),h&&parseFloat(h)>=1?(e(parseFloat(h)),i(!0)):i(!1)},c=()=>{t&&t>=1&&window.open("https://www.paypal.com/fundraiser/charity/3728956","_blank")};return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        /* Page-specific styles */
        h1 { 
          font-family: "Bebas Neue", sans-serif; 
          font-size: clamp(2.5rem, 7vw, 4.5rem); 
          letter-spacing: 0.04em; 
          margin: 2.5rem 0 0.5rem; 
          text-align: center; 
        }
        
        .donate-section { 
          background: var(--card); 
          border-radius: var(--radius); 
          box-shadow: 0 1px 6px #0003; 
          padding: 2.5rem 1.5rem; 
          max-width: 600px; 
          margin: 2.5rem auto 0; 
          text-align: center; 
        }
        
        .donate-btn { 
          display: inline-block; 
          background: var(--accent); 
          color: #fff; 
          font-size: 1.2rem; 
          font-weight: 600; 
          padding: 0.9rem 2.2rem; 
          border: none; 
          border-radius: var(--radius); 
          margin-top: 1.5rem; 
          cursor: pointer; 
          transition: background 0.15s; 
          text-decoration: none; 
        }
        
        .donate-btn:hover { 
          background: #b71c1c; 
        }

        .footer { 
          text-align: center; 
          color: #888; 
          font-size: 1rem; 
          margin: 3.5rem 0 1.5rem; 
        }

        .donation-choices-group {
          display: flex;
          gap: 0.7rem;
          align-items: center;
          justify-content: center;
          margin-top: 0.5rem;
          flex-wrap: wrap;
        }
        
        .donation-choice {
          background: var(--accent);
          color: #fff;
          border: none;
          border-radius: 8px;
          font-size: 1.08rem;
          font-weight: 600;
          padding: 0.6rem 1.3rem;
          cursor: pointer;
          transition: background 0.18s, box-shadow 0.18s;
          box-shadow: 0 1px 4px #0002;
          outline: none;
        }
        
        .donation-choice.active, .donation-choice:focus {
          background: #b71c1c;
          box-shadow: 0 2px 8px #0003;
        }
        
        .donation-choice:hover {
          background: #c0392b;
        }
        
        #donation-amount {
          border: 1.5px solid var(--accent);
          border-radius: 8px;
          padding: 0.6rem 1rem;
          font-size: 1.08rem;
          width: 160px;
          margin-left: 0.7rem;
          transition: border-color 0.18s;
          background: var(--surface);
          color: var(--text);
        }
        
        #donation-amount:focus {
          border-color: #b71c1c;
          outline: none;
        }
        
        .selected-amount-display {
          font-size: 1.7rem;
          font-weight: 700;
          color: var(--accent);
          margin: 1.2rem auto 0.7rem auto;
          text-align: center;
          letter-spacing: 0.02em;
        }

        .donate-note { 
          margin-top: 1.5rem; 
          color: var(--subtxt); 
          font-size: 0.82rem; 
          line-height: 1.4; 
        }

        .donation-uses {
          text-align: left;
          max-width: 420px;
          margin: 1.5rem auto;
          color: var(--subtxt);
          font-size: 1.08rem;
          line-height: 1.7;
        }

        .donation-uses li {
          margin-bottom: 0.5rem;
        }

        .donation-uses b {
          color: var(--text);
        }
      `}),o.jsx("h1",{children:"Support Our Mission"}),o.jsxs("div",{className:"donate-section",children:[o.jsx("p",{children:"Your donation helps us build, innovate, and compete in solar car challenges. Every contribution makes a difference!"}),o.jsxs("form",{style:{margin:"2rem 0"},children:[o.jsxs("div",{style:{marginBottom:"1.2rem"},children:[o.jsx("label",{htmlFor:"donation-amount",style:{fontWeight:"600",marginBottom:"0.7rem",display:"block"},children:"Choose an amount:"}),o.jsxs("div",{className:"donation-choices-group",children:[a.map(u=>o.jsxs("button",{type:"button",className:`donation-choice ${t===u?"active":""}`,onClick:()=>A(u),children:["$",u]},u)),o.jsx("input",{type:"number",min:"1",step:"1",id:"donation-amount",placeholder:"Custom amount",value:r,onChange:l})]})]}),s&&t&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"selected-amount-display",children:["You are donating: $",parseFloat(t).toFixed(2)]}),o.jsxs("button",{type:"button",className:"donate-btn",onClick:c,children:[o.jsx("i",{className:"fab fa-paypal",style:{marginRight:"0.5rem"}}),"Donate with PayPal"]})]})]}),o.jsxs("ul",{className:"donation-uses",children:[o.jsxs("li",{children:[o.jsx("b",{children:"Aeroshell Construction:"})," The largest portion of your donation will go directly toward building our new carbon fiber aeroshell, which is essential for our car's performance and efficiency."]}),o.jsxs("li",{children:[o.jsx("b",{children:"Regulatory Components:"})," We need to purchase fasteners, wires, and other small accessories to meet strict race regulationsincluding the battery box, ballast boxes, and other required safety features."]}),o.jsxs("li",{children:[o.jsx("b",{children:"2026 Race Preparation:"})," Your support helps us meet all technical and safety requirements so we can compete in the 2026 solar car race and represent NC State on a national stage."]})]}),o.jsx("p",{className:"donate-note",children:"We are a 501(c)(3) charitable organization, EIN: 81-4817863. All the contributions are tax deductible. No goods or services will be provided for the contribution."})]})]})},ZI=`
.privacy-container {
  max-width: 700px;
  margin: 0 auto;
  padding: 3rem 1.2rem 5rem;
  min-height: 60vh;
}

.privacy-container h1 {
  font-family: "Bebas Neue", sans-serif;
  font-size: clamp(2.5rem, 6vw, 4rem);
  letter-spacing: 0.04em;
  margin: 0 0 0.4rem;
  text-align: center;
  color: var(--txt);
}

.effective-date {
  color: var(--subtxt);
  text-align: center;
  font-size: 1.05rem;
  margin-bottom: 2.5rem;
}

/* Accordion blocks */
.policy-section {
  margin-bottom: 1.2rem;
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.2);
  overflow: hidden;
}

.policy-toggle {
  all: unset;
  display: flex;
  align-items: center;
  width: 100%;
  cursor: pointer;
  padding: 1.1rem 1.2rem;
  font-size: 1.15rem;
  font-weight: 600;
  color: var(--txt);
  transition: background 0.15s;
}

.policy-toggle:hover {
  background: #222;
}

.chevron {
  font-size: 1.9rem;
  line-height: 0;
  margin-right: 0.4rem;
  color: var(--accent);
  transition: transform 0.28s cubic-bezier(.4,2,.6,1);
}

.policy-content {
  padding: 1.15rem 2.2rem 1.2rem 2.7rem;
  font-size: 1.05rem;
  line-height: 1.7;
  color: var(--subtxt);
  overflow: hidden;
  max-height: 0;
  opacity: 0;
  transition: max-height 0.35s cubic-bezier(.4,2,.6,1), opacity 0.25s;
}

.policy-content.open {
  max-height: 2000px;   /* big enough to show any section */
  opacity: 1;
}

@media (max-width: 600px) {
  .policy-content {
    padding: 1rem 0.9rem 1.1rem 1.2rem;
  }
}

.policy-content ul {
  padding-left: 1.4rem;
  margin: 0.6rem 0 0;
}

.policy-content li + li { 
  margin-top: 0.55rem; 
}

.policy-content a {
  color: var(--accent);
  text-decoration: none;
}

.policy-content a:hover { 
  text-decoration: underline; 
}

.footer-note {
  color: #888;
  text-align: center;
  font-size: 0.95rem;
  margin-top: 2.2rem;
}
`,eQ=()=>{const[t,e]=X.useState({0:!0});X.useEffect(()=>{document.title="SolarPack  Privacy Policy"},[]);const r=s=>{e(i=>({...i,[s]:!i[s]}))},n=[{title:"Summary",content:o.jsxs("p",{children:["We collect a minimal set of data points ",o.jsx("strong",{children:"only"})," to make the app function and to help us understand and improve performance. We do",o.jsx("em",{children:" not"})," use your data for advertising, marketing, personalization, or tracking across other apps."]})},{title:"Data We Collect",content:o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Precise Location"}),"  Enables GPS-based features such as lap timing and detailed telemetry."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Coarse Location"}),"  Provides general region information (e.g., for Bluetooth proximity) when precise GPS is unnecessary."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Device ID"}),"  Helps differentiate hardware models and debug device-specific issues."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Product Interaction"}),"  Anonymous aggregate data on how you navigate the app (e.g., tab switches) to improve user experience."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Crash Data"}),"  Automatic crash reports allow us to diagnose bugs and improve stability."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Performance Data"}),"  Metrics like launch time and connection latency help us monitor and optimize performance."]})]})},{title:"Data We Don't Collect",content:o.jsxs("ul",{children:[o.jsx("li",{children:"Contact information (name, email, phone, address)"}),o.jsx("li",{children:"User-generated content (photos, messages, files)"}),o.jsx("li",{children:"Payment or financial details"}),o.jsx("li",{children:"Advertising identifiers or usage for ad targeting"}),o.jsx("li",{children:"Health, biometric, or other sensitive personal data"})]})},{title:"Tracking",content:o.jsxs("p",{children:["Our app ",o.jsx("strong",{children:"does not"})," use any data for cross-app or cross-company tracking as defined by Apple. No data is shared with data brokers or ad networks."]})},{title:"Third-Party Services",content:o.jsx("p",{children:"We use trusted third-party services (e.g., Firebase) solely for analytics, crash reporting, and cloud data storage. Each provider is contractually bound to process data only on our behalf and not for their own marketing or advertising."})},{title:"Data Retention",content:o.jsx("p",{children:"Telemetry and analytics data are stored for the shortest duration necessary to fulfill the purposes outlined above, after which they are either deleted or fully anonymized."})},{title:"Contact Us",content:o.jsxs("p",{children:["Questions? Open an issue on"," ",o.jsx("a",{href:"https://github.com/NCSU-Solarpack",target:"_blank",rel:"noopener noreferrer",children:"GitHub"})," ","or email us at"," ",o.jsx("a",{href:"mailto:solarpacknc@ncsu.edu",children:"solarpacknc@ncsu.edu"}),"."]})}];return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:ZI}),o.jsxs("div",{className:"privacy-container",children:[o.jsx("h1",{children:"SOLARPACK Privacy & Data"}),o.jsxs("div",{className:"effective-date",children:[o.jsx("strong",{children:"Effective Date:"})," July8, 2025"]}),o.jsx("div",{id:"policy",children:n.map((s,i)=>o.jsxs("div",{className:"policy-section",children:[o.jsxs("button",{className:"policy-toggle",onClick:()=>r(i),children:[o.jsx("span",{className:"chevron",style:{transform:t[i]?"rotate(90deg)":"rotate(0deg)"},children:""}),s.title.includes("Don't")?o.jsxs(o.Fragment,{children:["Data We ",o.jsx("em",{children:"Don't"})," Collect"]}):s.title]}),o.jsx("div",{className:`policy-content ${t[i]?"open":""}`,children:s.content})]},i))}),o.jsx("div",{className:"footer-note",children:" End of Policy "})]})]})},tQ=()=>{const[t,e]=X.useState([]),[r,n]=X.useState(!0);return X.useEffect(()=>{document.title="SolarPack  Sponsors",(async()=>{try{const i=await Ve.getSponsors();e(i.sponsorTiers||[])}catch(i){console.error("Error loading sponsors from Supabase",i),e([])}finally{n(!1)}})()},[]),o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        body {
          font-family: 'DM Sans', sans-serif;
          background: #0e0e0e;
          color: #fff;
        }
        
        main {
          max-width: 1000px;
          margin: 0 auto;
          padding: 2rem 1rem;
        }
        
        h1 {
          font-family: 'Bebas Neue', sans-serif;
          font-size: clamp(2.5rem, 7vw, 4.5rem);
          letter-spacing: 0.04em;
          margin: 2.5rem 0 0.5rem;
          text-align: center;
        }
        
        .tier {
          margin-bottom: 2.5rem;
        }
        
        .tier h2 {
          font-family: 'Bebas Neue', sans-serif;
          font-size: 2rem;
          color: #e53935;
          text-align: left;
          margin-bottom: 1rem;
        }
        
        .sponsor-logos {
          display: flex;
          flex-wrap: wrap;
          gap: 2rem;
          justify-content: left;
          align-items: center;
        }
        
        .sponsor-logos img {
          background: #222;
          border-radius: 10px;
          box-shadow: 0 2px 12px #0005;
          padding: 1.5rem;
          max-width: 320px;
          max-height: 180px;
          object-fit: contain;
        }
        
        .placeholder {
          color: #888;
          font-size: 1.1rem;
          padding: 2rem 0;
        }

        .sponsor-contact {
          text-align: center;
          color: #cecece;
          margin-top: 3rem;
        }

        .sponsor-contact a {
          color: #e53935;
          text-decoration: underline;
        }
      `}),o.jsxs("main",{children:[o.jsx("h1",{children:"Sponsors"}),t.map((s,i)=>o.jsxs("section",{className:"tier",children:[o.jsx("h2",{children:s.tier}),o.jsx("div",{className:"sponsor-logos",children:s.sponsors&&s.sponsors.length>0?s.sponsors.map((a,A)=>a.website?o.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",style:{cursor:"pointer"},children:o.jsx("img",{src:a.logo||a.image,alt:a.name,title:a.name})},A):o.jsx("img",{src:a.logo||a.image,alt:a.name,title:a.name},A)):o.jsx("span",{className:"placeholder",children:s.placeholder||`No ${s.tier.toLowerCase()} yet.`})})]},i)),o.jsxs("p",{className:"sponsor-contact",children:["Interested in sponsoring Fenrir or supporting our team?"," ",o.jsx("a",{href:"https://www.paypal.com/fundraiser/charity/3728956",target:"_blank",rel:"noopener",children:"Donate"})," ","or"," ",o.jsx("a",{href:"/contact",children:"Contact us"})," for more info!"]})]})]})},rQ=()=>{const[t,e]=X.useState([]),[r,n]=X.useState(!0),[s,i]=X.useState(null),[a,A]=X.useState(null),l=150;X.useEffect(()=>{document.title="SolarPack  Team",c()},[]);const c=async()=>{try{const m=((await Ve.getTeamMembers()).teamMembers||[]).sort((b,g)=>(b.order||0)-(g.order||0));e(m),console.log(" Loaded team data from Supabase:",m.length,"members")}catch(w){console.error("Error loading team data from Supabase:",w),i(w.message),e([])}finally{n(!1)}},u=w=>{A(w),document.body.style.overflow="hidden"},h=()=>{A(null),document.body.style.overflow=""},p=w=>!w||w.length<=l?w:w.substring(0,l)+"...",d=w=>w&&w.length>l;return r?o.jsx("div",{style:{textAlign:"center",padding:"4rem",color:"var(--subtxt)"},children:"Loading team data..."}):s?o.jsxs("div",{style:{textAlign:"center",padding:"4rem",color:"#dc3545"},children:["Error loading team data: ",s]}):o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        /* Page-specific styles */
        h1 { 
          font-family: "Bebas Neue", sans-serif; 
          font-size: clamp(2.5rem, 7vw, 4.5rem); 
          letter-spacing: 0.04em; 
          margin: 2.5rem 0 0.5rem; 
          text-align: center; 
        }
        
        .team-grid { 
          display: grid; 
          grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); 
          gap: 2rem; 
          max-width: 900px; 
          margin: 2.5rem auto 0; 
        }
        
        .member-card { 
          background: var(--surface); 
          border-radius: var(--radius); 
          box-shadow: 0 4px 24px #0006; 
          padding: 2rem 1.2rem 1.2rem; 
          text-align: center; 
        }
        
        .member-img { 
          width: 90px; 
          height: 90px; 
          border-radius: 50%; 
          background: #222; 
          object-fit: cover; 
          margin-bottom: 1rem; 
        }
        
        .member-name { 
          font-family: "Bebas Neue", sans-serif; 
          font-size: 1.5rem; 
          color: var(--accent); 
          margin-bottom: 0.2rem; 
        }
        
        .member-role { 
          color: var(--subtxt); 
          font-size: 1.1rem; 
          margin-bottom: 0.7rem; 
        }
        
        .member-socials a { 
          color: var(--accent); 
          margin: 0 0.4rem; 
          font-size: 1.2rem; 
        }
        
        .member-socials a:hover { 
          color: #fff; 
        }
        
        .footer { 
          text-align: center; 
          color: #888; 
          font-size: 1rem; 
          margin: 3.5rem 0 1.5rem; 
        }

        .member-bio {
          color: var(--subtxt);
          font-size: 0.98rem;
          margin-bottom: 0.7rem;
          line-height: 1.5;
        }

        .read-more-btn {
          background: transparent;
          border: none;
          color: var(--accent);
          font-size: 0.95rem;
          cursor: pointer;
          padding: 0.35rem 0.6rem;
          margin-top: 0.5rem;
          text-transform: uppercase;
          letter-spacing: 0.08em;
          font-weight: 600;
          border-radius: 6px;
          display: inline-flex;
          align-items: center;
          gap: 0.4rem;
          transition: color 0.18s ease, background 0.18s ease, transform 0.12s ease;
        }

        .read-more-btn:hover {
          background: rgba(255,255,255,0.04);
          color: #fff;
          transform: translateY(-2px);
        }

        /* Modal Styles */
        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.85);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1000;
          padding: 2rem;
        }

        .modal-content {
          background: var(--surface);
          border-radius: var(--radius);
          max-width: 600px;
          width: 100%;
          max-height: 80vh;
          overflow-y: auto;
          position: relative;
          padding: 2.5rem;
          box-shadow: 0 8px 32px rgba(0,0,0,0.5);
        }

        .modal-header {
          display: flex;
          flex-direction: column;
          align-items: center;
          margin-bottom: 1.5rem;
        }

        .modal-img {
          width: 120px;
          height: 120px;
          border-radius: 50%;
          background: #222;
          object-fit: cover;
          margin-bottom: 1rem;
        }

        .modal-name {
          font-family: "Bebas Neue", sans-serif;
          font-size: 2rem;
          color: var(--accent);
          margin-bottom: 0.3rem;
        }

        .modal-role {
          color: var(--subtxt);
          font-size: 1.2rem;
          margin-bottom: 0.5rem;
        }

        .modal-bio {
          color: var(--text);
          font-size: 1rem;
          line-height: 1.7;
          margin-bottom: 1rem;
        }

        .member-contact {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          justify-content: center;
          margin-top: 0.5rem;
        }

        .contact-link {
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          color: var(--accent);
          text-decoration: none;
          font-weight: 600;
        }

        .contact-link svg { width: 18px; height: 18px; }

        .close-modal-btn {
          position: absolute;
          top: 1rem;
          right: 1rem;
          background: none;
          border: none;
          color: var(--text);
          font-size: 2rem;
          cursor: pointer;
          transition: color 0.3s ease;
          width: 40px;
          height: 40px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .close-modal-btn:hover {
          color: var(--accent);
        }

        @media (max-width: 768px) {
          .modal-overlay {
            padding: 1rem;
          }

          .modal-content {
            padding: 2rem 1.5rem;
          }

          .modal-name {
            font-size: 1.7rem;
          }
        }
      `}),o.jsx("h1",{children:"Meet the Team"}),t.length===0?o.jsxs("div",{style:{textAlign:"center",padding:"4rem",color:"var(--subtxt)"},children:[o.jsx("p",{children:"No team members found."}),o.jsx("p",{style:{fontSize:"0.9rem",marginTop:"1rem"},children:"Check the browser console for more details."})]}):o.jsx("div",{className:"team-grid",children:t.map((w,m)=>o.jsxs("div",{className:"member-card",children:[o.jsx("img",{src:w.image,alt:w.name,className:"member-img"}),o.jsx("div",{className:"member-name",children:w.name}),o.jsx("div",{className:"member-role",children:w.role}),o.jsx("p",{className:"member-bio",children:p(w.bio)}),d(w.bio)&&o.jsx("button",{className:"read-more-btn",onClick:()=>u(w),children:"Read More"})]},m))}),a&&o.jsx("div",{className:"modal-overlay",onClick:h,children:o.jsxs("div",{className:"modal-content",onClick:w=>w.stopPropagation(),children:[o.jsx("button",{className:"close-modal-btn",onClick:h,children:""}),o.jsxs("div",{className:"modal-header",children:[o.jsx("img",{src:a.image,alt:a.name,className:"modal-img"}),o.jsx("div",{className:"modal-name",children:a.name}),o.jsx("div",{className:"modal-role",children:a.role})]}),o.jsx("p",{className:"modal-bio",children:a.bio}),(a.user_email||a.email)&&o.jsx("div",{style:{display:"flex",justifyContent:"flex-start",marginTop:"1rem",paddingLeft:"0.25rem"},children:o.jsxs("a",{className:"contact-link",href:`mailto:${a.user_email||a.email}`,title:`Email ${a.name}`,children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M4 4h16v16H4z"}),o.jsx("polyline",{points:"22,6 12,13 2,6"})]}),o.jsx("span",{style:{marginLeft:"0.5rem"},children:a.user_email||a.email})]})})]})})]})},nQ=`
/* 404 Not Found Page Styles */
.not-found-container {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: calc(100vh - 128px);
  padding: 2rem 1rem;
  text-align: center;
}

.not-found-content {
  max-width: 500px;
  width: 100%;
}

.not-found-content h1 {
  font-family: "Bebas Neue", sans-serif;
  font-size: 2.5rem;
  color: var(--text);
  margin-bottom: 1rem;
  letter-spacing: 0.05em;
}

.error-code {
  font-family: "Bebas Neue", sans-serif;
  font-size: 4rem;
  color: var(--accent);
  margin-bottom: 1.5rem;
  letter-spacing: 0.1em;
}

.not-found-content p {
  color: var(--subtxt);
  font-size: 1rem;
  line-height: 1.6;
  margin-bottom: 2rem;
}

.error-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  flex-wrap: wrap;
}

.home-btn,
.contact-btn {
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  text-decoration: none;
  font-weight: 500;
  font-size: 0.9rem;
  transition: all var(--speed);
  border: 2px solid;
}

.home-btn {
  background: var(--accent);
  color: white;
  border-color: var(--accent);
}

.home-btn:hover {
  background: #c41820;
  border-color: #c41820;
}

.contact-btn {
  background: transparent;
  color: var(--text);
  border-color: var(--text);
}

.contact-btn:hover {
  background: var(--text);
  color: var(--bg);
}

/* Responsive Design */
@media (max-width: 768px) {
  .not-found-content h1 {
    font-size: 2rem;
  }

  .error-code {
    font-size: 3rem;
  }

  .error-actions {
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
  }

  .home-btn,
  .contact-btn {
    width: 100%;
    max-width: 200px;
  }
}
`,sQ=()=>(X.useEffect(()=>{document.title="Page Not Found - SolarPack"},[]),o.jsxs(o.Fragment,{children:[o.jsx("style",{children:nQ}),o.jsx("div",{className:"not-found-container",children:o.jsxs("div",{className:"not-found-content",children:[o.jsx("h1",{children:"Page Not Found"}),o.jsx("div",{className:"error-code",children:"404"}),o.jsx("p",{children:"The page you're looking for doesn't exist or may have been moved."}),o.jsxs("div",{className:"error-actions",children:[o.jsx(Sp,{to:"/",className:"home-btn",children:"Back to Home"}),o.jsx(Sp,{to:"/contact",className:"contact-btn",children:"Contact Us"})]})]})})]})),iQ="modulepreload",aQ=function(t){return"/"+t},vb={},Hf=function(e,r,n){if(!r||r.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=aQ(i),i in vb)return;vb[i]=!0;const a=i.endsWith(".css"),A=a?'[rel="stylesheet"]':"";if(!!n)for(let u=s.length-1;u>=0;u--){const h=s[u];if(h.href===i&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${A}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":iQ,a||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),a)return new Promise((u,h)=>{c.addEventListener("load",u),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},Vd=(t,e=2e3)=>{const[r,n]=X.useState("synced"),[s,i]=X.useState(null),a=X.useRef(null),A=X.useRef(null),l=X.useRef(null),c=X.useRef(!1),u=X.useRef(!0),h=g=>{if(!g)return null;const y=g.teamMembers||g.alumni||g.sponsors||g.schedules||g.orders||[],B=JSON.stringify(y);let _=0;for(let N=0;N<B.length;N++){const D=B.charCodeAt(N);_=(_<<5)-_+D,_=_&_}return console.log(" Hash calculated:",_,"for",y.length,"items"),_},p=async()=>{if(!c.current&&!u.current)try{const g=await t(),y=h(g);a.current=y,A.current===null?(console.log(" Initial load - displayed hash set:",y),A.current=y,n("synced"),i(new Date)):y!==A.current?(console.log(" Data mismatch! Displayed:",A.current,"Supabase:",y),r!=="new-data"&&(console.log(" New data detected from Supabase - notifying user"),n("new-data")),i(new Date)):(r!=="saving"&&r!=="new-data"&&n("synced"),i(new Date))}catch(g){console.error("Error checking for updates:",g),r!=="saving"&&r!=="new-data"&&n("synced")}};return X.useEffect(()=>(p(),l.current=setInterval(p,e),()=>{l.current&&clearInterval(l.current)}),[e]),{status:r,lastSync:s,startSaving:()=>{c.current=!0,n("saving")},finishSaving:async()=>{c.current=!1;try{const g=await t(),y=h(g);a.current=y,A.current=y,console.log(" Save complete - hashes updated to:",y),n("synced"),i(new Date)}catch(g){console.error("Error after save:",g),n("synced")}},acknowledgeNewData:async()=>{try{const g=await t(),y=h(g);A.current=y,a.current=y,console.log(" User refreshed - displayed hash updated to:",y),n("synced"),i(new Date),u.current=!1}catch(g){console.error("Error acknowledging new data:",g)}},setDisplayedData:g=>{const y=h(g);console.log(" Component displaying data with hash:",y),A.current=y,a.current=y,u.current=!1}}},Gd=({status:t,lastSync:e,onRefresh:r})=>{const[n,s]=X.useState(!1),i={synced:{icon:"",text:"Up to date",color:"#4CAF50",bgColor:"rgba(76, 175, 80, 0.1)",pulse:!1},saving:{icon:"",text:"Saving...",color:"#FF9800",bgColor:"rgba(255, 152, 0, 0.1)",pulse:!0},"new-data":{icon:"",text:"Click to update",color:"#E31820",bgColor:"rgba(227, 24, 32, 0.1)",pulse:!0,clickable:!0}},a=i[t]||i.synced,A=()=>{if(!e)return"";const u=Date.now()-e.getTime();return u<3e3?"just now":u<6e4?`${Math.floor(u/1e3)}s ago`:u<36e5?`${Math.floor(u/6e4)}m ago`:e.toLocaleTimeString()},l=()=>{a.clickable&&r&&r()};return o.jsxs("div",{className:"sync-status-badge",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:l,style:{cursor:a.clickable?"pointer":"default"},children:[o.jsx("style",{children:`
        .sync-status-badge {
          position: relative;
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          padding: 0.5rem 0.75rem;
          border-radius: 20px;
          background: ${a.bgColor};
          border: 1px solid ${a.color}40;
          transition: all 0.3s ease;
          user-select: none;
        }

        .sync-status-badge:hover {
          background: ${a.bgColor}cc;
          transform: translateY(-1px);
        }

        .sync-icon {
          font-size: 0.9rem;
          display: flex;
          align-items: center;
          justify-content: center;
          animation: ${a.pulse?"pulse 2s ease-in-out infinite":"none"};
        }

        .sync-text {
          font-size: 0.85rem;
          color: ${a.color};
          font-weight: 500;
          white-space: nowrap;
        }

        .sync-dot {
          width: 6px;
          height: 6px;
          border-radius: 50%;
          background: ${a.color};
          animation: ${a.pulse?"pulse 2s ease-in-out infinite":"none"};
        }

        .sync-tooltip {
          position: absolute;
          bottom: calc(100% + 8px);
          left: 50%;
          transform: translateX(-50%);
          background: #2a2a2a;
          color: #fff;
          padding: 0.5rem 0.75rem;
          border-radius: 6px;
          font-size: 0.75rem;
          white-space: nowrap;
          pointer-events: none;
          opacity: 0;
          transition: opacity 0.2s ease;
          z-index: 1000;
          box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .sync-tooltip::after {
          content: '';
          position: absolute;
          top: 100%;
          left: 50%;
          transform: translateX(-50%);
          border: 6px solid transparent;
          border-top-color: #2a2a2a;
        }

        .sync-tooltip.visible {
          opacity: 1;
        }

        @keyframes pulse {
          0%, 100% {
            opacity: 1;
            transform: scale(1);
          }
          50% {
            opacity: 0.7;
            transform: scale(1.1);
          }
        }

        @keyframes spin {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }

        .sync-icon.checking {
          animation: spin 1s linear infinite;
        }
      `}),o.jsx("span",{className:`sync-icon ${t==="checking"?"checking":""}`,children:a.icon}),o.jsx("span",{className:"sync-text",children:a.text}),t==="synced"&&o.jsx("div",{className:"sync-dot"}),n&&o.jsx("div",{className:`sync-tooltip ${n?"visible":""}`,children:t==="new-data"?"Click to refresh and see updates":e?`Last checked: ${A()}`:"Real-time sync active"})]})},k4=X.forwardRef((t,e)=>{const[r,n]=X.useState({teamMembers:[],lastUpdated:""}),[s,i]=X.useState(!1),[a,A]=X.useState(null),[l,c]=X.useState(!0),[u,h]=X.useState(null),[p,d]=X.useState(null),[w,m]=X.useState(null),[b,g]=X.useState(null),[y,B]=X.useState(!1),[_,N]=X.useState([]),D=["Project Director","Technical Director","Aerodynamics","High Voltage","System Architecture","Structures","Vehicle Dynamics","Low Voltage","Business"],{showError:T,showConfirm:O}=Ai(),{status:F,lastSync:K,startSaving:I,finishSaving:j,acknowledgeNewData:H,setDisplayedData:C}=Vd(()=>Ve.getTeamMembers(),2e3);X.useImperativeHandle(e,()=>({handleAddMember:()=>{A({id:Date.now(),name:"",role:"",image:"",bio:"",email:"",linkedin:"",order:r.teamMembers.length+1}),m(null),g(null),i(!0)}})),X.useEffect(()=>{te(),ve()},[]);const te=async()=>{console.log("Loading team data from Supabase..."),c(!0);try{const ae=await Ve.getTeamMembers();if(console.log("Loaded team data:",ae),!ae||!ae.teamMembers)throw console.error("Invalid data structure received:",ae),new Error("Invalid team data structure");console.log(` Successfully loaded ${ae.teamMembers.length} team members from Supabase`),n(ae),C(ae)}catch(ae){console.error("Error loading team data:",ae),await T(`Failed to load team data: ${ae.message}`,"Load Error"),n({teamMembers:[],lastUpdated:""})}finally{c(!1)}},ve=async()=>{try{const ae=await Ve.getUsersForTeamAssignment();N(ae),console.log(` Loaded ${ae.length} users for team assignment`)}catch(ae){console.error("Error loading users:",ae),await T(`Failed to load users: ${ae.message}`,"Load Error")}},ce=ae=>{A({...ae}),m(null),g(ae.image||null),i(!0)},ie=()=>{A({id:Date.now(),name:"",role:"",image:"",bio:"",email:"",linkedin:"",order:r.teamMembers.length+1}),m(null),g(null),i(!0)},re=async ae=>{if(!ae)return;if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(ae.type)){await T("Please upload a JPEG, PNG, WebP, or GIF image.","Invalid File Type");return}const E=5*1024*1024;if(ae.size>E){await T("Maximum file size is 5MB. Please choose a smaller image.","File Too Large");return}m(ae);const Q=new FileReader;Q.onloadend=()=>{g(Q.result)},Q.readAsDataURL(ae)},Be=ae=>{ae.preventDefault(),ae.stopPropagation();const Se=ae.dataTransfer.files[0];Se&&re(Se)},se=ae=>{ae.preventDefault(),ae.stopPropagation()},k=()=>{m(null),g(null),A({...a,image:""})},z=async()=>{if(!a.name||!a.role){await T("Please fill in the Name and Role fields.","Missing Required Fields");return}if(!a.bio||a.bio.trim()===""){await T("Please add a bio for this team member.","Bio Required");return}if(!b&&!a.image){await T("Please upload a profile image for this team member.","Image Required");return}i(!1);const ae={...a};A(null),I();try{if(w){B(!0);try{const Se=await Ve.uploadTeamMemberImage(w,ae.id);ae.image=Se,console.log(" Image uploaded successfully:",Se)}catch(Se){throw console.error("Error uploading image:",Se),await T(`Failed to upload image: ${Se.message}`,"Upload Error"),Se}finally{B(!1)}}if(ae.user_id)try{await Ve.updateUserSpecificRole(ae.user_id,ae.role||null),console.log(" Updated assigned user specific_role")}catch(Se){console.error("Error updating user specific_role:",Se),await T(`Failed to update assigned user's role: ${Se.message}`,"User Role Update Error")}await Ve.saveTeamMember(ae),await te(),m(null),g(null),console.log(" Team member saved successfully")}catch(Se){console.error("Error saving team member:",Se),await T(`Failed to save: ${Se.message}`,"Save Error")}finally{j()}},V=async ae=>{if(await O("This action cannot be undone. The team member and their associated image will be permanently deleted.","Delete Team Member?","Delete","Cancel")){I();try{await Ve.deleteTeamMember(ae),await te(),console.log(" Team member deleted successfully")}catch(E){console.error("Error deleting team member:",E),await T(`Failed to delete: ${E.message}`,"Delete Error")}finally{j()}}},G=async()=>{await te(),H()},de=(ae,Se)=>{h(Se),ae.dataTransfer.effectAllowed="move"},ye=(ae,Se)=>{ae.preventDefault(),ae.dataTransfer.dropEffect="move",u&&Se.id!==u.id&&d(Se)},we=ae=>{ae.currentTarget===ae.target&&d(null)},Z=async(ae,Se)=>{if(ae.preventDefault(),!u||u.id===Se.id){h(null),d(null);return}I();try{const E=[...r.teamMembers],Q=E.findIndex(q=>q.id===u.id),pe=E.findIndex(q=>q.id===Se.id),[ee]=E.splice(Q,1);E.splice(pe,0,ee);const J=E.map((q,Ce)=>({...q,order:Ce+1}));for(const q of J)await Ve.saveTeamMember(q);await te(),console.log(" Team order updated successfully")}catch(E){console.error("Error updating team order:",E),await T(`Failed to update order: ${E.message}`,"Reorder Error")}finally{h(null),d(null),j()}},he=()=>{h(null),d(null)},le=ft.hasPermission("edit_team");return l?o.jsx("div",{className:"loading",children:"Loading team data..."}):o.jsxs("div",{className:"team-manager",children:[o.jsx("style",{children:`
        .team-manager-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 2rem;
        }

        .team-manager-title {
          font-family: "Bebas Neue", sans-serif;
          font-size: 2rem;
          color: var(--text);
          margin: 0;
        }

        .header-buttons {
          display: flex;
          gap: 1rem;
          align-items: center;
        }

        .add-member-btn {
          background: var(--accent);
          color: white;
          border: none;
          padding: 0.75rem 1.5rem;
          border-radius: 6px;
          cursor: pointer;
          font-size: 0.9rem;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          transition: background 0.3s ease;
        }

        .add-member-btn:hover {
          background: #c71821;
          transform: translateY(-1px);
        }

        .no-data-message {
          text-align: center;
          padding: 4rem 2rem;
          background: var(--surface);
          border-radius: var(--radius);
          border: 2px dashed rgba(255, 255, 255, 0.2);
          color: var(--text);
        }

        .team-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
          gap: 1.5rem;
          margin-bottom: 2rem;
        }

        .member-card {
          background: linear-gradient(180deg, rgba(0,0,0,0.1), var(--surface));
          border: 1px solid rgba(255,255,255,0.03);
          border-radius: var(--radius);
          padding: 1.5rem;
          box-shadow: 0 6px 18px rgba(0,0,0,0.45);
          transition: transform 0.3s ease, opacity 0.3s ease;
          position: relative;
          display: flex;
          flex-direction: column;
          min-height: 250px;
        }

        .member-card:hover {
          transform: translateY(-2px);
        }

        .member-card.dragging {
          opacity: 0.5;
          transform: scale(0.95);
        }

        .member-card.drag-over {
          border: 2px solid var(--accent);
          transform: translateY(-2px);
        }

        .drag-handle {
          position: absolute;
          top: 0.75rem;
          right: 0.75rem;
          cursor: grab;
          padding: 0.25rem;
          color: var(--subtxt);
          transition: color 0.3s ease;
          width: 24px;
          height: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .drag-handle:hover {
          color: var(--accent);
        }

        .drag-handle:active {
          cursor: grabbing;
        }

        .drag-handle svg {
          width: 20px;
          height: 20px;
        }

        .member-header {
          display: flex;
          align-items: center;
          gap: 1rem;
          margin-bottom: 1rem;
        }

        .member-avatar {
          width: 60px;
          height: 60px;
          border-radius: 50%;
          background: #333;
          object-fit: cover;
        }

        .member-info h3 {
          color: var(--accent);
          margin: 0 0 0.25rem 0;
          font-size: 1.1rem;
        }

        .member-role {
          color: var(--subtxt);
          font-size: 0.9rem;
          margin: 0;
        }

        .member-bio {
          color: var(--text);
          font-size: 0.9rem;
          line-height: 1.4;
          margin-bottom: 1rem;
          flex-grow: 1;
        }

        .member-actions {
          display: flex;
          gap: 0.5rem;
          justify-content: flex-end;
          margin-top: auto;
        }

        .action-btn {
          padding: 0.5rem;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          width: 36px;
          height: 36px;
        }

        .action-btn svg {
          width: 18px;
          height: 18px;
        }

        .edit-btn {
          background: var(--accent);
          color: white;
        }

        .edit-btn:hover {
          background: #c71821;
          transform: translateY(-2px);
        }

        .delete-btn {
          background: #dc2626;
          color: white;
        }

        .delete-btn:hover {
          background: #b91c1c;
          transform: translateY(-2px);
        }

        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.8);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1000;
        }

        .modal-content {
          background: var(--surface);
          padding: 2rem;
          border-radius: var(--radius);
          max-width: 500px;
          width: 90%;
          max-height: 80vh;
          overflow-y: auto;
        }

        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1.5rem;
        }

        .modal-title {
          font-family: "Bebas Neue", sans-serif;
          font-size: 1.5rem;
          color: var(--text);
          margin: 0;
        }

        .close-btn {
          background: none;
          border: none;
          color: var(--subtxt);
          cursor: pointer;
          font-size: 1.5rem;
        }

        .form-group {
          margin-bottom: 1rem;
        }

        .form-label {
          display: block;
          color: var(--text);
          margin-bottom: 0.5rem;
          font-weight: 500;
        }

        .form-input, .form-textarea {
          width: 100%;
          padding: 0.75rem;
          border: 2px solid #333;
          border-radius: 6px;
          background: #1a1a1a;
          color: var(--text);
          font-size: 0.9rem;
          font-family: inherit;
          resize: vertical;
        }

        .form-input:focus, .form-textarea:focus {
          outline: none;
          border-color: var(--accent);
        }

        .form-textarea {
          min-height: 100px;
        }

        .image-upload-area {
          width: 100%;
          min-height: 200px;
          border: 2px dashed #333;
          border-radius: 8px;
          background: #1a1a1a;
          cursor: pointer;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          position: relative;
          overflow: hidden;
        }

        .image-upload-area:hover {
          border-color: var(--accent);
          background: #222;
        }

        .image-upload-area.has-image {
          min-height: 250px;
          border-style: solid;
        }

        .upload-placeholder {
          text-align: center;
          padding: 2rem;
          color: var(--subtxt);
        }

        .upload-placeholder svg {
          width: 48px;
          height: 48px;
          margin: 0 auto 1rem;
          opacity: 0.6;
        }

        .upload-placeholder p {
          margin: 0.5rem 0;
        }

        .upload-hint {
          font-size: 0.75rem;
          opacity: 0.7;
        }

        .image-preview-container {
          width: 100%;
          height: 100%;
          position: relative;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 1rem;
        }

        .image-preview {
          max-width: 100%;
          max-height: 300px;
          border-radius: 6px;
          object-fit: contain;
        }

        .remove-image-btn {
          position: absolute;
          top: 1rem;
          right: 1rem;
          background: rgba(220, 38, 38, 0.9);
          color: white;
          border: none;
          border-radius: 50%;
          width: 32px;
          height: 32px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
          z-index: 10;
        }

        .remove-image-btn:hover {
          background: #dc2626;
          transform: scale(1.1);
        }

        .remove-image-btn svg {
          width: 16px;
          height: 16px;
        }

        .upload-status {
          color: var(--accent);
          font-size: 0.85rem;
          margin-top: 0.5rem;
          text-align: center;
        }

        .modal-actions {
          display: flex;
          gap: 1rem;
          justify-content: flex-end;
          margin-top: 2rem;
        }

        .save-btn {
          background: var(--accent);
          color: white;
          border: none;
          padding: 0.75rem 1.5rem;
          border-radius: 6px;
          cursor: pointer;
          font-size: 0.9rem;
          font-weight: 500;
          transition: all 0.3s ease;
        }

        .save-btn:hover {
          background: #c71821;
          transform: translateY(-1px);
        }

        .cancel-btn {
          background: transparent;
          color: var(--text);
          border: 1px solid var(--subtxt);
          padding: 0.75rem 1.5rem;
          border-radius: 6px;
          cursor: pointer;
          font-size: 0.9rem;
          font-weight: 500;
          transition: all 0.3s ease;
        }

        .cancel-btn:hover {
          background: var(--surface);
          border-color: var(--text);
        }

        .loading {
          text-align: center;
          color: var(--subtxt);
          padding: 2rem;
        }

        .no-permission {
          text-align: center;
          color: var(--subtxt);
          padding: 2rem;
        }
      `}),o.jsxs("div",{className:"team-manager-header",children:[o.jsx("h2",{className:"team-manager-title",children:"Team Management"}),o.jsxs("div",{className:"header-buttons",children:[o.jsx(Gd,{status:F,lastSync:K,onRefresh:G}),le&&o.jsxs("button",{className:"add-member-btn",onClick:ie,children:[o.jsx("span",{children:"+"}),"Add Member"]})]})]}),r.teamMembers.length===0?o.jsxs("div",{className:"no-data-message",children:[o.jsx("p",{style:{fontSize:"1.2rem",marginBottom:"1rem"},children:"No team members found"}),o.jsx("p",{style:{color:"var(--subtxt)",marginBottom:"1rem"},children:"The team data file is empty or couldn't be loaded."}),le&&o.jsx("button",{onClick:ie,className:"add-member-btn",children:"Add Your First Team Member"})]}):o.jsx("div",{className:"team-grid",children:r.teamMembers.sort((ae,Se)=>(ae.order||0)-(Se.order||0)).map(ae=>o.jsxs("div",{className:`member-card ${(u==null?void 0:u.id)===ae.id?"dragging":""} ${(p==null?void 0:p.id)===ae.id?"drag-over":""}`,draggable:le,onDragStart:Se=>de(Se,ae),onDragOver:Se=>ye(Se,ae),onDragLeave:we,onDrop:Se=>Z(Se,ae),onDragEnd:he,children:[le&&o.jsx("div",{className:"drag-handle",title:"Drag to reorder",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),o.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),o.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),o.jsxs("div",{className:"member-header",children:[o.jsx("img",{src:ae.image||"/images/headshots/default.jpg",alt:ae.name,className:"member-avatar",onError:Se=>Se.target.src="/images/headshots/default.jpg"}),o.jsxs("div",{className:"member-info",children:[o.jsx("h3",{children:ae.name}),o.jsx("p",{className:"member-role",children:ae.role})]})]}),o.jsx("p",{className:"member-bio",children:ae.bio&&ae.bio.length>150?ae.bio.substring(0,150)+"...":ae.bio}),le&&o.jsxs("div",{className:"member-actions",children:[o.jsx("button",{className:"action-btn edit-btn",onClick:()=>ce(ae),title:"Edit member",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),o.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),o.jsx("button",{className:"action-btn delete-btn",onClick:()=>V(ae.id),title:"Delete member",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("polyline",{points:"3 6 5 6 21 6"}),o.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),o.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),o.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})]},ae.id))}),s&&a&&o.jsx("div",{className:"modal-overlay",onClick:()=>i(!1),children:o.jsxs("div",{className:"modal-content",onClick:ae=>ae.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h3",{className:"modal-title",children:[a.id&&r.teamMembers.find(ae=>ae.id===a.id)?"Edit":"Add"," Team Member"]}),o.jsx("button",{className:"close-btn",onClick:()=>i(!1),children:""})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Name *"}),o.jsx("input",{type:"text",className:"form-input",value:a.name,onChange:ae=>A({...a,name:ae.target.value}),placeholder:"Full name"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Role *"}),o.jsxs("select",{className:"form-input",value:a.role||"",onChange:ae=>A({...a,role:ae.target.value}),children:[o.jsx("option",{value:"",children:"-- Select Role --"}),D.map(ae=>o.jsx("option",{value:ae,children:ae},ae))]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Profile Image *"}),o.jsxs("div",{className:`image-upload-area ${b?"has-image":""}`,onDrop:Be,onDragOver:se,onClick:()=>document.getElementById("image-file-input").click(),children:[b?o.jsxs("div",{className:"image-preview-container",children:[o.jsx("img",{src:b,alt:"Preview",className:"image-preview"}),o.jsx("button",{className:"remove-image-btn",onClick:ae=>{ae.stopPropagation(),k()},title:"Remove image",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}):o.jsxs("div",{className:"upload-placeholder",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"17 8 12 3 7 8"}),o.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),o.jsx("p",{children:"Drop image here or click to upload"}),o.jsx("p",{className:"upload-hint",children:"JPG, PNG, WebP, or GIF  Max 5MB"})]}),o.jsx("input",{id:"image-file-input",type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:ae=>re(ae.target.files[0]),style:{display:"none"}})]}),y&&o.jsx("p",{className:"upload-status",children:"Uploading image..."})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Bio *"}),o.jsx("textarea",{className:"form-textarea",value:a.bio,onChange:ae=>A({...a,bio:ae.target.value}),placeholder:"Brief description of role and background..."})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Assign to User Account (Optional)"}),o.jsxs("select",{className:"form-input",value:a.user_id||"",onChange:ae=>{const Se=ae.target.value||null,E=_.find(Q=>Q.user_id===Se);A({...a,user_id:Se||null,role:(E==null?void 0:E.specific_role)||a.role})},children:[o.jsx("option",{value:"",children:"-- None (No user assigned) --"}),_.map(ae=>o.jsxs("option",{value:ae.user_id,children:[ae.email," - ",ae.level.toUpperCase(),ae.specific_role?` (${ae.specific_role})`:""]},ae.user_id))]}),o.jsx("p",{style:{color:"var(--subtxt)",fontSize:"0.8rem",marginTop:"0.5rem"},children:"Link this team member to a user account with Director or Leader permissions"})]}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"cancel-btn",onClick:()=>i(!1),children:"Cancel"}),o.jsx("button",{className:"save-btn",onClick:z,children:"Save Member"})]})]})})]})});k4.displayName="TeamManager";const Nu=t=>t?t.charAt(0).toUpperCase()+t.slice(1):"",wb=t=>t?new Date(t).toLocaleDateString("en-US",{month:"short",year:"numeric"}):"";function oQ({currentUserLevel:t,targetLevel:e,userId:r,userEmail:n,onUpdated:s,canEdit:i}){const{showConfirm:a,showSuccess:A,showError:l}=Ai(),[c,u]=X.useState(e),[h,p]=X.useState(!1);X.useEffect(()=>{u(e||"member")},[e]);const d=()=>{let g=[];t==="director"?g=["member","leader","director"]:t==="leader"?g=["member","leader"]:g=[];const y=[...g,e||"member"];return Array.from(new Set(y))},w=async g=>{const y=g.target.value;if(y===c)return;if(!await a(`Change role for ${n} from ${Nu(c)} to ${Nu(y)}?`,"Confirm Role Change")){u(e);return}try{p(!0),await Ve.updateUserRole(r,y),await A(`Updated ${n} to ${Nu(y)}`),s&&await s()}catch(_){console.error("Error updating role:",_),await l(`Failed to update role: ${_.message}`,"Update Error"),u(e)}finally{p(!1)}},m=d(),b=m.length>1&&i;return o.jsxs("div",{className:`role-dropdown-wrapper ${b?"clickable":""}`,children:[o.jsx("select",{className:"role-select-styled",value:c,onChange:w,disabled:h||!b,"aria-label":`Change role for ${n}`,children:m.map(g=>o.jsx("option",{value:g,children:Nu(g)},g))}),b&&o.jsx("span",{className:"chevron","aria-hidden":!0,children:o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}const N4=X.forwardRef((t,e)=>{const[r,n]=X.useState([]),[s,i]=X.useState([]),[a,A]=X.useState(!0),[l,c]=X.useState("approved"),[u,h]=X.useState(null),{showError:p,showConfirm:d,showSuccess:w}=Ai();X.useImperativeHandle(e,()=>({})),X.useEffect(()=>{(async()=>{if(ft.waitForInit)try{await ft.waitForInit()}catch(D){console.warn("Auth waitForInit failed:",D)}const N=ft.getUser();N&&h(N.level),await m(),await b()})()},[]);const m=async()=>{A(!0);try{const D=(await Ve.getAllUserRoles()||[]).filter(K=>K.approval_status==="approved"),T={director:3,leader:2,member:1},F=D.slice().sort((K,I)=>{const j=T[K.level]||0,H=T[I.level]||0;if(H!==j)return H-j;const C=(K.full_name||K.name||K.email||"").toLowerCase(),te=(I.full_name||I.name||I.email||"").toLowerCase();return C.localeCompare(te)}).map(K=>({...K,level:K.level||"member"}));console.log(" Loaded approved users:",F),n(F)}catch(N){console.error("Error loading users:",N),await p(`Failed to load users: ${N.message}`,"Load Error"),n([])}finally{A(!1)}},b=async()=>{try{const N=await Ve.getPendingUsers();console.log(" Loaded pending users:",N),i(N||[])}catch(N){console.error("Error loading pending users:",N),i([])}},g=N=>u==="director"||u==="leader"&&(N==="member"||N==="leader"),y=()=>u==="leader"||u==="director",B=async(N,D,T="member")=>{const O=ft.getUser();if(!(!O||!await d(`Approve ${D} as ${Nu(T)}?`,"Approve User")))try{await Ve.approveUser(N,O.id,T),await w(`Successfully approved ${D}`),await b(),await m()}catch(K){console.error("Error approving user:",K),await p(`Failed to approve user: ${K.message}`,"Approval Error")}},_=async(N,D)=>{const T=ft.getUser();if(!(!T||!await d(`Reject account request from ${D}? This action cannot be undone.`,"Reject User")))try{await Ve.rejectUser(N,T.id),await w(`Rejected account request from ${D}`),await b()}catch(F){console.error("Error rejecting user:",F),await p(`Failed to reject user: ${F.message}`,"Rejection Error")}};return a?o.jsx("div",{className:"user-manager-loading",children:"Loading users..."}):o.jsxs("div",{className:"user-manager",children:[o.jsxs("div",{className:"user-manager-tabs",children:[o.jsxs("button",{className:`tab ${l==="approved"?"active":""}`,onClick:()=>c("approved"),children:["Approved Users (",r.length,")"]}),y()&&o.jsxs("button",{className:`tab ${l==="pending"?"active":""}`,onClick:()=>c("pending"),children:["Pending Requests (",s.length,")"]})]}),l==="approved"&&o.jsx("div",{className:"user-list",children:o.jsxs("table",{className:"user-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Name"}),o.jsx("th",{children:"Email"}),o.jsx("th",{children:"Role"}),o.jsx("th",{children:"Joined"})]})}),o.jsx("tbody",{children:r.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:4,style:{textAlign:"center",padding:"2rem"},children:"No approved users found"})}):r.map(N=>o.jsxs("tr",{children:[o.jsx("td",{className:"user-email",children:N.first_name||N.last_name?`${(N.first_name||"").trim()} ${(N.last_name||"").trim()}`.trim():N.full_name||N.name||N.email}),o.jsx("td",{className:"user-email",children:N.email}),o.jsx("td",{className:"role-cell",children:o.jsx(oQ,{currentUserLevel:u,targetLevel:N.level,userId:N.user_id,userEmail:N.email,onUpdated:m,canEdit:g(N.level)})}),o.jsx("td",{className:"joined-cell",children:wb(N.created_at)})]},N.id))})]})}),l==="pending"&&y()&&o.jsx("div",{className:"pending-user-list",children:o.jsxs("table",{className:"user-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Name"}),o.jsx("th",{children:"Email"}),o.jsx("th",{children:"Requested"}),o.jsx("th",{children:"Assign Role"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:s.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,style:{textAlign:"center",padding:"2rem"},children:"No pending requests"})}):s.map(N=>o.jsxs("tr",{children:[o.jsx("td",{className:"user-email",children:N.first_name||N.last_name?`${(N.first_name||"").trim()} ${(N.last_name||"").trim()}`.trim():N.full_name||N.name||N.email}),o.jsx("td",{className:"user-email",children:N.email}),o.jsx("td",{className:"joined-cell",children:wb(N.created_at)}),o.jsx("td",{className:"role-cell",children:o.jsxs("select",{className:"role-select-styled pending-role-select",defaultValue:"member",id:`role-${N.id}`,"aria-label":`Select role for ${N.email}`,children:[o.jsx("option",{value:"member",children:"Member"}),(u==="leader"||u==="director")&&o.jsx("option",{value:"leader",children:"Leader"}),u==="director"&&o.jsx("option",{value:"director",children:"Director"})]})}),o.jsx("td",{className:"actions-cell",children:o.jsxs("div",{className:"action-buttons",children:[o.jsx("button",{className:"btn-approve",onClick:()=>{const D=document.getElementById(`role-${N.id}`),T=(D==null?void 0:D.value)||"member";B(N.user_id,N.email,T)},title:"Approve user",children:" Approve"}),o.jsx("button",{className:"btn-reject",onClick:()=>_(N.user_id,N.email),title:"Reject user",children:" Reject"})]})})]},N.id))})]})}),o.jsxs("div",{className:"user-manager-info",children:[o.jsx("h4",{children:"Permission Levels:"}),o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Directors"})," can manage all users (promote/demote anyone)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Leaders"})," can manage members and other leaders"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Members"})," can only view the user list"]})]})]})]})});N4.displayName="UserManager";function Gh({value:t,options:e,color:r,onChange:n,disabled:s=!1,className:i=""}){var u;const[a,A]=X.useState(!1),l=X.useRef(null);X.useEffect(()=>{if(!a)return;const h=p=>{l.current&&!l.current.contains(p.target)&&A(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[a]);const c=h=>{s||(A(!1),h!==t&&(n==null||n(h)))};return o.jsxs("div",{ref:l,className:`status-dropdown ${i}`,style:{position:"relative",display:"inline-block"},onClick:h=>h.stopPropagation(),children:[o.jsxs("button",{type:"button",className:"project-status",disabled:s,onClick:()=>!s&&A(h=>!h),title:s?t:`Change status (currently ${t})`,style:{backgroundColor:r,cursor:s?"default":"pointer",border:"none"},children:[((u=t==null?void 0:t.toUpperCase)==null?void 0:u.call(t))||String(t),!s&&" ",!s&&o.jsx("i",{className:`fas fa-chevron-${a?"up":"down"}`,style:{marginLeft:6}})]}),a&&o.jsx("div",{className:"status-dropdown-menu",style:{position:"absolute",right:0,top:"110%",background:"var(--card)",border:"1px solid var(--muted)",borderRadius:8,padding:6,boxShadow:"0 8px 24px #0008",zIndex:20,minWidth:200},children:e.map(h=>o.jsxs("button",{type:"button",onClick:()=>c(h),className:"status-option",style:{display:"flex",alignItems:"center",gap:8,width:"100%",textAlign:"left",padding:"8px 10px",border:"none",background:"transparent",color:"var(--text)",borderRadius:6,cursor:"pointer"},children:[o.jsx("span",{style:{width:10,height:10,borderRadius:"50%",background:h===t?"var(--accent)":"var(--muted)"}}),o.jsx("span",{style:{fontWeight:h===t?700:500},children:h.toUpperCase()}),h===t&&o.jsx("i",{className:"fas fa-check",style:{marginLeft:"auto",color:"var(--accent)"}})]},h))})]})}function yb({value:t,placeholder:e="Add weekly notes... (click to edit)",onSave:r,rows:n=3,autoSaveOnBlur:s=!0,disabled:i=!1}){const[a,A]=X.useState(!1),[l,c]=X.useState(t||""),[u,h]=X.useState(!1),[p,d]=X.useState(!1),w=X.useRef(null),m=X.useRef(null);X.useEffect(()=>{c(t||"")},[t]),X.useEffect(()=>{a&&m.current&&m.current.focus()},[a]);const b=async()=>{if(!(!u||p||i))try{d(!0),await(r==null?void 0:r(l)),h(!1)}finally{d(!1)}};return X.useEffect(()=>{if(!a)return;const g=y=>{w.current&&!w.current.contains(y.target)&&(s&&b(),A(!1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[a,s,l,u]),o.jsx("div",{ref:w,className:"inline-notes-editor",style:{position:"relative"},onClick:g=>g.stopPropagation(),onMouseDown:g=>g.stopPropagation(),children:a?o.jsxs("div",{style:{position:"relative"},children:[o.jsx("textarea",{ref:m,value:l,onChange:g=>{c(g.target.value),h(!0)},rows:n,disabled:i,placeholder:e,style:{width:"100%",resize:"vertical",padding:"0.75rem",background:"var(--card)",color:"var(--text)",border:"1px solid var(--muted)",borderRadius:8,fontSize:"0.9rem",outline:"none",boxShadow:"0 2px 12px #0004"}}),(u||p)&&o.jsxs("button",{type:"button",className:"confirm-btn",onClick:async()=>{await b(),A(!1)},disabled:p,title:p?"Saving...":"Save notes",style:{position:"absolute",right:16,bottom:16,border:"none",borderRadius:8,padding:"6px 10px",background:"var(--accent)",color:"#fff",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:6},children:[o.jsx("i",{className:`fas fa-${p?"spinner fa-spin":"check"}`}),o.jsx("span",{children:p?"Saving":"Save"})]})]}):o.jsx("div",{className:"notes-display",onClick:()=>!i&&A(!0),style:{fontSize:"0.85rem",color:"var(--subtxt)",whiteSpace:"pre-wrap",maxHeight:"6.5em",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:5,WebkitBoxOrient:"vertical",cursor:i?"default":"text"},children:l&&l.trim().length>0?l:o.jsx("span",{style:{color:"var(--muted)"},children:e})})})}const F4=X.forwardRef((t,e)=>{const{showAlert:r,showConfirm:n}=Ai(),[s,i]=X.useState({teams:[],projects:[],lastUpdated:""}),[a,A]=X.useState("overview"),[l,c]=X.useState(!1),[u,h]=X.useState(null),[p,d]=X.useState(!0),[w,m]=X.useState("all"),[b,g]=X.useState("all"),[y,B]=X.useState("priority"),[_,N]=X.useState(null),[D,T]=X.useState(null);X.useState("month");const[O,F]=X.useState(new Date),[K,I]=X.useState({}),H=ft.getLevel()===Ya.DIRECTOR,C=ft.hasPermission("edit_schedules"),te=H;X.useImperativeHandle(e,()=>({handleAddProject:()=>{h({type:"project",title:"",description:"",team:w!=="all"?w:"director",priority:"medium",status:"planning",startDate:new Date().toISOString().split("T")[0],dueDate:"",estimatedHours:0,actualHours:0,progress:0,assignedTo:"",weeklyNotes:"",tasks:[]}),c(!0)}})),X.useEffect(()=>{ce();const M=Ve.subscribeToTable("schedule_projects",ve),ge=Ve.subscribeToTable("schedule_tasks",ve);return()=>{Ve.unsubscribe(M),Ve.unsubscribe(ge)}},[]);const ve=()=>{ce()},ce=async()=>{try{if(d(!0),!Ve.isConfigured()){r("Supabase is not configured. Please set up your environment variables.","error"),d(!1);return}const M=await Ve.getScheduleData();i(M)}catch(M){console.error("Error loading schedule data:",M),r(`Failed to load schedule data: ${M.message}`,"error")}finally{d(!1)}},ie=M=>{const ge=(se||[]).find(Le=>Le.id===M);return ge?ge.name:M},re=M=>{const ge=(se||[]).find(Le=>Le.id===M);return ge?ge.color:"#6c757d"},Be=M=>{if(!M)return M;const ge=String(M).toLowerCase();return ge==="technical-director"||ge==="project-director"||/technical director|project director/i.test(String(M))?"director":M},se=X.useMemo(()=>{const M={};return(s.teams||[]).forEach(Le=>{const Ue=Be(Le.id);M[Ue]?!M[Ue].color&&Le.color&&(M[Ue].color=Le.color):M[Ue]={id:Ue,name:Ue==="director"?"Director":Le.name,color:Le.color||"#6c757d"}}),(s.projects||[]).some(Le=>Be(Le.team)==="director")&&!M.director&&(M.director={id:"director",name:"Director",color:"#6c757d"}),Object.values(M)},[s.teams,s.projects]),k=M=>{if(!M)return"";const[ge,Le,Ue]=M.split("-");return new Date(parseInt(ge),parseInt(Le)-1,parseInt(Ue)).toLocaleDateString()},z=(M,ge)=>{if(!M)return"";const[Le,Ue,qe]=M.split("-");return new Date(parseInt(Le),parseInt(Ue)-1,parseInt(qe)).toLocaleDateString("en-US",ge)},V=M=>{if(!M)return null;const[ge,Le,Ue]=M.split("-");return new Date(parseInt(ge),parseInt(Le)-1,parseInt(Ue))},G=(M,ge)=>{if(ge==="completed"||ge==="cancelled")return!1;const Le=new Date;return Le.setHours(0,0,0,0),V(M)<Le},de=(M,ge)=>{if(G(ge,M))return"#dc3545";switch(M){case"completed":return"#28a745";case"in-progress":return"#6c757d";case"pending":return"#ffc107";case"planning":return"#6c757d";case"on-hold":return"#6c757d";case"cancelled":return"#6c757d";case"critical":return"#dc3545";default:return"#6c757d"}},ye=M=>{switch(M){case"planning":return"Planning";case"pending":return"Pending";case"in-progress":return"In Progress";case"completed":return"Completed";case"on-hold":return"On Hold";case"cancelled":return"Canceled";default:return String(M||"").toString()}},we=["planning","in-progress","completed","on-hold","cancelled"],Z=["in-progress","completed","blocked","cancelled"],he=[{value:"priority",label:"Priority"},{value:"due-asc",label:"Due Date "},{value:"due-desc",label:"Due Date "},{value:"title-asc",label:"Title AZ"},{value:"title-desc",label:"Title ZA"},{value:"status",label:"Status"}],le=(M,ge,Le=y)=>{const Ue=st=>st?V(st):new Date(864e13),qe=G(M.dueDate,M.status),rt=G(ge.dueDate,ge.status);switch(Le){case"priority":if(qe!==rt)return qe?-1:1;const st=Ue(M.dueDate),it=Ue(ge.dueDate),me=fr=>fr==="completed"||fr==="cancelled",Pe=me(M.status),Xe=me(ge.status);if(Pe&&Xe)return it-st;if(Pe!==Xe)return Pe?1:-1;if(st-it!==0)return st-it;const et={critical:3,high:2,medium:1,low:0},at=et[M.priority]||0,Me=et[ge.priority]||0;return at!==Me?Me-at:M.title.localeCompare(ge.title);case"due-asc":return Ue(M.dueDate)-Ue(ge.dueDate);case"due-desc":return Ue(ge.dueDate)-Ue(M.dueDate);case"title-asc":return M.title.localeCompare(ge.title);case"title-desc":return ge.title.localeCompare(M.title);case"status":const ct=fr=>we.indexOf(fr)===-1?we.length:we.indexOf(fr);return ct(M.status)-ct(ge.status)||M.title.localeCompare(ge.title);default:return 0}},ae=async(M,ge)=>{if(!C){r("You do not have permission to change project status. Only team leaders and directors can edit schedules.","error");return}try{const Le=ge==="completed"?100:Q(M.startDate,M.dueDate,ge);i(Ue=>({...Ue,projects:Ue.projects.map(qe=>qe.id===M.id?{...qe,status:ge,progress:Le}:qe)})),await Ve.updateProjectFields(M.id,{status:ge,progress:Le})}catch(Le){console.error("Failed to update project status:",Le),r(`Failed to update status: ${Le.message}`,"error"),await ce()}},Se=async(M,ge,Le)=>{if(!C){r("You do not have permission to change task status. Only team leaders and directors can edit schedules.","error");return}try{const Ue=Le==="completed"?100:Q(ge.startDate,ge.dueDate,Le);i(qe=>({...qe,projects:qe.projects.map(rt=>rt.id===M?{...rt,tasks:(rt.tasks||[]).map(st=>st.id===ge.id?{...st,status:Le,progress:Ue}:st)}:rt)})),await Ve.updateTaskFields(ge.id,{status:Le,progress:Ue})}catch(Ue){console.error("Failed to update task status:",Ue),r(`Failed to update task status: ${Ue.message}`,"error"),await ce()}},E=async(M,ge)=>{if(!C){r("You do not have permission to edit weekly notes. Only team leaders and directors can edit schedules.","error");return}try{i(Le=>({...Le,projects:Le.projects.map(Ue=>Ue.id===M.id?{...Ue,weeklyNotes:ge}:Ue)})),await Ve.updateProjectFields(M.id,{weekly_notes:ge}),r("Weekly notes saved","success")}catch(Le){console.error("Failed to save weekly notes:",Le),r(`Failed to save weekly notes: ${Le.message}`,"error"),await ce()}},Q=(M,ge,Le)=>{if(Le==="completed"||Le==="cancelled")return 100;if(!M||!ge)return 0;const Ue=V(M),qe=V(ge),rt=new Date;if(rt.setHours(0,0,0,0),rt<Ue)return 0;if(rt>qe)return 100;const st=qe-Ue,it=rt-Ue,me=Math.round(it/st*100);return Math.max(0,Math.min(100,me))},pe=()=>{if(!C){r("You do not have permission to add projects. Only team leaders and directors can edit schedules.","error");return}h({type:"project",title:"",description:"",team:w!=="all"?w:"director",priority:"medium",status:"planning",startDate:new Date().toISOString().split("T")[0],dueDate:"",estimatedHours:0,actualHours:0,progress:0,assignedTo:"",weeklyNotes:"",tasks:[]}),c(!0)},ee=M=>{if(!C){r("You do not have permission to edit projects. Only team leaders and directors can edit schedules.","error");return}h({...M,type:"project"}),c(!0)},J=(M,ge)=>{if(!C){r("You do not have permission to edit tasks. Only team leaders and directors can edit schedules.","error");return}h({...M,type:"project",editingTaskId:ge.id}),c(!0)},q=async(M,ge)=>{if(!C){r("You do not have permission to delete tasks. Only team leaders and directors can edit schedules.","error");return}if(await n("Are you sure you want to delete this task? This action cannot be undone.","Delete Task","Delete","Cancel"))try{await Ve.deleteTask(ge),r("Task deleted successfully!","success"),await ce()}catch(Ue){console.error("Error deleting task:",Ue),r(`Failed to delete task: ${Ue.message}`,"error")}},Ce=(M,ge)=>{ge.stopPropagation(),I(Le=>({...Le,[M]:!Le[M]}))},Ee=M=>{if(!C){r("You do not have permission to add tasks. Only team leaders and directors can edit schedules.","error");return}const ge=s.projects.find(Ue=>Ue.id===M),Le={projectId:M,title:"",description:"",startDate:new Date().toISOString().split("T")[0],dueDate:"",estimatedHours:0,status:"pending",priority:"medium",assignedTo:""};h({...ge,type:"project",tasks:[...ge.tasks||[],Le]}),c(!0)},xe=async()=>{try{if(!u)return;if(!C){r("You do not have permission to save changes. Only team leaders and directors can edit schedules.","error");return}if(u.type==="project"){if(!u.title||u.title.trim()===""){r("Project title is required","error");return}if(!u.priority||u.priority.trim()===""){r("Project priority is required","error");return}if(!u.status||u.status.trim()===""){r("Project status is required","error");return}if(!u.assignedTo||u.assignedTo.trim()===""){r("Project assigned to is required","error");return}if(!u.startDate||u.startDate.trim()===""){r("Project start date is required","error");return}if(!u.dueDate||u.dueDate.trim()===""){r("Project due date is required","error");return}if(!u.team||u.team.trim()===""){r("Project team is required","error");return}if(u.tasks&&u.tasks.length>0)for(const[Le,Ue]of u.tasks.entries()){if(!Ue.title||Ue.title.trim()===""){r(`Task ${Le+1}: Title is required`,"error");return}if(!Ue.priority||Ue.priority.trim()===""){r(`Task ${Le+1}: Priority is required`,"error");return}if(!Ue.status||Ue.status.trim()===""){r(`Task ${Le+1}: Status is required`,"error");return}if(!Ue.assignedTo||Ue.assignedTo.trim()===""){r(`Task ${Le+1}: Assigned to is required`,"error");return}if(!Ue.startDate||Ue.startDate.trim()===""){r(`Task ${Le+1}: Start date is required`,"error");return}if(!Ue.dueDate||Ue.dueDate.trim()===""){r(`Task ${Le+1}: Due date is required`,"error");return}}const M={...u};delete M.type,M.progress=Q(M.startDate,M.dueDate,M.status);const ge=await Ve.saveProject(M);if(M.tasks&&M.tasks.length>0)for(const Le of M.tasks){const Ue={...Le,projectId:ge.id};Ue.progress=Q(Ue.startDate,Ue.dueDate,Ue.status),await Ve.saveTask(Ue)}r("Project saved successfully!","success")}c(!1),h(null),await ce()}catch(M){console.error("Error saving item:",M),r(`Failed to save: ${M.message}`,"error")}},Fe=async(M,ge)=>{if(!C){r("You do not have permission to delete items. Only team leaders and directors can edit schedules.","error");return}const Le=M==="project"?"project":"item",Ue=M==="project"?o.jsxs("div",{className:"alert-message-section",children:[o.jsx("div",{className:"alert-message-main",children:"Are you sure you want to delete this project?"}),o.jsx("div",{className:"alert-message-details",children:"This action cannot be undone and will delete all associated tasks."}),o.jsxs("div",{className:"alert-message-note",children:[o.jsxs("svg",{className:"alert-message-note-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),o.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),o.jsxs("div",{className:"alert-message-note-content",children:[o.jsx("div",{className:"alert-message-note-title",children:"Note:"}),o.jsx("div",{className:"alert-message-note-text",children:`We prefer not to delete projects as it's valuable to keep a record of past work for tracking and reference purposes. Consider marking the project as "Completed" or "Cancelled" instead, unless deletion is absolutely necessary.`})]})]})]}):`Are you sure you want to delete this ${Le}? This action cannot be undone.`;if(await n(Ue,`Delete ${Le.charAt(0).toUpperCase()+Le.slice(1)}`,"Delete","Cancel"))try{M==="project"&&(await Ve.deleteProject(ge),r("Project deleted successfully!","success")),await ce()}catch(rt){console.error("Error deleting item:",rt),r(`Failed to delete: ${rt.message}`,"error")}},Ke=(M,ge="team")=>w==="all"?M:M.filter(Le=>Be(Le[ge])===w),Te=M=>{const ge=M.getFullYear(),Le=M.getMonth(),Ue=new Date(ge,Le,1),rt=new Date(ge,Le+1,0).getDate(),st=Ue.getDay(),it=[];for(let me=0;me<st;me++)it.push(null);for(let me=1;me<=rt;me++)it.push(new Date(ge,Le,me));return it},$e=M=>{const ge=M.toISOString().split("T")[0];return s.projects.filter(Ue=>Ue.dueDate===ge).map(Ue=>({...Ue,itemType:"project"}))},dt=M=>{const ge=$e(M);T({date:M,items:ge})},tt=X.useMemo(()=>(se||[]).map(M=>{const ge=s.projects.filter(st=>Be(st.team)===M.id),Le=ge.filter(st=>st.status==="completed").length,Ue=ge.filter(st=>st.status==="in-progress"||st.status==="planning").length,qe=ge.filter(st=>G(st.dueDate,st.status)).length,rt=ge.length>0?Math.round(ge.reduce((st,it)=>st+Q(it.startDate,it.dueDate,it.status),0)/ge.length):0;return{...M,totalProjects:ge.length,completed:Le,active:Ue,overdue:qe,avgProgress:rt}}),[s]),Je=X.useMemo(()=>{const M=s.projects.length,ge=s.projects.filter(rt=>rt.status==="completed").length,Le=s.projects.filter(rt=>rt.status==="in-progress").length,Ue=s.projects.filter(rt=>G(rt.dueDate,rt.status)).length,qe=M>0?Math.round(s.projects.reduce((rt,st)=>rt+Q(st.startDate,st.dueDate,st.status),0)/M):0;return{totalProjects:M,completed:ge,inProgress:Le,overdue:Ue,avgProgress:qe}},[s]);return p?o.jsx("div",{className:"loading",children:"Loading schedule data..."}):o.jsxs("div",{className:"schedule-manager",children:[o.jsx("div",{className:"schedule-header",children:o.jsx("h1",{className:"schedule-title",children:"Schedule Manager"})}),o.jsxs("div",{className:"view-tabs",children:[o.jsxs("div",{className:"view-tabs-left",children:[o.jsx("button",{className:`view-tab ${a==="overview"?"active":""}`,onClick:()=>A("overview"),children:"Overview"}),o.jsx("button",{className:`view-tab ${a==="calendar"?"active":""}`,onClick:()=>A("calendar"),children:"Calendar"}),o.jsx("button",{className:`view-tab ${a==="projects"?"active":""}`,onClick:()=>A("projects"),children:"Projects"})]}),C&&o.jsxs("button",{className:"add-button",onClick:pe,children:[o.jsx("i",{className:"fas fa-plus"})," New Project"]})]}),a==="overview"&&o.jsxs("div",{className:"overview-dashboard",children:[o.jsxs("div",{className:"stats-grid",children:[o.jsxs("div",{className:"stat-card",onClick:()=>{A("projects"),m("all"),g("all")},style:{cursor:"pointer"},title:"Click to view all projects",children:[o.jsx("div",{className:"stat-label",children:"Total Projects"}),o.jsx("div",{className:"stat-value",children:Je.totalProjects})]}),o.jsxs("div",{className:"stat-card",onClick:()=>{A("projects"),m("all"),g("completed")},style:{cursor:"pointer"},title:"Click to view completed projects",children:[o.jsx("div",{className:"stat-label",children:"Completed"}),o.jsxs("div",{className:"stat-value",style:{color:"var(--subtxt)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[Je.completed,o.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--muted)"},children:[Je.totalProjects>0?Math.round(Je.completed/Je.totalProjects*100):0,"%"]})]})]}),o.jsxs("div",{className:"stat-card",onClick:()=>{A("projects"),m("all"),g("in-progress")},style:{cursor:"pointer"},title:"Click to view in-progress projects",children:[o.jsx("div",{className:"stat-label",children:"In Progress"}),o.jsx("div",{className:"stat-value",style:{color:"var(--text)"},children:Je.inProgress})]}),o.jsxs("div",{className:"stat-card",onClick:()=>{A("projects"),m("all"),g("overdue")},style:{cursor:"pointer"},title:"Click to view overdue projects",children:[o.jsx("div",{className:"stat-label",children:"Overdue"}),o.jsx("div",{className:"stat-value",style:{color:"var(--accent)"},children:Je.overdue})]}),o.jsxs("div",{className:"stat-card",onClick:()=>{A("projects"),m("all"),g("all")},style:{cursor:"pointer"},title:"Click to view all projects",children:[o.jsxs("div",{className:"stat-label",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:["Avg Progress",o.jsx("span",{title:"Average progress is calculated by averaging the percent completion of all projects, based on their start and due dates, and current status. Completed projects are 100%. Projects in progress or planning are calculated by how far along the timeline they are.",style:{cursor:"help",color:"var(--accent)",fontSize:"1.1rem"},children:o.jsx("i",{className:"fas fa-info-circle"})})]}),o.jsxs("div",{className:"stat-value",children:[Je.avgProgress,"%"]})]})]}),o.jsx("h2",{className:"section-title",children:"Teams Overview"}),o.jsx("div",{className:"teams-overview",children:tt.map(M=>o.jsxs("div",{className:"team-card",style:{"--team-color":M.color},onClick:()=>{m(M.id),g("all"),A("projects")},children:[o.jsx("div",{className:"team-header",children:o.jsx("h3",{className:"team-name",children:M.name})}),o.jsxs("div",{className:"team-progress",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",fontSize:"0.9rem"},children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{style:{fontWeight:"bold"},children:[M.avgProgress,"%"]})]}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:`${M.avgProgress}%`,backgroundColor:"var(--accent)"}})})]}),o.jsxs("div",{className:"team-stats",children:[o.jsxs("div",{className:"team-stat",children:[o.jsx("div",{className:"team-stat-value",style:{color:"var(--subtxt)"},children:M.completed}),o.jsx("div",{className:"team-stat-label",children:"Done"})]}),o.jsxs("div",{className:"team-stat",children:[o.jsx("div",{className:"team-stat-value",style:{color:"var(--text)"},children:M.active}),o.jsx("div",{className:"team-stat-label",children:"Active"})]}),o.jsxs("div",{className:"team-stat",children:[o.jsx("div",{className:"team-stat-value",style:{color:"var(--accent)"},children:M.overdue}),o.jsx("div",{className:"team-stat-label",children:"Overdue"})]})]})]},M.id))}),o.jsxs("div",{className:"upcoming-deadlines",children:[o.jsx("h2",{className:"section-title",children:"Upcoming Deadlines"}),(()=>{const M=s.projects.filter(ge=>ge.status!=="completed"&&ge.dueDate).sort((ge,Le)=>V(ge.dueDate)-V(Le.dueDate)).slice(0,4);return M.length===0?o.jsx("p",{style:{color:"var(--subtxt)",textAlign:"center",padding:"2rem"},children:"No upcoming deadlines"}):M.map(ge=>o.jsxs("div",{className:"deadline-item",style:{"--team-color":re(ge.team)},onClick:()=>N(ge),children:[o.jsxs("div",{className:"deadline-info",children:[o.jsx("div",{className:"deadline-title",children:ge.title}),o.jsxs("div",{className:"deadline-meta",children:[ie(ge.team),"  ",ge.assignedTo,"  ",Q(ge.startDate,ge.dueDate,ge.status),"% complete"]})]}),o.jsx("div",{className:"deadline-date",children:z(ge.dueDate,{month:"short",day:"numeric"})})]},ge.id))})()]})]}),a==="calendar"&&o.jsxs("div",{className:"calendar-view",children:[o.jsxs("div",{className:"calendar-header",children:[o.jsxs("div",{className:"calendar-nav",children:[o.jsx("button",{className:"calendar-arrow-btn","aria-label":"Previous month",onClick:()=>{const M=new Date(O);M.setMonth(M.getMonth()-1),F(M)},children:o.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})}),o.jsx("div",{className:"calendar-month",children:O.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),o.jsx("button",{className:"calendar-arrow-btn","aria-label":"Next month",onClick:()=>{const M=new Date(O);M.setMonth(M.getMonth()+1),F(M)},children:o.jsx("i",{className:"fas fa-chevron-right","aria-hidden":"true"})})]}),o.jsx("button",{className:"calendar-nav-btn",onClick:()=>F(new Date),children:"Today"})]}),o.jsxs("div",{className:"calendar-grid",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(M=>o.jsx("div",{className:"calendar-day-header",children:M},M)),Te(O).map((M,ge)=>{if(!M)return o.jsx("div",{className:"calendar-day empty"},`empty-${ge}`);const Le=$e(M),Ue=M.toDateString()===new Date().toDateString();return o.jsxs("div",{className:`calendar-day ${Ue?"today":""}`,onClick:()=>dt(M),children:[o.jsx("div",{className:"calendar-date",children:M.getDate()}),o.jsxs("div",{className:"calendar-items",children:[Le.slice(0,2).map(qe=>o.jsx("div",{className:"calendar-item",style:{backgroundColor:re(qe.team)},onClick:rt=>{rt.stopPropagation(),qe.itemType==="project"&&N(qe)},title:qe.title,children:qe.title},`${qe.itemType}-${qe.id}`)),Le.length>2&&o.jsxs("div",{className:"calendar-more",onClick:qe=>{qe.stopPropagation(),dt(M)},title:`${Le.length} items on this day`,children:["+",Le.length-2," more"]})]})]},M.toISOString())})]})]}),a==="projects"&&o.jsxs("div",{children:[o.jsx("div",{className:"projects-header",children:o.jsxs("div",{className:"filters",children:[o.jsx("label",{htmlFor:"team-filter",style:{fontWeight:600,color:"var(--text)"},children:"Filter by Team:"}),o.jsxs("select",{id:"team-filter",className:"team-filter",value:w,onChange:M=>m(M.target.value),children:[o.jsx("option",{value:"all",children:"All Teams"}),(se||[]).map(M=>o.jsx("option",{value:M.id,children:M.name},M.id))]}),o.jsx("label",{htmlFor:"status-filter",style:{fontWeight:600,color:"var(--text)"},children:"Status:"}),o.jsxs("select",{id:"status-filter",className:"team-filter",value:b,onChange:M=>g(M.target.value),children:[o.jsx("option",{value:"all",children:"All Statuses"}),we.map(M=>o.jsx("option",{value:M,children:ye(M)},M)),o.jsx("option",{value:"overdue",children:"Overdue"})]}),o.jsx("label",{htmlFor:"sort-select",style:{fontWeight:600,color:"var(--text)"},children:"Sort:"}),o.jsx("select",{id:"sort-select",className:"team-filter",value:y,onChange:M=>B(M.target.value),children:he.map(M=>o.jsx("option",{value:M.value,children:M.label},M.value))})]})}),o.jsx("div",{className:"projects-grid",children:Ke(s.projects).filter(M=>b==="all"?!0:b==="overdue"?G(M.dueDate,M.status):M.status===b).sort((M,ge)=>le(M,ge,y)).map(M=>o.jsxs("div",{className:`project-card ${G(M.dueDate,M.status)?"overdue":""}`,style:{"--team-color":re(M.team)},onClick:()=>N(M),children:[o.jsxs("div",{className:"project-header",style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[o.jsxs("div",{className:"project-header-left",style:{flex:1,minWidth:0},children:[o.jsx("h3",{className:"project-title",style:{margin:0,wordBreak:"break-word",whiteSpace:"normal"},children:M.title}),o.jsx("div",{className:"project-team",style:{backgroundColor:"var(--muted)"},children:ie(M.team)})]}),o.jsx("div",{className:"project-status-wrapper",style:{flex:"0 0 auto",whiteSpace:"nowrap",alignSelf:"center"},children:C?o.jsx(Gh,{value:M.status,options:we,color:de(M.status,M.dueDate),onChange:ge=>ae(M,ge),className:"status-dropdown"}):o.jsx("div",{className:"project-status",style:{backgroundColor:de(M.status,M.dueDate),whiteSpace:"nowrap"},children:G(M.dueDate,M.status)?"OVERDUE":M.status.toUpperCase()})})]}),o.jsx("p",{children:M.description}),o.jsxs("div",{className:"project-progress",children:[o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:`${Q(M.startDate,M.dueDate,M.status)}%`,backgroundColor:"var(--accent)"}})}),o.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:["Progress: ",Q(M.startDate,M.dueDate,M.status),"%"]})]}),o.jsxs("div",{className:"project-meta",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",margin:"1rem 0",fontSize:"0.9rem",color:"var(--subtxt)"},children:[o.jsxs("div",{style:{gridColumn:"1 / 2"},children:[o.jsx("strong",{children:"Assigned:"})," ",M.assignedTo]}),o.jsxs("div",{style:{gridColumn:"2 / 3"},children:[o.jsx("strong",{children:"Due:"})," ",o.jsx("span",{className:G(M.dueDate,M.status)?"due-date-overdue":"",children:k(M.dueDate)})]}),o.jsxs("div",{style:{gridColumn:"1 / 2",gridRow:"2 / 3"},children:[o.jsx("strong",{children:"Priority:"})," ",M.priority]}),o.jsxs("div",{style:{gridColumn:"2 / 3",gridRow:"2 / 3"},children:[o.jsx("strong",{children:"Hours:"})," ",M.actualHours,"/",M.estimatedHours]})]}),M.tasks.length>0&&o.jsxs("div",{className:"tasks-section",children:[o.jsxs("div",{className:"tasks-header",onClick:ge=>Ce(M.id,ge),style:{cursor:"pointer",userSelect:"none"},children:[o.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[o.jsx("i",{className:`fas fa-chevron-${K[M.id]?"down":"right"}`}),"Tasks (",M.tasks.length,")"]}),C&&K[M.id]&&o.jsx("button",{className:"add-button",style:{fontSize:"0.8rem",padding:"0.5rem 1rem"},onClick:ge=>{ge.stopPropagation(),Ee(M.id)},children:"+ Task"})]}),K[M.id]&&o.jsx("div",{className:"tasks-list",children:M.tasks.map(ge=>o.jsxs("div",{className:"task-item",children:[o.jsxs("div",{className:"task-info",children:[o.jsx("div",{className:"task-title",children:ge.title}),o.jsxs("div",{className:"task-meta",children:["Due: ",k(ge.dueDate)," | Progress: ",Q(ge.startDate,ge.dueDate,ge.status),"%"]})]}),o.jsxs("div",{className:"task-actions",children:[C?o.jsx(Gh,{value:ge.status,options:Z,color:de(ge.status,ge.dueDate),onChange:Le=>Se(M.id,ge,Le),className:"task-status"}):o.jsx("div",{className:"project-status",style:{backgroundColor:de(ge.status,ge.dueDate),fontSize:"0.7rem",padding:"0.25rem 0.5rem"},children:G(ge.dueDate,ge.status)?"OVERDUE":ge.status.toUpperCase()}),C&&o.jsxs("div",{className:"task-buttons",children:[o.jsx("button",{className:"icon-btn edit",title:"Edit task",onClick:Le=>{Le.stopPropagation(),J(M,ge)},children:o.jsx("i",{className:"fas fa-edit"})}),o.jsx("button",{className:"icon-btn delete",title:"Delete task",onClick:Le=>{Le.stopPropagation(),q(M.id,ge.id)},children:o.jsx("i",{className:"fas fa-trash"})})]})]})]},ge.id))})]}),o.jsxs("div",{className:"weekly-notes-section",onClick:ge=>ge.stopPropagation(),style:{marginTop:"1rem",padding:"0.75rem",background:"var(--card)",borderRadius:"8px",border:"1px solid var(--muted)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",fontWeight:600,fontSize:"0.9rem",color:"var(--text)"},children:[o.jsx("i",{className:"fas fa-clipboard-list",style:{color:"var(--accent)"}}),"Weekly Notes"]}),o.jsx(yb,{value:M.weeklyNotes,onSave:ge=>E(M,ge),disabled:!C,rows:4,placeholder:"Add weekly notes..."})]}),C&&o.jsxs("div",{className:"action-buttons",style:{marginTop:"1rem"},children:[o.jsx("button",{className:"icon-btn edit",title:"Edit project",onClick:ge=>{ge.stopPropagation(),ee(M)},children:o.jsx("i",{className:"fas fa-edit"})}),o.jsx("button",{className:"icon-btn delete",title:"Delete project",onClick:ge=>{ge.stopPropagation(),Fe("project",M.id)},children:o.jsx("i",{className:"fas fa-trash"})})]})]},M.id))})]}),D&&!l&&!_&&o.jsx("div",{className:"modal-overlay",onClick:M=>{M.target===M.currentTarget&&T(null)},children:o.jsxs("div",{className:"modal",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{className:"modal-title",children:D.date.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),o.jsx("button",{className:"close-btn",onClick:()=>T(null),children:""})]}),D.items.length===0?o.jsx("p",{style:{color:"var(--subtxt)",textAlign:"center",padding:"1rem"},children:"No projects due on this day."}):o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:D.items.map(M=>o.jsxs("div",{className:"deadline-item",style:{"--team-color":re(M.team)},onClick:()=>{N(M),T(null)},children:[o.jsxs("div",{className:"deadline-info",children:[o.jsx("div",{className:"deadline-title",children:M.title}),o.jsxs("div",{className:"deadline-meta",children:[ie(M.team),"  ",M.assignedTo,"  ",Q(M.startDate,M.dueDate,M.status),"% complete"]})]}),o.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:o.jsx("div",{className:"project-status",style:{backgroundColor:de(M.status,M.dueDate)},children:G(M.dueDate,M.status)?"OVERDUE":M.status.toUpperCase()})})]},M.id))}),o.jsx("div",{className:"modal-actions",children:o.jsx("button",{className:"cancel-btn",onClick:()=>T(null),children:"Close"})})]})}),_&&!l&&o.jsx("div",{className:"modal-overlay",onClick:M=>{M.target===M.currentTarget&&N(null)},children:o.jsxs("div",{className:"modal project-detail-modal",children:[o.jsxs("div",{className:"modal-project-header",style:{display:"flex",alignItems:"flex-start",gap:"1rem",justifyContent:"space-between"},children:[o.jsxs("div",{className:"modal-project-info",style:{flex:1,minWidth:0},children:[o.jsx("h2",{style:{margin:0,wordBreak:"break-word",whiteSpace:"normal"},children:_.title}),o.jsxs("div",{className:"modal-badges",children:[o.jsx("div",{className:"project-team",style:{backgroundColor:"var(--muted)"},children:ie(_.team)}),C?o.jsx(Gh,{value:_.status,options:we,color:de(_.status,_.dueDate),onChange:M=>ae(_,M)}):o.jsx("div",{className:"project-status",style:{backgroundColor:de(_.status,_.dueDate)},children:G(_.dueDate,_.status)?"OVERDUE":_.status.toUpperCase()}),o.jsx("div",{className:"project-status",style:{backgroundColor:_.priority==="critical"?"var(--accent)":"var(--muted)"},children:_.priority.toUpperCase()})]})]}),o.jsx("button",{className:"close-btn",onClick:()=>N(null),children:""})]}),o.jsx("p",{style:{color:"var(--subtxt)",marginBottom:"1.5rem"},children:_.description}),o.jsxs("div",{className:"modal-project-meta",children:[o.jsxs("div",{className:"meta-item",children:[o.jsx("div",{className:"meta-label",children:"Assigned To"}),o.jsx("div",{className:"meta-value",children:_.assignedTo})]}),o.jsxs("div",{className:"meta-item",children:[o.jsx("div",{className:"meta-label",children:"Start Date"}),o.jsx("div",{className:"meta-value",children:k(_.startDate)})]}),o.jsxs("div",{className:"meta-item",children:[o.jsx("div",{className:"meta-label",children:"Due Date"}),o.jsx("div",{className:"meta-value",children:k(_.dueDate)})]}),o.jsxs("div",{className:"meta-item",children:[o.jsx("div",{className:"meta-label",children:"Progress"}),o.jsxs("div",{className:"meta-value",children:[Q(_.startDate,_.dueDate,_.status),"%"]})]}),o.jsxs("div",{className:"meta-item",children:[o.jsx("div",{className:"meta-label",children:"Hours"}),o.jsxs("div",{className:"meta-value",children:[_.actualHours," / ",_.estimatedHours]})]})]}),o.jsxs("div",{className:"project-progress",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[o.jsx("span",{style:{fontWeight:600,color:"var(--text)"},children:"Overall Progress"}),o.jsxs("span",{style:{fontWeight:700,color:"var(--accent)"},children:[Q(_.startDate,_.dueDate,_.status),"%"]})]}),o.jsx("div",{className:"progress-bar",style:{height:"12px"},children:o.jsx("div",{className:"progress-fill",style:{width:`${Q(_.startDate,_.dueDate,_.status)}%`,backgroundColor:"var(--accent)"}})})]}),_.tasks&&_.tasks.length>0&&o.jsxs("div",{className:"modal-tasks-section",children:[o.jsx("div",{className:"modal-tasks-header",children:o.jsxs("h3",{className:"section-title",children:["Tasks (",_.tasks.length,")"]})}),o.jsx("div",{className:"task-list",children:_.tasks.map(M=>o.jsxs("div",{className:"task-card",children:[o.jsxs("div",{className:"task-header",children:[o.jsxs("div",{className:"task-title-group",children:[o.jsx("h4",{children:M.title}),o.jsx("div",{className:"task-description",children:M.description})]}),C?o.jsx(Gh,{value:M.status,options:Z,color:de(M.status,M.dueDate),onChange:ge=>Se(_.id,M,ge),className:"task-status"}):o.jsx("div",{className:"project-status",style:{backgroundColor:de(M.status,M.dueDate),fontSize:"0.75rem",padding:"0.4rem 0.75rem",marginLeft:"1rem"},children:G(M.dueDate,M.status)?"OVERDUE":M.status.toUpperCase()})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",fontSize:"0.85rem",color:"var(--subtxt)",marginTop:"0.75rem"},children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Assigned:"})," ",M.assignedTo]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Due:"})," ",k(M.dueDate)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Priority:"})," ",M.priority]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Est. Hours:"})," ",M.estimatedHours]})]}),o.jsxs("div",{className:"task-progress-section",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",fontSize:"0.9rem"},children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{style:{fontWeight:"bold"},children:[Q(M.startDate,M.dueDate,M.status),"%"]})]}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:`${Q(M.startDate,M.dueDate,M.status)}%`,backgroundColor:"var(--accent)"}})})]})]},M.id))})]}),o.jsxs("div",{className:"modal-weekly-notes-section",onClick:M=>M.stopPropagation(),style:{marginTop:"1.5rem",padding:"1rem",background:"var(--card)",borderRadius:"8px",border:"1px solid var(--muted)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem",fontWeight:600,fontSize:"1rem",color:"var(--text)"},children:[o.jsx("i",{className:"fas fa-clipboard-list",style:{color:"var(--accent)"}}),"Weekly Notes"]}),o.jsx(yb,{value:_.weeklyNotes,onSave:M=>E(_,M),disabled:!C,rows:6,placeholder:"Add weekly notes..."})]}),o.jsxs("div",{className:"modal-actions",children:[C&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{className:"edit-btn",style:{padding:"0.75rem 1.5rem"},onClick:()=>{ee(_),N(null)},children:[o.jsx("i",{className:"fas fa-edit"})," Edit Project"]}),o.jsxs("button",{className:"delete-btn",style:{padding:"0.75rem 1.5rem"},onClick:()=>{Fe("project",_.id),N(null)},children:[o.jsx("i",{className:"fas fa-trash"})," Delete Project"]})]}),o.jsx("button",{className:"cancel-btn",style:{padding:"0.75rem 1.5rem"},onClick:()=>N(null),children:"Close"})]})]})}),l&&u&&o.jsx("div",{className:"modal-overlay",onClick:M=>M.target===M.currentTarget&&c(!1),children:o.jsxs("div",{className:"modal",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{className:"modal-title",children:s.projects.find(M=>M.id===u.id)?"Edit Project":"Add Project"}),o.jsx("button",{className:"close-btn",onClick:()=>c(!1),children:""})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Title ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsx("input",{type:"text",className:"form-input",value:u.title,onChange:M=>h({...u,title:M.target.value}),placeholder:"Enter project title",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Description"}),o.jsx("textarea",{className:"form-textarea",value:u.description,onChange:M=>h({...u,description:M.target.value}),placeholder:"Enter project description"})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Team ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsx("select",{className:"form-select",value:u.team,onChange:M=>h({...u,team:M.target.value}),required:!0,children:(se||[]).map(M=>o.jsx("option",{value:M.id,children:M.name},M.id))})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Priority ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsxs("select",{className:"form-select",value:u.priority,onChange:M=>h({...u,priority:M.target.value}),required:!0,children:[o.jsx("option",{value:"low",children:"Low"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"critical",children:"Critical"})]})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Status ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsxs("select",{className:"form-select",value:u.status,onChange:M=>h({...u,status:M.target.value}),required:!0,children:[o.jsx("option",{value:"planning",children:"Planning"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"on-hold",children:"On Hold"}),o.jsx("option",{value:"cancelled",children:"Canceled"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Assigned To ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsx("input",{type:"text",className:"form-input",placeholder:"Team Lead / Owner Name",value:u.assignedTo,onChange:M=>h({...u,assignedTo:M.target.value}),required:!0})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Start Date ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsx("input",{type:"date",className:"form-input",value:u.startDate,onChange:M=>h({...u,startDate:M.target.value}),required:!0,disabled:u.id&&!te,style:u.id&&!te?{backgroundColor:"var(--card)",cursor:"not-allowed",opacity:.7}:{}}),u.id&&!te&&o.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--accent)",marginTop:"0.25rem",fontStyle:"italic"},children:[o.jsx("i",{className:"fas fa-lock",style:{marginRight:"0.25rem"}}),"Only directors can edit dates after project creation"]})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Due Date ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsx("input",{type:"date",className:"form-input",value:u.dueDate,onChange:M=>h({...u,dueDate:M.target.value}),required:!0,disabled:u.id&&!te,style:u.id&&!te?{backgroundColor:"var(--card)",cursor:"not-allowed",opacity:.7}:{}}),u.id&&!te&&o.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--accent)",marginTop:"0.25rem",fontStyle:"italic"},children:[o.jsx("i",{className:"fas fa-lock",style:{marginRight:"0.25rem"}}),"Only directors can edit dates after project creation"]})]})]}),!u.id&&o.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--subtxt)",marginBottom:"1rem",padding:"0.5rem",background:"var(--card)",borderRadius:"4px",border:"1px solid var(--muted)"},children:[o.jsx("i",{className:"fas fa-info-circle",style:{marginRight:"0.5rem"}}),te?"As a director, you can edit project dates even after creation.":"As a team leader, you can set dates when creating this project. Once created, only directors can edit project dates. Please be thorough and careful when setting these dates."]}),o.jsx("div",{className:"form-row",children:o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Estimated Hours"}),o.jsx("input",{type:"number",className:"form-input",value:u.estimatedHours,onChange:M=>h({...u,estimatedHours:parseInt(M.target.value)||0})})]})}),u.startDate&&u.dueDate&&o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Calculated Progress"}),o.jsxs("div",{style:{padding:"0.75rem",background:"var(--card)",borderRadius:"8px",color:"var(--text)"},children:[Q(u.startDate,u.dueDate,u.status),"%",o.jsx("span",{style:{color:"var(--subtxt)",fontSize:"0.9rem",marginLeft:"0.5rem"},children:"(Auto-calculated based on timeline)"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:["Weekly Notes",o.jsx("span",{title:"These notes are meant to be updated each week. When you save, the new notes will replace the previous version. Use this to track weekly progress and updates.",style:{cursor:"help",color:"var(--accent)",fontSize:"1rem"},children:o.jsx("i",{className:"fas fa-info-circle"})})]}),o.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--subtxt)",marginBottom:"0.5rem",padding:"0.5rem",background:"var(--card)",borderRadius:"4px",border:"1px solid var(--muted)"},children:[o.jsx("i",{className:"fas fa-lightbulb",style:{marginRight:"0.5rem",color:"var(--accent)"}}),'These notes are designed to be updated weekly. Each save overwrites the previous notes, so keep this as a "current status" field.']}),o.jsx("textarea",{className:"form-textarea",value:u.weeklyNotes||"",onChange:M=>h({...u,weeklyNotes:M.target.value}),placeholder:"Add weekly notes about project progress, blockers, or updates...",style:{minHeight:"120px"}})]}),o.jsxs("div",{className:"tasks-management-section",children:[o.jsx("h3",{children:"Tasks Management"}),o.jsx("div",{className:"tasks-list",children:u.tasks.map((M,ge)=>o.jsxs("div",{className:"task-edit-item",children:[o.jsxs("div",{className:"task-edit-header",children:[o.jsxs("h4",{children:["Task ",ge+1]}),o.jsx("button",{type:"button",className:"delete-btn",onClick:()=>{const Le=u.tasks.filter((Ue,qe)=>qe!==ge);h({...u,tasks:Le})},children:"Remove"})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Task Title ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsx("input",{type:"text",className:"form-input",value:M.title,onChange:Le=>{const Ue=[...u.tasks];Ue[ge]={...M,title:Le.target.value},h({...u,tasks:Ue})},placeholder:"Enter task title",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Task Description"}),o.jsx("textarea",{className:"form-textarea",style:{minHeight:"60px"},value:M.description,onChange:Le=>{const Ue=[...u.tasks];Ue[ge]={...M,description:Le.target.value},h({...u,tasks:Ue})},placeholder:"Enter task description"})]}),(!M.id||typeof M.id!="number")&&o.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--subtxt)",marginBottom:"0.75rem",padding:"0.5rem",background:"var(--card)",borderRadius:"4px",border:"1px solid var(--muted)"},children:[o.jsx("i",{className:"fas fa-info-circle",style:{marginRight:"0.5rem"}}),te?"As a director, you can edit task dates at any time.":"As a team leader, you can set dates when creating this task. Once created, only directors can edit task dates. Please be thorough and careful when setting these dates."]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Start Date ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsx("input",{type:"date",className:"form-input",value:M.startDate,onChange:Le=>{const Ue=[...u.tasks];Ue[ge]={...M,startDate:Le.target.value},h({...u,tasks:Ue})},required:!0,disabled:M.id&&typeof M.id=="number"&&!te,style:M.id&&typeof M.id=="number"&&!te?{backgroundColor:"var(--card)",cursor:"not-allowed",opacity:.7}:{}}),M.id&&typeof M.id=="number"&&!te&&o.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--accent)",marginTop:"0.25rem",fontStyle:"italic"},children:[o.jsx("i",{className:"fas fa-lock",style:{marginRight:"0.25rem"}}),"Only directors can edit dates after task creation"]})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Due Date ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsx("input",{type:"date",className:"form-input",value:M.dueDate,onChange:Le=>{const Ue=[...u.tasks];Ue[ge]={...M,dueDate:Le.target.value},h({...u,tasks:Ue})},required:!0,disabled:M.id&&typeof M.id=="number"&&!te,style:M.id&&typeof M.id=="number"&&!te?{backgroundColor:"var(--card)",cursor:"not-allowed",opacity:.7}:{}}),M.id&&typeof M.id=="number"&&!te&&o.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--accent)",marginTop:"0.25rem",fontStyle:"italic"},children:[o.jsx("i",{className:"fas fa-lock",style:{marginRight:"0.25rem"}}),"Only directors can edit dates after task creation"]})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Status ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsxs("select",{className:"form-select",value:M.status,onChange:Le=>{const Ue=[...u.tasks];Ue[ge]={...M,status:Le.target.value},h({...u,tasks:Ue})},required:!0,children:[o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"completed",children:"Completed"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Priority ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsxs("select",{className:"form-select",value:M.priority,onChange:Le=>{const Ue=[...u.tasks];Ue[ge]={...M,priority:Le.target.value},h({...u,tasks:Ue})},required:!0,children:[o.jsx("option",{value:"low",children:"Low"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"critical",children:"Critical"})]})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Assigned To ",o.jsx("span",{style:{color:"var(--accent)"},children:"*"})]}),o.jsx("input",{type:"text",className:"form-input",placeholder:"Team Lead / Owner Name",value:M.assignedTo,onChange:Le=>{const Ue=[...u.tasks];Ue[ge]={...M,assignedTo:Le.target.value},h({...u,tasks:Ue})},required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Estimated Hours"}),o.jsx("input",{type:"number",className:"form-input",value:M.estimatedHours,onChange:Le=>{const Ue=[...u.tasks];Ue[ge]={...M,estimatedHours:parseInt(Le.target.value)||0},h({...u,tasks:Ue})}})]})]}),M.startDate&&M.dueDate&&o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Calculated Progress"}),o.jsxs("div",{style:{padding:"0.75rem",background:"var(--card)",borderRadius:"8px",color:"var(--text)"},children:[Q(M.startDate,M.dueDate,M.status),"%",o.jsx("span",{style:{color:"var(--subtxt)",fontSize:"0.9rem",marginLeft:"0.5rem"},children:"(Auto-calculated based on timeline)"})]})]})]},M.id||ge))}),o.jsx("button",{type:"button",className:"add-button",onClick:()=>{const M={id:"temp-"+Date.now(),title:"",description:"",startDate:new Date().toISOString().split("T")[0],dueDate:"",estimatedHours:0,status:"pending",priority:"medium",assignedTo:""};h({...u,tasks:[...u.tasks,M]})},children:"+ Add Task"})]})]}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"cancel-btn",onClick:()=>c(!1),children:"Cancel"}),o.jsx("button",{className:"save-btn",onClick:xe,children:"Save"})]})]})})]})});F4.displayName="ScheduleManager";/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lQ=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),bb=t=>{const e=lQ(t);return e.charAt(0).toUpperCase()+e.slice(1)},j4=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),cQ=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dQ=X.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...A},l)=>X.createElement("svg",{ref:l,...uQ,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:j4("lucide",s),...!i&&!cQ(A)&&{"aria-hidden":"true"},...A},[...a.map(([c,u])=>X.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=(t,e)=>{const r=X.forwardRef(({className:n,...s},i)=>X.createElement(dQ,{ref:i,iconNode:e,className:j4(`lucide-${AQ(bb(t))}`,`lucide-${t}`,n),...s}));return r.displayName=bb(t),r};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],U4=jn("award",hQ);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],pQ=jn("book-open",fQ);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mQ=jn("calendar",gQ);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],wQ=jn("chart-column",vQ);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],bQ=jn("folder",yQ);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],I4=jn("graduation-cap",BQ);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],_Q=jn("grip-vertical",xQ);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],SQ=jn("newspaper",CQ);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],kQ=jn("package",EQ);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NQ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Q4=jn("pen",NQ);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ju=jn("plus",FQ);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jQ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Bb=jn("save",jQ);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xb=jn("settings",UQ);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IQ=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],QQ=jn("shopping-cart",IQ);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LQ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Mf=jn("trash-2",LQ);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DQ=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],TQ=jn("upload",DQ);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PQ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],L4=jn("users",PQ);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OQ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],j1=jn("x",OQ),D4=X.forwardRef((t,e)=>{var Z;const[r,n]=X.useState([]),[s,i]=X.useState(!0),[a,A]=X.useState(null),[l,c]=X.useState(null),[u,h]=X.useState({semester:"",leadership:[]}),[p,d]=X.useState(!1),[w,m]=X.useState(null),[b,g]=X.useState(null),{showError:y,showConfirm:B}=Ai(),{status:_,lastSync:N,startSaving:D,finishSaving:T,acknowledgeNewData:O,setDisplayedData:F}=Vd(()=>Ve.getAlumni(),2e3);X.useEffect(()=>{I()},[]),X.useEffect(()=>{},[_]);const K=async()=>{await I(),O()};X.useImperativeHandle(e,()=>({handleAddSemester:()=>{d(!0)}}));const I=async()=>{console.log("Loading alumni data from Supabase..."),i(!0);try{const he=await Ve.getAlumni();if(console.log("Loaded alumni data:",he),!he||!he.alumniData)throw console.error("Invalid data structure received:",he),new Error("Invalid alumni data structure");console.log(` Successfully loaded ${he.alumniData.length} alumni semesters from Supabase`),n(he.alumniData),F(he)}catch(he){console.error("Error loading alumni data:",he),await y(`Failed to load alumni data: ${he.message}`,"Load Error"),n([])}finally{i(!1)}},j=(he,le)=>{c({...he}),A(le)},H=async()=>{if(!l.semester.trim()){await y("Please enter a semester name.","Missing Required Field");return}A(null);const he={...l};c(null),D();try{await Ve.saveAlumniSemester(he),await I(),F({alumniData:r}),console.log(" Alumni semester saved successfully")}catch(le){console.error("Error saving alumni semester:",le),await y(`Failed to save: ${le.message}`,"Save Error")}finally{T()}},C=he=>le=>{a===null&&(m(he),le.dataTransfer.effectAllowed="move")},te=he=>le=>{a!==null||w===null||g(he)},ve=he=>{a!==null||w===null||he.preventDefault()},ce=async he=>{if(a!==null||w===null||b===null)return;he.preventDefault();const le=[...r],[ae]=le.splice(w,1);le.splice(b,0,ae);const Se=le.length,E=le.map((Q,pe)=>({...Q,order:Se-pe}));n(E),m(null),g(null);try{D();const Q=E.map(pe=>({id:pe.id,order:pe.order})).filter(pe=>typeof pe.id=="number"&&!Number.isNaN(pe.id));await Ve.saveAlumniOrder(Q),F({alumniData:E})}catch(Q){console.error("Failed to save new alumni order:",Q),await y(`Failed to save new order: ${Q.message}`,"Save Order Error")}finally{T()}},ie=()=>{A(null),c(null)},re=async()=>{if(!u.semester.trim()){await y("Please enter a semester name.","Missing Required Field");return}d(!1);const he=r.length>0?Math.max(...r.map(ae=>typeof ae.order=="number"?ae.order:0)):0,le={...u,leadership:u.leadership||[],order:he+1};h({semester:"",leadership:[]}),D();try{await Ve.saveAlumniSemester(le),await I(),F({alumniData:r}),console.log(" Alumni semester added successfully")}catch(ae){console.error("Error adding alumni semester:",ae),await y(`Failed to add semester: ${ae.message}`,"Save Error")}finally{T()}},Be=async(he,le)=>{if(await B(`This action cannot be undone. The semester "${le}" and all its leadership data will be permanently deleted.`,"Delete Alumni Semester?","Delete","Cancel")){D();try{const Se=typeof he=="number"?he:he??null;await Ve.deleteAlumniSemesterSafe({id:Se,semester:le});const E=r.filter(Q=>Q.id!==he);n(E),await I(),F({alumniData:E}),console.log(" Alumni semester deleted successfully")}catch(Se){console.error("Error deleting alumni semester:",Se),await y(`Failed to delete: ${Se.message}`,"Delete Error")}finally{T()}}},se=(he,le)=>{c({...l,[he]:le})},k=()=>{const he=[...l.leadership||[],{role:"",name:""}];c({...l,leadership:he})},z=(he,le,ae)=>{const Se=[...l.leadership];Se[he][le]=ae,c({...l,leadership:Se})},V=he=>{const le=l.leadership.filter((ae,Se)=>Se!==he);c({...l,leadership:le})},G=()=>{const he=[...u.leadership||[],{role:"",name:""}];h({...u,leadership:he})},de=(he,le,ae)=>{const Se=[...u.leadership];Se[he][le]=ae,h({...u,leadership:Se})},ye=he=>{const le=u.leadership.filter((ae,Se)=>Se!==he);h({...u,leadership:le})},we=ft.hasPermission("edit_alumni");return s?o.jsxs("div",{className:"loading-container",children:[o.jsx("div",{className:"loading-spinner"}),o.jsx("p",{children:"Loading alumni data..."})]}):o.jsxs("div",{className:"alumni-manager",children:[o.jsx("style",{children:`
        .alumni-manager {
          max-width: 1100px;
          margin: 0 auto;
          padding: 0 1rem;
        }

        .alumni-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 2rem;
        }

        .alumni-title {
          font-family: 'Bebas Neue', sans-serif;
          font-size: 2rem;
          color: var(--text);
          margin: 0;
        }

        .action-buttons {
          display: flex;
          gap: 1rem;
        }

        .btn {
          background: var(--accent);
          color: white;
          border: none;
          padding: 0.75rem 1.5rem;
          border-radius: 6px;
          cursor: pointer;
          font-size: 0.9rem;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          transition: all 0.3s ease;
        }

        .btn:hover {
          background: #c71821;
          transform: translateY(-1px);
        }

        .btn:disabled {
          background: #666;
          cursor: not-allowed;
          transform: none;
        }

        .btn-secondary {
          background: #666;
        }

        .btn-secondary:hover {
          background: #777;
        }

        .semester-card {
          background: var(--surface);
          padding: 1.5rem;
          border-radius: var(--radius);
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          transition: box-shadow .2s ease, transform .1s ease, border-color .2s ease;
        }

        .semester-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1rem;
          gap: 0.75rem;
        }

        .semester-title-row {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          min-width: 0; /* allows children to shrink for ellipsis */
          flex: 1;
        }

        .semester-title {
          font-size: 1.5rem;
          font-weight: bold;
          color: var(--text);
          margin: 0;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        .semester-actions {
          display: flex;
          gap: 0.5rem;
          padding-left: 0.5rem; /* breathing room between title/input and actions */
        }

        .btn-small {
          padding: 0.5rem;
          font-size: 0.8rem;
          min-width: auto;
        }

        .form-group {
          margin-bottom: 1rem;
        }

        .form-label {
          display: block;
          margin-bottom: 0.5rem;
          color: var(--text);
          font-weight: 500;
        }

        .form-input {
          width: 100%;
          padding: 0.75rem;
          border: 1px solid #333;
          border-radius: 6px;
          background: var(--bg);
          color: var(--text);
          font-size: 0.9rem;
        }

        .form-input:focus {
          outline: none;
          border-color: var(--accent);
          box-shadow: 0 0 0 2px rgba(220, 53, 69, 0.2);
        }

        .leadership-list {
          margin-top: 1rem;
        }

        .leadership-item {
          display: grid;
          grid-template-columns: 1fr 1fr auto;
          gap: 1rem;
          align-items: center;
          padding: 0.75rem;
          background: var(--bg);
          border-radius: 6px;
          margin-bottom: 0.5rem;
        }

        .leadership-item input {
          margin-bottom: 0;
        }

        .leadership-item-readonly {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 0.75rem;
          background: var(--bg);
          border-radius: 6px;
          margin-bottom: 0.5rem;
        }

        .leadership-role-name {
          color: var(--text);
          font-size: 0.95rem;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        /* Grid layout for semesters */
        .semesters-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: 1rem;
          align-items: start;
        }

        /* Drag visual */
        .semester-card.drag-over {
          outline: 2px dashed var(--accent);
          outline-offset: -6px;
          transform: scale(0.995);
        }

        .leadership-role-name .role {
          font-weight: bold;
          color: var(--accent);
        }

        .add-semester-form {
          background: var(--surface);
          padding: 1.5rem;
          border-radius: var(--radius);
          margin-bottom: 1.5rem;
          border: 2px dashed #333;
        }

        .loading-container {
          text-align: center;
          padding: 2rem;
          color: var(--text);
        }

        .loading-spinner {
          width: 40px;
          height: 40px;
          border: 3px solid #333;
          border-top: 3px solid var(--accent);
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin: 0 auto 1rem;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        .empty-state {
          text-align: center;
          padding: 3rem;
          color: var(--subtxt);
        }

        .empty-state-icon {
          font-size: 4rem;
          margin-bottom: 1rem;
          opacity: 0.5;
        }

        @media (max-width: 768px) {
          .alumni-header {
            flex-direction: column;
            gap: 1rem;
            align-items: stretch;
          }

          .action-buttons {
            justify-content: center;
          }

          .leadership-item {
            grid-template-columns: 1fr;
          }

          .leadership-item-readonly {
            flex-direction: column;
            align-items: flex-start;
          }
        }
      `}),o.jsxs("div",{className:"alumni-header",children:[o.jsx("h2",{className:"alumni-title",children:"Alumni Management"}),o.jsxs("div",{className:"action-buttons",style:{alignItems:"center"},children:[o.jsx(Gd,{status:_,lastSync:N,onRefresh:K}),we&&o.jsxs("button",{className:"btn",onClick:()=>d(!p),children:[o.jsx(Ju,{size:18}),"Add Semester"]})]})]}),p&&o.jsxs("div",{className:"add-semester-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Semester"}),o.jsx("input",{type:"text",className:"form-input",value:u.semester,onChange:he=>h({...u,semester:he.target.value}),placeholder:"e.g., Fall 2025"})]}),o.jsxs("div",{className:"leadership-list",children:[o.jsx("h4",{style:{color:"var(--text)",marginBottom:"1rem"},children:"Leadership"}),(Z=u.leadership)==null?void 0:Z.map((he,le)=>o.jsxs("div",{className:"leadership-item",children:[o.jsx("input",{type:"text",className:"form-input",value:he.role,onChange:ae=>de(le,"role",ae.target.value),placeholder:"Role (e.g., Project Director)"}),o.jsx("input",{type:"text",className:"form-input",value:he.name,onChange:ae=>de(le,"name",ae.target.value),placeholder:"Name"}),o.jsx("button",{className:"btn btn-small btn-secondary",onClick:()=>ye(le),children:o.jsx(Mf,{size:16})})]},le)),o.jsxs("button",{className:"btn btn-small",onClick:G,style:{marginTop:"0.5rem"},children:[o.jsx(Ju,{size:16}),"Add Leadership Role"]})]}),o.jsxs("div",{className:"action-buttons",style:{marginTop:"1rem"},children:[o.jsxs("button",{className:"btn",onClick:re,children:[o.jsx(Bb,{size:18}),"Save Semester"]}),o.jsxs("button",{className:"btn btn-secondary",onClick:()=>{d(!1),h({semester:"",leadership:[]})},children:[o.jsx(j1,{size:18}),"Cancel"]})]})]}),r.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-state-icon",children:""}),o.jsx("h3",{children:"No Alumni Data"}),o.jsx("p",{children:"Start by adding your first semester of alumni data."})]}):o.jsx("div",{className:"semesters-grid",onDragOver:ve,onDrop:ce,children:r.map((he,le)=>{var ae,Se;return o.jsxs("div",{className:`semester-card${b===le?" drag-over":""}`,draggable:we&&a===null,onDragStart:C(le),onDragEnter:te(le),children:[o.jsxs("div",{className:"semester-header",children:[a===le?o.jsx("input",{type:"text",className:"form-input",value:l.semester,onChange:E=>se("semester",E.target.value),style:{maxWidth:"420px"}}):o.jsxs("div",{className:"semester-title-row",children:[we&&o.jsx("span",{title:"Drag to reorder",style:{cursor:"grab",color:"var(--subtxt)"},children:o.jsx(_Q,{size:18})}),o.jsx("h3",{className:"semester-title",children:he.semester})]}),o.jsx("div",{className:"semester-actions",children:a===le?o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"btn btn-small",onClick:H,children:o.jsx(Bb,{size:16})}),o.jsx("button",{className:"btn btn-small btn-secondary",onClick:ie,children:o.jsx(j1,{size:16})})]}):o.jsx(o.Fragment,{children:we&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"btn btn-small",onClick:()=>j(he,le),children:o.jsx(Q4,{size:16})}),o.jsx("button",{className:"btn btn-small btn-secondary",onClick:()=>Be(he.id,he.semester),children:o.jsx(Mf,{size:16})})]})})})]}),o.jsxs("div",{className:"leadership-list",children:[o.jsx("h4",{style:{color:"var(--text)",marginBottom:"1rem"},children:"Leadership"}),a===le?o.jsxs(o.Fragment,{children:[(ae=l.leadership)==null?void 0:ae.map((E,Q)=>o.jsxs("div",{className:"leadership-item",children:[o.jsx("input",{type:"text",className:"form-input",value:E.role,onChange:pe=>z(Q,"role",pe.target.value),placeholder:"Role (e.g., Project Director)"}),o.jsx("input",{type:"text",className:"form-input",value:E.name,onChange:pe=>z(Q,"name",pe.target.value),placeholder:"Name"}),o.jsx("button",{className:"btn btn-small btn-secondary",onClick:()=>V(Q),children:o.jsx(Mf,{size:16})})]},Q)),o.jsxs("button",{className:"btn btn-small",onClick:k,children:[o.jsx(Ju,{size:16}),"Add Leadership Role"]})]}):(Se=he.leadership)==null?void 0:Se.map((E,Q)=>o.jsx("div",{className:"leadership-item-readonly",children:o.jsxs("div",{className:"leadership-role-name",children:[o.jsxs("span",{className:"role",children:[E.role,":"]})," ",E.name]})},Q))]})]},he.id||le)})})]})});D4.displayName="AlumniManager";const T4=X.forwardRef((t,e)=>{const[r,n]=X.useState([]),[s,i]=X.useState(!0),[a,A]=X.useState(null),[l,c]=X.useState(!1),[u,h]=X.useState(null),[p,d]=X.useState(null),[w,m]=X.useState(!1),{showError:b,showConfirm:g}=Ai(),{status:y,lastSync:B,startSaving:_,finishSaving:N,acknowledgeNewData:D,setDisplayedData:T}=Vd(()=>Ve.getSponsors(),2e3);X.useEffect(()=>{O()},[]),X.useImperativeHandle(e,()=>({handleAddSponsor:()=>{K()}}));const O=async()=>{console.log("Loading sponsor data from Supabase..."),i(!0);try{const k=await Ve.getSponsors();if(console.log("Loaded sponsor data:",k),!k||!k.sponsorTiers)throw console.error("Invalid data structure received:",k),new Error("Invalid sponsor data structure");console.log(` Successfully loaded ${k.sponsorTiers.length} sponsor tiers from Supabase`),n(k.sponsorTiers),T(k)}catch(k){console.error("Error loading sponsor data:",k),await b(`Failed to load sponsor data: ${k.message}`,"Load Error"),n([])}finally{i(!1)}},F=(k,z)=>{A({...k,tier:z}),h(null),d(k.logo||null),c(!0)},K=(k="Platinum Sponsors")=>{A({id:Date.now(),name:"",tier:k,logo:"",website:"",order:0}),h(null),d(null),c(!0)},I=async k=>{if(!k)return;if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif","image/svg+xml"].includes(k.type)){await b("Please upload a JPEG, PNG, WebP, SVG, or GIF image.","Invalid File Type");return}const V=5*1024*1024;if(k.size>V){await b("Maximum file size is 5MB. Please choose a smaller image.","File Too Large");return}h(k);const G=new FileReader;G.onloadend=()=>{d(G.result)},G.readAsDataURL(k)},j=k=>{k.preventDefault(),k.stopPropagation();const z=k.dataTransfer.files[0];z&&I(z)},H=k=>{k.preventDefault(),k.stopPropagation()},C=()=>{h(null),d(null),A({...a,logo:""})},te=async()=>{if(!a.name||!a.tier){await b("Please fill in the Name and Tier fields.","Missing Required Fields");return}if(!p&&!a.logo){await b("Please upload a logo for this sponsor.","Logo Required");return}c(!1);const k={...a};A(null),_();try{if(u){m(!0);try{const z=await Ve.uploadSponsorLogo(u,k.id);k.logo=z,console.log(" Logo uploaded successfully:",z)}catch(z){throw console.error("Error uploading logo:",z),await b(`Failed to upload logo: ${z.message}`,"Upload Error"),z}finally{m(!1)}}await Ve.saveSponsor(k),await O(),h(null),d(null),console.log(" Sponsor saved successfully")}catch(z){console.error("Error saving sponsor:",z),await b(`Failed to save: ${z.message}`,"Save Error")}finally{N()}},ve=async k=>{if(await g("This action cannot be undone. The sponsor and their associated logo will be permanently deleted.","Delete Sponsor?","Delete","Cancel")){_();try{await Ve.deleteSponsor(k),await O(),console.log(" Sponsor deleted successfully")}catch(V){console.error("Error deleting sponsor:",V),await b(`Failed to delete: ${V.message}`,"Delete Error")}finally{N()}}},ce=()=>{c(!1),A(null),h(null),d(null)},ie=async()=>{await O(),D()},re=k=>{const z=k.toLowerCase();return z.includes("platinum")?"":z.includes("gold")?"":z.includes("silver")?"":z.includes("bronze")?"":""},Be=ft.hasPermission("edit_sponsors");if(s)return o.jsx("div",{className:"loading",children:"Loading sponsor data..."});const se=["Platinum Sponsors","Gold Sponsors","Silver Sponsors","Bronze Sponsors"];return o.jsxs("div",{className:"sponsors-manager",children:[o.jsx("style",{children:`
        .sponsors-manager {
          max-width: 1400px;
          margin: 0 auto;
          padding: 0 1rem;
        }

        .sponsors-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 2rem;
          flex-wrap: wrap;
          gap: 1rem;
        }

        .sponsors-title {
          font-family: 'Bebas Neue', sans-serif;
          font-size: 2rem;
          color: var(--text);
          margin: 0;
        }

        .header-buttons {
          display: flex;
          gap: 1rem;
          align-items: center;
        }

        .add-sponsor-btn {
          background: var(--accent);
          color: white;
          border: none;
          padding: 0.75rem 1.5rem;
          border-radius: 6px;
          cursor: pointer;
          font-size: 0.9rem;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          transition: all 0.3s ease;
        }

        .add-sponsor-btn:hover {
          background: #c71821;
          transform: translateY(-1px);
        }

        .tier-section {
          margin-bottom: 3rem;
        }

        .tier-header {
          display: flex;
          align-items: center;
          gap: 0.75rem;
          margin-bottom: 1.5rem;
          padding-bottom: 0.75rem;
          border-bottom: 2px solid var(--accent);
        }

        .tier-title {
          font-family: 'Bebas Neue', sans-serif;
          font-size: 1.75rem;
          color: var(--text);
          margin: 0;
        }

        .sponsors-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
          gap: 1.5rem;
        }

        .sponsor-card {
          background: var(--surface);
          border-radius: var(--radius);
          padding: 1.5rem;
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          transition: transform 0.3s ease;
          display: flex;
          flex-direction: column;
          align-items: center;
          text-align: center;
        }

        .sponsor-card:hover {
          transform: translateY(-2px);
        }

        .sponsor-logo-container {
          width: 100%;
          height: 120px;
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 1rem;
          background: rgba(255, 255, 255, 0.05);
          border-radius: 6px;
          padding: 1rem;
        }

        .sponsor-logo {
          max-width: 100%;
          max-height: 100%;
          object-fit: contain;
        }

        .sponsor-name {
          font-size: 1.1rem;
          font-weight: 600;
          color: var(--text);
          margin: 0;
        }

        .sponsor-actions {
          display: flex;
          gap: 0.5rem;
          margin-top: auto;
          width: 100%;
          justify-content: center;
        }

        .action-btn {
          padding: 0.5rem;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          width: 36px;
          height: 36px;
        }

        .action-btn svg {
          width: 18px;
          height: 18px;
        }

        .edit-btn {
          background: var(--accent);
          color: white;
        }

        .edit-btn:hover {
          background: #c71821;
          transform: translateY(-2px);
        }

        .delete-btn {
          background: #dc2626;
          color: white;
        }

        .delete-btn:hover {
          background: #b91c1c;
          transform: translateY(-2px);
        }

        .no-sponsors {
          text-align: center;
          padding: 3rem 1rem;
          background: var(--surface);
          border-radius: var(--radius);
          border: 2px dashed rgba(255, 255, 255, 0.2);
          color: var(--subtxt);
        }

        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.8);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1000;
        }

        .modal-content {
          background: var(--surface);
          padding: 2rem;
          border-radius: var(--radius);
          max-width: 500px;
          width: 90%;
          max-height: 80vh;
          overflow-y: auto;
        }

        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1.5rem;
        }

        .modal-title {
          font-family: 'Bebas Neue', sans-serif;
          font-size: 1.5rem;
          color: var(--text);
          margin: 0;
        }

        .close-btn {
          background: none;
          border: none;
          color: var(--subtxt);
          cursor: pointer;
          font-size: 1.5rem;
        }

        .form-group {
          margin-bottom: 1rem;
        }

        .form-label {
          display: block;
          color: var(--text);
          margin-bottom: 0.5rem;
          font-weight: 500;
        }

        .form-input, .form-select {
          width: 100%;
          padding: 0.75rem;
          border: 2px solid #333;
          border-radius: 6px;
          background: #1a1a1a;
          color: var(--text);
          font-size: 0.9rem;
          font-family: inherit;
        }

        .form-input:focus, .form-select:focus {
          outline: none;
          border-color: var(--accent);
        }

        .logo-upload-area {
          width: 100%;
          min-height: 200px;
          border: 2px dashed #333;
          border-radius: 8px;
          background: #1a1a1a;
          cursor: pointer;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          position: relative;
          overflow: hidden;
        }

        .logo-upload-area:hover {
          border-color: var(--accent);
          background: #222;
        }

        .logo-upload-area.has-logo {
          min-height: 250px;
          border-style: solid;
        }

        .upload-placeholder {
          text-align: center;
          padding: 2rem;
          color: var(--subtxt);
        }

        .upload-placeholder svg {
          width: 48px;
          height: 48px;
          margin: 0 auto 1rem;
          opacity: 0.6;
        }

        .upload-placeholder p {
          margin: 0.5rem 0;
        }

        .upload-hint {
          font-size: 0.75rem;
          opacity: 0.7;
        }

        .logo-preview-container {
          width: 100%;
          height: 100%;
          position: relative;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 1rem;
        }

        .logo-preview {
          max-width: 100%;
          max-height: 300px;
          border-radius: 6px;
          object-fit: contain;
        }

        .remove-logo-btn {
          position: absolute;
          top: 1rem;
          right: 1rem;
          background: rgba(220, 38, 38, 0.9);
          color: white;
          border: none;
          border-radius: 50%;
          width: 32px;
          height: 32px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
          z-index: 10;
        }

        .remove-logo-btn:hover {
          background: #dc2626;
          transform: scale(1.1);
        }

        .remove-logo-btn svg {
          width: 16px;
          height: 16px;
        }

        .upload-status {
          color: var(--accent);
          font-size: 0.85rem;
          margin-top: 0.5rem;
          text-align: center;
        }

        .modal-actions {
          display: flex;
          gap: 1rem;
          justify-content: flex-end;
          margin-top: 2rem;
        }

        .save-btn {
          background: var(--accent);
          color: white;
          border: none;
          padding: 0.75rem 1.5rem;
          border-radius: 6px;
          cursor: pointer;
          font-size: 0.9rem;
          font-weight: 500;
          transition: all 0.3s ease;
        }

        .save-btn:hover {
          background: #c71821;
          transform: translateY(-1px);
        }

        .cancel-btn {
          background: transparent;
          color: var(--text);
          border: 1px solid var(--subtxt);
          padding: 0.75rem 1.5rem;
          border-radius: 6px;
          cursor: pointer;
          font-size: 0.9rem;
          font-weight: 500;
          transition: all 0.3s ease;
        }

        .cancel-btn:hover {
          background: var(--surface);
          border-color: var(--text);
        }

        .loading {
          text-align: center;
          color: var(--subtxt);
          padding: 2rem;
        }

        @media (max-width: 768px) {
          .sponsors-grid {
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
          }
        }
      `}),o.jsxs("div",{className:"sponsors-header",children:[o.jsx("h2",{className:"sponsors-title",children:"Sponsors Management"}),o.jsxs("div",{className:"header-buttons",children:[o.jsx(Gd,{status:y,lastSync:B,onRefresh:ie}),Be&&o.jsxs("button",{className:"add-sponsor-btn",onClick:()=>K(),children:[o.jsx(Ju,{size:18}),"Add Sponsor"]})]})]}),se.map(k=>{var V;const z=((V=r.find(G=>G.tier===k))==null?void 0:V.sponsors)||[];return o.jsxs("div",{className:"tier-section",children:[o.jsxs("div",{className:"tier-header",children:[o.jsx("span",{style:{fontSize:"1.5rem"},children:re(k)}),o.jsx("h3",{className:"tier-title",children:k})]}),z.length===0?o.jsx("div",{className:"no-sponsors",children:o.jsxs("p",{children:["No ",k.toLowerCase()," yet"]})}):o.jsx("div",{className:"sponsors-grid",children:z.map(G=>o.jsxs("div",{className:"sponsor-card",children:[o.jsx("div",{className:"sponsor-logo-container",children:o.jsx("img",{src:G.logo,alt:G.name,className:"sponsor-logo",onError:de=>{de.target.style.display="none"}})}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:"center",marginBottom:"0.5rem"},children:[o.jsx("div",{className:"sponsor-name",children:G.name}),G.website&&o.jsx("a",{href:G.website,target:"_blank",rel:"noopener noreferrer",title:G.website,style:{color:"var(--accent)",display:"flex",alignItems:"center",transition:"transform 0.2s ease"},onMouseOver:de=>de.currentTarget.style.transform="scale(1.2)",onMouseOut:de=>de.currentTarget.style.transform="scale(1)",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),o.jsx("polyline",{points:"15 3 21 3 21 9"}),o.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})})]}),Be&&o.jsxs("div",{className:"sponsor-actions",children:[o.jsx("button",{className:"action-btn edit-btn",onClick:()=>F(G,k),title:"Edit sponsor",children:o.jsx(Q4,{})}),o.jsx("button",{className:"action-btn delete-btn",onClick:()=>ve(G.id),title:"Delete sponsor",children:o.jsx(Mf,{})})]})]},G.id))})]},k)}),l&&a&&o.jsx("div",{className:"modal-overlay",onClick:ce,children:o.jsxs("div",{className:"modal-content",onClick:k=>k.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h3",{className:"modal-title",children:[a.id&&r.some(k=>k.sponsors.some(z=>z.id===a.id))?"Edit":"Add"," Sponsor"]}),o.jsx("button",{className:"close-btn",onClick:ce,children:""})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Sponsor Name *"}),o.jsx("input",{type:"text",className:"form-input",value:a.name,onChange:k=>A({...a,name:k.target.value}),placeholder:"Company or organization name"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Tier *"}),o.jsx("select",{className:"form-select",value:a.tier,onChange:k=>A({...a,tier:k.target.value}),children:se.map(k=>o.jsx("option",{value:k,children:k},k))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Logo *"}),o.jsxs("div",{className:`logo-upload-area ${p?"has-logo":""}`,onDrop:j,onDragOver:H,onClick:()=>document.getElementById("logo-file-input").click(),children:[p?o.jsxs("div",{className:"logo-preview-container",children:[o.jsx("img",{src:p,alt:"Preview",className:"logo-preview"}),o.jsx("button",{className:"remove-logo-btn",onClick:k=>{k.stopPropagation(),C()},title:"Remove logo",children:o.jsx(j1,{size:16})})]}):o.jsxs("div",{className:"upload-placeholder",children:[o.jsx(TQ,{size:48,style:{margin:"0 auto 1rem",opacity:.6}}),o.jsx("p",{children:"Drop logo here or click to upload"}),o.jsx("p",{className:"upload-hint",children:"JPG, PNG, WebP, SVG, or GIF  Max 5MB"})]}),o.jsx("input",{id:"logo-file-input",type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif,image/svg+xml",onChange:k=>I(k.target.files[0]),style:{display:"none"}})]}),w&&o.jsx("p",{className:"upload-status",children:"Uploading logo..."})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Website (Optional)"}),o.jsx("input",{type:"text",className:"form-input",value:a.website||"",onChange:k=>A({...a,website:k.target.value}),placeholder:"https://example.com"})]}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"cancel-btn",onClick:ce,children:"Cancel"}),o.jsx("button",{className:"save-btn",onClick:te,children:"Save Sponsor"})]})]})})]})});T4.displayName="SponsorsManager";function Wh(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var P4={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,s,i){function a(c,u){if(!s[c]){if(!n[c]){var h=typeof Wh=="function"&&Wh;if(!u&&h)return h(c,!0);if(A)return A(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var d=s[c]={exports:{}};n[c][0].call(d.exports,function(w){var m=n[c][1][w];return a(m||w)},d,d.exports,r,n,s,i)}return s[c].exports}for(var A=typeof Wh=="function"&&Wh,l=0;l<i.length;l++)a(i[l]);return a}({1:[function(r,n,s){var i=r("./utils"),a=r("./support"),A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(l){for(var c,u,h,p,d,w,m,b=[],g=0,y=l.length,B=y,_=i.getTypeOf(l)!=="string";g<l.length;)B=y-g,h=_?(c=l[g++],u=g<y?l[g++]:0,g<y?l[g++]:0):(c=l.charCodeAt(g++),u=g<y?l.charCodeAt(g++):0,g<y?l.charCodeAt(g++):0),p=c>>2,d=(3&c)<<4|u>>4,w=1<B?(15&u)<<2|h>>6:64,m=2<B?63&h:64,b.push(A.charAt(p)+A.charAt(d)+A.charAt(w)+A.charAt(m));return b.join("")},s.decode=function(l){var c,u,h,p,d,w,m=0,b=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var y,B=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===A.charAt(64)&&B--,l.charAt(l.length-2)===A.charAt(64)&&B--,B%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=a.uint8array?new Uint8Array(0|B):new Array(0|B);m<l.length;)c=A.indexOf(l.charAt(m++))<<2|(p=A.indexOf(l.charAt(m++)))>>4,u=(15&p)<<4|(d=A.indexOf(l.charAt(m++)))>>2,h=(3&d)<<6|(w=A.indexOf(l.charAt(m++))),y[b++]=c,d!==64&&(y[b++]=u),w!==64&&(y[b++]=h);return y}},{"./support":30,"./utils":32}],2:[function(r,n,s){var i=r("./external"),a=r("./stream/DataWorker"),A=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(u,h,p,d,w){this.compressedSize=u,this.uncompressedSize=h,this.crc32=p,this.compression=d,this.compressedContent=w}c.prototype={getContentWorker:function(){var u=new a(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return u.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new a(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,h,p){return u.pipe(new A).pipe(new l("uncompressedSize")).pipe(h.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,s){var i=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,s){var i=r("./utils"),a=function(){for(var A,l=[],c=0;c<256;c++){A=c;for(var u=0;u<8;u++)A=1&A?3988292384^A>>>1:A>>>1;l[c]=A}return l}();n.exports=function(A,l){return A!==void 0&&A.length?i.getTypeOf(A)!=="string"?function(c,u,h,p){var d=a,w=p+h;c^=-1;for(var m=p;m<w;m++)c=c>>>8^d[255&(c^u[m])];return-1^c}(0|l,A,A.length,0):function(c,u,h,p){var d=a,w=p+h;c^=-1;for(var m=p;m<w;m++)c=c>>>8^d[255&(c^u.charCodeAt(m))];return-1^c}(0|l,A,A.length,0):0}},{"./utils":32}],5:[function(r,n,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,n,s){var i=null;i=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:i}},{lie:37}],7:[function(r,n,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),A=r("./utils"),l=r("./stream/GenericWorker"),c=i?"uint8array":"array";function u(h,p){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=p,this.meta={}}s.magic="\b\0",A.inherits(u,l),u.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(A.transformTo(c,h.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(p){h.push({data:p,meta:h.meta})}},s.compressWorker=function(h){return new u("Deflate",h)},s.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,s){function i(d,w){var m,b="";for(m=0;m<w;m++)b+=String.fromCharCode(255&d),d>>>=8;return b}function a(d,w,m,b,g,y){var B,_,N=d.file,D=d.compression,T=y!==c.utf8encode,O=A.transformTo("string",y(N.name)),F=A.transformTo("string",c.utf8encode(N.name)),K=N.comment,I=A.transformTo("string",y(K)),j=A.transformTo("string",c.utf8encode(K)),H=F.length!==N.name.length,C=j.length!==K.length,te="",ve="",ce="",ie=N.dir,re=N.date,Be={crc32:0,compressedSize:0,uncompressedSize:0};w&&!m||(Be.crc32=d.crc32,Be.compressedSize=d.compressedSize,Be.uncompressedSize=d.uncompressedSize);var se=0;w&&(se|=8),T||!H&&!C||(se|=2048);var k=0,z=0;ie&&(k|=16),g==="UNIX"?(z=798,k|=function(G,de){var ye=G;return G||(ye=de?16893:33204),(65535&ye)<<16}(N.unixPermissions,ie)):(z=20,k|=function(G){return 63&(G||0)}(N.dosPermissions)),B=re.getUTCHours(),B<<=6,B|=re.getUTCMinutes(),B<<=5,B|=re.getUTCSeconds()/2,_=re.getUTCFullYear()-1980,_<<=4,_|=re.getUTCMonth()+1,_<<=5,_|=re.getUTCDate(),H&&(ve=i(1,1)+i(u(O),4)+F,te+="up"+i(ve.length,2)+ve),C&&(ce=i(1,1)+i(u(I),4)+j,te+="uc"+i(ce.length,2)+ce);var V="";return V+=`
\0`,V+=i(se,2),V+=D.magic,V+=i(B,2),V+=i(_,2),V+=i(Be.crc32,4),V+=i(Be.compressedSize,4),V+=i(Be.uncompressedSize,4),V+=i(O.length,2),V+=i(te.length,2),{fileRecord:h.LOCAL_FILE_HEADER+V+O+te,dirRecord:h.CENTRAL_FILE_HEADER+i(z,2)+V+i(I.length,2)+"\0\0\0\0"+i(k,4)+i(b,4)+O+te+I}}var A=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),u=r("../crc32"),h=r("../signature");function p(d,w,m,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=m,this.encodeFileName=b,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}A.inherits(p,l),p.prototype.push=function(d){var w=d.meta.percent||0,m=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:m?(w+100*(m-b-1))/m:100}}))},p.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var w=this.streamFiles&&!d.file.dir;if(w){var m=a(d,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(d){this.accumulate=!1;var w=this.streamFiles&&!d.file.dir,m=a(d,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),w)this.push({data:function(b){return h.DATA_DESCRIPTOR+i(b.crc32,4)+i(b.compressedSize,4)+i(b.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var d=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var m=this.bytesWritten-d,b=function(g,y,B,_,N){var D=A.transformTo("string",N(_));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(g,2)+i(g,2)+i(y,4)+i(B,4)+i(D.length,2)+D}(this.dirRecords.length,m,d,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(d){this._sources.push(d);var w=this;return d.on("data",function(m){w.processChunk(m)}),d.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),d.on("error",function(m){w.error(m)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(d){var w=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var m=0;m<w.length;m++)try{w[m].error(d)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,w=0;w<d.length;w++)d[w].lock()},n.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,s){var i=r("../compressions"),a=r("./ZipFileWorker");s.generateWorker=function(A,l,c){var u=new a(l.streamFiles,c,l.platform,l.encodeFileName),h=0;try{A.forEach(function(p,d){h++;var w=function(y,B){var _=y||B,N=i[_];if(!N)throw new Error(_+" is not a valid compression method !");return N}(d.options.compression,l.compression),m=d.options.compressionOptions||l.compressionOptions||{},b=d.dir,g=d.date;d._compressWorker(w,m).withStreamInfo("file",{name:p,dir:b,date:g,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(u)}),u.entriesCount=h}catch(p){u.error(p)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new i;for(var A in this)typeof this[A]!="function"&&(a[A]=this[A]);return a}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.10.1",i.loadAsync=function(a,A){return new i().loadAsync(a,A)},i.external=r("./external"),n.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,s){var i=r("./utils"),a=r("./external"),A=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),u=r("./nodejsUtils");function h(p){return new a.Promise(function(d,w){var m=p.decompressed.getContentWorker().pipe(new c);m.on("error",function(b){w(b)}).on("end",function(){m.streamInfo.crc32!==p.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}n.exports=function(p,d){var w=this;return d=i.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:A.utf8decode}),u.isNode&&u.isStream(p)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",p,!0,d.optimizedBinaryString,d.base64).then(function(m){var b=new l(d);return b.load(m),b}).then(function(m){var b=[a.Promise.resolve(m)],g=m.files;if(d.checkCRC32)for(var y=0;y<g.length;y++)b.push(h(g[y]));return a.Promise.all(b)}).then(function(m){for(var b=m.shift(),g=b.files,y=0;y<g.length;y++){var B=g[y],_=B.fileNameStr,N=i.resolve(B.fileNameStr);w.file(N,B.decompressed,{binary:!0,optimizedBinaryString:!0,date:B.date,dir:B.dir,comment:B.fileCommentStr.length?B.fileCommentStr:null,unixPermissions:B.unixPermissions,dosPermissions:B.dosPermissions,createFolders:d.createFolders}),B.dir||(w.file(N).unsafeOriginalName=_)}return b.zipComment.length&&(w.comment=b.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,s){var i=r("../utils"),a=r("../stream/GenericWorker");function A(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}i.inherits(A,a),A.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},A.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},A.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=A},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,s){var i=r("readable-stream").Readable;function a(A,l,c){i.call(this,l),this._helper=A;var u=this;A.on("data",function(h,p){u.push(h)||u._helper.pause(),c&&c(p)}).on("error",function(h){u.emit("error",h)}).on("end",function(){u.push(null)})}r("../utils").inherits(a,i),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,n,s){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,a);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,a)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var a=new Buffer(i);return a.fill(0),a},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,n,s){function i(N,D,T){var O,F=A.getTypeOf(D),K=A.extend(T||{},u);K.date=K.date||new Date,K.compression!==null&&(K.compression=K.compression.toUpperCase()),typeof K.unixPermissions=="string"&&(K.unixPermissions=parseInt(K.unixPermissions,8)),K.unixPermissions&&16384&K.unixPermissions&&(K.dir=!0),K.dosPermissions&&16&K.dosPermissions&&(K.dir=!0),K.dir&&(N=g(N)),K.createFolders&&(O=b(N))&&y.call(this,O,!0);var I=F==="string"&&K.binary===!1&&K.base64===!1;T&&T.binary!==void 0||(K.binary=!I),(D instanceof h&&D.uncompressedSize===0||K.dir||!D||D.length===0)&&(K.base64=!1,K.binary=!0,D="",K.compression="STORE",F="string");var j=null;j=D instanceof h||D instanceof l?D:w.isNode&&w.isStream(D)?new m(N,D):A.prepareContent(N,D,K.binary,K.optimizedBinaryString,K.base64);var H=new p(N,j,K);this.files[N]=H}var a=r("./utf8"),A=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),u=r("./defaults"),h=r("./compressedObject"),p=r("./zipObject"),d=r("./generate"),w=r("./nodejsUtils"),m=r("./nodejs/NodejsStreamInputAdapter"),b=function(N){N.slice(-1)==="/"&&(N=N.substring(0,N.length-1));var D=N.lastIndexOf("/");return 0<D?N.substring(0,D):""},g=function(N){return N.slice(-1)!=="/"&&(N+="/"),N},y=function(N,D){return D=D!==void 0?D:u.createFolders,N=g(N),this.files[N]||i.call(this,N,null,{dir:!0,createFolders:D}),this.files[N]};function B(N){return Object.prototype.toString.call(N)==="[object RegExp]"}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(N){var D,T,O;for(D in this.files)O=this.files[D],(T=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&N(T,O)},filter:function(N){var D=[];return this.forEach(function(T,O){N(T,O)&&D.push(O)}),D},file:function(N,D,T){if(arguments.length!==1)return N=this.root+N,i.call(this,N,D,T),this;if(B(N)){var O=N;return this.filter(function(K,I){return!I.dir&&O.test(K)})}var F=this.files[this.root+N];return F&&!F.dir?F:null},folder:function(N){if(!N)return this;if(B(N))return this.filter(function(F,K){return K.dir&&N.test(F)});var D=this.root+N,T=y.call(this,D),O=this.clone();return O.root=T.name,O},remove:function(N){N=this.root+N;var D=this.files[N];if(D||(N.slice(-1)!=="/"&&(N+="/"),D=this.files[N]),D&&!D.dir)delete this.files[N];else for(var T=this.filter(function(F,K){return K.name.slice(0,N.length)===N}),O=0;O<T.length;O++)delete this.files[T[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(N){var D,T={};try{if((T=A.extend(N||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");A.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var O=T.comment||this.comment||"";D=d.generateWorker(this,T,O)}catch(F){(D=new l("error")).error(F)}return new c(D,T.type||"string",T.mimeType)},generateAsync:function(N,D){return this.generateInternalStream(N).accumulate(D)},generateNodeStream:function(N,D){return(N=N||{}).type||(N.type="nodebuffer"),this.generateInternalStream(N).toNodejsStream(D)}};n.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,s){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,s){var i=r("./DataReader");function a(A){i.call(this,A);for(var l=0;l<this.data.length;l++)A[l]=255&A[l]}r("../utils").inherits(a,i),a.prototype.byteAt=function(A){return this.data[this.zero+A]},a.prototype.lastIndexOfSignature=function(A){for(var l=A.charCodeAt(0),c=A.charCodeAt(1),u=A.charCodeAt(2),h=A.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===c&&this.data[p+2]===u&&this.data[p+3]===h)return p-this.zero;return-1},a.prototype.readAndCheckSignature=function(A){var l=A.charCodeAt(0),c=A.charCodeAt(1),u=A.charCodeAt(2),h=A.charCodeAt(3),p=this.readData(4);return l===p[0]&&c===p[1]&&u===p[2]&&h===p[3]},a.prototype.readData=function(A){if(this.checkOffset(A),A===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+A);return this.index+=A,l},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,n,s){var i=r("../utils");function a(A){this.data=A,this.length=A.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(A){this.checkIndex(this.index+A)},checkIndex:function(A){if(this.length<this.zero+A||A<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+A+"). Corrupted zip ?")},setIndex:function(A){this.checkIndex(A),this.index=A},skip:function(A){this.setIndex(this.index+A)},byteAt:function(){},readInt:function(A){var l,c=0;for(this.checkOffset(A),l=this.index+A-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=A,c},readString:function(A){return i.transformTo("string",this.readData(A))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var A=this.readInt(4);return new Date(Date.UTC(1980+(A>>25&127),(A>>21&15)-1,A>>16&31,A>>11&31,A>>5&63,(31&A)<<1))}},n.exports=a},{"../utils":32}],19:[function(r,n,s){var i=r("./Uint8ArrayReader");function a(A){i.call(this,A)}r("../utils").inherits(a,i),a.prototype.readData=function(A){this.checkOffset(A);var l=this.data.slice(this.zero+this.index,this.zero+this.index+A);return this.index+=A,l},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,s){var i=r("./DataReader");function a(A){i.call(this,A)}r("../utils").inherits(a,i),a.prototype.byteAt=function(A){return this.data.charCodeAt(this.zero+A)},a.prototype.lastIndexOfSignature=function(A){return this.data.lastIndexOf(A)-this.zero},a.prototype.readAndCheckSignature=function(A){return A===this.readData(4)},a.prototype.readData=function(A){this.checkOffset(A);var l=this.data.slice(this.zero+this.index,this.zero+this.index+A);return this.index+=A,l},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,n,s){var i=r("./ArrayReader");function a(A){i.call(this,A)}r("../utils").inherits(a,i),a.prototype.readData=function(A){if(this.checkOffset(A),A===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+A);return this.index+=A,l},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,s){var i=r("../utils"),a=r("../support"),A=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),u=r("./Uint8ArrayReader");n.exports=function(h){var p=i.getTypeOf(h);return i.checkSupport(p),p!=="string"||a.uint8array?p==="nodebuffer"?new c(h):a.uint8array?new u(i.transformTo("uint8array",h)):new A(i.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,s){var i=r("./GenericWorker"),a=r("../utils");function A(l){i.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(A,i),A.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},n.exports=A},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,s){var i=r("./GenericWorker"),a=r("../crc32");function A(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(A,i),A.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=A},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,s){var i=r("../utils"),a=r("./GenericWorker");function A(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(A,a),A.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},n.exports=A},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,s){var i=r("../utils"),a=r("./GenericWorker");function A(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=i.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}i.inherits(A,a),A.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},A.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},A.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},A.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=A},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,s){function i(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,A){return this._listeners[a].push(A),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,A){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,A)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var A=this;return a.on("data",function(l){A.processChunk(l)}),a.on("end",function(){A.end()}),a.on("error",function(l){A.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,A){return this.extraStreamInfo[a]=A,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=i},{}],29:[function(r,n,s){var i=r("../utils"),a=r("./ConvertWorker"),A=r("./GenericWorker"),l=r("../base64"),c=r("../support"),u=r("../external"),h=null;if(c.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(w,m){return new u.Promise(function(b,g){var y=[],B=w._internalType,_=w._outputType,N=w._mimeType;w.on("data",function(D,T){y.push(D),m&&m(T)}).on("error",function(D){y=[],g(D)}).on("end",function(){try{var D=function(T,O,F){switch(T){case"blob":return i.newBlob(i.transformTo("arraybuffer",O),F);case"base64":return l.encode(O);default:return i.transformTo(T,O)}}(_,function(T,O){var F,K=0,I=null,j=0;for(F=0;F<O.length;F++)j+=O[F].length;switch(T){case"string":return O.join("");case"array":return Array.prototype.concat.apply([],O);case"uint8array":for(I=new Uint8Array(j),F=0;F<O.length;F++)I.set(O[F],K),K+=O[F].length;return I;case"nodebuffer":return Buffer.concat(O);default:throw new Error("concat : unsupported type '"+T+"'")}}(B,y),N);b(D)}catch(T){g(T)}y=[]}).resume()})}function d(w,m,b){var g=m;switch(m){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=m,this._mimeType=b,i.checkSupport(g),this._worker=w.pipe(new a(g)),w.lock()}catch(y){this._worker=new A("error"),this._worker.error(y)}}d.prototype={accumulate:function(w){return p(this,w)},on:function(w,m){var b=this;return w==="data"?this._worker.on(w,function(g){m.call(b,g.data,g.meta)}):this._worker.on(w,function(){i.delay(m,arguments,b)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},w)}},n.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),s.blob=a.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,s){for(var i=r("./utils"),a=r("./support"),A=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}s.utf8encode=function(d){return a.nodebuffer?A.newBufferFrom(d,"utf-8"):function(w){var m,b,g,y,B,_=w.length,N=0;for(y=0;y<_;y++)(64512&(b=w.charCodeAt(y)))==55296&&y+1<_&&(64512&(g=w.charCodeAt(y+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),y++),N+=b<128?1:b<2048?2:b<65536?3:4;for(m=a.uint8array?new Uint8Array(N):new Array(N),y=B=0;B<N;y++)(64512&(b=w.charCodeAt(y)))==55296&&y+1<_&&(64512&(g=w.charCodeAt(y+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),y++),b<128?m[B++]=b:(b<2048?m[B++]=192|b>>>6:(b<65536?m[B++]=224|b>>>12:(m[B++]=240|b>>>18,m[B++]=128|b>>>12&63),m[B++]=128|b>>>6&63),m[B++]=128|63&b);return m}(d)},s.utf8decode=function(d){return a.nodebuffer?i.transformTo("nodebuffer",d).toString("utf-8"):function(w){var m,b,g,y,B=w.length,_=new Array(2*B);for(m=b=0;m<B;)if((g=w[m++])<128)_[b++]=g;else if(4<(y=c[g]))_[b++]=65533,m+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&m<B;)g=g<<6|63&w[m++],y--;1<y?_[b++]=65533:g<65536?_[b++]=g:(g-=65536,_[b++]=55296|g>>10&1023,_[b++]=56320|1023&g)}return _.length!==b&&(_.subarray?_=_.subarray(0,b):_.length=b),i.applyFromCharCode(_)}(d=i.transformTo(a.uint8array?"uint8array":"array",d))},i.inherits(h,l),h.prototype.processChunk=function(d){var w=i.transformTo(a.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var m=w;(w=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),w.set(m,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var b=function(y,B){var _;for((B=B||y.length)>y.length&&(B=y.length),_=B-1;0<=_&&(192&y[_])==128;)_--;return _<0||_===0?B:_+c[y[_]]>B?_:B}(w),g=w;b!==w.length&&(a.uint8array?(g=w.subarray(0,b),this.leftOver=w.subarray(b,w.length)):(g=w.slice(0,b),this.leftOver=w.slice(b,w.length))),this.push({data:s.utf8decode(g),meta:d.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=h,i.inherits(p,l),p.prototype.processChunk=function(d){this.push({data:s.utf8encode(d.data),meta:d.meta})},s.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,s){var i=r("./support"),a=r("./base64"),A=r("./nodejsUtils"),l=r("./external");function c(m){return m}function u(m,b){for(var g=0;g<m.length;++g)b[g]=255&m.charCodeAt(g);return b}r("setimmediate"),s.newBlob=function(m,b){s.checkSupport("blob");try{return new Blob([m],{type:b})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(m),g.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(m,b,g){var y=[],B=0,_=m.length;if(_<=g)return String.fromCharCode.apply(null,m);for(;B<_;)b==="array"||b==="nodebuffer"?y.push(String.fromCharCode.apply(null,m.slice(B,Math.min(B+g,_)))):y.push(String.fromCharCode.apply(null,m.subarray(B,Math.min(B+g,_)))),B+=g;return y.join("")},stringifyByChar:function(m){for(var b="",g=0;g<m.length;g++)b+=String.fromCharCode(m[g]);return b},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,A.allocBuffer(1)).length===1}catch{return!1}}()}};function p(m){var b=65536,g=s.getTypeOf(m),y=!0;if(g==="uint8array"?y=h.applyCanBeUsed.uint8array:g==="nodebuffer"&&(y=h.applyCanBeUsed.nodebuffer),y)for(;1<b;)try{return h.stringifyByChunk(m,g,b)}catch{b=Math.floor(b/2)}return h.stringifyByChar(m)}function d(m,b){for(var g=0;g<m.length;g++)b[g]=m[g];return b}s.applyFromCharCode=p;var w={};w.string={string:c,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return w.string.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:function(m){return u(m,A.allocBuffer(m.length))}},w.array={string:p,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return A.newBufferFrom(m)}},w.arraybuffer={string:function(m){return p(new Uint8Array(m))},array:function(m){return d(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return A.newBufferFrom(new Uint8Array(m))}},w.uint8array={string:p,array:function(m){return d(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return A.newBufferFrom(m)}},w.nodebuffer={string:p,array:function(m){return d(m,new Array(m.length))},arraybuffer:function(m){return w.nodebuffer.uint8array(m).buffer},uint8array:function(m){return d(m,new Uint8Array(m.length))},nodebuffer:c},s.transformTo=function(m,b){if(b=b||"",!m)return b;s.checkSupport(m);var g=s.getTypeOf(b);return w[g][m](b)},s.resolve=function(m){for(var b=m.split("/"),g=[],y=0;y<b.length;y++){var B=b[y];B==="."||B===""&&y!==0&&y!==b.length-1||(B===".."?g.pop():g.push(B))}return g.join("/")},s.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":i.nodebuffer&&A.isBuffer(m)?"nodebuffer":i.uint8array&&m instanceof Uint8Array?"uint8array":i.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(m){if(!i[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(m){var b,g,y="";for(g=0;g<(m||"").length;g++)y+="\\x"+((b=m.charCodeAt(g))<16?"0":"")+b.toString(16).toUpperCase();return y},s.delay=function(m,b,g){setImmediate(function(){m.apply(g||null,b||[])})},s.inherits=function(m,b){function g(){}g.prototype=b.prototype,m.prototype=new g},s.extend=function(){var m,b,g={};for(m=0;m<arguments.length;m++)for(b in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],b)&&g[b]===void 0&&(g[b]=arguments[m][b]);return g},s.prepareContent=function(m,b,g,y,B){return l.Promise.resolve(b).then(function(_){return i.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1)&&typeof FileReader<"u"?new l.Promise(function(N,D){var T=new FileReader;T.onload=function(O){N(O.target.result)},T.onerror=function(O){D(O.target.error)},T.readAsArrayBuffer(_)}):_}).then(function(_){var N=s.getTypeOf(_);return N?(N==="arraybuffer"?_=s.transformTo("uint8array",_):N==="string"&&(B?_=a.decode(_):g&&y!==!0&&(_=function(D){return u(D,i.uint8array?new Uint8Array(D.length):new Array(D.length))}(_))),_):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,s){var i=r("./reader/readerFor"),a=r("./utils"),A=r("./signature"),l=r("./zipEntry"),c=r("./support");function u(h){this.files=[],this.loadOptions=h}u.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(p)+", expected "+a.pretty(h)+")")}},isSignature:function(h,p){var d=this.reader.index;this.reader.setIndex(h);var w=this.reader.readString(4)===p;return this.reader.setIndex(d),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),p=c.uint8array?"uint8array":"array",d=a.transformTo(p,h);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,p,d,w=this.zip64EndOfCentralSize-44;0<w;)h=this.reader.readInt(2),p=this.reader.readInt(4),d=this.reader.readData(p),this.zip64ExtensibleData[h]={id:h,length:p,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,p;for(h=0;h<this.files.length;h++)p=this.files[h],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(A.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(A.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(A.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,A.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var p=h;if(this.checkSignature(A.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(A.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(A.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,A.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(A.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(A.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var w=p-d;if(0<w)this.isSignature(p,A.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,s){var i=r("./reader/readerFor"),a=r("./utils"),A=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),u=r("./compressions"),h=r("./support");function p(d,w){this.options=d,this.loadOptions=w}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var w,m;if(d.skip(22),this.fileNameLength=d.readInt(2),m=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(b){for(var g in u)if(Object.prototype.hasOwnProperty.call(u,g)&&u[g].magic===b)return u[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new A(this.compressedSize,this.uncompressedSize,this.crc32,w,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var w=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(w),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var w,m,b,g=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<g;)w=d.readInt(2),m=d.readInt(2),b=d.readData(m),this.extraFields[w]={id:w,length:m,value:b};d.setIndex(g)},handleUTF8:function(){var d=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var m=a.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var g=a.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var w=i(d.value);return w.readInt(1)!==1||l(this.fileName)!==w.readInt(4)?null:c.utf8decode(w.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var w=i(d.value);return w.readInt(1)!==1||l(this.fileComment)!==w.readInt(4)?null:c.utf8decode(w.readData(d.length-5))}return null}},n.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,s){function i(w,m,b){this.name=w,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=m,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var a=r("./stream/StreamHelper"),A=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),u=r("./stream/GenericWorker");i.prototype={internalStream:function(w){var m=null,b="string";try{if(!w)throw new Error("No output type specified.");var g=(b=w.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),m=this._decompressWorker();var y=!this._dataBinary;y&&!g&&(m=m.pipe(new l.Utf8EncodeWorker)),!y&&g&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(B){(m=new u("error")).error(B)}return new a(m,b,"")},async:function(w,m){return this.internalStream(w).accumulate(m)},nodeStream:function(w,m){return this.internalStream(w||"nodebuffer").toNodejsStream(m)},_compressWorker:function(w,m){if(this._data instanceof c&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(b,w,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new A(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<h.length;d++)i.prototype[h[d]]=p;n.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,s){(function(i){var a,A,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var c=0,u=new l(w),h=i.document.createTextNode("");u.observe(h,{characterData:!0}),a=function(){h.data=c=++c%2}}else if(i.setImmediate||i.MessageChannel===void 0)a="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var m=i.document.createElement("script");m.onreadystatechange=function(){w(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},i.document.documentElement.appendChild(m)}:function(){setTimeout(w,0)};else{var p=new i.MessageChannel;p.port1.onmessage=w,a=function(){p.port2.postMessage(0)}}var d=[];function w(){var m,b;A=!0;for(var g=d.length;g;){for(b=d,d=[],m=-1;++m<g;)b[m]();g=d.length}A=!1}n.exports=function(m){d.push(m)!==1||A||a()}}).call(this,typeof Wa<"u"?Wa:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,s){var i=r("immediate");function a(){}var A={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function h(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,g!==a&&m(this,g)}function p(g,y,B){this.promise=g,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof B=="function"&&(this.onRejected=B,this.callRejected=this.otherCallRejected)}function d(g,y,B){i(function(){var _;try{_=y(B)}catch(N){return A.reject(g,N)}_===g?A.reject(g,new TypeError("Cannot resolve promise with itself")):A.resolve(g,_)})}function w(g){var y=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof y=="function")return function(){y.apply(g,arguments)}}function m(g,y){var B=!1;function _(T){B||(B=!0,A.reject(g,T))}function N(T){B||(B=!0,A.resolve(g,T))}var D=b(function(){y(N,_)});D.status==="error"&&_(D.value)}function b(g,y){var B={};try{B.value=g(y),B.status="success"}catch(_){B.status="error",B.value=_}return B}(n.exports=h).prototype.finally=function(g){if(typeof g!="function")return this;var y=this.constructor;return this.then(function(B){return y.resolve(g()).then(function(){return B})},function(B){return y.resolve(g()).then(function(){throw B})})},h.prototype.catch=function(g){return this.then(null,g)},h.prototype.then=function(g,y){if(typeof g!="function"&&this.state===c||typeof y!="function"&&this.state===l)return this;var B=new this.constructor(a);return this.state!==u?d(B,this.state===c?g:y,this.outcome):this.queue.push(new p(B,g,y)),B},p.prototype.callFulfilled=function(g){A.resolve(this.promise,g)},p.prototype.otherCallFulfilled=function(g){d(this.promise,this.onFulfilled,g)},p.prototype.callRejected=function(g){A.reject(this.promise,g)},p.prototype.otherCallRejected=function(g){d(this.promise,this.onRejected,g)},A.resolve=function(g,y){var B=b(w,y);if(B.status==="error")return A.reject(g,B.value);var _=B.value;if(_)m(g,_);else{g.state=c,g.outcome=y;for(var N=-1,D=g.queue.length;++N<D;)g.queue[N].callFulfilled(y)}return g},A.reject=function(g,y){g.state=l,g.outcome=y;for(var B=-1,_=g.queue.length;++B<_;)g.queue[B].callRejected(y);return g},h.resolve=function(g){return g instanceof this?g:A.resolve(new this(a),g)},h.reject=function(g){var y=new this(a);return A.reject(y,g)},h.all=function(g){var y=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=g.length,_=!1;if(!B)return this.resolve([]);for(var N=new Array(B),D=0,T=-1,O=new this(a);++T<B;)F(g[T],T);return O;function F(K,I){y.resolve(K).then(function(j){N[I]=j,++D!==B||_||(_=!0,A.resolve(O,N))},function(j){_||(_=!0,A.reject(O,j))})}},h.race=function(g){var y=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=g.length,_=!1;if(!B)return this.resolve([]);for(var N=-1,D=new this(a);++N<B;)T=g[N],y.resolve(T).then(function(O){_||(_=!0,A.resolve(D,O))},function(O){_||(_=!0,A.reject(D,O))});var T;return D}},{immediate:36}],38:[function(r,n,s){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,s){var i=r("./zlib/deflate"),a=r("./utils/common"),A=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),u=Object.prototype.toString,h=0,p=-1,d=0,w=8;function m(g){if(!(this instanceof m))return new m(g);this.options=a.assign({level:p,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},g||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var B=i.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(B!==h)throw new Error(l[B]);if(y.header&&i.deflateSetHeader(this.strm,y.header),y.dictionary){var _;if(_=typeof y.dictionary=="string"?A.string2buf(y.dictionary):u.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(B=i.deflateSetDictionary(this.strm,_))!==h)throw new Error(l[B]);this._dict_set=!0}}function b(g,y){var B=new m(y);if(B.push(g,!0),B.err)throw B.msg||l[B.err];return B.result}m.prototype.push=function(g,y){var B,_,N=this.strm,D=this.options.chunkSize;if(this.ended)return!1;_=y===~~y?y:y===!0?4:0,typeof g=="string"?N.input=A.string2buf(g):u.call(g)==="[object ArrayBuffer]"?N.input=new Uint8Array(g):N.input=g,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new a.Buf8(D),N.next_out=0,N.avail_out=D),(B=i.deflate(N,_))!==1&&B!==h)return this.onEnd(B),!(this.ended=!0);N.avail_out!==0&&(N.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(A.buf2binstring(a.shrinkBuf(N.output,N.next_out))):this.onData(a.shrinkBuf(N.output,N.next_out)))}while((0<N.avail_in||N.avail_out===0)&&B!==1);return _===4?(B=i.deflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===h):_!==2||(this.onEnd(h),!(N.avail_out=0))},m.prototype.onData=function(g){this.chunks.push(g)},m.prototype.onEnd=function(g){g===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},s.Deflate=m,s.deflate=b,s.deflateRaw=function(g,y){return(y=y||{}).raw=!0,b(g,y)},s.gzip=function(g,y){return(y=y||{}).gzip=!0,b(g,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,s){var i=r("./zlib/inflate"),a=r("./utils/common"),A=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),u=r("./zlib/zstream"),h=r("./zlib/gzheader"),p=Object.prototype.toString;function d(m){if(!(this instanceof d))return new d(m);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},m||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||m&&m.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var g=i.inflateInit2(this.strm,b.windowBits);if(g!==l.Z_OK)throw new Error(c[g]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function w(m,b){var g=new d(b);if(g.push(m,!0),g.err)throw g.msg||c[g.err];return g.result}d.prototype.push=function(m,b){var g,y,B,_,N,D,T=this.strm,O=this.options.chunkSize,F=this.options.dictionary,K=!1;if(this.ended)return!1;y=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?T.input=A.binstring2buf(m):p.call(m)==="[object ArrayBuffer]"?T.input=new Uint8Array(m):T.input=m,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new a.Buf8(O),T.next_out=0,T.avail_out=O),(g=i.inflate(T,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&F&&(D=typeof F=="string"?A.string2buf(F):p.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,g=i.inflateSetDictionary(this.strm,D)),g===l.Z_BUF_ERROR&&K===!0&&(g=l.Z_OK,K=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&g!==l.Z_STREAM_END&&(T.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(B=A.utf8border(T.output,T.next_out),_=T.next_out-B,N=A.buf2string(T.output,B),T.next_out=_,T.avail_out=O-_,_&&a.arraySet(T.output,T.output,B,_,0),this.onData(N)):this.onData(a.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(K=!0)}while((0<T.avail_in||T.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(g=i.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(T.avail_out=0))},d.prototype.onData=function(m){this.chunks.push(m)},d.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},s.Inflate=d,s.inflate=w,s.inflateRaw=function(m,b){return(b=b||{}).raw=!0,w(m,b)},s.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var h in u)u.hasOwnProperty(h)&&(l[h]=u[h])}}return l},s.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,u,h,p){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+h),p);else for(var d=0;d<h;d++)l[p+d]=c[u+d]},flattenChunks:function(l){var c,u,h,p,d,w;for(c=h=0,u=l.length;c<u;c++)h+=l[c].length;for(w=new Uint8Array(h),c=p=0,u=l.length;c<u;c++)d=l[c],w.set(d,p),p+=d.length;return w}},A={arraySet:function(l,c,u,h,p){for(var d=0;d<h;d++)l[p+d]=c[u+d]},flattenChunks:function(l){return[].concat.apply([],l)}};s.setTyped=function(l){l?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,a)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,A))},s.setTyped(i)},{}],42:[function(r,n,s){var i=r("./common"),a=!0,A=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{A=!1}for(var l=new i.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(h,p){if(p<65537&&(h.subarray&&A||!h.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(h,p));for(var d="",w=0;w<p;w++)d+=String.fromCharCode(h[w]);return d}l[254]=l[254]=1,s.string2buf=function(h){var p,d,w,m,b,g=h.length,y=0;for(m=0;m<g;m++)(64512&(d=h.charCodeAt(m)))==55296&&m+1<g&&(64512&(w=h.charCodeAt(m+1)))==56320&&(d=65536+(d-55296<<10)+(w-56320),m++),y+=d<128?1:d<2048?2:d<65536?3:4;for(p=new i.Buf8(y),m=b=0;b<y;m++)(64512&(d=h.charCodeAt(m)))==55296&&m+1<g&&(64512&(w=h.charCodeAt(m+1)))==56320&&(d=65536+(d-55296<<10)+(w-56320),m++),d<128?p[b++]=d:(d<2048?p[b++]=192|d>>>6:(d<65536?p[b++]=224|d>>>12:(p[b++]=240|d>>>18,p[b++]=128|d>>>12&63),p[b++]=128|d>>>6&63),p[b++]=128|63&d);return p},s.buf2binstring=function(h){return u(h,h.length)},s.binstring2buf=function(h){for(var p=new i.Buf8(h.length),d=0,w=p.length;d<w;d++)p[d]=h.charCodeAt(d);return p},s.buf2string=function(h,p){var d,w,m,b,g=p||h.length,y=new Array(2*g);for(d=w=0;d<g;)if((m=h[d++])<128)y[w++]=m;else if(4<(b=l[m]))y[w++]=65533,d+=b-1;else{for(m&=b===2?31:b===3?15:7;1<b&&d<g;)m=m<<6|63&h[d++],b--;1<b?y[w++]=65533:m<65536?y[w++]=m:(m-=65536,y[w++]=55296|m>>10&1023,y[w++]=56320|1023&m)}return u(y,w)},s.utf8border=function(h,p){var d;for((p=p||h.length)>h.length&&(p=h.length),d=p-1;0<=d&&(192&h[d])==128;)d--;return d<0||d===0?p:d+l[h[d]]>p?d:p}},{"./common":41}],43:[function(r,n,s){n.exports=function(i,a,A,l){for(var c=65535&i|0,u=i>>>16&65535|0,h=0;A!==0;){for(A-=h=2e3<A?2e3:A;u=u+(c=c+a[l++]|0)|0,--h;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(r,n,s){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,s){var i=function(){for(var a,A=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;A[l]=a}return A}();n.exports=function(a,A,l,c){var u=i,h=c+l;a^=-1;for(var p=c;p<h;p++)a=a>>>8^u[255&(a^A[p])];return-1^a}},{}],46:[function(r,n,s){var i,a=r("../utils/common"),A=r("./trees"),l=r("./adler32"),c=r("./crc32"),u=r("./messages"),h=0,p=4,d=0,w=-2,m=-1,b=4,g=2,y=8,B=9,_=286,N=30,D=19,T=2*_+1,O=15,F=3,K=258,I=K+F+1,j=42,H=113,C=1,te=2,ve=3,ce=4;function ie(E,Q){return E.msg=u[Q],Q}function re(E){return(E<<1)-(4<E?9:0)}function Be(E){for(var Q=E.length;0<=--Q;)E[Q]=0}function se(E){var Q=E.state,pe=Q.pending;pe>E.avail_out&&(pe=E.avail_out),pe!==0&&(a.arraySet(E.output,Q.pending_buf,Q.pending_out,pe,E.next_out),E.next_out+=pe,Q.pending_out+=pe,E.total_out+=pe,E.avail_out-=pe,Q.pending-=pe,Q.pending===0&&(Q.pending_out=0))}function k(E,Q){A._tr_flush_block(E,0<=E.block_start?E.block_start:-1,E.strstart-E.block_start,Q),E.block_start=E.strstart,se(E.strm)}function z(E,Q){E.pending_buf[E.pending++]=Q}function V(E,Q){E.pending_buf[E.pending++]=Q>>>8&255,E.pending_buf[E.pending++]=255&Q}function G(E,Q){var pe,ee,J=E.max_chain_length,q=E.strstart,Ce=E.prev_length,Ee=E.nice_match,xe=E.strstart>E.w_size-I?E.strstart-(E.w_size-I):0,Fe=E.window,Ke=E.w_mask,Te=E.prev,$e=E.strstart+K,dt=Fe[q+Ce-1],tt=Fe[q+Ce];E.prev_length>=E.good_match&&(J>>=2),Ee>E.lookahead&&(Ee=E.lookahead);do if(Fe[(pe=Q)+Ce]===tt&&Fe[pe+Ce-1]===dt&&Fe[pe]===Fe[q]&&Fe[++pe]===Fe[q+1]){q+=2,pe++;do;while(Fe[++q]===Fe[++pe]&&Fe[++q]===Fe[++pe]&&Fe[++q]===Fe[++pe]&&Fe[++q]===Fe[++pe]&&Fe[++q]===Fe[++pe]&&Fe[++q]===Fe[++pe]&&Fe[++q]===Fe[++pe]&&Fe[++q]===Fe[++pe]&&q<$e);if(ee=K-($e-q),q=$e-K,Ce<ee){if(E.match_start=Q,Ee<=(Ce=ee))break;dt=Fe[q+Ce-1],tt=Fe[q+Ce]}}while((Q=Te[Q&Ke])>xe&&--J!=0);return Ce<=E.lookahead?Ce:E.lookahead}function de(E){var Q,pe,ee,J,q,Ce,Ee,xe,Fe,Ke,Te=E.w_size;do{if(J=E.window_size-E.lookahead-E.strstart,E.strstart>=Te+(Te-I)){for(a.arraySet(E.window,E.window,Te,Te,0),E.match_start-=Te,E.strstart-=Te,E.block_start-=Te,Q=pe=E.hash_size;ee=E.head[--Q],E.head[Q]=Te<=ee?ee-Te:0,--pe;);for(Q=pe=Te;ee=E.prev[--Q],E.prev[Q]=Te<=ee?ee-Te:0,--pe;);J+=Te}if(E.strm.avail_in===0)break;if(Ce=E.strm,Ee=E.window,xe=E.strstart+E.lookahead,Fe=J,Ke=void 0,Ke=Ce.avail_in,Fe<Ke&&(Ke=Fe),pe=Ke===0?0:(Ce.avail_in-=Ke,a.arraySet(Ee,Ce.input,Ce.next_in,Ke,xe),Ce.state.wrap===1?Ce.adler=l(Ce.adler,Ee,Ke,xe):Ce.state.wrap===2&&(Ce.adler=c(Ce.adler,Ee,Ke,xe)),Ce.next_in+=Ke,Ce.total_in+=Ke,Ke),E.lookahead+=pe,E.lookahead+E.insert>=F)for(q=E.strstart-E.insert,E.ins_h=E.window[q],E.ins_h=(E.ins_h<<E.hash_shift^E.window[q+1])&E.hash_mask;E.insert&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[q+F-1])&E.hash_mask,E.prev[q&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=q,q++,E.insert--,!(E.lookahead+E.insert<F)););}while(E.lookahead<I&&E.strm.avail_in!==0)}function ye(E,Q){for(var pe,ee;;){if(E.lookahead<I){if(de(E),E.lookahead<I&&Q===h)return C;if(E.lookahead===0)break}if(pe=0,E.lookahead>=F&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+F-1])&E.hash_mask,pe=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),pe!==0&&E.strstart-pe<=E.w_size-I&&(E.match_length=G(E,pe)),E.match_length>=F)if(ee=A._tr_tally(E,E.strstart-E.match_start,E.match_length-F),E.lookahead-=E.match_length,E.match_length<=E.max_lazy_match&&E.lookahead>=F){for(E.match_length--;E.strstart++,E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+F-1])&E.hash_mask,pe=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart,--E.match_length!=0;);E.strstart++}else E.strstart+=E.match_length,E.match_length=0,E.ins_h=E.window[E.strstart],E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+1])&E.hash_mask;else ee=A._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++;if(ee&&(k(E,!1),E.strm.avail_out===0))return C}return E.insert=E.strstart<F-1?E.strstart:F-1,Q===p?(k(E,!0),E.strm.avail_out===0?ve:ce):E.last_lit&&(k(E,!1),E.strm.avail_out===0)?C:te}function we(E,Q){for(var pe,ee,J;;){if(E.lookahead<I){if(de(E),E.lookahead<I&&Q===h)return C;if(E.lookahead===0)break}if(pe=0,E.lookahead>=F&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+F-1])&E.hash_mask,pe=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),E.prev_length=E.match_length,E.prev_match=E.match_start,E.match_length=F-1,pe!==0&&E.prev_length<E.max_lazy_match&&E.strstart-pe<=E.w_size-I&&(E.match_length=G(E,pe),E.match_length<=5&&(E.strategy===1||E.match_length===F&&4096<E.strstart-E.match_start)&&(E.match_length=F-1)),E.prev_length>=F&&E.match_length<=E.prev_length){for(J=E.strstart+E.lookahead-F,ee=A._tr_tally(E,E.strstart-1-E.prev_match,E.prev_length-F),E.lookahead-=E.prev_length-1,E.prev_length-=2;++E.strstart<=J&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+F-1])&E.hash_mask,pe=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),--E.prev_length!=0;);if(E.match_available=0,E.match_length=F-1,E.strstart++,ee&&(k(E,!1),E.strm.avail_out===0))return C}else if(E.match_available){if((ee=A._tr_tally(E,0,E.window[E.strstart-1]))&&k(E,!1),E.strstart++,E.lookahead--,E.strm.avail_out===0)return C}else E.match_available=1,E.strstart++,E.lookahead--}return E.match_available&&(ee=A._tr_tally(E,0,E.window[E.strstart-1]),E.match_available=0),E.insert=E.strstart<F-1?E.strstart:F-1,Q===p?(k(E,!0),E.strm.avail_out===0?ve:ce):E.last_lit&&(k(E,!1),E.strm.avail_out===0)?C:te}function Z(E,Q,pe,ee,J){this.good_length=E,this.max_lazy=Q,this.nice_length=pe,this.max_chain=ee,this.func=J}function he(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*T),this.dyn_dtree=new a.Buf16(2*(2*N+1)),this.bl_tree=new a.Buf16(2*(2*D+1)),Be(this.dyn_ltree),Be(this.dyn_dtree),Be(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(O+1),this.heap=new a.Buf16(2*_+1),Be(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*_+1),Be(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function le(E){var Q;return E&&E.state?(E.total_in=E.total_out=0,E.data_type=g,(Q=E.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?j:H,E.adler=Q.wrap===2?0:1,Q.last_flush=h,A._tr_init(Q),d):ie(E,w)}function ae(E){var Q=le(E);return Q===d&&function(pe){pe.window_size=2*pe.w_size,Be(pe.head),pe.max_lazy_match=i[pe.level].max_lazy,pe.good_match=i[pe.level].good_length,pe.nice_match=i[pe.level].nice_length,pe.max_chain_length=i[pe.level].max_chain,pe.strstart=0,pe.block_start=0,pe.lookahead=0,pe.insert=0,pe.match_length=pe.prev_length=F-1,pe.match_available=0,pe.ins_h=0}(E.state),Q}function Se(E,Q,pe,ee,J,q){if(!E)return w;var Ce=1;if(Q===m&&(Q=6),ee<0?(Ce=0,ee=-ee):15<ee&&(Ce=2,ee-=16),J<1||B<J||pe!==y||ee<8||15<ee||Q<0||9<Q||q<0||b<q)return ie(E,w);ee===8&&(ee=9);var Ee=new he;return(E.state=Ee).strm=E,Ee.wrap=Ce,Ee.gzhead=null,Ee.w_bits=ee,Ee.w_size=1<<Ee.w_bits,Ee.w_mask=Ee.w_size-1,Ee.hash_bits=J+7,Ee.hash_size=1<<Ee.hash_bits,Ee.hash_mask=Ee.hash_size-1,Ee.hash_shift=~~((Ee.hash_bits+F-1)/F),Ee.window=new a.Buf8(2*Ee.w_size),Ee.head=new a.Buf16(Ee.hash_size),Ee.prev=new a.Buf16(Ee.w_size),Ee.lit_bufsize=1<<J+6,Ee.pending_buf_size=4*Ee.lit_bufsize,Ee.pending_buf=new a.Buf8(Ee.pending_buf_size),Ee.d_buf=1*Ee.lit_bufsize,Ee.l_buf=3*Ee.lit_bufsize,Ee.level=Q,Ee.strategy=q,Ee.method=pe,ae(E)}i=[new Z(0,0,0,0,function(E,Q){var pe=65535;for(pe>E.pending_buf_size-5&&(pe=E.pending_buf_size-5);;){if(E.lookahead<=1){if(de(E),E.lookahead===0&&Q===h)return C;if(E.lookahead===0)break}E.strstart+=E.lookahead,E.lookahead=0;var ee=E.block_start+pe;if((E.strstart===0||E.strstart>=ee)&&(E.lookahead=E.strstart-ee,E.strstart=ee,k(E,!1),E.strm.avail_out===0)||E.strstart-E.block_start>=E.w_size-I&&(k(E,!1),E.strm.avail_out===0))return C}return E.insert=0,Q===p?(k(E,!0),E.strm.avail_out===0?ve:ce):(E.strstart>E.block_start&&(k(E,!1),E.strm.avail_out),C)}),new Z(4,4,8,4,ye),new Z(4,5,16,8,ye),new Z(4,6,32,32,ye),new Z(4,4,16,16,we),new Z(8,16,32,32,we),new Z(8,16,128,128,we),new Z(8,32,128,256,we),new Z(32,128,258,1024,we),new Z(32,258,258,4096,we)],s.deflateInit=function(E,Q){return Se(E,Q,y,15,8,0)},s.deflateInit2=Se,s.deflateReset=ae,s.deflateResetKeep=le,s.deflateSetHeader=function(E,Q){return E&&E.state?E.state.wrap!==2?w:(E.state.gzhead=Q,d):w},s.deflate=function(E,Q){var pe,ee,J,q;if(!E||!E.state||5<Q||Q<0)return E?ie(E,w):w;if(ee=E.state,!E.output||!E.input&&E.avail_in!==0||ee.status===666&&Q!==p)return ie(E,E.avail_out===0?-5:w);if(ee.strm=E,pe=ee.last_flush,ee.last_flush=Q,ee.status===j)if(ee.wrap===2)E.adler=0,z(ee,31),z(ee,139),z(ee,8),ee.gzhead?(z(ee,(ee.gzhead.text?1:0)+(ee.gzhead.hcrc?2:0)+(ee.gzhead.extra?4:0)+(ee.gzhead.name?8:0)+(ee.gzhead.comment?16:0)),z(ee,255&ee.gzhead.time),z(ee,ee.gzhead.time>>8&255),z(ee,ee.gzhead.time>>16&255),z(ee,ee.gzhead.time>>24&255),z(ee,ee.level===9?2:2<=ee.strategy||ee.level<2?4:0),z(ee,255&ee.gzhead.os),ee.gzhead.extra&&ee.gzhead.extra.length&&(z(ee,255&ee.gzhead.extra.length),z(ee,ee.gzhead.extra.length>>8&255)),ee.gzhead.hcrc&&(E.adler=c(E.adler,ee.pending_buf,ee.pending,0)),ee.gzindex=0,ee.status=69):(z(ee,0),z(ee,0),z(ee,0),z(ee,0),z(ee,0),z(ee,ee.level===9?2:2<=ee.strategy||ee.level<2?4:0),z(ee,3),ee.status=H);else{var Ce=y+(ee.w_bits-8<<4)<<8;Ce|=(2<=ee.strategy||ee.level<2?0:ee.level<6?1:ee.level===6?2:3)<<6,ee.strstart!==0&&(Ce|=32),Ce+=31-Ce%31,ee.status=H,V(ee,Ce),ee.strstart!==0&&(V(ee,E.adler>>>16),V(ee,65535&E.adler)),E.adler=1}if(ee.status===69)if(ee.gzhead.extra){for(J=ee.pending;ee.gzindex<(65535&ee.gzhead.extra.length)&&(ee.pending!==ee.pending_buf_size||(ee.gzhead.hcrc&&ee.pending>J&&(E.adler=c(E.adler,ee.pending_buf,ee.pending-J,J)),se(E),J=ee.pending,ee.pending!==ee.pending_buf_size));)z(ee,255&ee.gzhead.extra[ee.gzindex]),ee.gzindex++;ee.gzhead.hcrc&&ee.pending>J&&(E.adler=c(E.adler,ee.pending_buf,ee.pending-J,J)),ee.gzindex===ee.gzhead.extra.length&&(ee.gzindex=0,ee.status=73)}else ee.status=73;if(ee.status===73)if(ee.gzhead.name){J=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>J&&(E.adler=c(E.adler,ee.pending_buf,ee.pending-J,J)),se(E),J=ee.pending,ee.pending===ee.pending_buf_size)){q=1;break}q=ee.gzindex<ee.gzhead.name.length?255&ee.gzhead.name.charCodeAt(ee.gzindex++):0,z(ee,q)}while(q!==0);ee.gzhead.hcrc&&ee.pending>J&&(E.adler=c(E.adler,ee.pending_buf,ee.pending-J,J)),q===0&&(ee.gzindex=0,ee.status=91)}else ee.status=91;if(ee.status===91)if(ee.gzhead.comment){J=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>J&&(E.adler=c(E.adler,ee.pending_buf,ee.pending-J,J)),se(E),J=ee.pending,ee.pending===ee.pending_buf_size)){q=1;break}q=ee.gzindex<ee.gzhead.comment.length?255&ee.gzhead.comment.charCodeAt(ee.gzindex++):0,z(ee,q)}while(q!==0);ee.gzhead.hcrc&&ee.pending>J&&(E.adler=c(E.adler,ee.pending_buf,ee.pending-J,J)),q===0&&(ee.status=103)}else ee.status=103;if(ee.status===103&&(ee.gzhead.hcrc?(ee.pending+2>ee.pending_buf_size&&se(E),ee.pending+2<=ee.pending_buf_size&&(z(ee,255&E.adler),z(ee,E.adler>>8&255),E.adler=0,ee.status=H)):ee.status=H),ee.pending!==0){if(se(E),E.avail_out===0)return ee.last_flush=-1,d}else if(E.avail_in===0&&re(Q)<=re(pe)&&Q!==p)return ie(E,-5);if(ee.status===666&&E.avail_in!==0)return ie(E,-5);if(E.avail_in!==0||ee.lookahead!==0||Q!==h&&ee.status!==666){var Ee=ee.strategy===2?function(xe,Fe){for(var Ke;;){if(xe.lookahead===0&&(de(xe),xe.lookahead===0)){if(Fe===h)return C;break}if(xe.match_length=0,Ke=A._tr_tally(xe,0,xe.window[xe.strstart]),xe.lookahead--,xe.strstart++,Ke&&(k(xe,!1),xe.strm.avail_out===0))return C}return xe.insert=0,Fe===p?(k(xe,!0),xe.strm.avail_out===0?ve:ce):xe.last_lit&&(k(xe,!1),xe.strm.avail_out===0)?C:te}(ee,Q):ee.strategy===3?function(xe,Fe){for(var Ke,Te,$e,dt,tt=xe.window;;){if(xe.lookahead<=K){if(de(xe),xe.lookahead<=K&&Fe===h)return C;if(xe.lookahead===0)break}if(xe.match_length=0,xe.lookahead>=F&&0<xe.strstart&&(Te=tt[$e=xe.strstart-1])===tt[++$e]&&Te===tt[++$e]&&Te===tt[++$e]){dt=xe.strstart+K;do;while(Te===tt[++$e]&&Te===tt[++$e]&&Te===tt[++$e]&&Te===tt[++$e]&&Te===tt[++$e]&&Te===tt[++$e]&&Te===tt[++$e]&&Te===tt[++$e]&&$e<dt);xe.match_length=K-(dt-$e),xe.match_length>xe.lookahead&&(xe.match_length=xe.lookahead)}if(xe.match_length>=F?(Ke=A._tr_tally(xe,1,xe.match_length-F),xe.lookahead-=xe.match_length,xe.strstart+=xe.match_length,xe.match_length=0):(Ke=A._tr_tally(xe,0,xe.window[xe.strstart]),xe.lookahead--,xe.strstart++),Ke&&(k(xe,!1),xe.strm.avail_out===0))return C}return xe.insert=0,Fe===p?(k(xe,!0),xe.strm.avail_out===0?ve:ce):xe.last_lit&&(k(xe,!1),xe.strm.avail_out===0)?C:te}(ee,Q):i[ee.level].func(ee,Q);if(Ee!==ve&&Ee!==ce||(ee.status=666),Ee===C||Ee===ve)return E.avail_out===0&&(ee.last_flush=-1),d;if(Ee===te&&(Q===1?A._tr_align(ee):Q!==5&&(A._tr_stored_block(ee,0,0,!1),Q===3&&(Be(ee.head),ee.lookahead===0&&(ee.strstart=0,ee.block_start=0,ee.insert=0))),se(E),E.avail_out===0))return ee.last_flush=-1,d}return Q!==p?d:ee.wrap<=0?1:(ee.wrap===2?(z(ee,255&E.adler),z(ee,E.adler>>8&255),z(ee,E.adler>>16&255),z(ee,E.adler>>24&255),z(ee,255&E.total_in),z(ee,E.total_in>>8&255),z(ee,E.total_in>>16&255),z(ee,E.total_in>>24&255)):(V(ee,E.adler>>>16),V(ee,65535&E.adler)),se(E),0<ee.wrap&&(ee.wrap=-ee.wrap),ee.pending!==0?d:1)},s.deflateEnd=function(E){var Q;return E&&E.state?(Q=E.state.status)!==j&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==H&&Q!==666?ie(E,w):(E.state=null,Q===H?ie(E,-3):d):w},s.deflateSetDictionary=function(E,Q){var pe,ee,J,q,Ce,Ee,xe,Fe,Ke=Q.length;if(!E||!E.state||(q=(pe=E.state).wrap)===2||q===1&&pe.status!==j||pe.lookahead)return w;for(q===1&&(E.adler=l(E.adler,Q,Ke,0)),pe.wrap=0,Ke>=pe.w_size&&(q===0&&(Be(pe.head),pe.strstart=0,pe.block_start=0,pe.insert=0),Fe=new a.Buf8(pe.w_size),a.arraySet(Fe,Q,Ke-pe.w_size,pe.w_size,0),Q=Fe,Ke=pe.w_size),Ce=E.avail_in,Ee=E.next_in,xe=E.input,E.avail_in=Ke,E.next_in=0,E.input=Q,de(pe);pe.lookahead>=F;){for(ee=pe.strstart,J=pe.lookahead-(F-1);pe.ins_h=(pe.ins_h<<pe.hash_shift^pe.window[ee+F-1])&pe.hash_mask,pe.prev[ee&pe.w_mask]=pe.head[pe.ins_h],pe.head[pe.ins_h]=ee,ee++,--J;);pe.strstart=ee,pe.lookahead=F-1,de(pe)}return pe.strstart+=pe.lookahead,pe.block_start=pe.strstart,pe.insert=pe.lookahead,pe.lookahead=0,pe.match_length=pe.prev_length=F-1,pe.match_available=0,E.next_in=Ee,E.input=xe,E.avail_in=Ce,pe.wrap=q,d},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,s){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,s){n.exports=function(i,a){var A,l,c,u,h,p,d,w,m,b,g,y,B,_,N,D,T,O,F,K,I,j,H,C,te;A=i.state,l=i.next_in,C=i.input,c=l+(i.avail_in-5),u=i.next_out,te=i.output,h=u-(a-i.avail_out),p=u+(i.avail_out-257),d=A.dmax,w=A.wsize,m=A.whave,b=A.wnext,g=A.window,y=A.hold,B=A.bits,_=A.lencode,N=A.distcode,D=(1<<A.lenbits)-1,T=(1<<A.distbits)-1;e:do{B<15&&(y+=C[l++]<<B,B+=8,y+=C[l++]<<B,B+=8),O=_[y&D];t:for(;;){if(y>>>=F=O>>>24,B-=F,(F=O>>>16&255)===0)te[u++]=65535&O;else{if(!(16&F)){if(!(64&F)){O=_[(65535&O)+(y&(1<<F)-1)];continue t}if(32&F){A.mode=12;break e}i.msg="invalid literal/length code",A.mode=30;break e}K=65535&O,(F&=15)&&(B<F&&(y+=C[l++]<<B,B+=8),K+=y&(1<<F)-1,y>>>=F,B-=F),B<15&&(y+=C[l++]<<B,B+=8,y+=C[l++]<<B,B+=8),O=N[y&T];r:for(;;){if(y>>>=F=O>>>24,B-=F,!(16&(F=O>>>16&255))){if(!(64&F)){O=N[(65535&O)+(y&(1<<F)-1)];continue r}i.msg="invalid distance code",A.mode=30;break e}if(I=65535&O,B<(F&=15)&&(y+=C[l++]<<B,(B+=8)<F&&(y+=C[l++]<<B,B+=8)),d<(I+=y&(1<<F)-1)){i.msg="invalid distance too far back",A.mode=30;break e}if(y>>>=F,B-=F,(F=u-h)<I){if(m<(F=I-F)&&A.sane){i.msg="invalid distance too far back",A.mode=30;break e}if(H=g,(j=0)===b){if(j+=w-F,F<K){for(K-=F;te[u++]=g[j++],--F;);j=u-I,H=te}}else if(b<F){if(j+=w+b-F,(F-=b)<K){for(K-=F;te[u++]=g[j++],--F;);if(j=0,b<K){for(K-=F=b;te[u++]=g[j++],--F;);j=u-I,H=te}}}else if(j+=b-F,F<K){for(K-=F;te[u++]=g[j++],--F;);j=u-I,H=te}for(;2<K;)te[u++]=H[j++],te[u++]=H[j++],te[u++]=H[j++],K-=3;K&&(te[u++]=H[j++],1<K&&(te[u++]=H[j++]))}else{for(j=u-I;te[u++]=te[j++],te[u++]=te[j++],te[u++]=te[j++],2<(K-=3););K&&(te[u++]=te[j++],1<K&&(te[u++]=te[j++]))}break}}break}}while(l<c&&u<p);l-=K=B>>3,y&=(1<<(B-=K<<3))-1,i.next_in=l,i.next_out=u,i.avail_in=l<c?c-l+5:5-(l-c),i.avail_out=u<p?p-u+257:257-(u-p),A.hold=y,A.bits=B}},{}],49:[function(r,n,s){var i=r("../utils/common"),a=r("./adler32"),A=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),u=1,h=2,p=0,d=-2,w=1,m=852,b=592;function g(j){return(j>>>24&255)+(j>>>8&65280)+((65280&j)<<8)+((255&j)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function B(j){var H;return j&&j.state?(H=j.state,j.total_in=j.total_out=H.total=0,j.msg="",H.wrap&&(j.adler=1&H.wrap),H.mode=w,H.last=0,H.havedict=0,H.dmax=32768,H.head=null,H.hold=0,H.bits=0,H.lencode=H.lendyn=new i.Buf32(m),H.distcode=H.distdyn=new i.Buf32(b),H.sane=1,H.back=-1,p):d}function _(j){var H;return j&&j.state?((H=j.state).wsize=0,H.whave=0,H.wnext=0,B(j)):d}function N(j,H){var C,te;return j&&j.state?(te=j.state,H<0?(C=0,H=-H):(C=1+(H>>4),H<48&&(H&=15)),H&&(H<8||15<H)?d:(te.window!==null&&te.wbits!==H&&(te.window=null),te.wrap=C,te.wbits=H,_(j))):d}function D(j,H){var C,te;return j?(te=new y,(j.state=te).window=null,(C=N(j,H))!==p&&(j.state=null),C):d}var T,O,F=!0;function K(j){if(F){var H;for(T=new i.Buf32(512),O=new i.Buf32(32),H=0;H<144;)j.lens[H++]=8;for(;H<256;)j.lens[H++]=9;for(;H<280;)j.lens[H++]=7;for(;H<288;)j.lens[H++]=8;for(c(u,j.lens,0,288,T,0,j.work,{bits:9}),H=0;H<32;)j.lens[H++]=5;c(h,j.lens,0,32,O,0,j.work,{bits:5}),F=!1}j.lencode=T,j.lenbits=9,j.distcode=O,j.distbits=5}function I(j,H,C,te){var ve,ce=j.state;return ce.window===null&&(ce.wsize=1<<ce.wbits,ce.wnext=0,ce.whave=0,ce.window=new i.Buf8(ce.wsize)),te>=ce.wsize?(i.arraySet(ce.window,H,C-ce.wsize,ce.wsize,0),ce.wnext=0,ce.whave=ce.wsize):(te<(ve=ce.wsize-ce.wnext)&&(ve=te),i.arraySet(ce.window,H,C-te,ve,ce.wnext),(te-=ve)?(i.arraySet(ce.window,H,C-te,te,0),ce.wnext=te,ce.whave=ce.wsize):(ce.wnext+=ve,ce.wnext===ce.wsize&&(ce.wnext=0),ce.whave<ce.wsize&&(ce.whave+=ve))),0}s.inflateReset=_,s.inflateReset2=N,s.inflateResetKeep=B,s.inflateInit=function(j){return D(j,15)},s.inflateInit2=D,s.inflate=function(j,H){var C,te,ve,ce,ie,re,Be,se,k,z,V,G,de,ye,we,Z,he,le,ae,Se,E,Q,pe,ee,J=0,q=new i.Buf8(4),Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!j||!j.state||!j.output||!j.input&&j.avail_in!==0)return d;(C=j.state).mode===12&&(C.mode=13),ie=j.next_out,ve=j.output,Be=j.avail_out,ce=j.next_in,te=j.input,re=j.avail_in,se=C.hold,k=C.bits,z=re,V=Be,Q=p;e:for(;;)switch(C.mode){case w:if(C.wrap===0){C.mode=13;break}for(;k<16;){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}if(2&C.wrap&&se===35615){q[C.check=0]=255&se,q[1]=se>>>8&255,C.check=A(C.check,q,2,0),k=se=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&se)<<8)+(se>>8))%31){j.msg="incorrect header check",C.mode=30;break}if((15&se)!=8){j.msg="unknown compression method",C.mode=30;break}if(k-=4,E=8+(15&(se>>>=4)),C.wbits===0)C.wbits=E;else if(E>C.wbits){j.msg="invalid window size",C.mode=30;break}C.dmax=1<<E,j.adler=C.check=1,C.mode=512&se?10:12,k=se=0;break;case 2:for(;k<16;){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}if(C.flags=se,(255&C.flags)!=8){j.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){j.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=se>>8&1),512&C.flags&&(q[0]=255&se,q[1]=se>>>8&255,C.check=A(C.check,q,2,0)),k=se=0,C.mode=3;case 3:for(;k<32;){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}C.head&&(C.head.time=se),512&C.flags&&(q[0]=255&se,q[1]=se>>>8&255,q[2]=se>>>16&255,q[3]=se>>>24&255,C.check=A(C.check,q,4,0)),k=se=0,C.mode=4;case 4:for(;k<16;){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}C.head&&(C.head.xflags=255&se,C.head.os=se>>8),512&C.flags&&(q[0]=255&se,q[1]=se>>>8&255,C.check=A(C.check,q,2,0)),k=se=0,C.mode=5;case 5:if(1024&C.flags){for(;k<16;){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}C.length=se,C.head&&(C.head.extra_len=se),512&C.flags&&(q[0]=255&se,q[1]=se>>>8&255,C.check=A(C.check,q,2,0)),k=se=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(re<(G=C.length)&&(G=re),G&&(C.head&&(E=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),i.arraySet(C.head.extra,te,ce,G,E)),512&C.flags&&(C.check=A(C.check,te,G,ce)),re-=G,ce+=G,C.length-=G),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(re===0)break e;for(G=0;E=te[ce+G++],C.head&&E&&C.length<65536&&(C.head.name+=String.fromCharCode(E)),E&&G<re;);if(512&C.flags&&(C.check=A(C.check,te,G,ce)),re-=G,ce+=G,E)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(re===0)break e;for(G=0;E=te[ce+G++],C.head&&E&&C.length<65536&&(C.head.comment+=String.fromCharCode(E)),E&&G<re;);if(512&C.flags&&(C.check=A(C.check,te,G,ce)),re-=G,ce+=G,E)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;k<16;){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}if(se!==(65535&C.check)){j.msg="header crc mismatch",C.mode=30;break}k=se=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),j.adler=C.check=0,C.mode=12;break;case 10:for(;k<32;){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}j.adler=C.check=g(se),k=se=0,C.mode=11;case 11:if(C.havedict===0)return j.next_out=ie,j.avail_out=Be,j.next_in=ce,j.avail_in=re,C.hold=se,C.bits=k,2;j.adler=C.check=1,C.mode=12;case 12:if(H===5||H===6)break e;case 13:if(C.last){se>>>=7&k,k-=7&k,C.mode=27;break}for(;k<3;){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}switch(C.last=1&se,k-=1,3&(se>>>=1)){case 0:C.mode=14;break;case 1:if(K(C),C.mode=20,H!==6)break;se>>>=2,k-=2;break e;case 2:C.mode=17;break;case 3:j.msg="invalid block type",C.mode=30}se>>>=2,k-=2;break;case 14:for(se>>>=7&k,k-=7&k;k<32;){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}if((65535&se)!=(se>>>16^65535)){j.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&se,k=se=0,C.mode=15,H===6)break e;case 15:C.mode=16;case 16:if(G=C.length){if(re<G&&(G=re),Be<G&&(G=Be),G===0)break e;i.arraySet(ve,te,ce,G,ie),re-=G,ce+=G,Be-=G,ie+=G,C.length-=G;break}C.mode=12;break;case 17:for(;k<14;){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}if(C.nlen=257+(31&se),se>>>=5,k-=5,C.ndist=1+(31&se),se>>>=5,k-=5,C.ncode=4+(15&se),se>>>=4,k-=4,286<C.nlen||30<C.ndist){j.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;k<3;){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}C.lens[Ce[C.have++]]=7&se,se>>>=3,k-=3}for(;C.have<19;)C.lens[Ce[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,pe={bits:C.lenbits},Q=c(0,C.lens,0,19,C.lencode,0,C.work,pe),C.lenbits=pe.bits,Q){j.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;Z=(J=C.lencode[se&(1<<C.lenbits)-1])>>>16&255,he=65535&J,!((we=J>>>24)<=k);){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}if(he<16)se>>>=we,k-=we,C.lens[C.have++]=he;else{if(he===16){for(ee=we+2;k<ee;){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}if(se>>>=we,k-=we,C.have===0){j.msg="invalid bit length repeat",C.mode=30;break}E=C.lens[C.have-1],G=3+(3&se),se>>>=2,k-=2}else if(he===17){for(ee=we+3;k<ee;){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}k-=we,E=0,G=3+(7&(se>>>=we)),se>>>=3,k-=3}else{for(ee=we+7;k<ee;){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}k-=we,E=0,G=11+(127&(se>>>=we)),se>>>=7,k-=7}if(C.have+G>C.nlen+C.ndist){j.msg="invalid bit length repeat",C.mode=30;break}for(;G--;)C.lens[C.have++]=E}}if(C.mode===30)break;if(C.lens[256]===0){j.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,pe={bits:C.lenbits},Q=c(u,C.lens,0,C.nlen,C.lencode,0,C.work,pe),C.lenbits=pe.bits,Q){j.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,pe={bits:C.distbits},Q=c(h,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,pe),C.distbits=pe.bits,Q){j.msg="invalid distances set",C.mode=30;break}if(C.mode=20,H===6)break e;case 20:C.mode=21;case 21:if(6<=re&&258<=Be){j.next_out=ie,j.avail_out=Be,j.next_in=ce,j.avail_in=re,C.hold=se,C.bits=k,l(j,V),ie=j.next_out,ve=j.output,Be=j.avail_out,ce=j.next_in,te=j.input,re=j.avail_in,se=C.hold,k=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;Z=(J=C.lencode[se&(1<<C.lenbits)-1])>>>16&255,he=65535&J,!((we=J>>>24)<=k);){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}if(Z&&!(240&Z)){for(le=we,ae=Z,Se=he;Z=(J=C.lencode[Se+((se&(1<<le+ae)-1)>>le)])>>>16&255,he=65535&J,!(le+(we=J>>>24)<=k);){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}se>>>=le,k-=le,C.back+=le}if(se>>>=we,k-=we,C.back+=we,C.length=he,Z===0){C.mode=26;break}if(32&Z){C.back=-1,C.mode=12;break}if(64&Z){j.msg="invalid literal/length code",C.mode=30;break}C.extra=15&Z,C.mode=22;case 22:if(C.extra){for(ee=C.extra;k<ee;){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}C.length+=se&(1<<C.extra)-1,se>>>=C.extra,k-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;Z=(J=C.distcode[se&(1<<C.distbits)-1])>>>16&255,he=65535&J,!((we=J>>>24)<=k);){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}if(!(240&Z)){for(le=we,ae=Z,Se=he;Z=(J=C.distcode[Se+((se&(1<<le+ae)-1)>>le)])>>>16&255,he=65535&J,!(le+(we=J>>>24)<=k);){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}se>>>=le,k-=le,C.back+=le}if(se>>>=we,k-=we,C.back+=we,64&Z){j.msg="invalid distance code",C.mode=30;break}C.offset=he,C.extra=15&Z,C.mode=24;case 24:if(C.extra){for(ee=C.extra;k<ee;){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}C.offset+=se&(1<<C.extra)-1,se>>>=C.extra,k-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){j.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(Be===0)break e;if(G=V-Be,C.offset>G){if((G=C.offset-G)>C.whave&&C.sane){j.msg="invalid distance too far back",C.mode=30;break}de=G>C.wnext?(G-=C.wnext,C.wsize-G):C.wnext-G,G>C.length&&(G=C.length),ye=C.window}else ye=ve,de=ie-C.offset,G=C.length;for(Be<G&&(G=Be),Be-=G,C.length-=G;ve[ie++]=ye[de++],--G;);C.length===0&&(C.mode=21);break;case 26:if(Be===0)break e;ve[ie++]=C.length,Be--,C.mode=21;break;case 27:if(C.wrap){for(;k<32;){if(re===0)break e;re--,se|=te[ce++]<<k,k+=8}if(V-=Be,j.total_out+=V,C.total+=V,V&&(j.adler=C.check=C.flags?A(C.check,ve,V,ie-V):a(C.check,ve,V,ie-V)),V=Be,(C.flags?se:g(se))!==C.check){j.msg="incorrect data check",C.mode=30;break}k=se=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;k<32;){if(re===0)break e;re--,se+=te[ce++]<<k,k+=8}if(se!==(4294967295&C.total)){j.msg="incorrect length check",C.mode=30;break}k=se=0}C.mode=29;case 29:Q=1;break e;case 30:Q=-3;break e;case 31:return-4;case 32:default:return d}return j.next_out=ie,j.avail_out=Be,j.next_in=ce,j.avail_in=re,C.hold=se,C.bits=k,(C.wsize||V!==j.avail_out&&C.mode<30&&(C.mode<27||H!==4))&&I(j,j.output,j.next_out,V-j.avail_out)?(C.mode=31,-4):(z-=j.avail_in,V-=j.avail_out,j.total_in+=z,j.total_out+=V,C.total+=V,C.wrap&&V&&(j.adler=C.check=C.flags?A(C.check,ve,V,j.next_out-V):a(C.check,ve,V,j.next_out-V)),j.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(z==0&&V===0||H===4)&&Q===p&&(Q=-5),Q)},s.inflateEnd=function(j){if(!j||!j.state)return d;var H=j.state;return H.window&&(H.window=null),j.state=null,p},s.inflateGetHeader=function(j,H){var C;return j&&j.state&&2&(C=j.state).wrap?((C.head=H).done=!1,p):d},s.inflateSetDictionary=function(j,H){var C,te=H.length;return j&&j.state?(C=j.state).wrap!==0&&C.mode!==11?d:C.mode===11&&a(1,H,te,0)!==C.check?-3:I(j,H,te,te)?(C.mode=31,-4):(C.havedict=1,p):d},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,s){var i=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],A=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(u,h,p,d,w,m,b,g){var y,B,_,N,D,T,O,F,K,I=g.bits,j=0,H=0,C=0,te=0,ve=0,ce=0,ie=0,re=0,Be=0,se=0,k=null,z=0,V=new i.Buf16(16),G=new i.Buf16(16),de=null,ye=0;for(j=0;j<=15;j++)V[j]=0;for(H=0;H<d;H++)V[h[p+H]]++;for(ve=I,te=15;1<=te&&V[te]===0;te--);if(te<ve&&(ve=te),te===0)return w[m++]=20971520,w[m++]=20971520,g.bits=1,0;for(C=1;C<te&&V[C]===0;C++);for(ve<C&&(ve=C),j=re=1;j<=15;j++)if(re<<=1,(re-=V[j])<0)return-1;if(0<re&&(u===0||te!==1))return-1;for(G[1]=0,j=1;j<15;j++)G[j+1]=G[j]+V[j];for(H=0;H<d;H++)h[p+H]!==0&&(b[G[h[p+H]]++]=H);if(T=u===0?(k=de=b,19):u===1?(k=a,z-=257,de=A,ye-=257,256):(k=l,de=c,-1),j=C,D=m,ie=H=se=0,_=-1,N=(Be=1<<(ce=ve))-1,u===1&&852<Be||u===2&&592<Be)return 1;for(;;){for(O=j-ie,K=b[H]<T?(F=0,b[H]):b[H]>T?(F=de[ye+b[H]],k[z+b[H]]):(F=96,0),y=1<<j-ie,C=B=1<<ce;w[D+(se>>ie)+(B-=y)]=O<<24|F<<16|K|0,B!==0;);for(y=1<<j-1;se&y;)y>>=1;if(y!==0?(se&=y-1,se+=y):se=0,H++,--V[j]==0){if(j===te)break;j=h[p+b[H]]}if(ve<j&&(se&N)!==_){for(ie===0&&(ie=ve),D+=C,re=1<<(ce=j-ie);ce+ie<te&&!((re-=V[ce+ie])<=0);)ce++,re<<=1;if(Be+=1<<ce,u===1&&852<Be||u===2&&592<Be)return 1;w[_=se&N]=ve<<24|ce<<16|D-m|0}}return se!==0&&(w[D+se]=j-ie<<24|64<<16|0),g.bits=ve,0}},{"../utils/common":41}],51:[function(r,n,s){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,s){var i=r("../utils/common"),a=0,A=1;function l(J){for(var q=J.length;0<=--q;)J[q]=0}var c=0,u=29,h=256,p=h+1+u,d=30,w=19,m=2*p+1,b=15,g=16,y=7,B=256,_=16,N=17,D=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],I=new Array(2*(p+2));l(I);var j=new Array(2*d);l(j);var H=new Array(512);l(H);var C=new Array(256);l(C);var te=new Array(u);l(te);var ve,ce,ie,re=new Array(d);function Be(J,q,Ce,Ee,xe){this.static_tree=J,this.extra_bits=q,this.extra_base=Ce,this.elems=Ee,this.max_length=xe,this.has_stree=J&&J.length}function se(J,q){this.dyn_tree=J,this.max_code=0,this.stat_desc=q}function k(J){return J<256?H[J]:H[256+(J>>>7)]}function z(J,q){J.pending_buf[J.pending++]=255&q,J.pending_buf[J.pending++]=q>>>8&255}function V(J,q,Ce){J.bi_valid>g-Ce?(J.bi_buf|=q<<J.bi_valid&65535,z(J,J.bi_buf),J.bi_buf=q>>g-J.bi_valid,J.bi_valid+=Ce-g):(J.bi_buf|=q<<J.bi_valid&65535,J.bi_valid+=Ce)}function G(J,q,Ce){V(J,Ce[2*q],Ce[2*q+1])}function de(J,q){for(var Ce=0;Ce|=1&J,J>>>=1,Ce<<=1,0<--q;);return Ce>>>1}function ye(J,q,Ce){var Ee,xe,Fe=new Array(b+1),Ke=0;for(Ee=1;Ee<=b;Ee++)Fe[Ee]=Ke=Ke+Ce[Ee-1]<<1;for(xe=0;xe<=q;xe++){var Te=J[2*xe+1];Te!==0&&(J[2*xe]=de(Fe[Te]++,Te))}}function we(J){var q;for(q=0;q<p;q++)J.dyn_ltree[2*q]=0;for(q=0;q<d;q++)J.dyn_dtree[2*q]=0;for(q=0;q<w;q++)J.bl_tree[2*q]=0;J.dyn_ltree[2*B]=1,J.opt_len=J.static_len=0,J.last_lit=J.matches=0}function Z(J){8<J.bi_valid?z(J,J.bi_buf):0<J.bi_valid&&(J.pending_buf[J.pending++]=J.bi_buf),J.bi_buf=0,J.bi_valid=0}function he(J,q,Ce,Ee){var xe=2*q,Fe=2*Ce;return J[xe]<J[Fe]||J[xe]===J[Fe]&&Ee[q]<=Ee[Ce]}function le(J,q,Ce){for(var Ee=J.heap[Ce],xe=Ce<<1;xe<=J.heap_len&&(xe<J.heap_len&&he(q,J.heap[xe+1],J.heap[xe],J.depth)&&xe++,!he(q,Ee,J.heap[xe],J.depth));)J.heap[Ce]=J.heap[xe],Ce=xe,xe<<=1;J.heap[Ce]=Ee}function ae(J,q,Ce){var Ee,xe,Fe,Ke,Te=0;if(J.last_lit!==0)for(;Ee=J.pending_buf[J.d_buf+2*Te]<<8|J.pending_buf[J.d_buf+2*Te+1],xe=J.pending_buf[J.l_buf+Te],Te++,Ee===0?G(J,xe,q):(G(J,(Fe=C[xe])+h+1,q),(Ke=T[Fe])!==0&&V(J,xe-=te[Fe],Ke),G(J,Fe=k(--Ee),Ce),(Ke=O[Fe])!==0&&V(J,Ee-=re[Fe],Ke)),Te<J.last_lit;);G(J,B,q)}function Se(J,q){var Ce,Ee,xe,Fe=q.dyn_tree,Ke=q.stat_desc.static_tree,Te=q.stat_desc.has_stree,$e=q.stat_desc.elems,dt=-1;for(J.heap_len=0,J.heap_max=m,Ce=0;Ce<$e;Ce++)Fe[2*Ce]!==0?(J.heap[++J.heap_len]=dt=Ce,J.depth[Ce]=0):Fe[2*Ce+1]=0;for(;J.heap_len<2;)Fe[2*(xe=J.heap[++J.heap_len]=dt<2?++dt:0)]=1,J.depth[xe]=0,J.opt_len--,Te&&(J.static_len-=Ke[2*xe+1]);for(q.max_code=dt,Ce=J.heap_len>>1;1<=Ce;Ce--)le(J,Fe,Ce);for(xe=$e;Ce=J.heap[1],J.heap[1]=J.heap[J.heap_len--],le(J,Fe,1),Ee=J.heap[1],J.heap[--J.heap_max]=Ce,J.heap[--J.heap_max]=Ee,Fe[2*xe]=Fe[2*Ce]+Fe[2*Ee],J.depth[xe]=(J.depth[Ce]>=J.depth[Ee]?J.depth[Ce]:J.depth[Ee])+1,Fe[2*Ce+1]=Fe[2*Ee+1]=xe,J.heap[1]=xe++,le(J,Fe,1),2<=J.heap_len;);J.heap[--J.heap_max]=J.heap[1],function(tt,Je){var M,ge,Le,Ue,qe,rt,st=Je.dyn_tree,it=Je.max_code,me=Je.stat_desc.static_tree,Pe=Je.stat_desc.has_stree,Xe=Je.stat_desc.extra_bits,et=Je.stat_desc.extra_base,at=Je.stat_desc.max_length,Me=0;for(Ue=0;Ue<=b;Ue++)tt.bl_count[Ue]=0;for(st[2*tt.heap[tt.heap_max]+1]=0,M=tt.heap_max+1;M<m;M++)at<(Ue=st[2*st[2*(ge=tt.heap[M])+1]+1]+1)&&(Ue=at,Me++),st[2*ge+1]=Ue,it<ge||(tt.bl_count[Ue]++,qe=0,et<=ge&&(qe=Xe[ge-et]),rt=st[2*ge],tt.opt_len+=rt*(Ue+qe),Pe&&(tt.static_len+=rt*(me[2*ge+1]+qe)));if(Me!==0){do{for(Ue=at-1;tt.bl_count[Ue]===0;)Ue--;tt.bl_count[Ue]--,tt.bl_count[Ue+1]+=2,tt.bl_count[at]--,Me-=2}while(0<Me);for(Ue=at;Ue!==0;Ue--)for(ge=tt.bl_count[Ue];ge!==0;)it<(Le=tt.heap[--M])||(st[2*Le+1]!==Ue&&(tt.opt_len+=(Ue-st[2*Le+1])*st[2*Le],st[2*Le+1]=Ue),ge--)}}(J,q),ye(Fe,dt,J.bl_count)}function E(J,q,Ce){var Ee,xe,Fe=-1,Ke=q[1],Te=0,$e=7,dt=4;for(Ke===0&&($e=138,dt=3),q[2*(Ce+1)+1]=65535,Ee=0;Ee<=Ce;Ee++)xe=Ke,Ke=q[2*(Ee+1)+1],++Te<$e&&xe===Ke||(Te<dt?J.bl_tree[2*xe]+=Te:xe!==0?(xe!==Fe&&J.bl_tree[2*xe]++,J.bl_tree[2*_]++):Te<=10?J.bl_tree[2*N]++:J.bl_tree[2*D]++,Fe=xe,dt=(Te=0)===Ke?($e=138,3):xe===Ke?($e=6,3):($e=7,4))}function Q(J,q,Ce){var Ee,xe,Fe=-1,Ke=q[1],Te=0,$e=7,dt=4;for(Ke===0&&($e=138,dt=3),Ee=0;Ee<=Ce;Ee++)if(xe=Ke,Ke=q[2*(Ee+1)+1],!(++Te<$e&&xe===Ke)){if(Te<dt)for(;G(J,xe,J.bl_tree),--Te!=0;);else xe!==0?(xe!==Fe&&(G(J,xe,J.bl_tree),Te--),G(J,_,J.bl_tree),V(J,Te-3,2)):Te<=10?(G(J,N,J.bl_tree),V(J,Te-3,3)):(G(J,D,J.bl_tree),V(J,Te-11,7));Fe=xe,dt=(Te=0)===Ke?($e=138,3):xe===Ke?($e=6,3):($e=7,4)}}l(re);var pe=!1;function ee(J,q,Ce,Ee){V(J,(c<<1)+(Ee?1:0),3),function(xe,Fe,Ke,Te){Z(xe),Te&&(z(xe,Ke),z(xe,~Ke)),i.arraySet(xe.pending_buf,xe.window,Fe,Ke,xe.pending),xe.pending+=Ke}(J,q,Ce,!0)}s._tr_init=function(J){pe||(function(){var q,Ce,Ee,xe,Fe,Ke=new Array(b+1);for(xe=Ee=0;xe<u-1;xe++)for(te[xe]=Ee,q=0;q<1<<T[xe];q++)C[Ee++]=xe;for(C[Ee-1]=xe,xe=Fe=0;xe<16;xe++)for(re[xe]=Fe,q=0;q<1<<O[xe];q++)H[Fe++]=xe;for(Fe>>=7;xe<d;xe++)for(re[xe]=Fe<<7,q=0;q<1<<O[xe]-7;q++)H[256+Fe++]=xe;for(Ce=0;Ce<=b;Ce++)Ke[Ce]=0;for(q=0;q<=143;)I[2*q+1]=8,q++,Ke[8]++;for(;q<=255;)I[2*q+1]=9,q++,Ke[9]++;for(;q<=279;)I[2*q+1]=7,q++,Ke[7]++;for(;q<=287;)I[2*q+1]=8,q++,Ke[8]++;for(ye(I,p+1,Ke),q=0;q<d;q++)j[2*q+1]=5,j[2*q]=de(q,5);ve=new Be(I,T,h+1,p,b),ce=new Be(j,O,0,d,b),ie=new Be(new Array(0),F,0,w,y)}(),pe=!0),J.l_desc=new se(J.dyn_ltree,ve),J.d_desc=new se(J.dyn_dtree,ce),J.bl_desc=new se(J.bl_tree,ie),J.bi_buf=0,J.bi_valid=0,we(J)},s._tr_stored_block=ee,s._tr_flush_block=function(J,q,Ce,Ee){var xe,Fe,Ke=0;0<J.level?(J.strm.data_type===2&&(J.strm.data_type=function(Te){var $e,dt=4093624447;for($e=0;$e<=31;$e++,dt>>>=1)if(1&dt&&Te.dyn_ltree[2*$e]!==0)return a;if(Te.dyn_ltree[18]!==0||Te.dyn_ltree[20]!==0||Te.dyn_ltree[26]!==0)return A;for($e=32;$e<h;$e++)if(Te.dyn_ltree[2*$e]!==0)return A;return a}(J)),Se(J,J.l_desc),Se(J,J.d_desc),Ke=function(Te){var $e;for(E(Te,Te.dyn_ltree,Te.l_desc.max_code),E(Te,Te.dyn_dtree,Te.d_desc.max_code),Se(Te,Te.bl_desc),$e=w-1;3<=$e&&Te.bl_tree[2*K[$e]+1]===0;$e--);return Te.opt_len+=3*($e+1)+5+5+4,$e}(J),xe=J.opt_len+3+7>>>3,(Fe=J.static_len+3+7>>>3)<=xe&&(xe=Fe)):xe=Fe=Ce+5,Ce+4<=xe&&q!==-1?ee(J,q,Ce,Ee):J.strategy===4||Fe===xe?(V(J,2+(Ee?1:0),3),ae(J,I,j)):(V(J,4+(Ee?1:0),3),function(Te,$e,dt,tt){var Je;for(V(Te,$e-257,5),V(Te,dt-1,5),V(Te,tt-4,4),Je=0;Je<tt;Je++)V(Te,Te.bl_tree[2*K[Je]+1],3);Q(Te,Te.dyn_ltree,$e-1),Q(Te,Te.dyn_dtree,dt-1)}(J,J.l_desc.max_code+1,J.d_desc.max_code+1,Ke+1),ae(J,J.dyn_ltree,J.dyn_dtree)),we(J),Ee&&Z(J)},s._tr_tally=function(J,q,Ce){return J.pending_buf[J.d_buf+2*J.last_lit]=q>>>8&255,J.pending_buf[J.d_buf+2*J.last_lit+1]=255&q,J.pending_buf[J.l_buf+J.last_lit]=255&Ce,J.last_lit++,q===0?J.dyn_ltree[2*Ce]++:(J.matches++,q--,J.dyn_ltree[2*(C[Ce]+h+1)]++,J.dyn_dtree[2*k(q)]++),J.last_lit===J.lit_bufsize-1},s._tr_align=function(J){V(J,2,3),G(J,B,I),function(q){q.bi_valid===16?(z(q,q.bi_buf),q.bi_buf=0,q.bi_valid=0):8<=q.bi_valid&&(q.pending_buf[q.pending++]=255&q.bi_buf,q.bi_buf>>=8,q.bi_valid-=8)}(J)}},{"../utils/common":41}],53:[function(r,n,s){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,s){(function(i){(function(a,A){if(!a.setImmediate){var l,c,u,h,p=1,d={},w=!1,m=a.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(a);b=b&&b.setTimeout?b:a,l={}.toString.call(a.process)==="[object process]"?function(_){process.nextTick(function(){y(_)})}:function(){if(a.postMessage&&!a.importScripts){var _=!0,N=a.onmessage;return a.onmessage=function(){_=!1},a.postMessage("","*"),a.onmessage=N,_}}()?(h="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",B,!1):a.attachEvent("onmessage",B),function(_){a.postMessage(h+_,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(_){y(_.data)},function(_){u.port2.postMessage(_)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(_){var N=m.createElement("script");N.onreadystatechange=function(){y(_),N.onreadystatechange=null,c.removeChild(N),N=null},c.appendChild(N)}):function(_){setTimeout(y,0,_)},b.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var N=new Array(arguments.length-1),D=0;D<N.length;D++)N[D]=arguments[D+1];var T={callback:_,args:N};return d[p]=T,l(p),p++},b.clearImmediate=g}function g(_){delete d[_]}function y(_){if(w)setTimeout(y,0,_);else{var N=d[_];if(N){w=!0;try{(function(D){var T=D.callback,O=D.args;switch(O.length){case 0:T();break;case 1:T(O[0]);break;case 2:T(O[0],O[1]);break;case 3:T(O[0],O[1],O[2]);break;default:T.apply(A,O)}})(N)}finally{g(_),w=!1}}}}function B(_){_.source===a&&typeof _.data=="string"&&_.data.indexOf(h)===0&&y(+_.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Wa<"u"?Wa:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(P4);var RQ=P4.exports;const HQ=Xx(RQ);var O4={exports:{}};(function(t,e){(function(r,n){n()})(Wa,function(){function r(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function n(c,u,h){var p=new XMLHttpRequest;p.open("GET",c),p.responseType="blob",p.onload=function(){l(p.response,u,h)},p.onerror=function(){console.error("could not download file")},p.send()}function s(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function i(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Wa=="object"&&Wa.global===Wa?Wa:void 0,A=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!A?function(c,u,h){var p=a.URL||a.webkitURL,d=document.createElement("a");u=u||c.name||"download",d.download=u,d.rel="noopener",typeof c=="string"?(d.href=c,d.origin===location.origin?i(d):s(d.href)?n(c,u,h):i(d,d.target="_blank")):(d.href=p.createObjectURL(c),setTimeout(function(){p.revokeObjectURL(d.href)},4e4),setTimeout(function(){i(d)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,h){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(r(c,h),u);else if(s(c))n(c,u,h);else{var p=document.createElement("a");p.href=c,p.target="_blank",setTimeout(function(){i(p)})}}:function(c,u,h,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof c=="string")return n(c,u,h);var d=c.type==="application/octet-stream",w=/constructor/i.test(a.HTMLElement)||a.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||d&&w||A)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var B=b.result;B=m?B:B.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=B:location=B,p=null},b.readAsDataURL(c)}else{var g=a.URL||a.webkitURL,y=g.createObjectURL(c);p?p.location=y:location.href=y,p=null,setTimeout(function(){g.revokeObjectURL(y)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})(O4);var MQ=O4.exports;function or(t){"@babel/helpers - typeof";return or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},or(t)}var Zi=Uint8Array,ri=Uint16Array,xw=Int32Array,_w=new Zi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Cw=new Zi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_b=new Zi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),R4=function(t,e){for(var r=new ri(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new xw(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},H4=R4(_w,2),zQ=H4.b,U1=H4.r;zQ[28]=258,U1[258]=28;var KQ=R4(Cw,0),Cb=KQ.r,I1=new ri(32768);for(var Er=0;Er<32768;++Er){var Eo=(Er&43690)>>1|(Er&21845)<<1;Eo=(Eo&52428)>>2|(Eo&13107)<<2,Eo=(Eo&61680)>>4|(Eo&3855)<<4,I1[Er]=((Eo&65280)>>8|(Eo&255)<<8)>>1}var Xu=function(t,e,r){for(var n=t.length,s=0,i=new ri(e);s<n;++s)t[s]&&++i[t[s]-1];var a=new ri(e);for(s=1;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;var A;if(r){A=new ri(1<<e);var l=15-e;for(s=0;s<n;++s)if(t[s])for(var c=s<<4|t[s],u=e-t[s],h=a[t[s]-1]++<<u,p=h|(1<<u)-1;h<=p;++h)A[I1[h]>>l]=c}else for(A=new ri(n),s=0;s<n;++s)t[s]&&(A[s]=I1[a[t[s]-1]++]>>15-t[s]);return A},nl=new Zi(288);for(var Er=0;Er<144;++Er)nl[Er]=8;for(var Er=144;Er<256;++Er)nl[Er]=9;for(var Er=256;Er<280;++Er)nl[Er]=7;for(var Er=280;Er<288;++Er)nl[Er]=8;var Up=new Zi(32);for(var Er=0;Er<32;++Er)Up[Er]=5;var $Q=Xu(nl,9,0),VQ=Xu(Up,5,0),M4=function(t){return(t+7)/8|0},GQ=function(t,e,r){return(e==null||e<0)&&(e=0),(r==null||r>t.length)&&(r=t.length),new Zi(t.subarray(e,r))},Oa=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},mu=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Sm=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return{t:K4,l:0};if(s==1){var a=new Zi(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(N,D){return N.f-D.f}),r.push({s:-1,f:25001});var A=r[0],l=r[1],c=0,u=1,h=2;for(r[0]={s:-1,f:A.f+l.f,l:A,r:l};u!=s-1;)A=r[r[c].f<r[h].f?c++:h++],l=r[c!=u&&r[c].f<r[h].f?c++:h++],r[u++]={s:-1,f:A.f+l.f,l:A,r:l};for(var p=i[0].s,n=1;n<s;++n)i[n].s>p&&(p=i[n].s);var d=new ri(p+1),w=Q1(r[u-1],d,0);if(w>e){var n=0,m=0,b=w-e,g=1<<b;for(i.sort(function(D,T){return d[T.s]-d[D.s]||D.f-T.f});n<s;++n){var y=i[n].s;if(d[y]>e)m+=g-(1<<w-d[y]),d[y]=e;else break}for(m>>=b;m>0;){var B=i[n].s;d[B]<e?m-=1<<e-d[B]++-1:++n}for(;n>=0&&m;--n){var _=i[n].s;d[_]==e&&(--d[_],++m)}w=e}return{t:new Zi(d),l:w}},Q1=function(t,e,r){return t.s==-1?Math.max(Q1(t.l,e,r+1),Q1(t.r,e,r+1)):e[t.s]=r},Sb=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ri(++e),n=0,s=t[0],i=1,a=function(l){r[n++]=l},A=1;A<=e;++A)if(t[A]==s&&A!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=t[A]}return{c:r.subarray(0,n),n:e}},vu=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},z4=function(t,e,r){var n=r.length,s=M4(e+2);t[s]=n&255,t[s+1]=n>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<n;++i)t[s+i+4]=r[i];return(s+4+n)*8},Eb=function(t,e,r,n,s,i,a,A,l,c,u){Oa(e,u++,r),++s[256];for(var h=Sm(s,15),p=h.t,d=h.l,w=Sm(i,15),m=w.t,b=w.l,g=Sb(p),y=g.c,B=g.n,_=Sb(m),N=_.c,D=_.n,T=new ri(19),O=0;O<y.length;++O)++T[y[O]&31];for(var O=0;O<N.length;++O)++T[N[O]&31];for(var F=Sm(T,7),K=F.t,I=F.l,j=19;j>4&&!K[_b[j-1]];--j);var H=c+5<<3,C=vu(s,nl)+vu(i,Up)+a,te=vu(s,p)+vu(i,m)+a+14+3*j+vu(T,K)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&H<=C&&H<=te)return z4(e,u,t.subarray(l,l+c));var ve,ce,ie,re;if(Oa(e,u,1+(te<C)),u+=2,te<C){ve=Xu(p,d,0),ce=p,ie=Xu(m,b,0),re=m;var Be=Xu(K,I,0);Oa(e,u,B-257),Oa(e,u+5,D-1),Oa(e,u+10,j-4),u+=14;for(var O=0;O<j;++O)Oa(e,u+3*O,K[_b[O]]);u+=3*j;for(var se=[y,N],k=0;k<2;++k)for(var z=se[k],O=0;O<z.length;++O){var V=z[O]&31;Oa(e,u,Be[V]),u+=K[V],V>15&&(Oa(e,u,z[O]>>5&127),u+=z[O]>>12)}}else ve=$Q,ce=nl,ie=VQ,re=Up;for(var O=0;O<A;++O){var G=n[O];if(G>255){var V=G>>18&31;mu(e,u,ve[V+257]),u+=ce[V+257],V>7&&(Oa(e,u,G>>23&31),u+=_w[V]);var de=G&31;mu(e,u,ie[de]),u+=re[de],de>3&&(mu(e,u,G>>5&8191),u+=Cw[de])}else mu(e,u,ve[G]),u+=ce[G]}return mu(e,u,ve[256]),u+ce[256]},WQ=new xw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),K4=new Zi(0),qQ=function(t,e,r,n,s,i){var a=i.z||t.length,A=new Zi(n+a+5*(1+Math.ceil(a/7e3))+s),l=A.subarray(n,A.length-s),c=i.l,u=(i.r||0)&7;if(e){u&&(l[0]=i.r>>3);for(var h=WQ[e-1],p=h>>13,d=h&8191,w=(1<<r)-1,m=i.p||new ri(32768),b=i.h||new ri(w+1),g=Math.ceil(r/3),y=2*g,B=function(E){return(t[E]^t[E+1]<<g^t[E+2]<<y)&w},_=new xw(25e3),N=new ri(288),D=new ri(32),T=0,O=0,F=i.i||0,K=0,I=i.w||0,j=0;F+2<a;++F){var H=B(F),C=F&32767,te=b[H];if(m[C]=te,b[H]=C,I<=F){var ve=a-F;if((T>7e3||K>24576)&&(ve>423||!c)){u=Eb(t,l,0,_,N,D,O,K,j,F-j,u),K=T=O=0,j=F;for(var ce=0;ce<286;++ce)N[ce]=0;for(var ce=0;ce<30;++ce)D[ce]=0}var ie=2,re=0,Be=d,se=C-te&32767;if(ve>2&&H==B(F-se))for(var k=Math.min(p,ve)-1,z=Math.min(32767,F),V=Math.min(258,ve);se<=z&&--Be&&C!=te;){if(t[F+ie]==t[F+ie-se]){for(var G=0;G<V&&t[F+G]==t[F+G-se];++G);if(G>ie){if(ie=G,re=se,G>k)break;for(var de=Math.min(se,G-2),ye=0,ce=0;ce<de;++ce){var we=F-se+ce&32767,Z=m[we],he=we-Z&32767;he>ye&&(ye=he,te=we)}}}C=te,te=m[C],se+=C-te&32767}if(re){_[K++]=268435456|U1[ie]<<18|Cb[re];var le=U1[ie]&31,ae=Cb[re]&31;O+=_w[le]+Cw[ae],++N[257+le],++D[ae],I=F+ie,++T}else _[K++]=t[F],++N[t[F]]}}for(F=Math.max(F,I);F<a;++F)_[K++]=t[F],++N[t[F]];u=Eb(t,l,c,_,N,D,O,K,j,F-j,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=b,i.p=m,i.i=F,i.w=I)}else{for(var F=i.w||0;F<a+c;F+=65535){var Se=F+65535;Se>=a&&(l[u/8|0]=c,Se=a),u=z4(l,u+1,t.subarray(F,Se))}i.i=a}return GQ(A,0,n+M4(u)+s)},$4=function(){var t=1,e=0;return{p:function(r){for(var n=t,s=e,i=r.length|0,a=0;a!=i;){for(var A=Math.min(a+2655,i);a<A;++a)s+=n+=r[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}t=n,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},JQ=function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new Zi(i.length+t.length);a.set(i),a.set(t,i.length),t=a,s.w=i.length}return qQ(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,s)},V4=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},XQ=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=$4();s.p(e.dictionary),V4(t,2,s.d())}};function L1(t,e){e||(e={});var r=$4();r.p(t);var n=JQ(t,e,e.dictionary?6:2,4);return XQ(n,e),V4(n,n.length-4,r.d()),n}var YQ=typeof TextDecoder<"u"&&new TextDecoder,ZQ=0;try{YQ.decode(K4,{stream:!0}),ZQ=1}catch{}function eL(t){if(Array.isArray(t))return t}function tL(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,a,A=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(A.push(n.value),A.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw s}}return A}}function kb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function rL(t,e){if(t){if(typeof t=="string")return kb(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kb(t,e):void 0}}function nL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nb(t,e){return eL(t)||tL(t,e)||rL(t,e)||nL()}function Fb(t,e="utf8"){return new TextDecoder(e).decode(t)}const sL=new TextEncoder;function iL(t){return sL.encode(t)}const aL=1024*8,oL=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Em={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Sw{constructor(e=aL,r={}){ar(this,"buffer");ar(this,"byteLength");ar(this,"byteOffset");ar(this,"length");ar(this,"offset");ar(this,"lastWrittenByte");ar(this,"littleEndian");ar(this,"_data");ar(this,"_mark");ar(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const s=r.offset?r.offset>>>0:0,i=e.byteLength-s;let a=s;(ArrayBuffer.isView(e)||e instanceof Sw)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+s),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Em[r].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===oL&&r!=="uint8"&&r!=="int8"){const A=new Uint8Array(this.buffer.slice(s,s+n));A.reverse();const l=new Em[r](A.buffer);return this.offset+=n,l.reverse(),l}const a=new Em[r](i);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return Fb(this.readBytes(e))}decodeText(e=1,r="utf8"){return Fb(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(iL(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const AL=4,jb=0,Ub=1,lL=2;function zc(t){let e=t.length;for(;--e>=0;)t[e]=0}const cL=0,G4=1,uL=2,dL=3,hL=258,Ew=29,Wd=256,kd=Wd+1+Ew,mc=30,kw=19,W4=2*kd+1,zA=15,km=16,fL=7,Nw=256,q4=16,J4=17,X4=18,D1=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),zf=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),pL=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Y4=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gL=512,Va=new Array((kd+2)*2);zc(Va);const Yu=new Array(mc*2);zc(Yu);const Nd=new Array(gL);zc(Nd);const Fd=new Array(hL-dL+1);zc(Fd);const Fw=new Array(Ew);zc(Fw);const Ip=new Array(mc);zc(Ip);function Nm(t,e,r,n,s){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=s,this.has_stree=t&&t.length}let Z4,eS,tS;function Fm(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const rS=t=>t<256?Nd[t]:Nd[256+(t>>>7)],jd=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Fs=(t,e,r)=>{t.bi_valid>km-r?(t.bi_buf|=e<<t.bi_valid&65535,jd(t,t.bi_buf),t.bi_buf=e>>km-t.bi_valid,t.bi_valid+=r-km):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},wa=(t,e,r)=>{Fs(t,r[e*2],r[e*2+1])},nS=(t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},mL=t=>{t.bi_valid===16?(jd(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},vL=(t,e)=>{const r=e.dyn_tree,n=e.max_code,s=e.stat_desc.static_tree,i=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,A=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,u,h,p,d,w,m=0;for(p=0;p<=zA;p++)t.bl_count[p]=0;for(r[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<W4;c++)u=t.heap[c],p=r[r[u*2+1]*2+1]+1,p>l&&(p=l,m++),r[u*2+1]=p,!(u>n)&&(t.bl_count[p]++,d=0,u>=A&&(d=a[u-A]),w=r[u*2],t.opt_len+=w*(p+d),i&&(t.static_len+=w*(s[u*2+1]+d)));if(m!==0){do{for(p=l-1;t.bl_count[p]===0;)p--;t.bl_count[p]--,t.bl_count[p+1]+=2,t.bl_count[l]--,m-=2}while(m>0);for(p=l;p!==0;p--)for(u=t.bl_count[p];u!==0;)h=t.heap[--c],!(h>n)&&(r[h*2+1]!==p&&(t.opt_len+=(p-r[h*2+1])*r[h*2],r[h*2+1]=p),u--)}},sS=(t,e,r)=>{const n=new Array(zA+1);let s=0,i,a;for(i=1;i<=zA;i++)s=s+r[i-1]<<1,n[i]=s;for(a=0;a<=e;a++){let A=t[a*2+1];A!==0&&(t[a*2]=nS(n[A]++,A))}},wL=()=>{let t,e,r,n,s;const i=new Array(zA+1);for(r=0,n=0;n<Ew-1;n++)for(Fw[n]=r,t=0;t<1<<D1[n];t++)Fd[r++]=n;for(Fd[r-1]=n,s=0,n=0;n<16;n++)for(Ip[n]=s,t=0;t<1<<zf[n];t++)Nd[s++]=n;for(s>>=7;n<mc;n++)for(Ip[n]=s<<7,t=0;t<1<<zf[n]-7;t++)Nd[256+s++]=n;for(e=0;e<=zA;e++)i[e]=0;for(t=0;t<=143;)Va[t*2+1]=8,t++,i[8]++;for(;t<=255;)Va[t*2+1]=9,t++,i[9]++;for(;t<=279;)Va[t*2+1]=7,t++,i[7]++;for(;t<=287;)Va[t*2+1]=8,t++,i[8]++;for(sS(Va,kd+1,i),t=0;t<mc;t++)Yu[t*2+1]=5,Yu[t*2]=nS(t,5);Z4=new Nm(Va,D1,Wd+1,kd,zA),eS=new Nm(Yu,zf,0,mc,zA),tS=new Nm(new Array(0),pL,0,kw,fL)},iS=t=>{let e;for(e=0;e<kd;e++)t.dyn_ltree[e*2]=0;for(e=0;e<mc;e++)t.dyn_dtree[e*2]=0;for(e=0;e<kw;e++)t.bl_tree[e*2]=0;t.dyn_ltree[Nw*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},aS=t=>{t.bi_valid>8?jd(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Ib=(t,e,r,n)=>{const s=e*2,i=r*2;return t[s]<t[i]||t[s]===t[i]&&n[e]<=n[r]},jm=(t,e,r)=>{const n=t.heap[r];let s=r<<1;for(;s<=t.heap_len&&(s<t.heap_len&&Ib(e,t.heap[s+1],t.heap[s],t.depth)&&s++,!Ib(e,n,t.heap[s],t.depth));)t.heap[r]=t.heap[s],r=s,s<<=1;t.heap[r]=n},Qb=(t,e,r)=>{let n,s,i=0,a,A;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+i++]&255,n+=(t.pending_buf[t.sym_buf+i++]&255)<<8,s=t.pending_buf[t.sym_buf+i++],n===0?wa(t,s,e):(a=Fd[s],wa(t,a+Wd+1,e),A=D1[a],A!==0&&(s-=Fw[a],Fs(t,s,A)),n--,a=rS(n),wa(t,a,r),A=zf[a],A!==0&&(n-=Ip[a],Fs(t,n,A)));while(i<t.sym_next);wa(t,Nw,e)},T1=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,s=e.stat_desc.has_stree,i=e.stat_desc.elems;let a,A,l=-1,c;for(t.heap_len=0,t.heap_max=W4,a=0;a<i;a++)r[a*2]!==0?(t.heap[++t.heap_len]=l=a,t.depth[a]=0):r[a*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,r[c*2]=1,t.depth[c]=0,t.opt_len--,s&&(t.static_len-=n[c*2+1]);for(e.max_code=l,a=t.heap_len>>1;a>=1;a--)jm(t,r,a);c=i;do a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],jm(t,r,1),A=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=A,r[c*2]=r[a*2]+r[A*2],t.depth[c]=(t.depth[a]>=t.depth[A]?t.depth[a]:t.depth[A])+1,r[a*2+1]=r[A*2+1]=c,t.heap[1]=c++,jm(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],vL(t,e),sS(r,l,t.bl_count)},Lb=(t,e,r)=>{let n,s=-1,i,a=e[0*2+1],A=0,l=7,c=4;for(a===0&&(l=138,c=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)i=a,a=e[(n+1)*2+1],!(++A<l&&i===a)&&(A<c?t.bl_tree[i*2]+=A:i!==0?(i!==s&&t.bl_tree[i*2]++,t.bl_tree[q4*2]++):A<=10?t.bl_tree[J4*2]++:t.bl_tree[X4*2]++,A=0,s=i,a===0?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))},Db=(t,e,r)=>{let n,s=-1,i,a=e[0*2+1],A=0,l=7,c=4;for(a===0&&(l=138,c=3),n=0;n<=r;n++)if(i=a,a=e[(n+1)*2+1],!(++A<l&&i===a)){if(A<c)do wa(t,i,t.bl_tree);while(--A!==0);else i!==0?(i!==s&&(wa(t,i,t.bl_tree),A--),wa(t,q4,t.bl_tree),Fs(t,A-3,2)):A<=10?(wa(t,J4,t.bl_tree),Fs(t,A-3,3)):(wa(t,X4,t.bl_tree),Fs(t,A-11,7));A=0,s=i,a===0?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}},yL=t=>{let e;for(Lb(t,t.dyn_ltree,t.l_desc.max_code),Lb(t,t.dyn_dtree,t.d_desc.max_code),T1(t,t.bl_desc),e=kw-1;e>=3&&t.bl_tree[Y4[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},bL=(t,e,r,n)=>{let s;for(Fs(t,e-257,5),Fs(t,r-1,5),Fs(t,n-4,4),s=0;s<n;s++)Fs(t,t.bl_tree[Y4[s]*2+1],3);Db(t,t.dyn_ltree,e-1),Db(t,t.dyn_dtree,r-1)},BL=t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return jb;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Ub;for(r=32;r<Wd;r++)if(t.dyn_ltree[r*2]!==0)return Ub;return jb};let Tb=!1;const xL=t=>{Tb||(wL(),Tb=!0),t.l_desc=new Fm(t.dyn_ltree,Z4),t.d_desc=new Fm(t.dyn_dtree,eS),t.bl_desc=new Fm(t.bl_tree,tS),t.bi_buf=0,t.bi_valid=0,iS(t)},oS=(t,e,r,n)=>{Fs(t,(cL<<1)+(n?1:0),3),aS(t),jd(t,r),jd(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},_L=t=>{Fs(t,G4<<1,3),wa(t,Nw,Va),mL(t)},CL=(t,e,r,n)=>{let s,i,a=0;t.level>0?(t.strm.data_type===lL&&(t.strm.data_type=BL(t)),T1(t,t.l_desc),T1(t,t.d_desc),a=yL(t),s=t.opt_len+3+7>>>3,i=t.static_len+3+7>>>3,i<=s&&(s=i)):s=i=r+5,r+4<=s&&e!==-1?oS(t,e,r,n):t.strategy===AL||i===s?(Fs(t,(G4<<1)+(n?1:0),3),Qb(t,Va,Yu)):(Fs(t,(uL<<1)+(n?1:0),3),bL(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),Qb(t,t.dyn_ltree,t.dyn_dtree)),iS(t),n&&aS(t)},SL=(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(Fd[r]+Wd+1)*2]++,t.dyn_dtree[rS(e)*2]++),t.sym_next===t.sym_end);var EL=xL,kL=oS,NL=CL,FL=SL,jL=_L,UL={_tr_init:EL,_tr_stored_block:kL,_tr_flush_block:NL,_tr_tally:FL,_tr_align:jL};const IL=(t,e,r,n)=>{let s=t&65535|0,i=t>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do s=s+e[n++]|0,i=i+s|0;while(--a);s%=65521,i%=65521}return s|i<<16|0};var Ud=IL;const QL=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},LL=new Uint32Array(QL()),DL=(t,e,r,n)=>{const s=LL,i=n+r;t^=-1;for(let a=n;a<i;a++)t=t>>>8^s[(t^e[a])&255];return t^-1};var En=DL,jc={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},qd={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:TL,_tr_stored_block:P1,_tr_flush_block:PL,_tr_tally:tA,_tr_align:OL}=UL,{Z_NO_FLUSH:rA,Z_PARTIAL_FLUSH:RL,Z_FULL_FLUSH:HL,Z_FINISH:Ei,Z_BLOCK:Pb,Z_OK:Hn,Z_STREAM_END:Ob,Z_STREAM_ERROR:xa,Z_DATA_ERROR:ML,Z_BUF_ERROR:Um,Z_DEFAULT_COMPRESSION:zL,Z_FILTERED:KL,Z_HUFFMAN_ONLY:qh,Z_RLE:$L,Z_FIXED:VL,Z_DEFAULT_STRATEGY:GL,Z_UNKNOWN:WL,Z_DEFLATED:hg}=qd,qL=9,JL=15,XL=8,YL=29,ZL=256,O1=ZL+1+YL,e6=30,t6=19,r6=2*O1+1,n6=15,Kt=3,Ho=258,_a=Ho+Kt+1,s6=32,Uc=42,jw=57,R1=69,H1=73,M1=91,z1=103,KA=113,Fu=666,ps=1,Kc=2,sl=3,$c=4,i6=3,$A=(t,e)=>(t.msg=jc[e],e),Rb=t=>t*2-(t>4?9:0),To=t=>{let e=t.length;for(;--e>=0;)t[e]=0},a6=t=>{let e,r,n,s=t.w_size;e=t.hash_size,n=e;do r=t.head[--n],t.head[n]=r>=s?r-s:0;while(--e);e=s,n=e;do r=t.prev[--n],t.prev[n]=r>=s?r-s:0;while(--e)};let o6=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,nA=o6;const Xs=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},ni=(t,e)=>{PL(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Xs(t.strm)},Yt=(t,e)=>{t.pending_buf[t.pending++]=e},wu=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},K1=(t,e,r,n)=>{let s=t.avail_in;return s>n&&(s=n),s===0?0:(t.avail_in-=s,e.set(t.input.subarray(t.next_in,t.next_in+s),r),t.state.wrap===1?t.adler=Ud(t.adler,e,s,r):t.state.wrap===2&&(t.adler=En(t.adler,e,s,r)),t.next_in+=s,t.total_in+=s,s)},AS=(t,e)=>{let r=t.max_chain_length,n=t.strstart,s,i,a=t.prev_length,A=t.nice_match;const l=t.strstart>t.w_size-_a?t.strstart-(t.w_size-_a):0,c=t.window,u=t.w_mask,h=t.prev,p=t.strstart+Ho;let d=c[n+a-1],w=c[n+a];t.prev_length>=t.good_match&&(r>>=2),A>t.lookahead&&(A=t.lookahead);do if(s=e,!(c[s+a]!==w||c[s+a-1]!==d||c[s]!==c[n]||c[++s]!==c[n+1])){n+=2,s++;do;while(c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&n<p);if(i=Ho-(p-n),n=p-Ho,i>a){if(t.match_start=e,a=i,i>=A)break;d=c[n+a-1],w=c[n+a]}}while((e=h[e&u])>l&&--r!==0);return a<=t.lookahead?a:t.lookahead},Ic=t=>{const e=t.w_size;let r,n,s;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-_a)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),a6(t),n+=e),t.strm.avail_in===0)break;if(r=K1(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=Kt)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=nA(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=nA(t,t.ins_h,t.window[s+Kt-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<Kt)););}while(t.lookahead<_a&&t.strm.avail_in!==0)},lS=(t,e)=>{let r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,s,i,a=0,A=t.strm.avail_in;do{if(n=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i||(i=t.strm.avail_out-i,s=t.strstart-t.block_start,n>s+t.strm.avail_in&&(n=s+t.strm.avail_in),n>i&&(n=i),n<r&&(n===0&&e!==Ei||e===rA||n!==s+t.strm.avail_in)))break;a=e===Ei&&n===s+t.strm.avail_in?1:0,P1(t,0,0,a),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,Xs(t.strm),s&&(s>n&&(s=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+s),t.strm.next_out),t.strm.next_out+=s,t.strm.avail_out-=s,t.strm.total_out+=s,t.block_start+=s,n-=s),n&&(K1(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(a===0);return A-=t.strm.avail_in,A&&(A>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=A&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-A,t.strm.next_in),t.strstart),t.strstart+=A,t.insert+=A>t.w_size-t.insert?t.w_size-t.insert:A),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),a?$c:e!==rA&&e!==Ei&&t.strm.avail_in===0&&t.strstart===t.block_start?Kc:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(K1(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,r=i>t.w_size?t.w_size:i,s=t.strstart-t.block_start,(s>=r||(s||e===Ei)&&e!==rA&&t.strm.avail_in===0&&s<=i)&&(n=s>i?i:s,a=e===Ei&&t.strm.avail_in===0&&n===s?1:0,P1(t,t.block_start,n,a),t.block_start+=n,Xs(t.strm)),a?sl:ps)},Im=(t,e)=>{let r,n;for(;;){if(t.lookahead<_a){if(Ic(t),t.lookahead<_a&&e===rA)return ps;if(t.lookahead===0)break}if(r=0,t.lookahead>=Kt&&(t.ins_h=nA(t,t.ins_h,t.window[t.strstart+Kt-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-_a&&(t.match_length=AS(t,r)),t.match_length>=Kt)if(n=tA(t,t.strstart-t.match_start,t.match_length-Kt),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Kt){t.match_length--;do t.strstart++,t.ins_h=nA(t,t.ins_h,t.window[t.strstart+Kt-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=nA(t,t.ins_h,t.window[t.strstart+1]);else n=tA(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(ni(t,!1),t.strm.avail_out===0))return ps}return t.insert=t.strstart<Kt-1?t.strstart:Kt-1,e===Ei?(ni(t,!0),t.strm.avail_out===0?sl:$c):t.sym_next&&(ni(t,!1),t.strm.avail_out===0)?ps:Kc},Ql=(t,e)=>{let r,n,s;for(;;){if(t.lookahead<_a){if(Ic(t),t.lookahead<_a&&e===rA)return ps;if(t.lookahead===0)break}if(r=0,t.lookahead>=Kt&&(t.ins_h=nA(t,t.ins_h,t.window[t.strstart+Kt-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Kt-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-_a&&(t.match_length=AS(t,r),t.match_length<=5&&(t.strategy===KL||t.match_length===Kt&&t.strstart-t.match_start>4096)&&(t.match_length=Kt-1)),t.prev_length>=Kt&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-Kt,n=tA(t,t.strstart-1-t.prev_match,t.prev_length-Kt),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=s&&(t.ins_h=nA(t,t.ins_h,t.window[t.strstart+Kt-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Kt-1,t.strstart++,n&&(ni(t,!1),t.strm.avail_out===0))return ps}else if(t.match_available){if(n=tA(t,0,t.window[t.strstart-1]),n&&ni(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return ps}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=tA(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Kt-1?t.strstart:Kt-1,e===Ei?(ni(t,!0),t.strm.avail_out===0?sl:$c):t.sym_next&&(ni(t,!1),t.strm.avail_out===0)?ps:Kc},A6=(t,e)=>{let r,n,s,i;const a=t.window;for(;;){if(t.lookahead<=Ho){if(Ic(t),t.lookahead<=Ho&&e===rA)return ps;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Kt&&t.strstart>0&&(s=t.strstart-1,n=a[s],n===a[++s]&&n===a[++s]&&n===a[++s])){i=t.strstart+Ho;do;while(n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&s<i);t.match_length=Ho-(i-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Kt?(r=tA(t,1,t.match_length-Kt),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=tA(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(ni(t,!1),t.strm.avail_out===0))return ps}return t.insert=0,e===Ei?(ni(t,!0),t.strm.avail_out===0?sl:$c):t.sym_next&&(ni(t,!1),t.strm.avail_out===0)?ps:Kc},l6=(t,e)=>{let r;for(;;){if(t.lookahead===0&&(Ic(t),t.lookahead===0)){if(e===rA)return ps;break}if(t.match_length=0,r=tA(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(ni(t,!1),t.strm.avail_out===0))return ps}return t.insert=0,e===Ei?(ni(t,!0),t.strm.avail_out===0?sl:$c):t.sym_next&&(ni(t,!1),t.strm.avail_out===0)?ps:Kc};function fa(t,e,r,n,s){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=s}const ju=[new fa(0,0,0,0,lS),new fa(4,4,8,4,Im),new fa(4,5,16,8,Im),new fa(4,6,32,32,Im),new fa(4,4,16,16,Ql),new fa(8,16,32,32,Ql),new fa(8,16,128,128,Ql),new fa(8,32,128,256,Ql),new fa(32,128,258,1024,Ql),new fa(32,258,258,4096,Ql)],c6=t=>{t.window_size=2*t.w_size,To(t.head),t.max_lazy_match=ju[t.level].max_lazy,t.good_match=ju[t.level].good_length,t.nice_match=ju[t.level].nice_length,t.max_chain_length=ju[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Kt-1,t.match_available=0,t.ins_h=0};function u6(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=hg,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(r6*2),this.dyn_dtree=new Uint16Array((2*e6+1)*2),this.bl_tree=new Uint16Array((2*t6+1)*2),To(this.dyn_ltree),To(this.dyn_dtree),To(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(n6+1),this.heap=new Uint16Array(2*O1+1),To(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*O1+1),To(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Jd=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Uc&&e.status!==jw&&e.status!==R1&&e.status!==H1&&e.status!==M1&&e.status!==z1&&e.status!==KA&&e.status!==Fu?1:0},cS=t=>{if(Jd(t))return $A(t,xa);t.total_in=t.total_out=0,t.data_type=WL;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?jw:e.wrap?Uc:KA,t.adler=e.wrap===2?0:1,e.last_flush=-2,TL(e),Hn},uS=t=>{const e=cS(t);return e===Hn&&c6(t.state),e},d6=(t,e)=>Jd(t)||t.state.wrap!==2?xa:(t.state.gzhead=e,Hn),dS=(t,e,r,n,s,i)=>{if(!t)return xa;let a=1;if(e===zL&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),s<1||s>qL||r!==hg||n<8||n>15||e<0||e>9||i<0||i>VL||n===8&&a!==1)return $A(t,xa);n===8&&(n=9);const A=new u6;return t.state=A,A.strm=t,A.status=Uc,A.wrap=a,A.gzhead=null,A.w_bits=n,A.w_size=1<<A.w_bits,A.w_mask=A.w_size-1,A.hash_bits=s+7,A.hash_size=1<<A.hash_bits,A.hash_mask=A.hash_size-1,A.hash_shift=~~((A.hash_bits+Kt-1)/Kt),A.window=new Uint8Array(A.w_size*2),A.head=new Uint16Array(A.hash_size),A.prev=new Uint16Array(A.w_size),A.lit_bufsize=1<<s+6,A.pending_buf_size=A.lit_bufsize*4,A.pending_buf=new Uint8Array(A.pending_buf_size),A.sym_buf=A.lit_bufsize,A.sym_end=(A.lit_bufsize-1)*3,A.level=e,A.strategy=i,A.method=r,uS(t)},h6=(t,e)=>dS(t,e,hg,JL,XL,GL),f6=(t,e)=>{if(Jd(t)||e>Pb||e<0)return t?$A(t,xa):xa;const r=t.state;if(!t.output||t.avail_in!==0&&!t.input||r.status===Fu&&e!==Ei)return $A(t,t.avail_out===0?Um:xa);const n=r.last_flush;if(r.last_flush=e,r.pending!==0){if(Xs(t),t.avail_out===0)return r.last_flush=-1,Hn}else if(t.avail_in===0&&Rb(e)<=Rb(n)&&e!==Ei)return $A(t,Um);if(r.status===Fu&&t.avail_in!==0)return $A(t,Um);if(r.status===Uc&&r.wrap===0&&(r.status=KA),r.status===Uc){let s=hg+(r.w_bits-8<<4)<<8,i=-1;if(r.strategy>=qh||r.level<2?i=0:r.level<6?i=1:r.level===6?i=2:i=3,s|=i<<6,r.strstart!==0&&(s|=s6),s+=31-s%31,wu(r,s),r.strstart!==0&&(wu(r,t.adler>>>16),wu(r,t.adler&65535)),t.adler=1,r.status=KA,Xs(t),r.pending!==0)return r.last_flush=-1,Hn}if(r.status===jw){if(t.adler=0,Yt(r,31),Yt(r,139),Yt(r,8),r.gzhead)Yt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Yt(r,r.gzhead.time&255),Yt(r,r.gzhead.time>>8&255),Yt(r,r.gzhead.time>>16&255),Yt(r,r.gzhead.time>>24&255),Yt(r,r.level===9?2:r.strategy>=qh||r.level<2?4:0),Yt(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Yt(r,r.gzhead.extra.length&255),Yt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=En(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=R1;else if(Yt(r,0),Yt(r,0),Yt(r,0),Yt(r,0),Yt(r,0),Yt(r,r.level===9?2:r.strategy>=qh||r.level<2?4:0),Yt(r,i6),r.status=KA,Xs(t),r.pending!==0)return r.last_flush=-1,Hn}if(r.status===R1){if(r.gzhead.extra){let s=r.pending,i=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let A=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+A),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>s&&(t.adler=En(t.adler,r.pending_buf,r.pending-s,s)),r.gzindex+=A,Xs(t),r.pending!==0)return r.last_flush=-1,Hn;s=0,i-=A}let a=new Uint8Array(r.gzhead.extra);r.pending_buf.set(a.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>s&&(t.adler=En(t.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=H1}if(r.status===H1){if(r.gzhead.name){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(t.adler=En(t.adler,r.pending_buf,r.pending-s,s)),Xs(t),r.pending!==0)return r.last_flush=-1,Hn;s=0}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,Yt(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(t.adler=En(t.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=M1}if(r.status===M1){if(r.gzhead.comment){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(t.adler=En(t.adler,r.pending_buf,r.pending-s,s)),Xs(t),r.pending!==0)return r.last_flush=-1,Hn;s=0}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,Yt(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(t.adler=En(t.adler,r.pending_buf,r.pending-s,s))}r.status=z1}if(r.status===z1){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Xs(t),r.pending!==0))return r.last_flush=-1,Hn;Yt(r,t.adler&255),Yt(r,t.adler>>8&255),t.adler=0}if(r.status=KA,Xs(t),r.pending!==0)return r.last_flush=-1,Hn}if(t.avail_in!==0||r.lookahead!==0||e!==rA&&r.status!==Fu){let s=r.level===0?lS(r,e):r.strategy===qh?l6(r,e):r.strategy===$L?A6(r,e):ju[r.level].func(r,e);if((s===sl||s===$c)&&(r.status=Fu),s===ps||s===sl)return t.avail_out===0&&(r.last_flush=-1),Hn;if(s===Kc&&(e===RL?OL(r):e!==Pb&&(P1(r,0,0,!1),e===HL&&(To(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Xs(t),t.avail_out===0))return r.last_flush=-1,Hn}return e!==Ei?Hn:r.wrap<=0?Ob:(r.wrap===2?(Yt(r,t.adler&255),Yt(r,t.adler>>8&255),Yt(r,t.adler>>16&255),Yt(r,t.adler>>24&255),Yt(r,t.total_in&255),Yt(r,t.total_in>>8&255),Yt(r,t.total_in>>16&255),Yt(r,t.total_in>>24&255)):(wu(r,t.adler>>>16),wu(r,t.adler&65535)),Xs(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Hn:Ob)},p6=t=>{if(Jd(t))return xa;const e=t.state.status;return t.state=null,e===KA?$A(t,ML):Hn},g6=(t,e)=>{let r=e.length;if(Jd(t))return xa;const n=t.state,s=n.wrap;if(s===2||s===1&&n.status!==Uc||n.lookahead)return xa;if(s===1&&(t.adler=Ud(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){s===0&&(To(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(e.subarray(r-n.w_size,r),0),e=l,r=n.w_size}const i=t.avail_in,a=t.next_in,A=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,Ic(n);n.lookahead>=Kt;){let l=n.strstart,c=n.lookahead-(Kt-1);do n.ins_h=nA(n,n.ins_h,n.window[l+Kt-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--c);n.strstart=l,n.lookahead=Kt-1,Ic(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Kt-1,n.match_available=0,t.next_in=a,t.input=A,t.avail_in=i,n.wrap=s,Hn};var m6=h6,v6=dS,w6=uS,y6=cS,b6=d6,B6=f6,x6=p6,_6=g6,C6="pako deflate (from Nodeca project)",Zu={deflateInit:m6,deflateInit2:v6,deflateReset:w6,deflateResetKeep:y6,deflateSetHeader:b6,deflate:B6,deflateEnd:x6,deflateSetDictionary:_6,deflateInfo:C6};const S6=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var E6=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)S6(r,n)&&(t[n]=r[n])}}return t},k6=t=>{let e=0;for(let n=0,s=t.length;n<s;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,s=0,i=t.length;n<i;n++){let a=t[n];r.set(a,s),s+=a.length}return r},fg={assign:E6,flattenChunks:k6};let hS=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{hS=!1}const Id=new Uint8Array(256);for(let t=0;t<256;t++)Id[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Id[254]=Id[254]=1;var N6=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,s,i,a=t.length,A=0;for(s=0;s<a;s++)r=t.charCodeAt(s),(r&64512)===55296&&s+1<a&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),A+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(A),i=0,s=0;i<A;s++)r=t.charCodeAt(s),(r&64512)===55296&&s+1<a&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const F6=(t,e)=>{if(e<65534&&t.subarray&&hS)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var j6=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let a=t[n++];if(a<128){i[s++]=a;continue}let A=Id[a];if(A>4){i[s++]=65533,n+=A-1;continue}for(a&=A===2?31:A===3?15:7;A>1&&n<r;)a=a<<6|t[n++]&63,A--;if(A>1){i[s++]=65533;continue}a<65536?i[s++]=a:(a-=65536,i[s++]=55296|a>>10&1023,i[s++]=56320|a&1023)}return F6(i,s)},U6=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Id[t[r]]>e?r:e},Qd={string2buf:N6,buf2string:j6,utf8border:U6};function I6(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var fS=I6;const pS=Object.prototype.toString,{Z_NO_FLUSH:Q6,Z_SYNC_FLUSH:L6,Z_FULL_FLUSH:D6,Z_FINISH:T6,Z_OK:Qp,Z_STREAM_END:P6,Z_DEFAULT_COMPRESSION:O6,Z_DEFAULT_STRATEGY:R6,Z_DEFLATED:H6}=qd;function Uw(t){this.options=fg.assign({level:O6,method:H6,chunkSize:16384,windowBits:15,memLevel:8,strategy:R6},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fS,this.strm.avail_out=0;let r=Zu.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Qp)throw new Error(jc[r]);if(e.header&&Zu.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=Qd.string2buf(e.dictionary):pS.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=Zu.deflateSetDictionary(this.strm,n),r!==Qp)throw new Error(jc[r]);this._dict_set=!0}}Uw.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let s,i;if(this.ended)return!1;for(e===~~e?i=e:i=e===!0?T6:Q6,typeof t=="string"?r.input=Qd.string2buf(t):pS.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(i===L6||i===D6)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(s=Zu.deflate(r,i),s===P6)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),s=Zu.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===Qp;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};Uw.prototype.onData=function(t){this.chunks.push(t)};Uw.prototype.onEnd=function(t){t===Qp&&(this.result=fg.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const Jh=16209,M6=16191;var z6=function(e,r){let n,s,i,a,A,l,c,u,h,p,d,w,m,b,g,y,B,_,N,D,T,O,F,K;const I=e.state;n=e.next_in,F=e.input,s=n+(e.avail_in-5),i=e.next_out,K=e.output,a=i-(r-e.avail_out),A=i+(e.avail_out-257),l=I.dmax,c=I.wsize,u=I.whave,h=I.wnext,p=I.window,d=I.hold,w=I.bits,m=I.lencode,b=I.distcode,g=(1<<I.lenbits)-1,y=(1<<I.distbits)-1;e:do{w<15&&(d+=F[n++]<<w,w+=8,d+=F[n++]<<w,w+=8),B=m[d&g];t:for(;;){if(_=B>>>24,d>>>=_,w-=_,_=B>>>16&255,_===0)K[i++]=B&65535;else if(_&16){N=B&65535,_&=15,_&&(w<_&&(d+=F[n++]<<w,w+=8),N+=d&(1<<_)-1,d>>>=_,w-=_),w<15&&(d+=F[n++]<<w,w+=8,d+=F[n++]<<w,w+=8),B=b[d&y];r:for(;;){if(_=B>>>24,d>>>=_,w-=_,_=B>>>16&255,_&16){if(D=B&65535,_&=15,w<_&&(d+=F[n++]<<w,w+=8,w<_&&(d+=F[n++]<<w,w+=8)),D+=d&(1<<_)-1,D>l){e.msg="invalid distance too far back",I.mode=Jh;break e}if(d>>>=_,w-=_,_=i-a,D>_){if(_=D-_,_>u&&I.sane){e.msg="invalid distance too far back",I.mode=Jh;break e}if(T=0,O=p,h===0){if(T+=c-_,_<N){N-=_;do K[i++]=p[T++];while(--_);T=i-D,O=K}}else if(h<_){if(T+=c+h-_,_-=h,_<N){N-=_;do K[i++]=p[T++];while(--_);if(T=0,h<N){_=h,N-=_;do K[i++]=p[T++];while(--_);T=i-D,O=K}}}else if(T+=h-_,_<N){N-=_;do K[i++]=p[T++];while(--_);T=i-D,O=K}for(;N>2;)K[i++]=O[T++],K[i++]=O[T++],K[i++]=O[T++],N-=3;N&&(K[i++]=O[T++],N>1&&(K[i++]=O[T++]))}else{T=i-D;do K[i++]=K[T++],K[i++]=K[T++],K[i++]=K[T++],N-=3;while(N>2);N&&(K[i++]=K[T++],N>1&&(K[i++]=K[T++]))}}else if(_&64){e.msg="invalid distance code",I.mode=Jh;break e}else{B=b[(B&65535)+(d&(1<<_)-1)];continue r}break}}else if(_&64)if(_&32){I.mode=M6;break e}else{e.msg="invalid literal/length code",I.mode=Jh;break e}else{B=m[(B&65535)+(d&(1<<_)-1)];continue t}break}}while(n<s&&i<A);N=w>>3,n-=N,w-=N<<3,d&=(1<<w)-1,e.next_in=n,e.next_out=i,e.avail_in=n<s?5+(s-n):5-(n-s),e.avail_out=i<A?257+(A-i):257-(i-A),I.hold=d,I.bits=w};const Ll=15,Hb=852,Mb=592,zb=0,Qm=1,Kb=2,K6=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),$6=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),V6=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),G6=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),W6=(t,e,r,n,s,i,a,A)=>{const l=A.bits;let c=0,u=0,h=0,p=0,d=0,w=0,m=0,b=0,g=0,y=0,B,_,N,D,T,O=null,F;const K=new Uint16Array(Ll+1),I=new Uint16Array(Ll+1);let j=null,H,C,te;for(c=0;c<=Ll;c++)K[c]=0;for(u=0;u<n;u++)K[e[r+u]]++;for(d=l,p=Ll;p>=1&&K[p]===0;p--);if(d>p&&(d=p),p===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,A.bits=1,0;for(h=1;h<p&&K[h]===0;h++);for(d<h&&(d=h),b=1,c=1;c<=Ll;c++)if(b<<=1,b-=K[c],b<0)return-1;if(b>0&&(t===zb||p!==1))return-1;for(I[1]=0,c=1;c<Ll;c++)I[c+1]=I[c]+K[c];for(u=0;u<n;u++)e[r+u]!==0&&(a[I[e[r+u]]++]=u);if(t===zb?(O=j=a,F=20):t===Qm?(O=K6,j=$6,F=257):(O=V6,j=G6,F=0),y=0,u=0,c=h,T=i,w=d,m=0,N=-1,g=1<<d,D=g-1,t===Qm&&g>Hb||t===Kb&&g>Mb)return 1;for(;;){H=c-m,a[u]+1<F?(C=0,te=a[u]):a[u]>=F?(C=j[a[u]-F],te=O[a[u]-F]):(C=32+64,te=0),B=1<<c-m,_=1<<w,h=_;do _-=B,s[T+(y>>m)+_]=H<<24|C<<16|te|0;while(_!==0);for(B=1<<c-1;y&B;)B>>=1;if(B!==0?(y&=B-1,y+=B):y=0,u++,--K[c]===0){if(c===p)break;c=e[r+a[u]]}if(c>d&&(y&D)!==N){for(m===0&&(m=d),T+=h,w=c-m,b=1<<w;w+m<p&&(b-=K[w+m],!(b<=0));)w++,b<<=1;if(g+=1<<w,t===Qm&&g>Hb||t===Kb&&g>Mb)return 1;N=y&D,s[N]=d<<24|w<<16|T-i|0}}return y!==0&&(s[T+y]=c-m<<24|64<<16|0),A.bits=d,0};var ed=W6;const q6=0,gS=1,mS=2,{Z_FINISH:$b,Z_BLOCK:J6,Z_TREES:Xh,Z_OK:il,Z_STREAM_END:X6,Z_NEED_DICT:Y6,Z_STREAM_ERROR:Qi,Z_DATA_ERROR:vS,Z_MEM_ERROR:wS,Z_BUF_ERROR:Z6,Z_DEFLATED:Vb}=qd,pg=16180,Gb=16181,Wb=16182,qb=16183,Jb=16184,Xb=16185,Yb=16186,Zb=16187,eB=16188,tB=16189,Lp=16190,Ra=16191,Lm=16192,rB=16193,Dm=16194,nB=16195,sB=16196,iB=16197,aB=16198,Yh=16199,Zh=16200,oB=16201,AB=16202,lB=16203,cB=16204,uB=16205,Tm=16206,dB=16207,hB=16208,jr=16209,yS=16210,bS=16211,e8=852,t8=592,r8=15,n8=r8,fB=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function s8(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const cl=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<pg||e.mode>bS?1:0},BS=t=>{if(cl(t))return Qi;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=pg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(e8),e.distcode=e.distdyn=new Int32Array(t8),e.sane=1,e.back=-1,il},xS=t=>{if(cl(t))return Qi;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,BS(t)},_S=(t,e)=>{let r;if(cl(t))return Qi;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Qi:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,xS(t))},CS=(t,e)=>{if(!t)return Qi;const r=new s8;t.state=r,r.strm=t,r.window=null,r.mode=pg;const n=_S(t,e);return n!==il&&(t.state=null),n},i8=t=>CS(t,n8);let pB=!0,Pm,Om;const a8=t=>{if(pB){Pm=new Int32Array(512),Om=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ed(gS,t.lens,0,288,Pm,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ed(mS,t.lens,0,32,Om,0,t.work,{bits:5}),pB=!1}t.lencode=Pm,t.lenbits=9,t.distcode=Om,t.distbits=5},SS=(t,e,r,n)=>{let s;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(e.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(e.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},o8=(t,e)=>{let r,n,s,i,a,A,l,c,u,h,p,d,w,m,b=0,g,y,B,_,N,D,T,O;const F=new Uint8Array(4);let K,I;const j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(cl(t)||!t.output||!t.input&&t.avail_in!==0)return Qi;r=t.state,r.mode===Ra&&(r.mode=Lm),a=t.next_out,s=t.output,l=t.avail_out,i=t.next_in,n=t.input,A=t.avail_in,c=r.hold,u=r.bits,h=A,p=l,O=il;e:for(;;)switch(r.mode){case pg:if(r.wrap===0){r.mode=Lm;break}for(;u<16;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,F[0]=c&255,F[1]=c>>>8&255,r.check=En(r.check,F,2,0),c=0,u=0,r.mode=Gb;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=jr;break}if((c&15)!==Vb){t.msg="unknown compression method",r.mode=jr;break}if(c>>>=4,u-=4,T=(c&15)+8,r.wbits===0&&(r.wbits=T),T>15||T>r.wbits){t.msg="invalid window size",r.mode=jr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?tB:Ra,c=0,u=0;break;case Gb:for(;u<16;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==Vb){t.msg="unknown compression method",r.mode=jr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=jr;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(F[0]=c&255,F[1]=c>>>8&255,r.check=En(r.check,F,2,0)),c=0,u=0,r.mode=Wb;case Wb:for(;u<32;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(F[0]=c&255,F[1]=c>>>8&255,F[2]=c>>>16&255,F[3]=c>>>24&255,r.check=En(r.check,F,4,0)),c=0,u=0,r.mode=qb;case qb:for(;u<16;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(F[0]=c&255,F[1]=c>>>8&255,r.check=En(r.check,F,2,0)),c=0,u=0,r.mode=Jb;case Jb:if(r.flags&1024){for(;u<16;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(F[0]=c&255,F[1]=c>>>8&255,r.check=En(r.check,F,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=Xb;case Xb:if(r.flags&1024&&(d=r.length,d>A&&(d=A),d&&(r.head&&(T=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+d),T)),r.flags&512&&r.wrap&4&&(r.check=En(r.check,n,d,i)),A-=d,i+=d,r.length-=d),r.length))break e;r.length=0,r.mode=Yb;case Yb:if(r.flags&2048){if(A===0)break e;d=0;do T=n[i+d++],r.head&&T&&r.length<65536&&(r.head.name+=String.fromCharCode(T));while(T&&d<A);if(r.flags&512&&r.wrap&4&&(r.check=En(r.check,n,d,i)),A-=d,i+=d,T)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Zb;case Zb:if(r.flags&4096){if(A===0)break e;d=0;do T=n[i+d++],r.head&&T&&r.length<65536&&(r.head.comment+=String.fromCharCode(T));while(T&&d<A);if(r.flags&512&&r.wrap&4&&(r.check=En(r.check,n,d,i)),A-=d,i+=d,T)break e}else r.head&&(r.head.comment=null);r.mode=eB;case eB:if(r.flags&512){for(;u<16;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=jr;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Ra;break;case tB:for(;u<32;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}t.adler=r.check=fB(c),c=0,u=0,r.mode=Lp;case Lp:if(r.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=i,t.avail_in=A,r.hold=c,r.bits=u,Y6;t.adler=r.check=1,r.mode=Ra;case Ra:if(e===J6||e===Xh)break e;case Lm:if(r.last){c>>>=u&7,u-=u&7,r.mode=Tm;break}for(;u<3;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=rB;break;case 1:if(a8(r),r.mode=Yh,e===Xh){c>>>=2,u-=2;break e}break;case 2:r.mode=sB;break;case 3:t.msg="invalid block type",r.mode=jr}c>>>=2,u-=2;break;case rB:for(c>>>=u&7,u-=u&7;u<32;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=jr;break}if(r.length=c&65535,c=0,u=0,r.mode=Dm,e===Xh)break e;case Dm:r.mode=nB;case nB:if(d=r.length,d){if(d>A&&(d=A),d>l&&(d=l),d===0)break e;s.set(n.subarray(i,i+d),a),A-=d,i+=d,l-=d,a+=d,r.length-=d;break}r.mode=Ra;break;case sB:for(;u<14;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=jr;break}r.have=0,r.mode=iB;case iB:for(;r.have<r.ncode;){for(;u<3;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}r.lens[j[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[j[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,K={bits:r.lenbits},O=ed(q6,r.lens,0,19,r.lencode,0,r.work,K),r.lenbits=K.bits,O){t.msg="invalid code lengths set",r.mode=jr;break}r.have=0,r.mode=aB;case aB:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[c&(1<<r.lenbits)-1],g=b>>>24,y=b>>>16&255,B=b&65535,!(g<=u);){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}if(B<16)c>>>=g,u-=g,r.lens[r.have++]=B;else{if(B===16){for(I=g+2;u<I;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}if(c>>>=g,u-=g,r.have===0){t.msg="invalid bit length repeat",r.mode=jr;break}T=r.lens[r.have-1],d=3+(c&3),c>>>=2,u-=2}else if(B===17){for(I=g+3;u<I;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}c>>>=g,u-=g,T=0,d=3+(c&7),c>>>=3,u-=3}else{for(I=g+7;u<I;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}c>>>=g,u-=g,T=0,d=11+(c&127),c>>>=7,u-=7}if(r.have+d>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=jr;break}for(;d--;)r.lens[r.have++]=T}}if(r.mode===jr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=jr;break}if(r.lenbits=9,K={bits:r.lenbits},O=ed(gS,r.lens,0,r.nlen,r.lencode,0,r.work,K),r.lenbits=K.bits,O){t.msg="invalid literal/lengths set",r.mode=jr;break}if(r.distbits=6,r.distcode=r.distdyn,K={bits:r.distbits},O=ed(mS,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,K),r.distbits=K.bits,O){t.msg="invalid distances set",r.mode=jr;break}if(r.mode=Yh,e===Xh)break e;case Yh:r.mode=Zh;case Zh:if(A>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=i,t.avail_in=A,r.hold=c,r.bits=u,z6(t,p),a=t.next_out,s=t.output,l=t.avail_out,i=t.next_in,n=t.input,A=t.avail_in,c=r.hold,u=r.bits,r.mode===Ra&&(r.back=-1);break}for(r.back=0;b=r.lencode[c&(1<<r.lenbits)-1],g=b>>>24,y=b>>>16&255,B=b&65535,!(g<=u);){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}if(y&&!(y&240)){for(_=g,N=y,D=B;b=r.lencode[D+((c&(1<<_+N)-1)>>_)],g=b>>>24,y=b>>>16&255,B=b&65535,!(_+g<=u);){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}c>>>=_,u-=_,r.back+=_}if(c>>>=g,u-=g,r.back+=g,r.length=B,y===0){r.mode=uB;break}if(y&32){r.back=-1,r.mode=Ra;break}if(y&64){t.msg="invalid literal/length code",r.mode=jr;break}r.extra=y&15,r.mode=oB;case oB:if(r.extra){for(I=r.extra;u<I;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=AB;case AB:for(;b=r.distcode[c&(1<<r.distbits)-1],g=b>>>24,y=b>>>16&255,B=b&65535,!(g<=u);){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}if(!(y&240)){for(_=g,N=y,D=B;b=r.distcode[D+((c&(1<<_+N)-1)>>_)],g=b>>>24,y=b>>>16&255,B=b&65535,!(_+g<=u);){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}c>>>=_,u-=_,r.back+=_}if(c>>>=g,u-=g,r.back+=g,y&64){t.msg="invalid distance code",r.mode=jr;break}r.offset=B,r.extra=y&15,r.mode=lB;case lB:if(r.extra){for(I=r.extra;u<I;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=jr;break}r.mode=cB;case cB:if(l===0)break e;if(d=p-l,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=jr;break}d>r.wnext?(d-=r.wnext,w=r.wsize-d):w=r.wnext-d,d>r.length&&(d=r.length),m=r.window}else m=s,w=a-r.offset,d=r.length;d>l&&(d=l),l-=d,r.length-=d;do s[a++]=m[w++];while(--d);r.length===0&&(r.mode=Zh);break;case uB:if(l===0)break e;s[a++]=r.length,l--,r.mode=Zh;break;case Tm:if(r.wrap){for(;u<32;){if(A===0)break e;A--,c|=n[i++]<<u,u+=8}if(p-=l,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?En(r.check,s,p,a-p):Ud(r.check,s,p,a-p)),p=l,r.wrap&4&&(r.flags?c:fB(c))!==r.check){t.msg="incorrect data check",r.mode=jr;break}c=0,u=0}r.mode=dB;case dB:if(r.wrap&&r.flags){for(;u<32;){if(A===0)break e;A--,c+=n[i++]<<u,u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=jr;break}c=0,u=0}r.mode=hB;case hB:O=X6;break e;case jr:O=vS;break e;case yS:return wS;case bS:default:return Qi}return t.next_out=a,t.avail_out=l,t.next_in=i,t.avail_in=A,r.hold=c,r.bits=u,(r.wsize||p!==t.avail_out&&r.mode<jr&&(r.mode<Tm||e!==$b))&&SS(t,t.output,t.next_out,p-t.avail_out),h-=t.avail_in,p-=t.avail_out,t.total_in+=h,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?En(r.check,s,p,t.next_out-p):Ud(r.check,s,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Ra?128:0)+(r.mode===Yh||r.mode===Dm?256:0),(h===0&&p===0||e===$b)&&O===il&&(O=Z6),O},A8=t=>{if(cl(t))return Qi;let e=t.state;return e.window&&(e.window=null),t.state=null,il},l8=(t,e)=>{if(cl(t))return Qi;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,il):Qi},c8=(t,e)=>{const r=e.length;let n,s,i;return cl(t)||(n=t.state,n.wrap!==0&&n.mode!==Lp)?Qi:n.mode===Lp&&(s=1,s=Ud(s,e,r,0),s!==n.check)?vS:(i=SS(t,e,r,r),i?(n.mode=yS,wS):(n.havedict=1,il))};var u8=xS,d8=_S,h8=BS,f8=i8,p8=CS,g8=o8,m8=A8,v8=l8,w8=c8,y8="pako inflate (from Nodeca project)",Ga={inflateReset:u8,inflateReset2:d8,inflateResetKeep:h8,inflateInit:f8,inflateInit2:p8,inflate:g8,inflateEnd:m8,inflateGetHeader:v8,inflateSetDictionary:w8,inflateInfo:y8};function b8(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var B8=b8;const ES=Object.prototype.toString,{Z_NO_FLUSH:x8,Z_FINISH:_8,Z_OK:Ld,Z_STREAM_END:Rm,Z_NEED_DICT:Hm,Z_STREAM_ERROR:C8,Z_DATA_ERROR:gB,Z_MEM_ERROR:S8}=qd;function Xd(t){this.options=fg.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fS,this.strm.avail_out=0;let r=Ga.inflateInit2(this.strm,e.windowBits);if(r!==Ld)throw new Error(jc[r]);if(this.header=new B8,Ga.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Qd.string2buf(e.dictionary):ES.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Ga.inflateSetDictionary(this.strm,e.dictionary),r!==Ld)))throw new Error(jc[r])}Xd.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,a,A;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?_8:x8,ES.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=Ga.inflate(r,a),i===Hm&&s&&(i=Ga.inflateSetDictionary(r,s),i===Ld?i=Ga.inflate(r,a):i===gB&&(i=Hm));r.avail_in>0&&i===Rm&&r.state.wrap>0&&t[r.next_in]!==0;)Ga.inflateReset(r),i=Ga.inflate(r,a);switch(i){case C8:case gB:case Hm:case S8:return this.onEnd(i),this.ended=!0,!1}if(A=r.avail_out,r.next_out&&(r.avail_out===0||i===Rm))if(this.options.to==="string"){let l=Qd.utf8border(r.output,r.next_out),c=r.next_out-l,u=Qd.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Ld&&A===0)){if(i===Rm)return i=Ga.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Xd.prototype.onData=function(t){this.chunks.push(t)};Xd.prototype.onEnd=function(t){t===Ld&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=fg.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Iw(t,e){const r=new Xd(e);if(r.push(t),r.err)throw r.msg||jc[r.err];return r.result}function E8(t,e){return e=e||{},e.raw=!0,Iw(t,e)}var k8=Xd,N8=Iw,F8=E8,j8=Iw,U8=qd,I8={Inflate:k8,inflate:N8,inflateRaw:F8,ungzip:j8,constants:U8};const{Inflate:Q8,inflate:L8,inflateRaw:UH,ungzip:IH}=I8;var mB=Q8,D8=L8;const kS=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;kS[t]=e}const vB=4294967295;function T8(t,e,r){let n=t;for(let s=0;s<r;s++)n=kS[(n^e[s])&255]^n>>>8;return n}function P8(t,e){return(T8(vB,t,e)^vB)>>>0}function wB(t,e,r){const n=t.readUint32(),s=P8(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function NS(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function FS(t,e,r,n){let s=0;for(;s<n;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-n]&255}function jS(t,e,r,n){let s=0;if(r.length===0)for(;s<n;s++)e[s]=t[s];else for(;s<n;s++)e[s]=t[s]+r[s]&255}function US(t,e,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+(e[i-s]>>1)&255}else{for(;i<s;i++)e[i]=t[i]+(r[i]>>1)&255;for(;i<n;i++)e[i]=t[i]+(e[i-s]+r[i]>>1)&255}}function IS(t,e,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-s]&255}else{for(;i<s;i++)e[i]=t[i]+r[i]&255;for(;i<n;i++)e[i]=t[i]+O8(e[i-s],r[i],r[i-s])&255}}function O8(t,e,r){const n=t+e-r,s=Math.abs(n-t),i=Math.abs(n-e),a=Math.abs(n-r);return s<=i&&s<=a?t:i<=a?e:r}function R8(t,e,r,n,s,i){switch(t){case 0:NS(e,r,s);break;case 1:FS(e,r,s,i);break;case 2:jS(e,r,n,s);break;case 3:US(e,r,n,s,i);break;case 4:IS(e,r,n,s,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const H8=new Uint16Array([255]),M8=new Uint8Array(H8.buffer),z8=M8[0]===255;function K8(t){const{data:e,width:r,height:n,channels:s,depth:i}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],A=Math.ceil(i/8)*s,l=new Uint8Array(n*r*A);let c=0;for(let u=0;u<7;u++){const h=a[u],p=Math.ceil((r-h.x)/h.xStep),d=Math.ceil((n-h.y)/h.yStep);if(p<=0||d<=0)continue;const w=p*A,m=new Uint8Array(w);for(let b=0;b<d;b++){const g=e[c++],y=e.subarray(c,c+w);c+=w;const B=new Uint8Array(w);R8(g,y,B,m,w,A),m.set(B);for(let _=0;_<p;_++){const N=h.x+_*h.xStep,D=h.y+b*h.yStep;if(!(N>=r||D>=n))for(let T=0;T<A;T++)l[(D*r+N)*A+T]=B[_*A+T]}}}if(i===16){const u=new Uint16Array(l.buffer);if(z8)for(let h=0;h<u.length;h++)u[h]=$8(u[h]);return u}else return l}function $8(t){return(t&255)<<8|t>>8&255}const V8=new Uint16Array([255]),G8=new Uint8Array(V8.buffer),W8=G8[0]===255,q8=new Uint8Array(0);function yB(t){const{data:e,width:r,height:n,channels:s,depth:i}=t,a=Math.ceil(i/8)*s,A=Math.ceil(i/8*s*r),l=new Uint8Array(n*A);let c=q8,u=0,h,p;for(let d=0;d<n;d++){switch(h=e.subarray(u+1,u+1+A),p=l.subarray(d*A,(d+1)*A),e[u]){case 0:NS(h,p,A);break;case 1:FS(h,p,A,a);break;case 2:jS(h,p,c,A);break;case 3:US(h,p,c,A,a);break;case 4:IS(h,p,c,A,a);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=p,u+=A+1}if(i===16){const d=new Uint16Array(l.buffer);if(W8)for(let w=0;w<d.length;w++)d[w]=J8(d[w]);return d}else return l}function J8(t){return(t&255)<<8|t>>8&255}const Kf=Uint8Array.of(137,80,78,71,13,10,26,10);function bB(t){if(!X8(t.readBytes(Kf.length)))throw new Error("wrong PNG signature")}function X8(t){if(t.length<Kf.length)return!1;for(let e=0;e<Kf.length;e++)if(t[e]!==Kf[e])return!1;return!0}const Y8="tEXt",Z8=0,QS=new TextDecoder("latin1");function eD(t){if(rD(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const tD=/^[\u0000-\u00FF]*$/;function rD(t){if(!tD.test(t))throw new Error("invalid latin1 text")}function nD(t,e,r){const n=LS(e);t[n]=sD(e,r-n.length-1)}function LS(t){for(t.mark();t.readByte()!==Z8;);const e=t.offset;t.reset();const r=QS.decode(t.readBytes(e-t.offset-1));return t.skip(1),eD(r),r}function sD(t,e){return QS.decode(t.readBytes(e))}const Ws={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Mm={UNKNOWN:-1,DEFLATE:0},BB={UNKNOWN:-1,ADAPTIVE:0},zm={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ef={NONE:0,BACKGROUND:1,PREVIOUS:2},Km={SOURCE:0,OVER:1};class iD extends Sw{constructor(r,n={}){super(r);ar(this,"_checkCrc");ar(this,"_inflator");ar(this,"_png");ar(this,"_apng");ar(this,"_end");ar(this,"_hasPalette");ar(this,"_palette");ar(this,"_hasTransparency");ar(this,"_transparency");ar(this,"_compressionMethod");ar(this,"_filterMethod");ar(this,"_interlaceMethod");ar(this,"_colorType");ar(this,"_isAnimated");ar(this,"_numberOfFrames");ar(this,"_numberOfPlays");ar(this,"_frames");ar(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new mB,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Mm.UNKNOWN,this._filterMethod=BB.UNKNOWN,this._interlaceMethod=zm.UNKNOWN,this._colorType=Ws.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(bB(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(bB(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Y8:nD(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?wB(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?wB(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=aD(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case Ws.GREYSCALE:s=1;break;case Ws.TRUECOLOUR:s=3;break;case Ws.INDEXED_COLOUR:s=1;break;case Ws.GREYSCALE_ALPHA:s=2;break;case Ws.TRUECOLOUR_ALPHA:s=4;break;case Ws.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Mm.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<n;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ws.GREYSCALE:case Ws.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ws.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ws.UNKNOWN:case Ws.GREYSCALE_ALPHA:case Ws.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=LS(this),s=this.readUint8();if(s!==Mm.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:D8(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=yB({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case ef.NONE:break;case ef.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const A=(i*r.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)s.data[A+l]=0}break;case ef.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,i=(a,A)=>{const l=((a+n.yOffset)*this._png.width+n.xOffset+A)*this._png.channels,c=(a*n.width+A)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case Km.SOURCE:for(let a=0;a<n.height;a++)for(let A=0;A<n.width;A++){const{index:l,frameIndex:c}=i(a,A);for(let u=0;u<this._png.channels;u++)r.data[l+u]=n.data[c+u]}break;case Km.OVER:for(let a=0;a<n.height;a++)for(let A=0;A<n.width;A++){const{index:l,frameIndex:c}=i(a,A);for(let u=0;u<this._png.channels;u++){const h=n.data[c+this._png.channels-1]/s,p=u%(this._png.channels-1)===0?1:n.data[c+u],d=Math.floor(h*p+(1-h)*r.data[l+u]);r.data[l+u]+=d}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==BB.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===zm.NO_INTERLACE)this._png.data=yB({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===zm.ADAM7)this._png.data=K8({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ef.NONE,blendOp:Km.SOURCE,data:r}),this._inflator=new mB,this._writingDataChunks=!1}}function aD(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var xB;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(xB||(xB={}));function oD(t,e){return new iD(t,e).decode()}var jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function $m(){jt.console&&typeof jt.console.log=="function"&&jt.console.log.apply(jt.console,arguments)}var hr={log:$m,warn:function(t){jt.console&&(typeof jt.console.warn=="function"?jt.console.warn.apply(jt.console,arguments):$m.call(null,arguments))},error:function(t){jt.console&&(typeof jt.console.error=="function"?jt.console.error.apply(jt.console,arguments):$m(t))}};function Vm(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){IA(n.response,e,r)},n.onerror=function(){hr.error("could not download file")},n.send()}function _B(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function tf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var IA=jt.saveAs||((typeof window>"u"?"undefined":or(window))!=="object"||window!==jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=jt.URL||jt.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?_B(s.href)?Vm(t,e,r):tf(s,s.target="_blank"):tf(s)):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){tf(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(_B(t))Vm(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){tf(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:or(i)!=="object"&&(hr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob([String.fromCharCode(65279),s],{type:s.type}):s}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Vm(t,e,r);var s=t.type==="application/octet-stream",i=/constructor/i.test(jt.HTMLElement)||jt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":or(FileReader))==="object"){var A=new FileReader;A.onloadend=function(){var u=A.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},A.readAsDataURL(t)}else{var l=jt.URL||jt.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function DS(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(A){return[parseInt(A[1]),parseInt(A[2]),parseInt(A[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(A){return[parseInt(A[1],16),parseInt(A[2],16),parseInt(A[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(A){return[parseInt(A[1]+A[1],16),parseInt(A[2]+A[2],16),parseInt(A[3]+A[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,a=s.exec(t);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var A=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return A.length==1&&(A="0"+A),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+A+l+c}}var $f=jt.atob.bind(jt),CB=jt.btoa.bind(jt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Gm(t,e){var r=t[0],n=t[1],s=t[2],i=t[3];r=es(r,n,s,i,e[0],7,-680876936),i=es(i,r,n,s,e[1],12,-389564586),s=es(s,i,r,n,e[2],17,606105819),n=es(n,s,i,r,e[3],22,-1044525330),r=es(r,n,s,i,e[4],7,-176418897),i=es(i,r,n,s,e[5],12,1200080426),s=es(s,i,r,n,e[6],17,-1473231341),n=es(n,s,i,r,e[7],22,-45705983),r=es(r,n,s,i,e[8],7,1770035416),i=es(i,r,n,s,e[9],12,-1958414417),s=es(s,i,r,n,e[10],17,-42063),n=es(n,s,i,r,e[11],22,-1990404162),r=es(r,n,s,i,e[12],7,1804603682),i=es(i,r,n,s,e[13],12,-40341101),s=es(s,i,r,n,e[14],17,-1502002290),r=ts(r,n=es(n,s,i,r,e[15],22,1236535329),s,i,e[1],5,-165796510),i=ts(i,r,n,s,e[6],9,-1069501632),s=ts(s,i,r,n,e[11],14,643717713),n=ts(n,s,i,r,e[0],20,-373897302),r=ts(r,n,s,i,e[5],5,-701558691),i=ts(i,r,n,s,e[10],9,38016083),s=ts(s,i,r,n,e[15],14,-660478335),n=ts(n,s,i,r,e[4],20,-405537848),r=ts(r,n,s,i,e[9],5,568446438),i=ts(i,r,n,s,e[14],9,-1019803690),s=ts(s,i,r,n,e[3],14,-187363961),n=ts(n,s,i,r,e[8],20,1163531501),r=ts(r,n,s,i,e[13],5,-1444681467),i=ts(i,r,n,s,e[2],9,-51403784),s=ts(s,i,r,n,e[7],14,1735328473),r=rs(r,n=ts(n,s,i,r,e[12],20,-1926607734),s,i,e[5],4,-378558),i=rs(i,r,n,s,e[8],11,-2022574463),s=rs(s,i,r,n,e[11],16,1839030562),n=rs(n,s,i,r,e[14],23,-35309556),r=rs(r,n,s,i,e[1],4,-1530992060),i=rs(i,r,n,s,e[4],11,1272893353),s=rs(s,i,r,n,e[7],16,-155497632),n=rs(n,s,i,r,e[10],23,-1094730640),r=rs(r,n,s,i,e[13],4,681279174),i=rs(i,r,n,s,e[0],11,-358537222),s=rs(s,i,r,n,e[3],16,-722521979),n=rs(n,s,i,r,e[6],23,76029189),r=rs(r,n,s,i,e[9],4,-640364487),i=rs(i,r,n,s,e[12],11,-421815835),s=rs(s,i,r,n,e[15],16,530742520),r=ns(r,n=rs(n,s,i,r,e[2],23,-995338651),s,i,e[0],6,-198630844),i=ns(i,r,n,s,e[7],10,1126891415),s=ns(s,i,r,n,e[14],15,-1416354905),n=ns(n,s,i,r,e[5],21,-57434055),r=ns(r,n,s,i,e[12],6,1700485571),i=ns(i,r,n,s,e[3],10,-1894986606),s=ns(s,i,r,n,e[10],15,-1051523),n=ns(n,s,i,r,e[1],21,-2054922799),r=ns(r,n,s,i,e[8],6,1873313359),i=ns(i,r,n,s,e[15],10,-30611744),s=ns(s,i,r,n,e[6],15,-1560198380),n=ns(n,s,i,r,e[13],21,1309151649),r=ns(r,n,s,i,e[4],6,-145523070),i=ns(i,r,n,s,e[11],10,-1120210379),s=ns(s,i,r,n,e[2],15,718787259),n=ns(n,s,i,r,e[9],21,-343485551),t[0]=Mo(r,t[0]),t[1]=Mo(n,t[1]),t[2]=Mo(s,t[2]),t[3]=Mo(i,t[3])}function gg(t,e,r,n,s,i){return e=Mo(Mo(e,t),Mo(n,i)),Mo(e<<s|e>>>32-s,r)}function es(t,e,r,n,s,i,a){return gg(e&r|~e&n,t,e,s,i,a)}function ts(t,e,r,n,s,i,a){return gg(e&n|r&~n,t,e,s,i,a)}function rs(t,e,r,n,s,i,a){return gg(e^r^n,t,e,s,i,a)}function ns(t,e,r,n,s,i,a){return gg(r^(e|~n),t,e,s,i,a)}function TS(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Gm(n,AD(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Gm(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*r,Gm(n,s),n}function AD(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var SB="0123456789abcdef".split("");function lD(t){for(var e="",r=0;r<4;r++)e+=SB[t>>8*r+4&15]+SB[t>>8*r&15];return e}function cD(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function $1(t){return TS(t).map(cD).join("")}var uD=function(t){for(var e=0;e<t.length;e++)t[e]=lD(t[e]);return t.join("")}(TS("hello"))!="5d41402abc4b2a76b9719d911017c592";function Mo(t,e){if(uD){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function V1(t,e){var r,n,s,i;if(t!==r){for(var a=(s=t,i=1+(256/t.length|0),new Array(i+1).join(s)),A=[],l=0;l<256;l++)A[l]=l;var c=0;for(l=0;l<256;l++){var u=A[l];c=(c+u+a.charCodeAt(l))%256,A[l]=A[c],A[c]=u}r=t,n=A}else A=n;var h=e.length,p=0,d=0,w="";for(l=0;l<h;l++)d=(d+(u=A[p=(p+1)%256]))%256,A[p]=A[d],A[d]=u,a=A[(A[p]+A[d])%256],w+=String.fromCharCode(e.charCodeAt(l)^a);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var EB={print:4,modify:8,copy:16,"annot-forms":32};function Vl(t,e,r,n){this.v=1,this.r=2;var s=192;t.forEach(function(A){if(EB.perm!==void 0)throw new Error("Invalid permission: "+A);s+=EB[A]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=$1(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=V1(this.encryptionKey,this.padding)}function Gl(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var s=t.charCodeAt(n);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):t[n]}return e}function kB(t){if(or(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[r]){var a=e[r][i];try{a[0].apply(t,n)}catch(A){jt.console&&hr.error("jsPDF PubSub Error",A.message,A)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Dp(t){if(!(this instanceof Dp))return new Dp(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function PS(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function TA(t,e,r,n,s){if(!(this instanceof TA))return new TA(t,e,r,n,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,PS.call(this,n,s)}function Ac(t,e,r,n,s){if(!(this instanceof Ac))return new Ac(t,e,r,n,s);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,PS.call(this,n,s)}function Ct(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],A=1,l=16,c="S",u=null;or(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,s=t.format||s,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),A=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,p={},d={internal:{},__private__:{}};d.__private__.PubSub=kB;var w="1.3",m=d.__private__.getPdfVersion=function(){return w};d.__private__.setPdfVersion=function(x){w=x};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return b};var g=d.__private__.getPageFormat=function(x){return b[x]};s=s||"a4";var y="compat",B="advanced",_=y;function N(){this.saveGraphicsState(),Q(new St(M,0,0,-M,0,la()*M).toString()+" cm"),this.setFontSize(this.getFontSize()/M),c="n",_=B}function D(){this.restoreGraphicsState(),c="S",_=y}var T=d.__private__.combineFontStyleAndFontWeight=function(x,P){if(x=="bold"&&P=="normal"||x=="bold"&&P==400||x=="normal"&&P=="italic"||x=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(x=P==400||P==="normal"?x==="italic"?"italic":"normal":P!=700&&P!=="bold"||x!=="normal"?(P==700?"bold":P)+""+x:"bold"),x};d.advancedAPI=function(x){var P=_===y;return P&&N.call(this),typeof x!="function"||(x(this),P&&D.call(this)),this},d.compatAPI=function(x){var P=_===B;return P&&D.call(this),typeof x!="function"||(x(this),P&&N.call(this)),this},d.isAdvancedAPI=function(){return _===B};var O,F=function(x){if(_!==B)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=d.roundToPrecision=d.__private__.roundToPrecision=function(x,P){var ue=e||P;if(isNaN(x)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(ue).replace(/0+$/,"")};O=d.hpf=d.__private__.hpf=typeof l=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return K(x,l)}:l==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return K(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return K(x,16)};var I=d.f2=d.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return K(x,2)},j=d.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return K(x,3)},H=d.scale=d.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return _===y?x*M:_===B?x:void 0},C=function(x){return H(function(P){return _===y?la()-P:_===B?P:void 0}(x))};d.__private__.setPrecision=d.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var te,ve="00000000000000000000000000000000",ce=d.__private__.getFileId=function(){return ve},ie=d.__private__.setFileId=function(x){return ve=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():ve.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(pr=new Vl(u.userPermissions,u.userPassword,u.ownerPassword,ve)),ve};d.setFileId=function(x){return ie(x),this},d.getFileId=function(){return ce()};var re=d.__private__.convertDateToPDFDate=function(x){var P=x.getTimezoneOffset(),ue=P<0?"+":"-",be=Math.floor(Math.abs(P/60)),Ne=Math.abs(P%60),He=[ue,V(be),"'",V(Ne),"'"].join("");return["D:",x.getFullYear(),V(x.getMonth()+1),V(x.getDate()),V(x.getHours()),V(x.getMinutes()),V(x.getSeconds()),He].join("")},Be=d.__private__.convertPDFDateToDate=function(x){var P=parseInt(x.substr(2,4),10),ue=parseInt(x.substr(6,2),10)-1,be=parseInt(x.substr(8,2),10),Ne=parseInt(x.substr(10,2),10),He=parseInt(x.substr(12,2),10),We=parseInt(x.substr(14,2),10);return new Date(P,ue,be,Ne,He,We,0)},se=d.__private__.setCreationDate=function(x){var P;if(x===void 0&&(x=new Date),x instanceof Date)P=re(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=x}return te=P},k=d.__private__.getCreationDate=function(x){var P=te;return x==="jsDate"&&(P=Be(te)),P};d.setCreationDate=function(x){return se(x),this},d.getCreationDate=function(x){return k(x)};var z,V=d.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},G=d.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},de=0,ye=[],we=[],Z=0,he=[],le=[],ae=!1,Se=we;d.__private__.setCustomOutputDestination=function(x){ae=!0,Se=x};var E=function(x){ae||(Se=x)};d.__private__.resetCustomOutputDestination=function(){ae=!1,Se=we};var Q=d.__private__.out=function(x){return x=x.toString(),Z+=x.length+1,Se.push(x),Se},pe=d.__private__.write=function(x){return Q(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},ee=d.__private__.getArrayBuffer=function(x){for(var P=x.length,ue=new ArrayBuffer(P),be=new Uint8Array(ue);P--;)be[P]=x.charCodeAt(P);return ue},J=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return J};var q=t.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(x){return q=_===B?x/M:x,this};var Ce,Ee=d.__private__.getFontSize=d.getFontSize=function(){return _===y?q:q*M},xe=t.R2L||!1;d.__private__.setR2L=d.setR2L=function(x){return xe=x,this},d.__private__.getR2L=d.getR2L=function(){return xe};var Fe,Ke=d.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))Ce=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');Ce=x}else Ce=parseInt(x,10)};d.__private__.getZoomMode=function(){return Ce};var Te,$e=d.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');Fe=x};d.__private__.getPageMode=function(){return Fe};var dt=d.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');Te=x};d.__private__.getLayoutMode=function(){return Te},d.__private__.setDisplayMode=d.setDisplayMode=function(x,P,ue){return Ke(x),dt(P),$e(ue),this};var tt={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(x){if(Object.keys(tt).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return tt[x]},d.__private__.getDocumentProperties=function(){return tt},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(x){for(var P in tt)tt.hasOwnProperty(P)&&x[P]&&(tt[P]=x[P]);return this},d.__private__.setDocumentProperty=function(x,P){if(Object.keys(tt).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return tt[x]=P};var Je,M,ge,Le,Ue,qe={},rt={},st=[],it={},me={},Pe={},Xe={},et=null,at=0,Me=[],ct=new kB(d),fr=t.hotfixes||[],Jt={},Qr={},Vn=[],St=function x(P,ue,be,Ne,He,We){if(!(this instanceof x))return new x(P,ue,be,Ne,He,We);isNaN(P)&&(P=1),isNaN(ue)&&(ue=0),isNaN(be)&&(be=0),isNaN(Ne)&&(Ne=1),isNaN(He)&&(He=0),isNaN(We)&&(We=0),this._matrix=[P,ue,be,Ne,He,We]};Object.defineProperty(St.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(St.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(St.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(St.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(St.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(St.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(St.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(St.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(St.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(St.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(St.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(St.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(St.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(St.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(St.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(St.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),St.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(x)},St.prototype.multiply=function(x){var P=x.sx*this.sx+x.shy*this.shx,ue=x.sx*this.shy+x.shy*this.sy,be=x.shx*this.sx+x.sy*this.shx,Ne=x.shx*this.shy+x.sy*this.sy,He=x.tx*this.sx+x.ty*this.shx+this.tx,We=x.tx*this.shy+x.ty*this.sy+this.ty;return new St(P,ue,be,Ne,He,We)},St.prototype.decompose=function(){var x=this.sx,P=this.shy,ue=this.shx,be=this.sy,Ne=this.tx,He=this.ty,We=Math.sqrt(x*x+P*P),vt=(x/=We)*ue+(P/=We)*be;ue-=x*vt,be-=P*vt;var Bt=Math.sqrt(ue*ue+be*be);return vt/=Bt,x*(be/=Bt)<P*(ue/=Bt)&&(x=-x,P=-P,vt=-vt,We=-We),{scale:new St(We,0,0,Bt,0,0),translate:new St(1,0,0,1,Ne,He),rotate:new St(x,P,-P,x,0,0),skew:new St(1,0,vt,1,0,0)}},St.prototype.toString=function(x){return this.join(" ")},St.prototype.inversed=function(){var x=this.sx,P=this.shy,ue=this.shx,be=this.sy,Ne=this.tx,He=this.ty,We=1/(x*be-P*ue),vt=be*We,Bt=-P*We,Ut=-ue*We,Lt=x*We;return new St(vt,Bt,Ut,Lt,-vt*Ne-Ut*He,-Bt*Ne-Lt*He)},St.prototype.applyToPoint=function(x){var P=x.x*this.sx+x.y*this.shx+this.tx,ue=x.x*this.shy+x.y*this.sy+this.ty;return new Nr(P,ue)},St.prototype.applyToRectangle=function(x){var P=this.applyToPoint(x),ue=this.applyToPoint(new Nr(x.x+x.w,x.y+x.h));return new Mr(P.x,P.y,ue.x-P.x,ue.y-P.y)},St.prototype.clone=function(){var x=this.sx,P=this.shy,ue=this.shx,be=this.sy,Ne=this.tx,He=this.ty;return new St(x,P,ue,be,Ne,He)},d.Matrix=St;var Un=d.matrixMult=function(x,P){return P.multiply(x)},Ls=new St(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Ls;var In=function(x,P){if(!me[x]){var ue=(P instanceof TA?"Sh":"P")+(Object.keys(it).length+1).toString(10);P.id=ue,me[x]=ue,it[ue]=P,ct.publish("addPattern",P)}};d.ShadingPattern=TA,d.TilingPattern=Ac,d.addShadingPattern=function(x,P){return F("addShadingPattern()"),In(x,P),this},d.beginTilingPattern=function(x){F("beginTilingPattern()"),gr(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},d.endTilingPattern=function(x,P){F("endTilingPattern()"),P.stream=le[z].join(`
`),In(x,P),ct.publish("endTilingPattern",P),Vn.pop().restore()};var ws,Zt=d.__private__.newObject=function(){var x=an();return on(x,!0),x},an=d.__private__.newObjectDeferred=function(){return de++,ye[de]=function(){return Z},de},on=function(x,P){return P=typeof P=="boolean"&&P,ye[x]=Z,P&&Q(x+" 0 obj"),x},ys=d.__private__.newAdditionalObject=function(){var x={objId:an(),content:""};return he.push(x),x},na=an(),Ds=an(),li=d.__private__.decodeColorString=function(x){var P=x.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length!==5||P[4]!=="k"&&P[4]!=="K"||(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var ue=parseFloat(P[0]);P=[ue,ue,ue,"r"]}for(var be="#",Ne=0;Ne<3;Ne++)be+=("0"+Math.floor(255*parseFloat(P[Ne])).toString(16)).slice(-2);return be},bs=d.__private__.encodeColorString=function(x){var P;typeof x=="string"&&(x={ch1:x});var ue=x.ch1,be=x.ch2,Ne=x.ch3,He=x.ch4,We=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var vt=new DS(ue);if(vt.ok)ue=vt.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var Bt=parseInt(ue.substr(1),16);ue=Bt>>16&255,be=Bt>>8&255,Ne=255&Bt}if(be===void 0||He===void 0&&ue===be&&be===Ne)P=typeof ue=="string"?ue+" "+We[0]:x.precision===2?I(ue/255)+" "+We[0]:j(ue/255)+" "+We[0];else if(He===void 0||or(He)==="object"){if(He&&!isNaN(He.a)&&He.a===0)return["1.","1.","1.",We[1]].join(" ");P=typeof ue=="string"?[ue,be,Ne,We[1]].join(" "):x.precision===2?[I(ue/255),I(be/255),I(Ne/255),We[1]].join(" "):[j(ue/255),j(be/255),j(Ne/255),We[1]].join(" ")}else P=typeof ue=="string"?[ue,be,Ne,He,We[2]].join(" "):x.precision===2?[I(ue),I(be),I(Ne),I(He),We[2]].join(" "):[j(ue),j(be),j(Ne),j(He),We[2]].join(" ");return P},Bs=d.__private__.getFilters=function(){return a},Gn=d.__private__.putStream=function(x){var P=(x=x||{}).data||"",ue=x.filters||Bs(),be=x.alreadyAppliedFilters||[],Ne=x.addLength1||!1,He=P.length,We=x.objectId,vt=function(pn){return pn};if(u!==null&&We===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(vt=pr.encryptor(We,0));var Bt={};ue===!0&&(ue=["FlateEncode"]);var Ut=x.additionalKeyValues||[],Lt=(Bt=Ct.API.processDataByFilters!==void 0?Ct.API.processDataByFilters(P,ue):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(be)?be.join(" "):be.toString());if(Bt.data.length!==0&&(Ut.push({key:"Length",value:Bt.data.length}),Ne===!0&&Ut.push({key:"Length1",value:He})),Lt.length!=0)if(Lt.split("/").length-1==1)Ut.push({key:"Filter",value:Lt});else{Ut.push({key:"Filter",value:"["+Lt+"]"});for(var Xt=0;Xt<Ut.length;Xt+=1)if(Ut[Xt].key==="DecodeParms"){for(var Lr=[],An=0;An<Bt.reverseChain.split("/").length-1;An+=1)Lr.push("null");Lr.push(Ut[Xt].value),Ut[Xt].value="["+Lr.join(" ")+"]"}}Q("<<");for(var mr=0;mr<Ut.length;mr++)Q("/"+Ut[mr].key+" "+Ut[mr].value);Q(">>"),Bt.data.length!==0&&(Q("stream"),Q(vt(Bt.data)),Q("endstream"))},ka=d.__private__.putPage=function(x){var P=x.number,ue=x.data,be=x.objId,Ne=x.contentsObjId;on(be,!0),Q("<</Type /Page"),Q("/Parent "+x.rootDictionaryObjId+" 0 R"),Q("/Resources "+x.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(O(x.mediaBox.bottomLeftX))+" "+parseFloat(O(x.mediaBox.bottomLeftY))+" "+O(x.mediaBox.topRightX)+" "+O(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&Q("/CropBox ["+O(x.cropBox.bottomLeftX)+" "+O(x.cropBox.bottomLeftY)+" "+O(x.cropBox.topRightX)+" "+O(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&Q("/BleedBox ["+O(x.bleedBox.bottomLeftX)+" "+O(x.bleedBox.bottomLeftY)+" "+O(x.bleedBox.topRightX)+" "+O(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&Q("/TrimBox ["+O(x.trimBox.bottomLeftX)+" "+O(x.trimBox.bottomLeftY)+" "+O(x.trimBox.topRightX)+" "+O(x.trimBox.topRightY)+"]"),x.artBox!==null&&Q("/ArtBox ["+O(x.artBox.bottomLeftX)+" "+O(x.artBox.bottomLeftY)+" "+O(x.artBox.topRightX)+" "+O(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&Q("/UserUnit "+x.userUnit),ct.publish("putPage",{objId:be,pageContext:Me[P],pageNumber:P,page:ue}),Q("/Contents "+Ne+" 0 R"),Q(">>"),Q("endobj");var He=ue.join(`
`);return _===B&&(He+=`
Q`),on(Ne,!0),Gn({data:He,filters:Bs(),objectId:Ne}),Q("endobj"),be},ci=d.__private__.putPages=function(){var x,P,ue=[];for(x=1;x<=at;x++)Me[x].objId=an(),Me[x].contentsObjId=an();for(x=1;x<=at;x++)ue.push(ka({number:x,data:le[x],objId:Me[x].objId,contentsObjId:Me[x].contentsObjId,mediaBox:Me[x].mediaBox,cropBox:Me[x].cropBox,bleedBox:Me[x].bleedBox,trimBox:Me[x].trimBox,artBox:Me[x].artBox,userUnit:Me[x].userUnit,rootDictionaryObjId:na,resourceDictionaryObjId:Ds}));on(na,!0),Q("<</Type /Pages");var be="/Kids [";for(P=0;P<at;P++)be+=ue[P]+" 0 R ";Q(be+"]"),Q("/Count "+at),Q(">>"),Q("endobj"),ct.publish("postPutPages")},sa=function(x){ct.publish("putFont",{font:x,out:Q,newObject:Zt,putStream:Gn}),x.isAlreadyPutted!==!0&&(x.objectNumber=Zt(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+Gl(x.postScriptName)),Q("/Subtype /Type1"),typeof x.encoding=="string"&&Q("/Encoding /"+x.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},L=function(x){x.objectNumber=Zt();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[O(x.x),O(x.y),O(x.x+x.width),O(x.y+x.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var ue=x.pages[1].join(`
`);Gn({data:ue,additionalKeyValues:P,objectId:x.objectNumber}),Q("endobj")},fe=function(x,P){P||(P=21);var ue=Zt(),be=function(We,vt){var Bt,Ut=[],Lt=1/(vt-1);for(Bt=0;Bt<1;Bt+=Lt)Ut.push(Bt);if(Ut.push(1),We[0].offset!=0){var Xt={offset:0,color:We[0].color};We.unshift(Xt)}if(We[We.length-1].offset!=1){var Lr={offset:1,color:We[We.length-1].color};We.push(Lr)}for(var An="",mr=0,pn=0;pn<Ut.length;pn++){for(Bt=Ut[pn];Bt>We[mr+1].offset;)mr++;var ln=We[mr].offset,Qn=(Bt-ln)/(We[mr+1].offset-ln),mi=We[mr].color,_s=We[mr+1].color;An+=G(Math.round((1-Qn)*mi[0]+Qn*_s[0]).toString(16))+G(Math.round((1-Qn)*mi[1]+Qn*_s[1]).toString(16))+G(Math.round((1-Qn)*mi[2]+Qn*_s[2]).toString(16))}return An.trim()}(x.colors,P),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+P+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Gn({data:be,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),Q("endobj"),x.objectNumber=Zt(),Q("<< /ShadingType "+x.type),Q("/ColorSpace /DeviceRGB");var He="/Coords ["+O(parseFloat(x.coords[0]))+" "+O(parseFloat(x.coords[1]))+" ";x.type===2?He+=O(parseFloat(x.coords[2]))+" "+O(parseFloat(x.coords[3])):He+=O(parseFloat(x.coords[2]))+" "+O(parseFloat(x.coords[3]))+" "+O(parseFloat(x.coords[4]))+" "+O(parseFloat(x.coords[5])),Q(He+="]"),x.matrix&&Q("/Matrix ["+x.matrix.toString()+"]"),Q("/Function "+ue+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},De=function(x,P){var ue=an(),be=Zt();P.push({resourcesOid:ue,objectOid:be}),x.objectNumber=be;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+x.boundingBox.map(O).join(" ")+"]"}),Ne.push({key:"XStep",value:O(x.xStep)}),Ne.push({key:"YStep",value:O(x.yStep)}),Ne.push({key:"Resources",value:ue+" 0 R"}),x.matrix&&Ne.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),Gn({data:x.stream,additionalKeyValues:Ne,objectId:x.objectNumber}),Q("endobj")},ht=function(x){for(var P in x.objectNumber=Zt(),Q("<<"),x)switch(P){case"opacity":Q("/ca "+I(x[P]));break;case"stroke-opacity":Q("/CA "+I(x[P]))}Q(">>"),Q("endobj")},Et=function(x){on(x.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var P in Q("/Font <<"),qe)qe.hasOwnProperty(P)&&(h===!1||h===!0&&p.hasOwnProperty(P))&&Q("/"+P+" "+qe[P].objectNumber+" 0 R");Q(">>")}(),function(){if(Object.keys(it).length>0){for(var P in Q("/Shading <<"),it)it.hasOwnProperty(P)&&it[P]instanceof TA&&it[P].objectNumber>=0&&Q("/"+P+" "+it[P].objectNumber+" 0 R");ct.publish("putShadingPatternDict"),Q(">>")}}(),function(P){if(Object.keys(it).length>0){for(var ue in Q("/Pattern <<"),it)it.hasOwnProperty(ue)&&it[ue]instanceof d.TilingPattern&&it[ue].objectNumber>=0&&it[ue].objectNumber<P&&Q("/"+ue+" "+it[ue].objectNumber+" 0 R");ct.publish("putTilingPatternDict"),Q(">>")}}(x.objectOid),function(){if(Object.keys(Pe).length>0){var P;for(P in Q("/ExtGState <<"),Pe)Pe.hasOwnProperty(P)&&Pe[P].objectNumber>=0&&Q("/"+P+" "+Pe[P].objectNumber+" 0 R");ct.publish("putGStateDict"),Q(">>")}}(),function(){for(var P in Q("/XObject <<"),Jt)Jt.hasOwnProperty(P)&&Jt[P].objectNumber>=0&&Q("/"+P+" "+Jt[P].objectNumber+" 0 R");ct.publish("putXobjectDict"),Q(">>")}(),Q(">>"),Q("endobj")},kt=function(x){rt[x.fontName]=rt[x.fontName]||{},rt[x.fontName][x.fontStyle]=x.id},nr=function(x,P,ue,be,Ne){var He={id:"F"+(Object.keys(qe).length+1).toString(10),postScriptName:x,fontName:P,fontStyle:ue,encoding:be,isStandardFont:Ne||!1,metadata:{}};return ct.publish("addFont",{font:He,instance:this}),qe[He.id]=He,kt(He),He.id},$t=d.__private__.pdfEscape=d.pdfEscape=function(x,P){return function(ue,be){var Ne,He,We,vt,Bt,Ut,Lt,Xt,Lr;if(We=(be=be||{}).sourceEncoding||"Unicode",Bt=be.outputEncoding,(be.autoencode||Bt)&&qe[Je].metadata&&qe[Je].metadata[We]&&qe[Je].metadata[We].encoding&&(vt=qe[Je].metadata[We].encoding,!Bt&&qe[Je].encoding&&(Bt=qe[Je].encoding),!Bt&&vt.codePages&&(Bt=vt.codePages[0]),typeof Bt=="string"&&(Bt=vt[Bt]),Bt)){for(Lt=!1,Ut=[],Ne=0,He=ue.length;Ne<He;Ne++)(Xt=Bt[ue.charCodeAt(Ne)])?Ut.push(String.fromCharCode(Xt)):Ut.push(ue[Ne]),Ut[Ne].charCodeAt(0)>>8&&(Lt=!0);ue=Ut.join("")}for(Ne=ue.length;Lt===void 0&&Ne!==0;)ue.charCodeAt(Ne-1)>>8&&(Lt=!0),Ne--;if(!Lt)return ue;for(Ut=be.noBOM?[]:[254,255],Ne=0,He=ue.length;Ne<He;Ne++){if((Lr=(Xt=ue.charCodeAt(Ne))>>8)>>8)throw new Error("Character at position "+Ne+" of string '"+ue+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ut.push(Lr),Ut.push(Xt-(Lr<<8))}return String.fromCharCode.apply(void 0,Ut)}(x,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},er=d.__private__.beginPage=function(x){le[++at]=[],Me[at]={objId:0,contentsObjId:0,userUnit:Number(A),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},fn(at),E(le[z])},Br=function(x,P){var ue,be,Ne;switch(r=P||r,typeof x=="string"&&(ue=g(x.toLowerCase()),Array.isArray(ue)&&(be=ue[0],Ne=ue[1])),Array.isArray(x)&&(be=x[0]*M,Ne=x[1]*M),isNaN(be)&&(be=s[0],Ne=s[1]),(be>14400||Ne>14400)&&(hr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),be=Math.min(14400,be),Ne=Math.min(14400,Ne)),s=[be,Ne],r.substr(0,1)){case"l":Ne>be&&(s=[Ne,be]);break;case"p":be>Ne&&(s=[Ne,be])}er(s),pl(Ao),Q(Na),ot!==0&&Q(ot+" J"),It!==0&&Q(It+" j"),ct.publish("addPage",{pageNumber:at})},At=function(x){x>0&&x<=at&&(le.splice(x,1),Me.splice(x,1),at--,z>at&&(z=at),this.setPage(z))},fn=function(x){x>0&&x<=at&&(z=x)},Ht=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return le.length-1},Ts=function(x,P,ue){var be,Ne=void 0;return ue=ue||{},x=x!==void 0?x:qe[Je].fontName,P=P!==void 0?P:qe[Je].fontStyle,be=x.toLowerCase(),rt[be]!==void 0&&rt[be][P]!==void 0?Ne=rt[be][P]:rt[x]!==void 0&&rt[x][P]!==void 0?Ne=rt[x][P]:ue.disableWarning===!1&&hr.warn("Unable to look up font label for font '"+x+"', '"+P+"'. Refer to getFontList() for available fonts."),Ne||ue.noFallback||(Ne=rt.times[P])==null&&(Ne=rt.times.normal),Ne},Wr=d.__private__.putInfo=function(){var x=Zt(),P=function(be){return be};for(var ue in u!==null&&(P=pr.encryptor(x,0)),Q("<<"),Q("/Producer ("+$t(P("jsPDF "+Ct.version))+")"),tt)tt.hasOwnProperty(ue)&&tt[ue]&&Q("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+$t(P(tt[ue]))+")");Q("/CreationDate ("+$t(P(te))+")"),Q(">>"),Q("endobj")},Li=d.__private__.putCatalog=function(x){var P=(x=x||{}).rootDictionaryObjId||na;switch(Zt(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+P+" 0 R"),Ce||(Ce="fullwidth"),Ce){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+Ce;ue.substr(ue.length-1)==="%"&&(Ce=parseInt(Ce)/100),typeof Ce=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+I(Ce)+"]")}switch(Te||(Te="continuous"),Te){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}Fe&&Q("/PageMode /"+Fe),ct.publish("putCatalog"),Q(">>"),Q("endobj")},Gt=d.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(de+1)),Q("/Root "+de+" 0 R"),Q("/Info "+(de-1)+" 0 R"),u!==null&&Q("/Encrypt "+pr.oid+" 0 R"),Q("/ID [ <"+ve+"> <"+ve+"> ]"),Q(">>")},_n=d.__private__.putHeader=function(){Q("%PDF-"+w),Q("%")},ui=d.__private__.putXRef=function(){var x="0000000000";Q("xref"),Q("0 "+(de+1)),Q("0000000000 65535 f ");for(var P=1;P<=de;P++)typeof ye[P]=="function"?Q((x+ye[P]()).slice(-10)+" 00000 n "):ye[P]!==void 0?Q((x+ye[P]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},xs=d.__private__.buildDocument=function(){var x;de=0,Z=0,we=[],ye=[],he=[],na=an(),Ds=an(),E(we),ct.publish("buildDocument"),_n(),ci(),function(){ct.publish("putAdditionalObjects");for(var ue=0;ue<he.length;ue++){var be=he[ue];on(be.objId,!0),Q(be.content),Q("endobj")}ct.publish("postPutAdditionalObjects")}(),x=[],function(){for(var ue in qe)qe.hasOwnProperty(ue)&&(h===!1||h===!0&&p.hasOwnProperty(ue))&&sa(qe[ue])}(),function(){var ue;for(ue in Pe)Pe.hasOwnProperty(ue)&&ht(Pe[ue])}(),function(){for(var ue in Jt)Jt.hasOwnProperty(ue)&&L(Jt[ue])}(),function(ue){var be;for(be in it)it.hasOwnProperty(be)&&(it[be]instanceof TA?fe(it[be]):it[be]instanceof Ac&&De(it[be],ue))}(x),ct.publish("putResources"),x.forEach(Et),Et({resourcesOid:Ds,objectOid:Number.MAX_SAFE_INTEGER}),ct.publish("postPutResources"),u!==null&&(pr.oid=Zt(),Q("<<"),Q("/Filter /Standard"),Q("/V "+pr.v),Q("/R "+pr.r),Q("/U <"+pr.toHexString(pr.U)+">"),Q("/O <"+pr.toHexString(pr.O)+">"),Q("/P "+pr.P),Q(">>"),Q("endobj")),Wr(),Li();var P=Z;return ui(),Gt(),Q("startxref"),Q(""+P),Q("%%EOF"),E(le[z]),we.join(`
`)},di=d.__private__.getBlob=function(x){return new Blob([ee(x)],{type:"application/pdf"})},Wn=d.output=d.__private__.output=(ws=function(x,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",x){case void 0:return xs();case"save":d.save(P.filename);break;case"arraybuffer":return ee(xs());case"blob":return di(xs());case"bloburi":case"bloburl":if(jt.URL!==void 0&&typeof jt.URL.createObjectURL=="function")return jt.URL&&jt.URL.createObjectURL(di(xs()))||void 0;hr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",be=xs();try{ue=CB(be)}catch{ue=CB(unescape(encodeURIComponent(be)))}return"data:application/pdf;filename="+P.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",He=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(Ne=P.pdfObjectUrl,He="");var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+He+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",vt=jt.open();return vt!==null&&vt.document.write(We),vt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var Bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',Ut=jt.open();if(Ut!==null){Ut.document.write(Bt);var Lt=this;Ut.document.documentElement.querySelector("#pdfViewer").onload=function(){Ut.document.title=P.filename,Ut.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Lt.output("bloburl"))}}return Ut}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',Lr=jt.open();if(Lr!==null&&(Lr.document.write(Xt),Lr.document.title=P.filename),Lr||typeof safari>"u")return Lr;break;case"datauri":case"dataurl":return jt.document.location.href=this.output("datauristring",P);default:return null}},ws.foo=function(){try{return ws.apply(this,arguments)}catch(ue){var x=ue.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var P="Error in function "+x.split(`
`)[0].split("<")[0]+": "+ue.message;if(!jt.console)throw new Error(P);jt.console.error(P,ue),jt.alert&&alert(P)}},ws.foo.bar=ws,ws.foo),Di=function(x){return Array.isArray(fr)===!0&&fr.indexOf(x)>-1};switch(n){case"pt":M=1;break;case"mm":M=72/25.4;break;case"cm":M=72/2.54;break;case"in":M=72;break;case"px":M=Di("px_scaling")==1?.75:96/72;break;case"pc":case"em":M=12;break;case"ex":M=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);M=n}var pr=null;se(),ie();var Ps=d.__private__.getPageInfo=d.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Me[x].objId,pageNumber:x,pageContext:Me[x]}},Qt=d.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in Me)if(Me[P].objId===x)break;return Ps(P)},Rr=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Me[z].objId,pageNumber:z,pageContext:Me[z]}};d.addPage=function(){return Br.apply(this,arguments),this},d.setPage=function(){return fn.apply(this,arguments),E.call(this,le[z]),this},d.insertPage=function(x){return this.addPage(),this.movePage(z,x),this},d.movePage=function(x,P){var ue,be;if(x>P){ue=le[x],be=Me[x];for(var Ne=x;Ne>P;Ne--)le[Ne]=le[Ne-1],Me[Ne]=Me[Ne-1];le[P]=ue,Me[P]=be,this.setPage(P)}else if(x<P){ue=le[x],be=Me[x];for(var He=x;He<P;He++)le[He]=le[He+1],Me[He]=Me[He+1];le[P]=ue,Me[P]=be,this.setPage(P)}return this},d.deletePage=function(){return At.apply(this,arguments),this},d.__private__.text=d.text=function(x,P,ue,be,Ne){var He,We,vt,Bt,Ut,Lt,Xt,Lr,An,mr=(be=be||{}).scope||this;if(typeof x=="number"&&typeof P=="number"&&(typeof ue=="string"||Array.isArray(ue))){var pn=ue;ue=P,P=x,x=pn}if(arguments[3]instanceof St==0?(vt=arguments[4],Bt=arguments[5],or(Xt=arguments[3])==="object"&&Xt!==null||(typeof vt=="string"&&(Bt=vt,vt=null),typeof Xt=="string"&&(Bt=Xt,Xt=null),typeof Xt=="number"&&(vt=Xt,Xt=null),be={flags:Xt,angle:vt,align:Bt})):(F("The transform parameter of text() with a Matrix value"),An=Ne),isNaN(P)||isNaN(ue)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return mr;var ln,Qn="",mi=typeof be.lineHeightFactor=="number"?be.lineHeightFactor:oa,_s=mr.internal.scaleFactor;function th(tr){return tr=tr.split("	").join(Array(be.TabLen||9).join(" ")),$t(tr,Xt)}function Bl(tr){for(var ur,Jr=tr.concat(),gn=[],La=Jr.length;La--;)typeof(ur=Jr.shift())=="string"?gn.push(ur):Array.isArray(tr)&&(ur.length===1||ur[1]===void 0&&ur[2]===void 0)?gn.push(ur[0]):gn.push([ur[0],ur[1],ur[2]]);return gn}function gA(tr,ur){var Jr;if(typeof tr=="string")Jr=ur(tr)[0];else if(Array.isArray(tr)){for(var gn,La,ru=tr.concat(),Cl=[],sh=ru.length;sh--;)typeof(gn=ru.shift())=="string"?Cl.push(ur(gn)[0]):Array.isArray(gn)&&typeof gn[0]=="string"&&(La=ur(gn[0],gn[1],gn[2]),Cl.push([La[0],La[1],La[2]]));Jr=Cl}return Jr}var co=!1,mA=!0;if(typeof x=="string")co=!0;else if(Array.isArray(x)){var vA=x.concat();We=[];for(var wA,Jn=vA.length;Jn--;)(typeof(wA=vA.shift())!="string"||Array.isArray(wA)&&typeof wA[0]!="string")&&(mA=!1);co=mA}if(co===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var yA=q/mr.internal.scaleFactor,bA=yA*(mi-1);switch(be.baseline){case"bottom":ue-=bA;break;case"top":ue+=yA-bA;break;case"hanging":ue+=yA-2*bA;break;case"middle":ue+=yA/2-bA}if((Lt=be.maxWidth||0)>0&&(typeof x=="string"?x=mr.splitTextToSize(x,Lt):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(tr,ur){return tr.concat(mr.splitTextToSize(ur,Lt))},[]))),He={text:x,x:P,y:ue,options:be,mutex:{pdfEscape:$t,activeFontKey:Je,fonts:qe,activeFontSize:q}},ct.publish("preProcessText",He),x=He.text,vt=(be=He.options).angle,An instanceof St==0&&vt&&typeof vt=="number"){vt*=Math.PI/180,be.rotationDirection===0&&(vt=-vt),_===B&&(vt=-vt);var Gc=Math.cos(vt),Wc=Math.sin(vt);An=new St(Gc,Wc,-Wc,Gc,0,0)}else vt&&vt instanceof St&&(An=vt);_!==B||An||(An=Ls),(Ut=be.charSpace||ja)!==void 0&&(Qn+=O(H(Ut))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Lr=be.horizontalScale)!==void 0&&(Qn+=O(100*Lr)+` Tz
`),be.lang;var zr=-1,Ia=be.renderingMode!==void 0?be.renderingMode:be.stroke,xl=mr.internal.getCurrentPageInfo().pageContext;switch(Ia){case 0:case!1:case"fill":zr=0;break;case 1:case!0:case"stroke":zr=1;break;case 2:case"fillThenStroke":zr=2;break;case 3:case"invisible":zr=3;break;case 4:case"fillAndAddForClipping":zr=4;break;case 5:case"strokeAndAddPathForClipping":zr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":zr=6;break;case 7:case"addToPathForClipping":zr=7}var rh=xl.usedRenderingMode!==void 0?xl.usedRenderingMode:-1;zr!==-1?Qn+=zr+` Tr
`:rh!==-1&&(Qn+=`0 Tr
`),zr!==-1&&(xl.usedRenderingMode=zr),Bt=be.align||"left";var vi,BA=q*mi,qc=mr.internal.pageSize.getWidth(),Jc=qe[Je];Ut=be.charSpace||ja,Lt=be.maxWidth||0,Xt=Object.assign({autoencode:!0,noBOM:!0},be.flags);var uo=[],xA=function(tr){return mr.getStringUnitWidth(tr,{font:Jc,charSpace:Ut,fontSize:q,doKerning:!1})*q/_s};if(Object.prototype.toString.call(x)==="[object Array]"){var Rs;We=Bl(x),Bt!=="left"&&(vi=We.map(xA));var Hs,ho=0;if(Bt==="right"){P-=vi[0],x=[],Jn=We.length;for(var Qa=0;Qa<Jn;Qa++)Qa===0?(Hs=hi(P),Rs=fi(ue)):(Hs=H(ho-vi[Qa]),Rs=-BA),x.push([We[Qa],Hs,Rs]),ho=vi[Qa]}else if(Bt==="center"){P-=vi[0]/2,x=[],Jn=We.length;for(var fo=0;fo<Jn;fo++)fo===0?(Hs=hi(P),Rs=fi(ue)):(Hs=H((ho-vi[fo])/2),Rs=-BA),x.push([We[fo],Hs,Rs]),ho=vi[fo]}else if(Bt==="left"){x=[],Jn=We.length;for(var Xc=0;Xc<Jn;Xc++)x.push(We[Xc])}else if(Bt==="justify"&&Jc.encoding==="Identity-H"){x=[],Jn=We.length,Lt=Lt!==0?Lt:qc;for(var _l=0,qr=0;qr<Jn;qr++)if(Rs=qr===0?fi(ue):-BA,Hs=qr===0?hi(P):_l,qr<Jn-1){var nh=H((Lt-vi[qr])/(We[qr].split(" ").length-1)),ca=We[qr].split(" ");x.push([ca[0]+" ",Hs,Rs]),_l=0;for(var ua=1;ua<ca.length;ua++){var Yc=(xA(ca[ua-1]+" "+ca[ua])-xA(ca[ua]))*_s+nh;ua==ca.length-1?x.push([ca[ua],Yc,0]):x.push([ca[ua]+" ",Yc,0]),_l-=Yc}}else x.push([We[qr],Hs,Rs]);x.push(["",_l,0])}else{if(Bt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Jn=We.length,Lt=Lt!==0?Lt:qc,qr=0;qr<Jn;qr++){Rs=qr===0?fi(ue):-BA,Hs=qr===0?hi(P):0;var Zc=We[qr].split(" ").length-1,eu=Zc>0?(Lt-vi[qr])/Zc:0;qr<Jn-1?uo.push(O(H(eu))):uo.push(0),x.push([We[qr],Hs,Rs])}}}(typeof be.R2L=="boolean"?be.R2L:xe)===!0&&(x=gA(x,function(tr,ur,Jr){return[tr.split("").reverse().join(""),ur,Jr]})),He={text:x,x:P,y:ue,options:be,mutex:{pdfEscape:$t,activeFontKey:Je,fonts:qe,activeFontSize:q}},ct.publish("postProcessText",He),x=He.text,ln=He.mutex.isHex||!1;var tu=qe[Je].encoding;tu!=="WinAnsiEncoding"&&tu!=="StandardEncoding"||(x=gA(x,function(tr,ur,Jr){return[th(tr),ur,Jr]})),We=Bl(x),x=[];for(var po,go,mo,_A=Array.isArray(We[0])?1:0,vo="",CA=function(tr,ur,Jr){var gn="";return Jr instanceof St?(Jr=typeof be.angle=="number"?Un(Jr,new St(1,0,0,1,tr,ur)):Un(new St(1,0,0,1,tr,ur),Jr),_===B&&(Jr=Un(new St(1,0,0,-1,0,0),Jr)),gn=Jr.join(" ")+` Tm
`):gn=O(tr)+" "+O(ur)+` Td
`,gn},wi=0;wi<We.length;wi++){switch(vo="",_A){case 1:mo=(ln?"<":"(")+We[wi][0]+(ln?">":")"),po=parseFloat(We[wi][1]),go=parseFloat(We[wi][2]);break;case 0:mo=(ln?"<":"(")+We[wi]+(ln?">":")"),po=hi(P),go=fi(ue)}uo!==void 0&&uo[wi]!==void 0&&(vo=uo[wi]+` Tw
`),wi===0?x.push(vo+CA(po,go,An)+mo):_A===0?x.push(vo+mo):_A===1&&x.push(vo+CA(po,go,An)+mo)}x=_A===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var da=`BT
/`;return da+=Je+" "+q+` Tf
`,da+=O(q*mi)+` TL
`,da+=Aa+`
`,da+=Qn,da+=x,Q(da+="ET"),p[Je]=!0,mr};var Os=d.__private__.clip=d.clip=function(x){return Q(x==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return Os("evenodd")},d.__private__.discardPath=d.discardPath=function(){return Q("n"),this};var xr=d.__private__.isValidStyle=function(x){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(P=!0),P};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(x){return xr(x)&&(c=x),this};var Hr=d.__private__.getStyle=d.getStyle=function(x){var P=c;switch(x){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=x}return P},qn=d.close=function(){return Q("h"),this};d.stroke=function(){return Q("S"),this},d.fill=function(x){return _r("f",x),this},d.fillEvenOdd=function(x){return _r("f*",x),this},d.fillStroke=function(x){return _r("B",x),this},d.fillStrokeEvenOdd=function(x){return _r("B*",x),this};var _r=function(x,P){or(P)==="object"?dl(P,x):Q(x)},Cn=function(x){x===null||_===B&&x===void 0||(x=Hr(x),Q(x))};function ia(x,P,ue,be,Ne){var He=new Ac(P||this.boundingBox,ue||this.xStep,be||this.yStep,this.gState,Ne||this.matrix);He.stream=this.stream;var We=x+"$$"+this.cloneIndex+++"$$";return In(We,He),He}var dl=function(x,P){var ue=me[x.key],be=it[ue];if(be instanceof TA)Q("q"),Q(hl(P)),be.gState&&d.setGState(be.gState),Q(x.matrix.toString()+" cm"),Q("/"+ue+" sh"),Q("Q");else if(be instanceof Ac){var Ne=new St(1,0,0,-1,0,la());x.matrix&&(Ne=Ne.multiply(x.matrix||Ls),ue=ia.call(be,x.key,x.boundingBox,x.xStep,x.yStep,Ne).id),Q("q"),Q("/Pattern cs"),Q("/"+ue+" scn"),be.gState&&d.setGState(be.gState),Q(P),Q("Q")}},hl=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},oo=d.moveTo=function(x,P){return Q(O(H(x))+" "+O(C(P))+" m"),this},aa=d.lineTo=function(x,P){return Q(O(H(x))+" "+O(C(P))+" l"),this},Ti=d.curveTo=function(x,P,ue,be,Ne,He){return Q([O(H(x)),O(C(P)),O(H(ue)),O(C(be)),O(H(Ne)),O(C(He)),"c"].join(" ")),this};d.__private__.line=d.line=function(x,P,ue,be,Ne){if(isNaN(x)||isNaN(P)||isNaN(ue)||isNaN(be)||!xr(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return _===y?this.lines([[ue-x,be-P]],x,P,[1,1],Ne||"S"):this.lines([[ue-x,be-P]],x,P,[1,1]).stroke()},d.__private__.lines=d.lines=function(x,P,ue,be,Ne,He){var We,vt,Bt,Ut,Lt,Xt,Lr,An,mr,pn,ln,Qn;if(typeof x=="number"&&(Qn=ue,ue=P,P=x,x=Qn),be=be||[1,1],He=He||!1,isNaN(P)||isNaN(ue)||!Array.isArray(x)||!Array.isArray(be)||!xr(Ne)||typeof He!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(oo(P,ue),We=be[0],vt=be[1],Ut=x.length,pn=P,ln=ue,Bt=0;Bt<Ut;Bt++)(Lt=x[Bt]).length===2?(pn=Lt[0]*We+pn,ln=Lt[1]*vt+ln,aa(pn,ln)):(Xt=Lt[0]*We+pn,Lr=Lt[1]*vt+ln,An=Lt[2]*We+pn,mr=Lt[3]*vt+ln,pn=Lt[4]*We+pn,ln=Lt[5]*vt+ln,Ti(Xt,Lr,An,mr,pn,ln));return He&&qn(),Cn(Ne),this},d.path=function(x){for(var P=0;P<x.length;P++){var ue=x[P],be=ue.c;switch(ue.op){case"m":oo(be[0],be[1]);break;case"l":aa(be[0],be[1]);break;case"c":Ti.apply(this,be);break;case"h":qn()}}return this},d.__private__.rect=d.rect=function(x,P,ue,be,Ne){if(isNaN(x)||isNaN(P)||isNaN(ue)||isNaN(be)||!xr(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return _===y&&(be=-be),Q([O(H(x)),O(C(P)),O(H(ue)),O(H(be)),"re"].join(" ")),Cn(Ne),this},d.__private__.triangle=d.triangle=function(x,P,ue,be,Ne,He,We){if(isNaN(x)||isNaN(P)||isNaN(ue)||isNaN(be)||isNaN(Ne)||isNaN(He)||!xr(We))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-x,be-P],[Ne-ue,He-be],[x-Ne,P-He]],x,P,[1,1],We,!0),this},d.__private__.roundedRect=d.roundedRect=function(x,P,ue,be,Ne,He,We){if(isNaN(x)||isNaN(P)||isNaN(ue)||isNaN(be)||isNaN(Ne)||isNaN(He)||!xr(We))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var vt=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*ue),He=Math.min(He,.5*be),this.lines([[ue-2*Ne,0],[Ne*vt,0,Ne,He-He*vt,Ne,He],[0,be-2*He],[0,He*vt,-Ne*vt,He,-Ne,He],[2*Ne-ue,0],[-Ne*vt,0,-Ne,-He*vt,-Ne,-He],[0,2*He-be],[0,-He*vt,Ne*vt,-He,Ne,-He]],x+Ne,P,[1,1],We,!0),this},d.__private__.ellipse=d.ellipse=function(x,P,ue,be,Ne){if(isNaN(x)||isNaN(P)||isNaN(ue)||isNaN(be)||!xr(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var He=4/3*(Math.SQRT2-1)*ue,We=4/3*(Math.SQRT2-1)*be;return oo(x+ue,P),Ti(x+ue,P-We,x+He,P-be,x,P-be),Ti(x-He,P-be,x-ue,P-We,x-ue,P),Ti(x-ue,P+We,x-He,P+be,x,P+be),Ti(x+He,P+be,x+ue,P+We,x+ue,P),Cn(Ne),this},d.__private__.circle=d.circle=function(x,P,ue,be){if(isNaN(x)||isNaN(P)||isNaN(ue)||!xr(be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,P,ue,ue,be)},d.setFont=function(x,P,ue){return ue&&(P=T(P,ue)),Je=Ts(x,P,{disableWarning:!1}),this};var fl=d.__private__.getFont=d.getFont=function(){return qe[Ts.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var x,P,ue={};for(x in rt)if(rt.hasOwnProperty(x))for(P in ue[x]=[],rt[x])rt[x].hasOwnProperty(P)&&ue[x].push(P);return ue},d.addFont=function(x,P,ue,be,Ne){var He=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&He.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&He.indexOf(arguments[3])==-1&&(ue=T(ue,be)),nr.call(this,x,P,ue,Ne=Ne||"Identity-H")};var oa,Ao=t.lineWidth||.200025,Ft=d.__private__.getLineWidth=d.getLineWidth=function(){return Ao},pl=d.__private__.setLineWidth=d.setLineWidth=function(x){return Ao=x,Q(O(H(x))+" w"),this};d.__private__.setLineDash=Ct.API.setLineDash=Ct.API.setLineDashPattern=function(x,P){if(x=x||[],P=P||0,isNaN(P)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(ue){return O(H(ue))}).join(" "),P=O(H(P)),Q("["+x+"] "+P+" d"),this};var gl=d.__private__.getLineHeight=d.getLineHeight=function(){return q*oa};d.__private__.getLineHeight=d.getLineHeight=function(){return q*oa};var ml=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(oa=x),this},vl=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return oa};ml(t.lineHeight);var hi=d.__private__.getHorizontalCoordinate=function(x){return H(x)},fi=d.__private__.getVerticalCoordinate=function(x){return _===B?x:Me[z].mediaBox.topRightY-Me[z].mediaBox.bottomLeftY-H(x)},wl=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(x){return O(hi(x))},yl=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(x){return O(fi(x))},Na=t.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return li(Na)},d.__private__.setStrokeColor=d.setDrawColor=function(x,P,ue,be){return Na=bs({ch1:x,ch2:P,ch3:ue,ch4:be,pdfColorType:"draw",precision:2}),Q(Na),this};var lo=t.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return li(lo)},d.__private__.setFillColor=d.setFillColor=function(x,P,ue,be){return lo=bs({ch1:x,ch2:P,ch3:ue,ch4:be,pdfColorType:"fill",precision:2}),Q(lo),this};var Aa=t.textColor||"0 g",Fa=d.__private__.getTextColor=d.getTextColor=function(){return li(Aa)};d.__private__.setTextColor=d.setTextColor=function(x,P,ue,be){return Aa=bs({ch1:x,ch2:P,ch3:ue,ch4:be,pdfColorType:"text",precision:3}),this};var ja=t.charSpace,bl=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(ja||0)};d.__private__.setCharSpace=d.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ja=x,this};var ot=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(x){var P=d.CapJoinStyles[x];if(P===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ot=P,Q(P+" J"),this};var It=0;d.__private__.setLineJoin=d.setLineJoin=function(x){var P=d.CapJoinStyles[x];if(P===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return It=P,Q(P+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(O(H(x))+" M"),this},d.GState=Dp,d.setGState=function(x){(x=typeof x=="string"?Pe[Xe[x]]:lr(null,x)).equals(et)||(Q("/"+x.id+" gs"),et=x)};var lr=function(x,P){if(!x||!Xe[x]){var ue=!1;for(var be in Pe)if(Pe.hasOwnProperty(be)&&Pe[be].equals(P)){ue=!0;break}if(ue)P=Pe[be];else{var Ne="GS"+(Object.keys(Pe).length+1).toString(10);Pe[Ne]=P,P.id=Ne}return x&&(Xe[x]=P.id),ct.publish("addGState",P),P}};d.addGState=function(x,P){return lr(x,P),this},d.saveGraphicsState=function(){return Q("q"),st.push({key:Je,size:q,color:Aa}),this},d.restoreGraphicsState=function(){Q("Q");var x=st.pop();return Je=x.key,q=x.size,Aa=x.color,et=null,this},d.setCurrentTransformationMatrix=function(x){return Q(x.toString()+" cm"),this},d.comment=function(x){return Q("#"+x),this};var Nr=function(x,P){var ue=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function(He){isNaN(He)||(ue=parseFloat(He))}});var be=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return be},set:function(He){isNaN(He)||(be=parseFloat(He))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(He){Ne=He.toString()}}),this},Mr=function(x,P,ue,be){Nr.call(this,x,P),this.type="rect";var Ne=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(We){isNaN(We)||(Ne=parseFloat(We))}});var He=be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return He},set:function(We){isNaN(We)||(He=parseFloat(We))}}),this},Fr=function(){this.page=at,this.currentPage=z,this.pages=le.slice(0),this.pagesContext=Me.slice(0),this.x=ge,this.y=Le,this.matrix=Ue,this.width=Ua(z),this.height=As(z),this.outputDestination=Se,this.id="",this.objectNumber=-1};Fr.prototype.restore=function(){at=this.page,z=this.currentPage,Me=this.pagesContext,le=this.pages,ge=this.x,Le=this.y,Ue=this.matrix,Pi(z,this.width),gi(z,this.height),Se=this.outputDestination};var gr=function(x,P,ue,be,Ne){Vn.push(new Fr),at=z=0,le=[],ge=x,Le=P,Ue=Ne,er([ue,be])};for(var pi in d.beginFormObject=function(x,P,ue,be,Ne){return gr(x,P,ue,be,Ne),this},d.endFormObject=function(x){return function(P){if(Qr[P])Vn.pop().restore();else{var ue=new Fr,be="Xo"+(Object.keys(Jt).length+1).toString(10);ue.id=be,Qr[P]=be,Jt[be]=ue,ct.publish("addFormObject",ue),Vn.pop().restore()}}(x),this},d.doFormObject=function(x,P){var ue=Jt[Qr[x]];return Q("q"),Q(P.toString()+" cm"),Q("/"+ue.id+" Do"),Q("Q"),this},d.getFormObject=function(x){var P=Jt[Qr[x]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},d.save=function(x,P){return x=x||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(IA(di(xs()),x),typeof IA.unload=="function"&&jt.setTimeout&&setTimeout(IA.unload,911),this):new Promise(function(ue,be){try{var Ne=IA(di(xs()),x);typeof IA.unload=="function"&&jt.setTimeout&&setTimeout(IA.unload,911),ue(Ne)}catch(He){be(He.message)}})},Ct.API)Ct.API.hasOwnProperty(pi)&&(pi==="events"&&Ct.API.events.length?function(x,P){var ue,be,Ne;for(Ne=P.length-1;Ne!==-1;Ne--)ue=P[Ne][0],be=P[Ne][1],x.subscribe.apply(x,[ue].concat(typeof be=="function"?[be]:be))}(ct,Ct.API.events):d[pi]=Ct.API[pi]);function Ua(x){return Me[x].mediaBox.topRightX-Me[x].mediaBox.bottomLeftX}function Pi(x,P){Me[x].mediaBox.topRightX=P+Me[x].mediaBox.bottomLeftX}function As(x){return Me[x].mediaBox.topRightY-Me[x].mediaBox.bottomLeftY}function gi(x,P){Me[x].mediaBox.topRightY=P+Me[x].mediaBox.bottomLeftY}var fA=d.getPageWidth=function(x){return Ua(x=x||z)/M},pA=d.setPageWidth=function(x,P){Pi(x,P*M)},la=d.getPageHeight=function(x){return As(x=x||z)/M},eh=d.setPageHeight=function(x,P){gi(x,P*M)};return d.internal={pdfEscape:$t,getStyle:Hr,getFont:fl,getFontSize:Ee,getCharSpace:bl,getTextColor:Fa,getLineHeight:gl,getLineHeightFactor:vl,getLineWidth:Ft,write:pe,getHorizontalCoordinate:hi,getVerticalCoordinate:fi,getCoordinateString:wl,getVerticalCoordinateString:yl,collections:{},newObject:Zt,newAdditionalObject:ys,newObjectDeferred:an,newObjectDeferredBegin:on,getFilters:Bs,putStream:Gn,events:ct,scaleFactor:M,pageSize:{getWidth:function(){return fA(z)},setWidth:function(x){pA(z,x)},getHeight:function(){return la(z)},setHeight:function(x){eh(z,x)}},encryptionOptions:u,encryption:pr,getEncryptor:function(x){return u!==null?pr.encryptor(x,0):function(P){return P}},output:Wn,getNumberOfPages:Ht,pages:le,out:Q,f2:I,f3:j,getPageInfo:Ps,getPageInfoByObjId:Qt,getCurrentPageInfo:Rr,getPDFVersion:m,Point:Nr,Rectangle:Mr,Matrix:St,hasHotfix:Di},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return fA(z)},set:function(x){pA(z,x)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return la(z)},set:function(x){eh(z,x)},enumerable:!0,configurable:!0}),(function(x){for(var P=0,ue=J.length;P<ue;P++){var be=nr.call(this,x[P][0],x[P][1],x[P][2],J[P][3],!0);h===!1&&(p[be]=!0);var Ne=x[P][0].split("-");kt({id:be,fontName:Ne[0],fontStyle:Ne[1]||""})}ct.publish("addFonts",{fonts:qe,dictionary:rt})}).call(d,J),Je="F1",Br(s,r),ct.publish("initialized"),d}Vl.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Vl.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Vl.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Vl.prototype.processOwnerPassword=function(t,e){return V1($1(e).substr(0,5),t)},Vl.prototype.encryptor=function(t,e){var r=$1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return V1(r,n)}},Dp.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||or(t)!==or(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Ct.API={events:[]},Ct.version="3.0.3";var Vr=Ct.API,Qw=1,ul=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dl=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Dt=function(t){return t.toFixed(2)},ko=function(t){return t.toFixed(5)};Vr.__acroform__={};var Qs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},NB=function(t){return t*Qw},ga=function(t){var e=new RS,r=mt.internal.getHeight(t)||0,n=mt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Dt(n)),Number(Dt(r))],e},dD=Vr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},hD=Vr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},fD=Vr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},rn=Vr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return fD(t,e-1)},nn=Vr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return dD(t,e-1)},sn=Vr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return hD(t,e-1)},pD=Vr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=t[0],i=t[1],a=t[2],A=t[3],l={};return l.lowerLeft_X=r(s)||0,l.lowerLeft_Y=n(i+A)||0,l.upperRight_X=r(s+a)||0,l.upperRight_Y=n(i)||0,[Number(Dt(l.lowerLeft_X)),Number(Dt(l.lowerLeft_Y)),Number(Dt(l.upperRight_X)),Number(Dt(l.upperRight_Y))]},gD=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=G1(t,r),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+Dt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=ga(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},G1=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(I){return I.split(`
`)}):s.map(function(I){return[I]});var i=r,a=mt.internal.getHeight(t)||0;a=a<0?-a:a;var A=mt.internal.getWidth(t)||0;A=A<0?-A:A;var l=function(I,j,H){if(I+1<s.length){var C=j+" "+s[I+1][0];return rf(C,t,H).width<=A-4}return!1};i++;e:for(;i>0;){e="",i--;var c,u,h=rf("3",t,i).height,p=t.multiline?a-i:(a-h)/2,d=p+=2,w=0,m=0,b=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+rf(e,t,i=12).width+", FieldWidth:"+A+`
`;break}for(var g="",y=0,B=0;B<s.length;B++)if(s.hasOwnProperty(B)){var _=!1;if(s[B].length!==1&&b!==s[B].length-1){if((h+2)*(y+2)+2>a)continue e;g+=s[B][b],_=!0,m=B,B--}else{g=(g+=s[B][b]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var N=parseInt(B),D=l(N,g,i),T=B>=s.length-1;if(D&&!T){g+=" ",b=0;continue}if(D||T){if(T)m=N;else if(t.multiline&&(h+2)*(y+2)+2>a)continue e}else{if(!t.multiline||(h+2)*(y+2)+2>a)continue e;m=N}}for(var O="",F=w;F<=m;F++){var K=s[F];if(t.multiline){if(F===m){O+=K[b]+" ",b=(b+1)%K.length;continue}if(F===w){O+=K[K.length-1]+" ";continue}}O+=K[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,u=rf(O,t,i).width,t.textAlign){case"right":c=A-u-2;break;case"center":c=(A-u)/2;break;default:c=2}e+=Dt(c)+" "+Dt(d)+` Td
`,e+="("+ul(O)+`) Tj
`,e+=-Dt(c)+` 0 Td
`,d=-(i+2),u=0,w=_?m:m+1,y++,g=""}break}return n.text=e,n.fontSize=i,n},rf=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},mD={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},vD=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},wD=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ea.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(mD)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Qw=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new HS,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&vD(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var A=n[a],l=[],c=A.Rect;if(A.Rect&&(A.Rect=pD(A.Rect,s)),s.internal.newObjectDeferredBegin(A.objId,!0),A.DA=mt.createDefaultAppearanceStream(A),or(A)==="object"&&typeof A.getKeyValueListForStream=="function"&&(l=A.getKeyValueListForStream()),A.Rect=c,A.hasAppearanceStream&&!A.appearanceStreamContent){var u=gD(A);l.push({key:"AP",value:"<</N "+u+">>"}),s.internal.acroformPlugin.xForms.push(u)}if(A.appearanceStreamContent){var h="";for(var p in A.appearanceStreamContent)if(A.appearanceStreamContent.hasOwnProperty(p)){var d=A.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var a in d)if(d.hasOwnProperty(a)){var w=d[a];typeof w=="function"&&(w=w.call(s,A)),h+="/"+a+" "+w+" ",s.internal.acroformPlugin.xForms.indexOf(w)>=0||s.internal.acroformPlugin.xForms.push(w)}}else typeof(w=d)=="function"&&(w=w.call(s,A)),h+="/"+a+" "+w,s.internal.acroformPlugin.xForms.indexOf(w)>=0||s.internal.acroformPlugin.xForms.push(w);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:A.objId}),s.internal.out("endobj")}i&&function(m,b){for(var g in m)if(m.hasOwnProperty(g)){var y=g,B=m[g];b.internal.newObjectDeferredBegin(B.objId,!0),or(B)==="object"&&typeof B.putStream=="function"&&B.putStream(),delete m[y]}}(s.internal.acroformPlugin.xForms,s)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},OS=Vr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),or(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),s+="("+ul(n(t[i].toString()))+")"):s+=t[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Wm=function(t,e,r){var n=function(s){return s};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+ul(n(t))+")"},ya=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ya.prototype.toString=function(){return this.objId+" 0 R"},ya.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ya.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],s=this[n];s&&(Array.isArray(s)?t.push({key:n,value:OS(s,this.objId,this.scope)}):s instanceof ya?(s.scope=this.scope,t.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:n,value:s}))}return t};var RS=function(){ya.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Qs(RS,ya);var HS=function(){ya.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ul(r(t))+")"}},set:function(r){t=r}})};Qs(HS,ya);var ea=function t(){ya.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!rn(e,3)},set:function(g){g?this.F=nn(e,3):this.F=sn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Tp)return;i="FieldObject"+t.FieldNum++}var g=function(y){return y};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+ul(g(i))+")"},set:function(g){i=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(g){i=g}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(g){a=g}});var A="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return A},set:function(g){A=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Qw:c},set:function(g){c=g}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(g){u=g}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Tp||this instanceof qA))return Wm(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=g}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Nn==0?Wm(p,this.objId,this.scope):p},set:function(g){g=g.toString(),p=this instanceof Nn==0?g.substr(0,1)==="("?Dl(g.substr(1,g.length-2)):Dl(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Nn==1?Dl(p.substr(1,p.length-1)):p},set:function(g){g=g.toString(),p=this instanceof Nn==1?"/"+g:g}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Nn==0?Wm(d,this.objId,this.scope):d},set:function(g){g=g.toString(),d=this instanceof Nn==0?g.substr(0,1)==="("?Dl(g.substr(1,g.length-2)):Dl(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Nn==1?Dl(d.substr(1,d.length-1)):d},set:function(g){g=g.toString(),d=this instanceof Nn==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(g){g=!!g,m=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(g){w=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,1)},set:function(g){g?this.Ff=nn(this.Ff,1):this.Ff=sn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,2)},set:function(g){g?this.Ff=nn(this.Ff,2):this.Ff=sn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,3)},set:function(g){g?this.Ff=nn(this.Ff,3):this.Ff=sn(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');b=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(b){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};Qs(ea,ya);var vc=function(){ea.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return OS(e,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,a,A){A||(A=1);for(var l,c=[];l=a.exec(i);)c.push(l[A]);return c}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,18)},set:function(r){r?this.Ff=nn(this.Ff,18):this.Ff=sn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=nn(this.Ff,19):this.Ff=sn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,20)},set:function(r){r?(this.Ff=nn(this.Ff,20),e.sort()):this.Ff=sn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,22)},set:function(r){r?this.Ff=nn(this.Ff,22):this.Ff=sn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,23)},set:function(r){r?this.Ff=nn(this.Ff,23):this.Ff=sn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,27)},set:function(r){r?this.Ff=nn(this.Ff,27):this.Ff=sn(this.Ff,27)}}),this.hasAppearanceStream=!1};Qs(vc,ea);var wc=function(){vc.call(this),this.fontName="helvetica",this.combo=!1};Qs(wc,vc);var yc=function(){wc.call(this),this.combo=!0};Qs(yc,wc);var Vf=function(){yc.call(this),this.edit=!0};Qs(Vf,yc);var Nn=function(){ea.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,15)},set:function(r){r?this.Ff=nn(this.Ff,15):this.Ff=sn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,16)},set:function(r){r?this.Ff=nn(this.Ff,16):this.Ff=sn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,17)},set:function(r){r?this.Ff=nn(this.Ff,17):this.Ff=sn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,26)},set:function(r){r?this.Ff=nn(this.Ff,26):this.Ff=sn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+ul(r(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){or(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Qs(Nn,ea);var Gf=function(){Nn.call(this),this.pushButton=!0};Qs(Gf,Nn);var bc=function(){Nn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Qs(bc,Nn);var Tp=function(){var t,e;ea.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(A){return A};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+ul(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){or(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qs(Tp,ea),bc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},bc.prototype.createOption=function(t){var e=new Tp;return e.Parent=this,e.optionName=t,this.Kids.push(e),yD.call(this.scope,e),e};var Wf=function(){Nn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};Qs(Wf,Nn);var qA=function(){ea.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,13)},set:function(e){e?this.Ff=nn(this.Ff,13):this.Ff=sn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,21)},set:function(e){e?this.Ff=nn(this.Ff,21):this.Ff=sn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,23)},set:function(e){e?this.Ff=nn(this.Ff,23):this.Ff=sn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,24)},set:function(e){e?this.Ff=nn(this.Ff,24):this.Ff=sn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,25)},set:function(e){e?this.Ff=nn(this.Ff,25):this.Ff=sn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,26)},set:function(e){e?this.Ff=nn(this.Ff,26):this.Ff=sn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qs(qA,ea);var qf=function(){qA.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,14)},set:function(t){t?this.Ff=nn(this.Ff,14):this.Ff=sn(this.Ff,14)}}),this.password=!0};Qs(qf,qA);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ga(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=G1(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Dt(mt.internal.getWidth(t))+" "+Dt(mt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Dt(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=ga(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),s=[],i=mt.internal.getHeight(t),a=mt.internal.getWidth(t),A=G1(t,t.caption);return s.push("1 g"),s.push("0 0 "+Dt(a)+" "+Dt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Dt(a-1)+" "+Dt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Dt(A.fontSize)+" Tf "+n),s.push(A.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=ga(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Dt(mt.internal.getWidth(t))+" "+Dt(mt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=mt.RadioButton.Circle.YesNormal,e.D[t]=mt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ga(t);e.scope=t.scope;var r=[],n=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=mt.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ko(mt.internal.getWidth(t)/2)+" "+ko(mt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ga(t);e.scope=t.scope;var r=[],n=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*mt.internal.Bezier_C).toFixed(5)),a=Number((n*mt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ko(mt.internal.getWidth(t)/2)+" "+ko(mt.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ko(mt.internal.getWidth(t)/2)+" "+ko(mt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ga(t);e.scope=t.scope;var r=[],n=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*mt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ko(mt.internal.getWidth(t)/2)+" "+ko(mt.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=mt.RadioButton.Cross.YesNormal,e.D[t]=mt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ga(t);e.scope=t.scope;var r=[],n=mt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Dt(mt.internal.getWidth(t)-2)+" "+Dt(mt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Dt(n.x1.x)+" "+Dt(n.x1.y)+" m"),r.push(Dt(n.x2.x)+" "+Dt(n.x2.y)+" l"),r.push(Dt(n.x4.x)+" "+Dt(n.x4.y)+" m"),r.push(Dt(n.x3.x)+" "+Dt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ga(t);e.scope=t.scope;var r=mt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Dt(mt.internal.getWidth(t))+" "+Dt(mt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Dt(mt.internal.getWidth(t)-2)+" "+Dt(mt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Dt(r.x1.x)+" "+Dt(r.x1.y)+" m"),n.push(Dt(r.x2.x)+" "+Dt(r.x2.y)+" l"),n.push(Dt(r.x4.x)+" "+Dt(r.x4.y)+" m"),n.push(Dt(r.x3.x)+" "+Dt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ga(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Dt(mt.internal.getWidth(t))+" "+Dt(mt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};mt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=mt.internal.getWidth(t),r=mt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},mt.internal.getWidth=function(t){var e=0;return or(t)==="object"&&(e=NB(t.Rect[2])),e},mt.internal.getHeight=function(t){var e=0;return or(t)==="object"&&(e=NB(t.Rect[3])),e};var yD=Vr.addField=function(t){if(wD(this,t),!(t instanceof ea))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Vr.AcroFormChoiceField=vc,Vr.AcroFormListBox=wc,Vr.AcroFormComboBox=yc,Vr.AcroFormEditBox=Vf,Vr.AcroFormButton=Nn,Vr.AcroFormPushButton=Gf,Vr.AcroFormRadioButton=bc,Vr.AcroFormCheckBox=Wf,Vr.AcroFormTextField=qA,Vr.AcroFormPasswordField=qf,Vr.AcroFormAppearance=mt,Vr.AcroForm={ChoiceField:vc,ListBox:wc,ComboBox:yc,EditBox:Vf,Button:Nn,PushButton:Gf,RadioButton:bc,CheckBox:Wf,TextField:qA,PasswordField:qf,Appearance:mt},Ct.AcroForm={ChoiceField:vc,ListBox:wc,ComboBox:yc,EditBox:Vf,Button:Nn,PushButton:Gf,RadioButton:bc,CheckBox:Wf,TextField:qA,PasswordField:qf,Appearance:mt};function MS(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(I,j){var H,C,te,ve,ce,ie=r;if((j=j||r)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(D(I))for(ce in n)for(te=n[ce],H=0;H<te.length;H+=1){for(ve=!0,C=0;C<te[H].length;C+=1)if(te[H][C]!==void 0&&te[H][C]!==I[C]){ve=!1;break}if(ve===!0){ie=ce;break}}else for(ce in n)for(te=n[ce],H=0;H<te.length;H+=1){for(ve=!0,C=0;C<te[H].length;C+=1)if(te[H][C]!==void 0&&te[H][C]!==I.charCodeAt(C)){ve=!1;break}if(ve===!0){ie=ce;break}}return ie===r&&j!==r&&(ie=j),ie},i=function I(j){for(var H=this.internal.write,C=this.internal.putStream,te=(0,this.internal.getFilters)();te.indexOf("FlateEncode")!==-1;)te.splice(te.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var ve=[];if(ve.push({key:"Type",value:"/XObject"}),ve.push({key:"Subtype",value:"/Image"}),ve.push({key:"Width",value:j.width}),ve.push({key:"Height",value:j.height}),j.colorSpace===g.INDEXED?ve.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(ve.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===g.DEVICE_CMYK&&ve.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ve.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&ve.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)&&j.transparency.length>0){for(var ce="",ie=0,re=j.transparency.length;ie<re;ie++)ce+=j.transparency[ie]+" "+j.transparency[ie]+" ";ve.push({key:"Mask",value:"["+ce+"]"})}j.sMask!==void 0&&ve.push({key:"SMask",value:j.objectId+1+" 0 R"});var Be=j.filter!==void 0?["/"+j.filter]:void 0;if(C({data:j.data,additionalKeyValues:ve,alreadyAppliedFilters:Be,objectId:j.objectId}),H("endobj"),"sMask"in j&&j.sMask!==void 0){var se,k=(se=j.sMaskBitsPerComponent)!==null&&se!==void 0?se:j.bitsPerComponent,z={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:j.sMask};"filter"in j&&(z.decodeParameters="/Predictor ".concat(j.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(j.width),z.filter=j.filter),I.call(this,z)}if(j.colorSpace===g.INDEXED){var V=this.internal.newObject();C({data:O(new Uint8Array(j.palette)),objectId:V}),H("endobj")}},a=function(){var I=this.internal.collections[e+"images"];for(var j in I)i.call(this,I[j])},A=function(){var I,j=this.internal.collections[e+"images"],H=this.internal.write;for(var C in j)H("/I"+(I=j[C]).index,I.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",A))},c=function(){var I=this.internal.collections[e+"images"];return l.call(this),I},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(I){return typeof t["process"+I.toUpperCase()]=="function"},p=function(I){return or(I)==="object"&&I.nodeType===1},d=function(I,j){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var H=""+I.getAttribute("src");if(H.indexOf("data:image/")===0)return $f(unescape(H).split("base64,").pop());var C=t.loadFile(H,!0);if(C!==void 0)return C}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var te;switch(j){case"PNG":te="image/png";break;case"WEBP":te="image/webp";break;default:te="image/jpeg"}return $f(I.toDataURL(te,1).split("base64,").pop())}},w=function(I){var j=this.internal.collections[e+"images"];if(j){for(var H in j)if(I===j[H].alias)return j[H]}},m=function(I,j,H){return I||j||(I=-96,j=-96),I<0&&(I=-1*H.width*72/I/this.internal.scaleFactor),j<0&&(j=-1*H.height*72/j/this.internal.scaleFactor),I===0&&(I=j*H.width/H.height),j===0&&(j=I*H.height/H.width),[I,j]},b=function(I,j,H,C,te,ve){var ce=m.call(this,H,C,te),ie=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,Be=c.call(this);if(H=ce[0],C=ce[1],Be[te.index]=te,ve){ve*=Math.PI/180;var se=Math.cos(ve),k=Math.sin(ve),z=function(G){return G.toFixed(4)},V=[z(se),z(k),z(-1*k),z(se),0,0,"cm"]}this.internal.write("q"),ve?(this.internal.write([1,"0","0",1,ie(I),re(j+C),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([ie(H),"0","0",ie(C),"0","0","cm"].join(" "))):this.internal.write([ie(H),"0","0",ie(C),ie(I),re(j+C),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+te.index+" Do"),this.internal.write("Q")},g=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=t.__addimage__.sHashCode=function(I){var j,H,C=0;if(typeof I=="string")for(H=I.length,j=0;j<H;j++)C=(C<<5)-C+I.charCodeAt(j),C|=0;else if(D(I))for(H=I.byteLength/2,j=0;j<H;j++)C=(C<<5)-C+I[j],C|=0;return C},_=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var j=!0;return I.length===0&&(j=!1),I.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(j=!1),j},N=t.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var j=I.indexOf(",");return j<0?null:I.substring(0,j).trim().endsWith("base64")?I.substring(j+1):null};t.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var D=t.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},T=t.__addimage__.binaryStringToUint8Array=function(I){for(var j=I.length,H=new Uint8Array(j),C=0;C<j;C++)H[C]=I.charCodeAt(C);return H},O=t.__addimage__.arrayBufferToBinaryString=function(I){for(var j="",H=D(I)?I:new Uint8Array(I),C=0;C<H.length;C+=8192)j+=String.fromCharCode.apply(null,H.subarray(C,C+8192));return j};t.addImage=function(){var I,j,H,C,te,ve,ce,ie,re;if(typeof arguments[1]=="number"?(j=r,H=arguments[1],C=arguments[2],te=arguments[3],ve=arguments[4],ce=arguments[5],ie=arguments[6],re=arguments[7]):(j=arguments[1],H=arguments[2],C=arguments[3],te=arguments[4],ve=arguments[5],ce=arguments[6],ie=arguments[7],re=arguments[8]),or(I=arguments[0])==="object"&&!p(I)&&"imageData"in I){var Be=I;I=Be.imageData,j=Be.format||j||r,H=Be.x||H||0,C=Be.y||C||0,te=Be.w||Be.width||te,ve=Be.h||Be.height||ve,ce=Be.alias||ce,ie=Be.compression||ie,re=Be.rotation||Be.angle||re}var se=this.internal.getFilters();if(ie===void 0&&se.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(H)||isNaN(C))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var k=F.call(this,I,j,ce,ie);return b.call(this,H,C,te,ve,k,re),this};var F=function(I,j,H,C){var te,ve,ce;if(typeof I=="string"&&s(I)===r){I=unescape(I);var ie=K(I,!1);(ie!==""||(ie=t.loadFile(I,!0))!==void 0)&&(I=ie)}if(p(I)&&(I=d(I,j)),j=s(I,j),!h(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((ce=H)==null||ce.length===0)&&(H=function(re){return typeof re=="string"||D(re)?B(re):D(re.data)?B(re.data):null}(I)),(te=w.call(this,H))||(I instanceof Uint8Array||j==="RGBA"||(ve=I,I=T(I)),te=this["process"+j.toUpperCase()](I,u.call(this),H,function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in t.image_compression?re:y.NONE}(C),ve)),!te)throw new Error("An unknown error occurred whilst processing the image.");return te},K=t.__addimage__.convertBase64ToBinaryString=function(I,j){j=typeof j!="boolean"||j;var H,C="";if(typeof I=="string"){var te;H=(te=N(I))!==null&&te!==void 0?te:I;try{C=$f(H)}catch(ve){if(j)throw _(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ve.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return C};t.getImageProperties=function(I){var j,H,C="";if(p(I)&&(I=d(I)),typeof I=="string"&&s(I)===r&&((C=K(I,!1))===""&&(C=t.loadFile(I)||""),I=C),H=s(I),!h(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(I instanceof Uint8Array||(I=T(I)),!(j=this["process"+H.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=H,j}})(Ct.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Ct.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,s,i,a=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((n=c[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var d=this.internal.pdfEscape,w=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+A(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+A(n.bounds.y)+"] ")+"/Contents ("+d(g(n.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+d(g(y))+") >>",m.content=i;var B=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+A(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+A(n.bounds.y)+"] ")+" /Parent "+B,n.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(m.objId,"0 R",b.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+A(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+A(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+d(w(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+d(w(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var D=A(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+D+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,s,i,a){var A=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;A.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+s),h:c(n+i)},options:a,type:"link"})},t.textWithLink=function(r,n,s,i){var a,A,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){A=i.maxWidth;var u=this.splitTextToSize(r,A).length;a=Math.ceil(c*u)}else A=l,a=c;return this.text(r,n,s,i),s+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,s-c,A,a,i),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ct.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},A=t.__arabicParser__.isArabicEndLetter=function(m){return a(m)&&i(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return a(m)&&s.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return a(m)&&i(m)&&e[m.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return a(m)&&i(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return a(m)&&i(m)&&e[m.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return a(m)&&i(m)&&e[m.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(m){var b=0,g=r,y="",B=0;for(b=0;b<m.length;b+=1)g[m.charCodeAt(b)]!==void 0?(B++,typeof(g=g[m.charCodeAt(b)])=="number"&&(y+=String.fromCharCode(g),g=r,B=0),b===m.length-1&&(g=r,y+=m.charAt(b-(B-1)),b-=B-1,B=0)):(g=r,y+=m.charAt(b-B),b-=B,B=0);return y};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(m,b,g){return a(m)?i(m)===!1?-1:!c(m)||!a(b)&&!a(g)||!a(g)&&A(b)||A(m)&&!a(b)||A(m)&&l(b)||A(m)&&A(b)?0:u(m)&&a(b)&&!A(b)&&a(g)&&c(g)?3:A(m)||!a(g)?1:2:-1},d=function(m){var b=0,g=0,y=0,B="",_="",N="",D=(m=m||"").split("\\s+"),T=[];for(b=0;b<D.length;b+=1){for(T.push(""),g=0;g<D[b].length;g+=1)B=D[b][g],_=D[b][g-1],N=D[b][g+1],a(B)?(y=p(B,_,N),T[b]+=y!==-1?String.fromCharCode(e[B.charCodeAt(0)][y]):B):T[b]+=B;T[b]=h(T[b])}return T.join(" ")},w=t.__arabicParser__.processArabic=t.processArabic=function(){var m,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(b)){var y=0;for(g=[],y=0;y<b.length;y+=1)Array.isArray(b[y])?g.push([d(b[y][0]),b[y][1],b[y][2]]):g.push([d(b[y])]);m=g}else m=d(b);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",w])}(Ct.API),Ct.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(A){r=A}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(A){n=isNaN(A)||Number.isInteger(A)===!1||A<0?150:A,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(A){s=isNaN(A)||Number.isInteger(A)===!1||A<0?300:A,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(A){i=A}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(A){a=A}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ct.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(m){w=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,d=0,w=0,m=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=c.maxWidth;g>0?typeof l=="string"?l=this.splitTextToSize(l,g):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(B,_){return B.concat(b.splitTextToSize(_,g))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)d<(m=this.getStringUnitWidth(l[y],{font:h})*u)&&(d=m);return d!==0&&(w=l.length),{w:d/=p,h:Math.max((w*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,d&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,h,p){if(n.call(this),!u)throw new Error("No data for PDF table.");var d,w,m,b,g=[],y=[],B=[],_={},N={},D=[],T=[],O=(p=p||{}).autoSize||!1,F=p.printHeaders!==!1,K=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,I=p.margins||Object.assign({width:this.getPageWidth()},e),j=typeof p.padding=="number"?p.padding:3,H=p.headerBackgroundColor||"#c8c8c8",C=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=C,this.setFontSize(K),h==null)y=g=Object.keys(u[0]),B=g.map(function(){return"left"});else if(Array.isArray(h)&&or(h[0])==="object")for(g=h.map(function(Be){return Be.name}),y=h.map(function(Be){return Be.prompt||Be.name||""}),B=h.map(function(Be){return Be.align||"left"}),d=0;d<h.length;d+=1)N[h[d].name]=.7499990551181103*h[d].width;else Array.isArray(h)&&typeof h[0]=="string"&&(y=g=h,B=g.map(function(){return"left"}));if(O||Array.isArray(h)&&typeof h[0]=="string")for(d=0;d<g.length;d+=1){for(_[b=g[d]]=u.map(function(Be){return Be[b]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(y[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=_[b],this.setFont(void 0,"normal"),m=0;m<w.length;m+=1)D.push(this.getTextDimensions(w[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[b]=Math.max.apply(null,D)+j+j,D=[]}if(F){var te={};for(d=0;d<g.length;d+=1)te[g[d]]={},te[g[d]].text=y[d],te[g[d]].align=B[d];var ve=A.call(this,te,N);T=g.map(function(Be){return new i(l,c,N[Be],ve,te[Be].text,void 0,te[Be].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var ce=h.reduce(function(Be,se){return Be[se.name]=se.align,Be},{});for(d=0;d<u.length;d+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:d,data:u[d]},this);var ie=A.call(this,u[d],N);for(m=0;m<g.length;m+=1){var re=u[d][g[m]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:d,col:m,data:re},this),a.call(this,new i(l,c,N[g[m]],ie,re,d+2,ce[g[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var A=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(d){var w=l[d];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,c[d]-u-u)},this).map(function(d){return this.getLineHeightFactor()*d.length*h/p+u+u},this).reduce(function(d,w){return Math.max(d,w)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){u=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(w)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(Ct.API);var zS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},KS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],W1=MS(KS),$S=[100,200,300,400,500,600,700,800,900],bD=MS($S);function qm(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return zS[i=i||"normal"]?i:"normal"}(t.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(t.weight),s=function(i){return typeof W1[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,r,n].join(" ")}}}function FB(t,e,r,n){var s;for(s=r;s>=0&&s<e.length;s+=n)if(t[e[s]])return t[e[s]];for(s=r;s>=0&&s<e.length;s-=n)if(t[e[s]])return t[e[s]]}var BD={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},jB={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function UB(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function IB(t){return t.trimLeft()}function xD(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function _D(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var nf,QB,LB,Tl,sf,DB,TB,PB,Jm=["times"];function OB(t,e,r,n,s){var i=4,a=HB;switch(s){case Ct.API.image_compression.FAST:i=1,a=RB;break;case Ct.API.image_compression.MEDIUM:i=6,a=MB;break;case Ct.API.image_compression.SLOW:i=9,a=zB}t=function(l,c,u,h){for(var p,d=l.length/c,w=new Uint8Array(l.length+d),m=[CD,RB,HB,MB,zB],b=0;b<d;b+=1){var g=b*c,y=l.subarray(g,g+c);if(h)w.set(h(y,u,p),g+b);else{for(var B=m.length,_=[],N=0;N<B;N+=1)_[N]=m[N](y,u,p);var D=ED(_.concat());w.set(_[D],g+b)}p=y}return w}(t,e,Math.ceil(r*n/8),a);var A=L1(t,{level:i});return Ct.API.__addimage__.arrayBufferToBinaryString(A)}function CD(t){var e=Array.apply([],t);return e.unshift(0),e}function RB(t,e){var r=t.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var i=t[s-e]||0;n[s+1]=t[s]-i+256&255}return n}function HB(t,e,r){var n=t.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var a=r&&r[i]||0;s[i+1]=t[i]-a+256&255}return s}function MB(t,e,r){var n=t.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var a=t[i-e]||0,A=r&&r[i]||0;s[i+1]=t[i]+256-(a+A>>>1)&255}return s}function zB(t,e,r){var n=t.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var a=SD(t[i-e]||0,r&&r[i]||0,r&&r[i-e]||0);s[i+1]=t[i]-a+256&255}return s}function SD(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),s=Math.abs(t-r),i=Math.abs(t+e-r-r);return n<=s&&n<=i?t:s<=i?e:r}function ED(t){var e=t.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function Xm(t,e,r){var n=e*r,s=Math.floor(n/8),i=16-(n-8*s+r),a=(1<<r)-1;return VS(t,s)>>i&a}function KB(t,e,r,n){var s=r*n,i=Math.floor(s/8),a=16-(s-8*i+n),A=(1<<n)-1,l=(e&A)<<a;(function(c,u,h){if(u+1<c.byteLength)c.setUint16(u,h,!1);else{var p=h>>8&255;c.setUint8(u,p)}})(t,i,VS(t,i)&~(A<<a)&65535|l)}function VS(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function kD(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,a=1<<1+(7&s);t[e++],t[e++];var A=null,l=null;i&&(A=e,l=a,e+=3*a);var c=!0,u=[],h=0,p=null,d=0,w=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,w=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],1&m||(p=null),d=m>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,B=t[e++]|t[e++]<<8,_=t[e++],N=_>>6&1,D=1<<1+(7&_),T=A,O=l,F=!1;_>>7&&(F=!0,T=e,O=D,e+=3*D);var K=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}u.push({x:b,y:g,width:y,height:B,has_local_palette:F,palette_offset:T,palette_size:O,data_offset:K,data_length:e-K,transparent_index:p,interlaced:!!N,delay:h,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return w},this.frameInfo=function(j){if(j<0||j>=u.length)throw new Error("Frame index out of range.");return u[j]},this.decodeAndBlitFrameBGRA=function(j,H){var C=this.frameInfo(j),te=C.width*C.height,ve=new Uint8Array(te);$B(t,C.data_offset,ve,te);var ce=C.palette_offset,ie=C.transparent_index;ie===null&&(ie=256);var re=C.width,Be=r-re,se=re,k=4*(C.y*r+C.x),z=4*((C.y+C.height)*r+C.x),V=k,G=4*Be;C.interlaced===!0&&(G+=4*r*7);for(var de=8,ye=0,we=ve.length;ye<we;++ye){var Z=ve[ye];if(se===0&&(se=re,(V+=G)>=z&&(G=4*Be+4*r*(de-1),V=k+(re+Be)*(de<<1),de>>=1)),Z===ie)V+=4;else{var he=t[ce+3*Z],le=t[ce+3*Z+1],ae=t[ce+3*Z+2];H[V++]=ae,H[V++]=le,H[V++]=he,H[V++]=255}--se}},this.decodeAndBlitFrameRGBA=function(j,H){var C=this.frameInfo(j),te=C.width*C.height,ve=new Uint8Array(te);$B(t,C.data_offset,ve,te);var ce=C.palette_offset,ie=C.transparent_index;ie===null&&(ie=256);var re=C.width,Be=r-re,se=re,k=4*(C.y*r+C.x),z=4*((C.y+C.height)*r+C.x),V=k,G=4*Be;C.interlaced===!0&&(G+=4*r*7);for(var de=8,ye=0,we=ve.length;ye<we;++ye){var Z=ve[ye];if(se===0&&(se=re,(V+=G)>=z&&(G=4*Be+4*r*(de-1),V=k+(re+Be)*(de<<1),de>>=1)),Z===ie)V+=4;else{var he=t[ce+3*Z],le=t[ce+3*Z+1],ae=t[ce+3*Z+2];H[V++]=he,H[V++]=le,H[V++]=ae,H[V++]=255}--se}}}function $B(t,e,r,n){for(var s=t[e++],i=1<<s,a=i+1,A=a+1,l=s+1,c=(1<<l)-1,u=0,h=0,p=0,d=t[e++],w=new Int32Array(4096),m=null;;){for(;u<16&&d!==0;)h|=t[e++]<<u,u+=8,d===1?d=t[e++]:--d;if(u<l)break;var b=h&c;if(h>>=l,u-=l,b!==i){if(b===a)break;for(var g=b<A?b:m,y=0,B=g;B>i;)B=w[B]>>8,++y;var _=B;if(p+y+(g!==b?1:0)>n)return void hr.log("Warning, gif stream longer than expected.");r[p++]=_;var N=p+=y;for(g!==b&&(r[p++]=_),B=g;y--;)B=w[B],r[--N]=255&B,B>>=8;m!==null&&A<4096&&(w[A++]=m<<8|_,A>=c+1&&l<12&&(++l,c=c<<1|1)),m=b}else A=a+1,c=(1<<(l=s+1))-1,m=null}return p!==n&&hr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ym(t){var e,r,n,s,i,a=Math.floor,A=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),p=new Array(65535),d=new Array(64),w=new Array(64),m=[],b=0,g=7,y=new Array(64),B=new Array(64),_=new Array(64),N=new Array(256),D=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ve(k,z){for(var V=0,G=0,de=new Array,ye=1;ye<=16;ye++){for(var we=1;we<=k[ye];we++)de[z[G]]=[],de[z[G]][0]=V,de[z[G]][1]=ye,G++,V++;V*=2}return de}function ce(k){for(var z=k[0],V=k[1]-1;V>=0;)z&1<<V&&(b|=1<<g),V--,--g<0&&(b==255?(ie(255),ie(0)):ie(b),g=7,b=0)}function ie(k){m.push(k)}function re(k){ie(k>>8&255),ie(255&k)}function Be(k,z,V,G,de){for(var ye,we=de[0],Z=de[240],he=function(q,Ce){var Ee,xe,Fe,Ke,Te,$e,dt,tt,Je,M,ge=0;for(Je=0;Je<8;++Je){Ee=q[ge],xe=q[ge+1],Fe=q[ge+2],Ke=q[ge+3],Te=q[ge+4],$e=q[ge+5],dt=q[ge+6];var Le=Ee+(tt=q[ge+7]),Ue=Ee-tt,qe=xe+dt,rt=xe-dt,st=Fe+$e,it=Fe-$e,me=Ke+Te,Pe=Ke-Te,Xe=Le+me,et=Le-me,at=qe+st,Me=qe-st;q[ge]=Xe+at,q[ge+4]=Xe-at;var ct=.707106781*(Me+et);q[ge+2]=et+ct,q[ge+6]=et-ct;var fr=.382683433*((Xe=Pe+it)-(Me=rt+Ue)),Jt=.5411961*Xe+fr,Qr=1.306562965*Me+fr,Vn=.707106781*(at=it+rt),St=Ue+Vn,Un=Ue-Vn;q[ge+5]=Un+Jt,q[ge+3]=Un-Jt,q[ge+1]=St+Qr,q[ge+7]=St-Qr,ge+=8}for(ge=0,Je=0;Je<8;++Je){Ee=q[ge],xe=q[ge+8],Fe=q[ge+16],Ke=q[ge+24],Te=q[ge+32],$e=q[ge+40],dt=q[ge+48];var Ls=Ee+(tt=q[ge+56]),In=Ee-tt,ws=xe+dt,Zt=xe-dt,an=Fe+$e,on=Fe-$e,ys=Ke+Te,na=Ke-Te,Ds=Ls+ys,li=Ls-ys,bs=ws+an,Bs=ws-an;q[ge]=Ds+bs,q[ge+32]=Ds-bs;var Gn=.707106781*(Bs+li);q[ge+16]=li+Gn,q[ge+48]=li-Gn;var ka=.382683433*((Ds=na+on)-(Bs=Zt+In)),ci=.5411961*Ds+ka,sa=1.306562965*Bs+ka,L=.707106781*(bs=on+Zt),fe=In+L,De=In-L;q[ge+40]=De+ci,q[ge+24]=De-ci,q[ge+8]=fe+sa,q[ge+56]=fe-sa,ge++}for(Je=0;Je<64;++Je)M=q[Je]*Ce[Je],d[Je]=M>0?M+.5|0:M-.5|0;return d}(k,z),le=0;le<64;++le)w[T[le]]=he[le];var ae=w[0]-V;V=w[0],ae==0?ce(G[0]):(ce(G[p[ye=32767+ae]]),ce(h[ye]));for(var Se=63;Se>0&&w[Se]==0;)Se--;if(Se==0)return ce(we),V;for(var E,Q=1;Q<=Se;){for(var pe=Q;w[Q]==0&&Q<=Se;)++Q;var ee=Q-pe;if(ee>=16){E=ee>>4;for(var J=1;J<=E;++J)ce(Z);ee&=15}ye=32767+w[Q],ce(de[(ee<<4)+p[ye]]),ce(h[ye]),Q++}return Se!=63&&ce(we),V}function se(k){k=Math.min(Math.max(k,1),100),i!=k&&(function(z){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var de=a((V[G]*z+50)/100);de=Math.min(Math.max(de,1),255),A[T[G]]=de}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var Z=a((ye[we]*z+50)/100);Z=Math.min(Math.max(Z,1),255),l[T[we]]=Z}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],le=0,ae=0;ae<8;ae++)for(var Se=0;Se<8;Se++)c[le]=1/(A[T[le]]*he[ae]*he[Se]*8),u[le]=1/(l[T[le]]*he[ae]*he[Se]*8),le++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),i=k)}this.encode=function(k,z){z&&se(z),m=new Array,b=0,g=7,re(65496),re(65504),re(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),re(1),re(1),ie(0),ie(0),function(){re(65499),re(132),ie(0);for(var xe=0;xe<64;xe++)ie(A[xe]);ie(1);for(var Fe=0;Fe<64;Fe++)ie(l[Fe])}(),function(xe,Fe){re(65472),re(17),ie(8),re(Fe),re(xe),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)}(k.width,k.height),function(){re(65476),re(418),ie(0);for(var xe=0;xe<16;xe++)ie(O[xe+1]);for(var Fe=0;Fe<=11;Fe++)ie(F[Fe]);ie(16);for(var Ke=0;Ke<16;Ke++)ie(K[Ke+1]);for(var Te=0;Te<=161;Te++)ie(I[Te]);ie(1);for(var $e=0;$e<16;$e++)ie(j[$e+1]);for(var dt=0;dt<=11;dt++)ie(H[dt]);ie(17);for(var tt=0;tt<16;tt++)ie(C[tt+1]);for(var Je=0;Je<=161;Je++)ie(te[Je])}(),re(65498),re(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var V=0,G=0,de=0;b=0,g=7,this.encode.displayName="_encode_";for(var ye,we,Z,he,le,ae,Se,E,Q,pe=k.data,ee=k.width,J=k.height,q=4*ee,Ce=0;Ce<J;){for(ye=0;ye<q;){for(le=q*Ce+ye,Se=-1,E=0,Q=0;Q<64;Q++)ae=le+(E=Q>>3)*q+(Se=4*(7&Q)),Ce+E>=J&&(ae-=q*(Ce+1+E-J)),ye+Se>=q&&(ae-=ye+Se-q+4),we=pe[ae++],Z=pe[ae++],he=pe[ae++],y[Q]=(D[we]+D[Z+256|0]+D[he+512|0]>>16)-128,B[Q]=(D[we+768|0]+D[Z+1024|0]+D[he+1280|0]>>16)-128,_[Q]=(D[we+1280|0]+D[Z+1536|0]+D[he+1792|0]>>16)-128;V=Be(y,c,V,e,n),G=Be(B,u,G,r,s),de=Be(_,u,de,r,s),ye+=32}Ce+=8}if(g>=0){var Ee=[];Ee[1]=g+1,Ee[0]=(1<<g+1)-1,ce(Ee)}return re(65497),new Uint8Array(m)},t=t||50,function(){for(var k=String.fromCharCode,z=0;z<256;z++)N[z]=k(z)}(),e=ve(O,F),r=ve(j,H),n=ve(K,I),s=ve(C,te),function(){for(var k=1,z=2,V=1;V<=15;V++){for(var G=k;G<z;G++)p[32767+G]=V,h[32767+G]=[],h[32767+G][1]=V,h[32767+G][0]=G;for(var de=-(z-1);de<=-k;de++)p[32767+de]=V,h[32767+de]=[],h[32767+de][1]=V,h[32767+de][0]=z-1+de;k<<=1,z<<=1}}(),function(){for(var k=0;k<256;k++)D[k]=19595*k,D[k+256|0]=38470*k,D[k+512|0]=7471*k+32768,D[k+768|0]=-11059*k,D[k+1024|0]=-21709*k,D[k+1280|0]=32768*k+8421375,D[k+1536|0]=-27439*k,D[k+1792|0]=-5329*k}(),se(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function zi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function VB(t){function e(F){if(!F)throw Error("assert :P")}function r(F,K,I){for(var j=0;4>j;j++)if(F[K+j]!=I.charCodeAt(j))return!0;return!1}function n(F,K,I,j,H){for(var C=0;C<H;C++)F[K+C]=I[j+C]}function s(F,K,I,j){for(var H=0;H<j;H++)F[K+H]=I}function i(F){return new Int32Array(F)}function a(F,K){for(var I=[],j=0;j<F;j++)I.push(new K);return I}function A(F,K){var I=[];return function j(H,C,te){for(var ve=te[C],ce=0;ce<ve&&(H.push(te.length>C+1?[]:new K),!(te.length<C+1));ce++)j(H[ce],C+1,te)}(I,0,F),I}var l=function(){var F=this;function K(f,v){for(var S=1<<v-1>>>0;f&S;)S>>>=1;return S?(f&S-1)+S:f}function I(f,v,S,U,R){e(!(U%S));do f[v+(U-=S)]=R;while(0<U)}function j(f,v,S,U,R){if(e(2328>=R),512>=R)var $=i(512);else if(($=i(R))==null)return 0;return function(W,Y,ne,oe,_e,Qe){var Ae,ke,je=Y,Oe=1<<ne,Ie=i(16),Re=i(16);for(e(_e!=0),e(oe!=null),e(W!=null),e(0<ne),ke=0;ke<_e;++ke){if(15<oe[ke])return 0;++Ie[oe[ke]]}if(Ie[0]==_e)return 0;for(Re[1]=0,Ae=1;15>Ae;++Ae){if(Ie[Ae]>1<<Ae)return 0;Re[Ae+1]=Re[Ae]+Ie[Ae]}for(ke=0;ke<_e;++ke)Ae=oe[ke],0<oe[ke]&&(Qe[Re[Ae]++]=ke);if(Re[15]==1)return(oe=new H).g=0,oe.value=Qe[0],I(W,je,1,Oe,oe),Oe;var ze,Ye=-1,Ge=Oe-1,xt=0,gt=1,Pt=1,wt=1<<ne;for(ke=0,Ae=1,_e=2;Ae<=ne;++Ae,_e<<=1){if(gt+=Pt<<=1,0>(Pt-=Ie[Ae]))return 0;for(;0<Ie[Ae];--Ie[Ae])(oe=new H).g=Ae,oe.value=Qe[ke++],I(W,je+xt,_e,wt,oe),xt=K(xt,Ae)}for(Ae=ne+1,_e=2;15>=Ae;++Ae,_e<<=1){if(gt+=Pt<<=1,0>(Pt-=Ie[Ae]))return 0;for(;0<Ie[Ae];--Ie[Ae]){if(oe=new H,(xt&Ge)!=Ye){for(je+=wt,ze=1<<(Ye=Ae)-ne;15>Ye&&!(0>=(ze-=Ie[Ye]));)++Ye,ze<<=1;Oe+=wt=1<<(ze=Ye-ne),W[Y+(Ye=xt&Ge)].g=ze+ne,W[Y+Ye].value=je-Y-Ye}oe.g=Ae-ne,oe.value=Qe[ke++],I(W,je+(xt>>ne),_e,wt,oe),xt=K(xt,Ae)}}return gt!=2*Re[15]-1?0:Oe}(f,v,S,U,R,$)}function H(){this.value=this.g=0}function C(){this.value=this.g=0}function te(){this.G=a(5,H),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(xA,C)}function ve(f,v,S,U){e(f!=null),e(v!=null),e(2147483648>U),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=v,f.pa=S,f.Jd=v,f.Yc=S+U,f.Zc=4<=U?S+U-4+1:S,we(f)}function ce(f,v){for(var S=0;0<v--;)S|=he(f,128)<<v;return S}function ie(f,v){var S=ce(f,v);return Z(f)?-S:S}function re(f,v,S,U){var R,$=0;for(e(f!=null),e(v!=null),e(4294967288>U),f.Sb=U,f.Ra=0,f.u=0,f.h=0,4<U&&(U=4),R=0;R<U;++R)$+=v[S+R]<<8*R;f.Ra=$,f.bb=U,f.oa=v,f.pa=S}function Be(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<ho-8>>>0,++f.bb,f.u-=8;G(f)&&(f.h=1,f.u=0)}function se(f,v){if(e(0<=v),!f.h&&v<=Hs){var S=V(f)&Rs[v];return f.u+=v,Be(f),S}return f.h=1,f.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(f){return f.Ra>>>(f.u&ho-1)>>>0}function G(f){return e(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>ho}function de(f,v){f.u=v,f.h=G(f)}function ye(f){f.u>=Qa&&(e(f.u>=Qa),Be(f))}function we(f){e(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(e(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function Z(f){return ce(f,1)}function he(f,v){var S=f.Ca;0>f.b&&we(f);var U=f.b,R=S*v>>>8,$=(f.I>>>U>R)+0;for($?(S-=R,f.I-=R+1<<U>>>0):S=R+1,U=S,R=0;256<=U;)R+=8,U>>=8;return U=7^R+fo[U],f.b-=U,f.Ca=(S<<U)-1,$}function le(f,v,S){f[v+0]=S>>24&255,f[v+1]=S>>16&255,f[v+2]=S>>8&255,f[v+3]=255&S}function ae(f,v){return f[v+0]|f[v+1]<<8}function Se(f,v){return ae(f,v)|f[v+2]<<16}function E(f,v){return ae(f,v)|ae(f,v+2)<<16}function Q(f,v){var S=1<<v;return e(f!=null),e(0<v),f.X=i(S),f.X==null?0:(f.Mb=32-v,f.Xa=v,1)}function pe(f,v){e(f!=null),e(v!=null),e(f.Xa==v.Xa),n(v.X,0,f.X,0,1<<v.Xa)}function ee(){this.X=[],this.Xa=this.Mb=0}function J(f,v,S,U){e(S!=null),e(U!=null);var R=S[0],$=U[0];return R==0&&(R=(f*$+v/2)/v),$==0&&($=(v*R+f/2)/f),0>=R||0>=$?0:(S[0]=R,U[0]=$,1)}function q(f,v){return f+(1<<v)-1>>>v}function Ce(f,v){return((4278255360&f)+(4278255360&v)>>>0&4278255360)+((16711935&f)+(16711935&v)>>>0&16711935)>>>0}function Ee(f,v){F[v]=function(S,U,R,$,W,Y,ne){var oe;for(oe=0;oe<W;++oe){var _e=F[f](Y[ne+oe-1],R,$+oe);Y[ne+oe]=Ce(S[U+oe],_e)}}}function xe(){this.ud=this.hd=this.jd=0}function Fe(f,v){return((4278124286&(f^v))>>>1)+(f&v)>>>0}function Ke(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function Te(f,v){return Ke(f+(f-v+.5>>1))}function $e(f,v,S){return Math.abs(v-S)-Math.abs(f-S)}function dt(f,v,S,U,R,$,W){for(U=$[W-1],S=0;S<R;++S)$[W+S]=U=Ce(f[v+S],U)}function tt(f,v,S,U,R){var $;for($=0;$<S;++$){var W=f[v+$],Y=W>>8&255,ne=16711935&(ne=(ne=16711935&W)+((Y<<16)+Y));U[R+$]=(4278255360&W)+ne>>>0}}function Je(f,v){v.jd=255&f,v.hd=f>>8&255,v.ud=f>>16&255}function M(f,v,S,U,R,$){var W;for(W=0;W<U;++W){var Y=v[S+W],ne=Y>>>8,oe=Y,_e=255&(_e=(_e=Y>>>16)+((f.jd<<24>>24)*(ne<<24>>24)>>>5));oe=255&(oe=(oe+=(f.hd<<24>>24)*(ne<<24>>24)>>>5)+((f.ud<<24>>24)*(_e<<24>>24)>>>5)),R[$+W]=(4278255360&Y)+(_e<<16)+oe}}function ge(f,v,S,U,R){F[v]=function($,W,Y,ne,oe,_e,Qe,Ae,ke){for(ne=Qe;ne<Ae;++ne)for(Qe=0;Qe<ke;++Qe)oe[_e++]=R(Y[U($[W++])])},F[f]=function($,W,Y,ne,oe,_e,Qe){var Ae=8>>$.b,ke=$.Ea,je=$.K[0],Oe=$.w;if(8>Ae)for($=(1<<$.b)-1,Oe=(1<<Ae)-1;W<Y;++W){var Ie,Re=0;for(Ie=0;Ie<ke;++Ie)Ie&$||(Re=U(ne[oe++])),_e[Qe++]=R(je[Re&Oe]),Re>>=Ae}else F["VP8LMapColor"+S](ne,oe,je,Oe,_e,Qe,W,Y,ke)}}function Le(f,v,S,U,R){for(S=v+S;v<S;){var $=f[v++];U[R++]=$>>16&255,U[R++]=$>>8&255,U[R++]=255&$}}function Ue(f,v,S,U,R){for(S=v+S;v<S;){var $=f[v++];U[R++]=$>>16&255,U[R++]=$>>8&255,U[R++]=255&$,U[R++]=$>>24&255}}function qe(f,v,S,U,R){for(S=v+S;v<S;){var $=(W=f[v++])>>16&240|W>>12&15,W=240&W|W>>28&15;U[R++]=$,U[R++]=W}}function rt(f,v,S,U,R){for(S=v+S;v<S;){var $=(W=f[v++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;U[R++]=$,U[R++]=W}}function st(f,v,S,U,R){for(S=v+S;v<S;){var $=f[v++];U[R++]=255&$,U[R++]=$>>8&255,U[R++]=$>>16&255}}function it(f,v,S,U,R,$){if($==0)for(S=v+S;v<S;)le(U,(($=f[v++])[0]>>24|$[1]>>8&65280|$[2]<<8&16711680|$[3]<<24)>>>0),R+=32;else n(U,R,f,v,S)}function me(f,v){F[v][0]=F[f+"0"],F[v][1]=F[f+"1"],F[v][2]=F[f+"2"],F[v][3]=F[f+"3"],F[v][4]=F[f+"4"],F[v][5]=F[f+"5"],F[v][6]=F[f+"6"],F[v][7]=F[f+"7"],F[v][8]=F[f+"8"],F[v][9]=F[f+"9"],F[v][10]=F[f+"10"],F[v][11]=F[f+"11"],F[v][12]=F[f+"12"],F[v][13]=F[f+"13"],F[v][14]=F[f+"0"],F[v][15]=F[f+"0"]}function Pe(f){return f==Ng||f==Fg||f==ch||f==jg}function Xe(){this.eb=[],this.size=this.A=this.fb=0}function et(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function at(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Xe,this.f.kb=new et,this.sd=null}function Me(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ct(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function fr(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Jt(f,v){var S=f.T,U=v.ba.f.RGBA,R=U.eb,$=U.fb+f.ka*U.A,W=bi[v.ba.S],Y=f.y,ne=f.O,oe=f.f,_e=f.N,Qe=f.ea,Ae=f.W,ke=v.cc,je=v.dc,Oe=v.Mc,Ie=v.Nc,Re=f.ka,ze=f.ka+f.T,Ye=f.U,Ge=Ye+1>>1;for(Re==0?W(Y,ne,null,null,oe,_e,Qe,Ae,oe,_e,Qe,Ae,R,$,null,null,Ye):(W(v.ec,v.fc,Y,ne,ke,je,Oe,Ie,oe,_e,Qe,Ae,R,$-U.A,R,$,Ye),++S);Re+2<ze;Re+=2)ke=oe,je=_e,Oe=Qe,Ie=Ae,_e+=f.Rc,Ae+=f.Rc,$+=2*U.A,W(Y,(ne+=2*f.fa)-f.fa,Y,ne,ke,je,Oe,Ie,oe,_e,Qe,Ae,R,$-U.A,R,$,Ye);return ne+=f.fa,f.j+ze<f.o?(n(v.ec,v.fc,Y,ne,Ye),n(v.cc,v.dc,oe,_e,Ge),n(v.Mc,v.Nc,Qe,Ae,Ge),S--):1&ze||W(Y,ne,null,null,oe,_e,Qe,Ae,oe,_e,Qe,Ae,R,$+U.A,null,null,Ye),S}function Qr(f,v,S){var U=f.F,R=[f.J];if(U!=null){var $=f.U,W=v.ba.S,Y=W==lh||W==ch;v=v.ba.f.RGBA;var ne=[0],oe=f.ka;ne[0]=f.T,f.Kb&&(oe==0?--ne[0]:(--oe,R[0]-=f.width),f.j+f.ka+f.T==f.o&&(ne[0]=f.o-f.j-oe));var _e=v.eb;oe=v.fb+oe*v.A,f=qw(U,R[0],f.width,$,ne,_e,oe+(Y?0:3),v.A),e(S==ne),f&&Pe(W)&&nu(_e,oe,Y,$,ne,v.A)}return 0}function Vn(f){var v=f.ma,S=v.ba.S,U=11>S,R=S==oh||S==Ah||S==lh||S==kg||S==12||Pe(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!qc(v.Oa,f,R?11:12))return 0;if(R&&Pe(S)&&th(),f.da)alert("todo:use_scaling");else{if(U){if(v.Ib=fr,f.Kb){if(S=f.U+1>>1,v.memory=i(f.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+f.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=Jt,th()}}else alert("todo:EmitYUV");R&&(v.Jb=Qr,U&&mi())}if(U&&!d2){for(f=0;256>f;++f)vk[f]=89858*(f-128)+dh>>uh,bk[f]=-22014*(f-128)+dh,yk[f]=-45773*(f-128),wk[f]=113618*(f-128)+dh>>uh;for(f=iu;f<Qg;++f)v=76283*(f-16)+dh>>uh,Bk[f-iu]=zr(v,255),xk[f-iu]=zr(v+8>>4,15);d2=1}return 1}function St(f){var v=f.ma,S=f.U,U=f.T;return e(!(1&f.ka)),0>=S||0>=U?0:(S=v.Ib(f,v),v.Jb!=null&&v.Jb(f,v,S),v.Dc+=S,1)}function Un(f){f.ma.memory=null}function Ls(f,v,S,U){return se(f,8)!=47?0:(v[0]=se(f,14)+1,S[0]=se(f,14)+1,U[0]=se(f,1),se(f,3)!=0?0:!f.h)}function In(f,v){if(4>f)return f+1;var S=f-2>>1;return(2+(1&f)<<S)+se(v,S)+1}function ws(f,v){return 120<v?v-120:1<=(S=((S=sk[v-1])>>4)*f+(8-(15&S)))?S:1;var S}function Zt(f,v,S){var U=V(S),R=f[v+=255&U].g-8;return 0<R&&(de(S,S.u+8),U=V(S),v+=f[v].value,v+=U&(1<<R)-1),de(S,S.u+f[v].g),f[v].value}function an(f,v,S){return S.g+=f.g,S.value+=f.value<<v>>>0,e(8>=S.g),f.g}function on(f,v,S){var U=f.xc;return e((v=U==0?0:f.vc[f.md*(S>>U)+(v>>U)])<f.Wb),f.Ya[v]}function ys(f,v,S,U){var R=f.ab,$=f.c*v,W=f.C;v=W+v;var Y=S,ne=U;for(U=f.Ta,S=f.Ua;0<R--;){var oe=f.gc[R],_e=W,Qe=v,Ae=Y,ke=ne,je=(ne=U,Y=S,oe.Ea);switch(e(_e<Qe),e(Qe<=oe.nc),oe.hc){case 2:qr(Ae,ke,(Qe-_e)*je,ne,Y);break;case 0:var Oe=_e,Ie=Qe,Re=ne,ze=Y,Ye=(wt=oe).Ea;Oe==0&&(Xc(Ae,ke,null,null,1,Re,ze),dt(Ae,ke+1,0,0,Ye-1,Re,ze+1),ke+=Ye,ze+=Ye,++Oe);for(var Ge=1<<wt.b,xt=Ge-1,gt=q(Ye,wt.b),Pt=wt.K,wt=wt.w+(Oe>>wt.b)*gt;Oe<Ie;){var zt=Pt,mn=wt,Ot=1;for(_l(Ae,ke,Re,ze-Ye,1,Re,ze);Ot<Ye;){var yt=(Ot&~xt)+Ge;yt>Ye&&(yt=Ye),(0,Zc[zt[mn++]>>8&15])(Ae,ke+ +Ot,Re,ze+Ot-Ye,yt-Ot,Re,ze+Ot),Ot=yt}ke+=Ye,ze+=Ye,++Oe&xt||(wt+=gt)}Qe!=oe.nc&&n(ne,Y-je,ne,Y+(Qe-_e-1)*je,je);break;case 1:for(je=Ae,Ie=ke,Ye=(Ae=oe.Ea)-(ze=Ae&~(Re=(ke=1<<oe.b)-1)),Oe=q(Ae,oe.b),Ge=oe.K,oe=oe.w+(_e>>oe.b)*Oe;_e<Qe;){for(xt=Ge,gt=oe,Pt=new xe,wt=Ie+ze,zt=Ie+Ae;Ie<wt;)Je(xt[gt++],Pt),eu(Pt,je,Ie,ke,ne,Y),Ie+=ke,Y+=ke;Ie<zt&&(Je(xt[gt++],Pt),eu(Pt,je,Ie,Ye,ne,Y),Ie+=Ye,Y+=Ye),++_e&Re||(oe+=Oe)}break;case 3:if(Ae==ne&&ke==Y&&0<oe.b){for(Ie=ne,Ae=je=Y+(Qe-_e)*je-(ze=(Qe-_e)*q(oe.Ea,oe.b)),ke=ne,Re=Y,Oe=[],ze=(Ye=ze)-1;0<=ze;--ze)Oe[ze]=ke[Re+ze];for(ze=Ye-1;0<=ze;--ze)Ie[Ae+ze]=Oe[ze];nh(oe,_e,Qe,ne,je,ne,Y)}else nh(oe,_e,Qe,Ae,ke,ne,Y)}Y=U,ne=S}ne!=S&&n(U,S,Y,ne,$)}function na(f,v){var S=f.V,U=f.Ba+f.c*f.C,R=v-f.C;if(e(v<=f.l.o),e(16>=R),0<R){var $=f.l,W=f.Ta,Y=f.Ua,ne=$.width;if(ys(f,R,S,U),R=Y=[Y],e((S=f.C)<(U=v)),e($.v<$.va),U>$.o&&(U=$.o),S<$.j){var oe=$.j-S;S=$.j,R[0]+=oe*ne}if(S>=U?S=0:(R[0]+=4*$.v,$.ka=S-$.j,$.U=$.va-$.v,$.T=U-S,S=1),S){if(Y=Y[0],11>(S=f.ca).S){var _e=S.f.RGBA,Qe=(U=S.S,R=$.U,$=$.T,oe=_e.eb,_e.A),Ae=$;for(_e=_e.fb+f.Ma*_e.A;0<Ae--;){var ke=W,je=Y,Oe=R,Ie=oe,Re=_e;switch(U){case ah:tu(ke,je,Oe,Ie,Re);break;case oh:po(ke,je,Oe,Ie,Re);break;case Ng:po(ke,je,Oe,Ie,Re),nu(Ie,Re,0,Oe,1,0);break;case r2:_A(ke,je,Oe,Ie,Re);break;case Ah:it(ke,je,Oe,Ie,Re,1);break;case Fg:it(ke,je,Oe,Ie,Re,1),nu(Ie,Re,0,Oe,1,0);break;case lh:it(ke,je,Oe,Ie,Re,0);break;case ch:it(ke,je,Oe,Ie,Re,0),nu(Ie,Re,1,Oe,1,0);break;case kg:go(ke,je,Oe,Ie,Re);break;case jg:go(ke,je,Oe,Ie,Re),Ww(Ie,Re,Oe,1,0);break;case n2:mo(ke,je,Oe,Ie,Re);break;default:e(0)}Y+=ne,_e+=Qe}f.Ma+=$}else alert("todo:EmitRescaledRowsYUVA");e(f.Ma<=S.height)}}f.C=v,e(f.C<=f.i)}function Ds(f){var v;if(0<f.ua)return 0;for(v=0;v<f.Wb;++v){var S=f.Ya[v].G,U=f.Ya[v].H;if(0<S[1][U[1]+0].g||0<S[2][U[2]+0].g||0<S[3][U[3]+0].g)return 0}return 1}function li(f,v,S,U,R,$){if(f.Z!=0){var W=f.qd,Y=f.rd;for(e(yo[f.Z]!=null);v<S;++v)yo[f.Z](W,Y,U,R,U,R,$),W=U,Y=R,R+=$;f.qd=W,f.rd=Y}}function bs(f,v){var S=f.l.ma,U=S.Z==0||S.Z==1?f.l.j:f.C;if(U=f.C<U?U:f.C,e(v<=f.l.o),v>U){var R=f.l.width,$=S.ca,W=S.tb+R*U,Y=f.V,ne=f.Ba+f.c*U,oe=f.gc;e(f.ab==1),e(oe[0].hc==3),ua(oe[0],U,v,Y,ne,$,W),li(S,U,v,$,W,R)}f.C=f.Ma=v}function Bs(f,v,S,U,R,$,W){var Y=f.$/U,ne=f.$%U,oe=f.m,_e=f.s,Qe=S+f.$,Ae=Qe;R=S+U*R;var ke=S+U*$,je=280+_e.ua,Oe=f.Pb?Y:16777216,Ie=0<_e.ua?_e.Wa:null,Re=_e.wc,ze=Qe<ke?on(_e,ne,Y):null;e(f.C<$),e(ke<=R);var Ye=!1;e:for(;;){for(;Ye||Qe<ke;){var Ge=0;if(Y>=Oe){var xt=Qe-S;e((Oe=f).Pb),Oe.wd=Oe.m,Oe.xd=xt,0<Oe.s.ua&&pe(Oe.s.Wa,Oe.s.vb),Oe=Y+ak}if(ne&Re||(ze=on(_e,ne,Y)),e(ze!=null),ze.Qb&&(v[Qe]=ze.qb,Ye=!0),!Ye)if(ye(oe),ze.jc){Ge=oe,xt=v;var gt=Qe,Pt=ze.pd[V(Ge)&xA-1];e(ze.jc),256>Pt.g?(de(Ge,Ge.u+Pt.g),xt[gt]=Pt.value,Ge=0):(de(Ge,Ge.u+Pt.g-256),e(256<=Pt.value),Ge=Pt.value),Ge==0&&(Ye=!0)}else Ge=Zt(ze.G[0],ze.H[0],oe);if(oe.h)break;if(Ye||256>Ge){if(!Ye)if(ze.nd)v[Qe]=(ze.qb|Ge<<8)>>>0;else{if(ye(oe),Ye=Zt(ze.G[1],ze.H[1],oe),ye(oe),xt=Zt(ze.G[2],ze.H[2],oe),gt=Zt(ze.G[3],ze.H[3],oe),oe.h)break;v[Qe]=(gt<<24|Ye<<16|Ge<<8|xt)>>>0}if(Ye=!1,++Qe,++ne>=U&&(ne=0,++Y,W!=null&&Y<=$&&!(Y%16)&&W(f,Y),Ie!=null))for(;Ae<Qe;)Ge=v[Ae++],Ie.X[(506832829*Ge&4294967295)>>>Ie.Mb]=Ge}else if(280>Ge){if(Ge=In(Ge-256,oe),xt=Zt(ze.G[4],ze.H[4],oe),ye(oe),xt=ws(U,xt=In(xt,oe)),oe.h)break;if(Qe-S<xt||R-Qe<Ge)break e;for(gt=0;gt<Ge;++gt)v[Qe+gt]=v[Qe+gt-xt];for(Qe+=Ge,ne+=Ge;ne>=U;)ne-=U,++Y,W!=null&&Y<=$&&!(Y%16)&&W(f,Y);if(e(Qe<=R),ne&Re&&(ze=on(_e,ne,Y)),Ie!=null)for(;Ae<Qe;)Ge=v[Ae++],Ie.X[(506832829*Ge&4294967295)>>>Ie.Mb]=Ge}else{if(!(Ge<je))break e;for(Ye=Ge-280,e(Ie!=null);Ae<Qe;)Ge=v[Ae++],Ie.X[(506832829*Ge&4294967295)>>>Ie.Mb]=Ge;Ge=Qe,e(!(Ye>>>(xt=Ie).Xa)),v[Ge]=xt.X[Ye],Ye=!0}Ye||e(oe.h==G(oe))}if(f.Pb&&oe.h&&Qe<R)e(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&pe(f.s.vb,f.s.Wa);else{if(oe.h)break e;W!=null&&W(f,Y>$?$:Y),f.a=0,f.$=Qe-S}return 1}return f.a=3,0}function Gn(f){e(f!=null),f.vc=null,f.yc=null,f.Ya=null;var v=f.Wa;v!=null&&(v.X=null),f.vb=null,e(f!=null)}function ka(){var f=new Bt;return f==null?null:(f.a=0,f.xb=a2,me("Predictor","VP8LPredictors"),me("Predictor","VP8LPredictors_C"),me("PredictorAdd","VP8LPredictorsAdd"),me("PredictorAdd","VP8LPredictorsAdd_C"),qr=tt,eu=M,tu=Le,po=Ue,go=qe,mo=rt,_A=st,F.VP8LMapColor32b=ca,F.VP8LMapColor8b=Yc,f)}function ci(f,v,S,U,R){var $=1,W=[f],Y=[v],ne=U.m,oe=U.s,_e=null,Qe=0;e:for(;;){if(S)for(;$&&se(ne,1);){var Ae=W,ke=Y,je=U,Oe=1,Ie=je.m,Re=je.gc[je.ab],ze=se(Ie,2);if(je.Oc&1<<ze)$=0;else{switch(je.Oc|=1<<ze,Re.hc=ze,Re.Ea=Ae[0],Re.nc=ke[0],Re.K=[null],++je.ab,e(4>=je.ab),ze){case 0:case 1:Re.b=se(Ie,3)+2,Oe=ci(q(Re.Ea,Re.b),q(Re.nc,Re.b),0,je,Re.K),Re.K=Re.K[0];break;case 3:var Ye,Ge=se(Ie,8)+1,xt=16<Ge?0:4<Ge?1:2<Ge?2:3;if(Ae[0]=q(Re.Ea,xt),Re.b=xt,Ye=Oe=ci(Ge,1,0,je,Re.K)){var gt,Pt=Ge,wt=Re,zt=1<<(8>>wt.b),mn=i(zt);if(mn==null)Ye=0;else{var Ot=wt.K[0],yt=wt.w;for(mn[0]=wt.K[0][0],gt=1;gt<1*Pt;++gt)mn[gt]=Ce(Ot[yt+gt],mn[gt-1]);for(;gt<4*zt;++gt)mn[gt]=0;wt.K[0]=null,wt.K[0]=mn,Ye=1}}Oe=Ye;break;case 2:break;default:e(0)}$=Oe}}if(W=W[0],Y=Y[0],$&&se(ne,1)&&!($=1<=(Qe=se(ne,4))&&11>=Qe)){U.a=3;break e}var nt;if(nt=$)t:{var Xr,Tt,Vt,Cr=U,Ln=W,ls=Y,Kr=Qe,Xn=S,cs=Cr.m,vn=Cr.s,Wt=[null],sr=1,$r=0,ir=ik[Kr];r:for(;;){if(Xn&&se(cs,1)){var Dn=se(cs,3)+2,Ri=q(Ln,Dn),Yr=q(ls,Dn),Cs=Ri*Yr;if(!ci(Ri,Yr,0,Cr,Wt))break r;for(Wt=Wt[0],vn.xc=Dn,Xr=0;Xr<Cs;++Xr){var dr=Wt[Xr]>>8&65535;Wt[Xr]=dr,dr>=sr&&(sr=dr+1)}}if(cs.h)break r;for(Tt=0;5>Tt;++Tt){var wn=s2[Tt];!Tt&&0<Kr&&(wn+=1<<Kr),$r<wn&&($r=wn)}var zs=a(sr*ir,H),us=sr,Ks=a(us,te);if(Ks==null)var $s=null;else e(65536>=us),$s=Ks;var Ss=i($r);if($s==null||Ss==null||zs==null){Cr.a=1;break r}var Vs=zs;for(Xr=Vt=0;Xr<sr;++Xr){var vr=$s[Xr],Gs=vr.G,Hi=vr.H,SA=0,Ta=1,Tn=0;for(Tt=0;5>Tt;++Tt){wn=s2[Tt],Gs[Tt]=Vs,Hi[Tt]=Vt,!Tt&&0<Kr&&(wn+=1<<Kr);s:{var fh,Lg=wn,ph=Cr,au=Ss,Sk=Vs,Ek=Vt,Dg=0,bo=ph.m,kk=se(bo,1);if(s(au,0,0,Lg),kk){var Nk=se(bo,1)+1,Fk=se(bo,1),p2=se(bo,Fk==0?1:8);au[p2]=1,Nk==2&&(au[p2=se(bo,8)]=1);var gh=1}else{var g2=i(19),m2=se(bo,4)+4;if(19<m2){ph.a=3;var mh=0;break s}for(fh=0;fh<m2;++fh)g2[nk[fh]]=se(bo,3);var Tg=void 0,ou=void 0,v2=ph,jk=g2,vh=Lg,w2=au,Pg=0,Bo=v2.m,y2=8,b2=a(128,H);n:for(;j(b2,0,7,jk,19);){if(se(Bo,1)){var Uk=2+2*se(Bo,3);if((Tg=2+se(Bo,Uk))>vh)break n}else Tg=vh;for(ou=0;ou<vh&&Tg--;){ye(Bo);var B2=b2[0+(127&V(Bo))];de(Bo,Bo.u+B2.g);var Sl=B2.value;if(16>Sl)w2[ou++]=Sl,Sl!=0&&(y2=Sl);else{var Ik=Sl==16,x2=Sl-16,Qk=tk[x2],_2=se(Bo,ek[x2])+Qk;if(ou+_2>vh)break n;for(var Lk=Ik?y2:0;0<_2--;)w2[ou++]=Lk}}Pg=1;break n}Pg||(v2.a=3),gh=Pg}(gh=gh&&!bo.h)&&(Dg=j(Sk,Ek,8,au,Lg)),gh&&Dg!=0?mh=Dg:(ph.a=3,mh=0)}if(mh==0)break r;if(Ta&&rk[Tt]==1&&(Ta=Vs[Vt].g==0),SA+=Vs[Vt].g,Vt+=mh,3>=Tt){var Au,Og=Ss[0];for(Au=1;Au<wn;++Au)Ss[Au]>Og&&(Og=Ss[Au]);Tn+=Og}}if(vr.nd=Ta,vr.Qb=0,Ta&&(vr.qb=(Gs[3][Hi[3]+0].value<<24|Gs[1][Hi[1]+0].value<<16|Gs[2][Hi[2]+0].value)>>>0,SA==0&&256>Gs[0][Hi[0]+0].value&&(vr.Qb=1,vr.qb+=Gs[0][Hi[0]+0].value<<8)),vr.jc=!vr.Qb&&6>Tn,vr.jc){var wh,Pa=vr;for(wh=0;wh<xA;++wh){var xo=wh,_o=Pa.pd[xo],yh=Pa.G[0][Pa.H[0]+xo];256<=yh.value?(_o.g=yh.g+256,_o.value=yh.value):(_o.g=0,_o.value=0,xo>>=an(yh,8,_o),xo>>=an(Pa.G[1][Pa.H[1]+xo],16,_o),xo>>=an(Pa.G[2][Pa.H[2]+xo],0,_o),an(Pa.G[3][Pa.H[3]+xo],24,_o))}}}vn.vc=Wt,vn.Wb=sr,vn.Ya=$s,vn.yc=zs,nt=1;break t}nt=0}if(!($=nt)){U.a=3;break e}if(0<Qe){if(oe.ua=1<<Qe,!Q(oe.Wa,Qe)){U.a=1,$=0;break e}}else oe.ua=0;var Rg=U,C2=W,Dk=Y,Hg=Rg.s,Mg=Hg.xc;if(Rg.c=C2,Rg.i=Dk,Hg.md=q(C2,Mg),Hg.wc=Mg==0?-1:(1<<Mg)-1,S){U.xb=hk;break e}if((_e=i(W*Y))==null){U.a=1,$=0;break e}$=($=Bs(U,_e,0,W,Y,Y,null))&&!ne.h;break e}return $?(R!=null?R[0]=_e:(e(_e==null),e(S)),U.$=0,S||Gn(oe)):Gn(oe),$}function sa(f,v){var S=f.c*f.i,U=S+v+16*v;return e(f.c<=v),f.V=i(U),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+S+v,1)}function L(f,v){var S=f.C,U=v-S,R=f.V,$=f.Ba+f.c*S;for(e(v<=f.l.o);0<U;){var W=16<U?16:U,Y=f.l.ma,ne=f.l.width,oe=ne*W,_e=Y.ca,Qe=Y.tb+ne*S,Ae=f.Ta,ke=f.Ua;ys(f,W,R,$),Jw(Ae,ke,_e,Qe,oe),li(Y,S,S+W,_e,Qe,ne),U-=W,R+=W*f.c,S+=W}e(S==v),f.C=f.Ma=v}function fe(){this.ub=this.yd=this.td=this.Rb=0}function De(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ht(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Et(){this.Yb=function(){var f=[];return function v(S,U,R){for(var $=R[U],W=0;W<$&&(S.push(R.length>U+1?[]:0),!(R.length<U+1));W++)v(S[W],U+1,R)}(f,0,[3,11]),f}()}function kt(){this.jb=i(3),this.Wc=A([4,8],Et),this.Xc=A([4,17],Et)}function nr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function $t(){this.ld=this.La=this.dd=this.tc=0}function er(){this.Na=this.la=0}function Br(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function At(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function fn(){this.uc=this.M=this.Nb=0,this.wa=Array(new $t),this.Y=0,this.ya=Array(new At),this.aa=0,this.l=new Wr}function Ht(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ts(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new fe,this.Kc=new De,this.ed=new nr,this.Qa=new ht,this.Ic=this.$c=this.Aa=0,this.D=new fn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,k),this.ia=0,this.pb=a(4,Br),this.Pa=new kt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ht),this.Hd=0,this.rb=Array(new er),this.sb=0,this.wa=Array(new $t),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new At),this.L=this.aa=0,this.gd=A([4,2],$t),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Li(){var f=new Ts;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,su||(su=xs)),f}function Gt(f,v,S){return f.a==0&&(f.a=v,f.sc=S,f.cb=0),0}function _n(f,v,S){return 3<=S&&f[v+0]==157&&f[v+1]==1&&f[v+2]==42}function ui(f,v){if(f==null)return 0;if(f.a=0,f.sc="OK",v==null)return Gt(f,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,U=v.w,R=v.ha;if(4>R)return Gt(f,7,"Truncated header.");var $=S[U+0]|S[U+1]<<8|S[U+2]<<16,W=f.Od;if(W.Rb=!(1&$),W.td=$>>1&7,W.yd=$>>4&1,W.ub=$>>5,3<W.td)return Gt(f,3,"Incorrect keyframe parameters.");if(!W.yd)return Gt(f,4,"Frame not displayable.");U+=3,R-=3;var Y=f.Kc;if(W.Rb){if(7>R)return Gt(f,7,"cannot parse picture header");if(!_n(S,U,R))return Gt(f,3,"Bad code word");Y.c=16383&(S[U+4]<<8|S[U+3]),Y.Td=S[U+4]>>6,Y.i=16383&(S[U+6]<<8|S[U+5]),Y.Ud=S[U+6]>>6,U+=7,R-=7,f.za=Y.c+15>>4,f.Ub=Y.i+15>>4,v.width=Y.c,v.height=Y.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,s(($=f.Pa).jb,0,255,$.jb.length),e(($=f.Qa)!=null),$.Cb=0,$.Bb=0,$.Fb=1,s($.Zb,0,0,$.Zb.length),s($.Lb,0,0,$.Lb)}if(W.ub>R)return Gt(f,7,"bad partition length");ve($=f.m,S,U,W.ub),U+=W.ub,R-=W.ub,W.Rb&&(Y.Ld=Z($),Y.Kd=Z($)),Y=f.Qa;var ne,oe=f.Pa;if(e($!=null),e(Y!=null),Y.Cb=Z($),Y.Cb){if(Y.Bb=Z($),Z($)){for(Y.Fb=Z($),ne=0;4>ne;++ne)Y.Zb[ne]=Z($)?ie($,7):0;for(ne=0;4>ne;++ne)Y.Lb[ne]=Z($)?ie($,6):0}if(Y.Bb)for(ne=0;3>ne;++ne)oe.jb[ne]=Z($)?ce($,8):255}else Y.Bb=0;if($.Ka)return Gt(f,3,"cannot parse segment header");if((Y=f.ed).zd=Z($),Y.Tb=ce($,6),Y.wb=ce($,3),Y.Pc=Z($),Y.Pc&&Z($)){for(oe=0;4>oe;++oe)Z($)&&(Y.vd[oe]=ie($,6));for(oe=0;4>oe;++oe)Z($)&&(Y.od[oe]=ie($,6))}if(f.L=Y.Tb==0?0:Y.zd?1:2,$.Ka)return Gt(f,3,"cannot parse filter header");var _e=R;if(R=ne=U,U=ne+_e,Y=_e,f.Xb=(1<<ce(f.m,2))-1,_e<3*(oe=f.Xb))S=7;else{for(ne+=3*oe,Y-=3*oe,_e=0;_e<oe;++_e){var Qe=S[R+0]|S[R+1]<<8|S[R+2]<<16;Qe>Y&&(Qe=Y),ve(f.Jc[+_e],S,ne,Qe),ne+=Qe,Y-=Qe,R+=3}ve(f.Jc[+oe],S,ne,Y),S=ne<U?0:5}if(S!=0)return Gt(f,S,"cannot parse partitions");for(S=ce(ne=f.m,7),R=Z(ne)?ie(ne,4):0,U=Z(ne)?ie(ne,4):0,Y=Z(ne)?ie(ne,4):0,oe=Z(ne)?ie(ne,4):0,ne=Z(ne)?ie(ne,4):0,_e=f.Qa,Qe=0;4>Qe;++Qe){if(_e.Cb){var Ae=_e.Zb[Qe];_e.Fb||(Ae+=S)}else{if(0<Qe){f.pb[Qe]=f.pb[0];continue}Ae=S}var ke=f.pb[Qe];ke.Sc[0]=Ug[zr(Ae+R,127)],ke.Sc[1]=Ig[zr(Ae+0,127)],ke.Eb[0]=2*Ug[zr(Ae+U,127)],ke.Eb[1]=101581*Ig[zr(Ae+Y,127)]>>16,8>ke.Eb[1]&&(ke.Eb[1]=8),ke.Qc[0]=Ug[zr(Ae+oe,117)],ke.Qc[1]=Ig[zr(Ae+ne,127)],ke.lc=Ae+ne}if(!W.Rb)return Gt(f,4,"Not a key frame.");for(Z($),W=f.Pa,S=0;4>S;++S){for(R=0;8>R;++R)for(U=0;3>U;++U)for(Y=0;11>Y;++Y)oe=he($,uk[S][R][U][Y])?ce($,8):lk[S][R][U][Y],W.Wc[S][R].Yb[U][Y]=oe;for(R=0;17>R;++R)W.Xc[S][R]=W.Wc[S][dk[R]]}return f.kc=Z($),f.kc&&(f.Bd=ce($,8)),f.cb=1}function xs(f,v,S,U,R,$,W){var Y=v[R].Yb[S];for(S=0;16>R;++R){if(!he(f,Y[S+0]))return R;for(;!he(f,Y[S+1]);)if(Y=v[++R].Yb[0],S=0,R==16)return 16;var ne=v[R+1].Yb;if(he(f,Y[S+2])){var oe=f,_e=0;if(he(oe,(Ae=Y)[(Qe=S)+3]))if(he(oe,Ae[Qe+6])){for(Y=0,Qe=2*(_e=he(oe,Ae[Qe+8]))+(Ae=he(oe,Ae[Qe+9+_e])),_e=0,Ae=ok[Qe];Ae[Y];++Y)_e+=_e+he(oe,Ae[Y]);_e+=3+(8<<Qe)}else he(oe,Ae[Qe+7])?(_e=7+2*he(oe,165),_e+=he(oe,145)):_e=5+he(oe,159);else _e=he(oe,Ae[Qe+4])?3+he(oe,Ae[Qe+5]):2;Y=ne[2]}else _e=1,Y=ne[1];ne=W+Ak[R],0>(oe=f).b&&we(oe);var Qe,Ae=oe.b,ke=(Qe=oe.Ca>>1)-(oe.I>>Ae)>>31;--oe.b,oe.Ca+=ke,oe.Ca|=1,oe.I-=(Qe+1&ke)<<Ae,$[ne]=((_e^ke)-ke)*U[(0<R)+0]}return 16}function di(f){var v=f.rb[f.sb-1];v.la=0,v.Na=0,s(f.zc,0,0,f.zc.length),f.ja=0}function Wn(f,v,S,U,R){R=f[v+S+32*U]+(R>>3),f[v+S+32*U]=-256&R?0>R?0:255:R}function Di(f,v,S,U,R,$){Wn(f,v,0,S,U+R),Wn(f,v,1,S,U+$),Wn(f,v,2,S,U-$),Wn(f,v,3,S,U-R)}function pr(f){return(20091*f>>16)+f}function Ps(f,v,S,U){var R,$=0,W=i(16);for(R=0;4>R;++R){var Y=f[v+0]+f[v+8],ne=f[v+0]-f[v+8],oe=(35468*f[v+4]>>16)-pr(f[v+12]),_e=pr(f[v+4])+(35468*f[v+12]>>16);W[$+0]=Y+_e,W[$+1]=ne+oe,W[$+2]=ne-oe,W[$+3]=Y-_e,$+=4,v++}for(R=$=0;4>R;++R)Y=(f=W[$+0]+4)+W[$+8],ne=f-W[$+8],oe=(35468*W[$+4]>>16)-pr(W[$+12]),Wn(S,U,0,0,Y+(_e=pr(W[$+4])+(35468*W[$+12]>>16))),Wn(S,U,1,0,ne+oe),Wn(S,U,2,0,ne-oe),Wn(S,U,3,0,Y-_e),$++,U+=32}function Qt(f,v,S,U){var R=f[v+0]+4,$=35468*f[v+4]>>16,W=pr(f[v+4]),Y=35468*f[v+1]>>16;Di(S,U,0,R+W,f=pr(f[v+1]),Y),Di(S,U,1,R+$,f,Y),Di(S,U,2,R-$,f,Y),Di(S,U,3,R-W,f,Y)}function Rr(f,v,S,U,R){Ps(f,v,S,U),R&&Ps(f,v+16,S,U+4)}function Os(f,v,S,U){CA(f,v+0,S,U,1),CA(f,v+32,S,U+128,1)}function xr(f,v,S,U){var R;for(f=f[v+0]+4,R=0;4>R;++R)for(v=0;4>v;++v)Wn(S,U,v,R,f)}function Hr(f,v,S,U){f[v+0]&&tr(f,v+0,S,U),f[v+16]&&tr(f,v+16,S,U+4),f[v+32]&&tr(f,v+32,S,U+128),f[v+48]&&tr(f,v+48,S,U+128+4)}function qn(f,v,S,U){var R,$=i(16);for(R=0;4>R;++R){var W=f[v+0+R]+f[v+12+R],Y=f[v+4+R]+f[v+8+R],ne=f[v+4+R]-f[v+8+R],oe=f[v+0+R]-f[v+12+R];$[0+R]=W+Y,$[8+R]=W-Y,$[4+R]=oe+ne,$[12+R]=oe-ne}for(R=0;4>R;++R)W=(f=$[0+4*R]+3)+$[3+4*R],Y=$[1+4*R]+$[2+4*R],ne=$[1+4*R]-$[2+4*R],oe=f-$[3+4*R],S[U+0]=W+Y>>3,S[U+16]=oe+ne>>3,S[U+32]=W-Y>>3,S[U+48]=oe-ne>>3,U+=64}function _r(f,v,S){var U,R=v-32,$=Ms,W=255-f[R-1];for(U=0;U<S;++U){var Y,ne=$,oe=W+f[v-1];for(Y=0;Y<S;++Y)f[v+Y]=ne[oe+f[R+Y]];v+=32}}function Cn(f,v){_r(f,v,4)}function ia(f,v){_r(f,v,8)}function dl(f,v){_r(f,v,16)}function hl(f,v){var S;for(S=0;16>S;++S)n(f,v+32*S,f,v-32,16)}function oo(f,v){var S;for(S=16;0<S;--S)s(f,v,f[v-1],16),v+=32}function aa(f,v,S){var U;for(U=0;16>U;++U)s(v,S+32*U,f,16)}function Ti(f,v){var S,U=16;for(S=0;16>S;++S)U+=f[v-1+32*S]+f[v+S-32];aa(U>>5,f,v)}function fl(f,v){var S,U=8;for(S=0;16>S;++S)U+=f[v-1+32*S];aa(U>>4,f,v)}function oa(f,v){var S,U=8;for(S=0;16>S;++S)U+=f[v+S-32];aa(U>>4,f,v)}function Ao(f,v){aa(128,f,v)}function Ft(f,v,S){return f+2*v+S+2>>2}function pl(f,v){var S,U=v-32;for(U=new Uint8Array([Ft(f[U-1],f[U+0],f[U+1]),Ft(f[U+0],f[U+1],f[U+2]),Ft(f[U+1],f[U+2],f[U+3]),Ft(f[U+2],f[U+3],f[U+4])]),S=0;4>S;++S)n(f,v+32*S,U,0,U.length)}function gl(f,v){var S=f[v-1],U=f[v-1+32],R=f[v-1+64],$=f[v-1+96];le(f,v+0,16843009*Ft(f[v-1-32],S,U)),le(f,v+32,16843009*Ft(S,U,R)),le(f,v+64,16843009*Ft(U,R,$)),le(f,v+96,16843009*Ft(R,$,$))}function ml(f,v){var S,U=4;for(S=0;4>S;++S)U+=f[v+S-32]+f[v-1+32*S];for(U>>=3,S=0;4>S;++S)s(f,v+32*S,U,4)}function vl(f,v){var S=f[v-1+0],U=f[v-1+32],R=f[v-1+64],$=f[v-1-32],W=f[v+0-32],Y=f[v+1-32],ne=f[v+2-32],oe=f[v+3-32];f[v+0+96]=Ft(U,R,f[v-1+96]),f[v+1+96]=f[v+0+64]=Ft(S,U,R),f[v+2+96]=f[v+1+64]=f[v+0+32]=Ft($,S,U),f[v+3+96]=f[v+2+64]=f[v+1+32]=f[v+0+0]=Ft(W,$,S),f[v+3+64]=f[v+2+32]=f[v+1+0]=Ft(Y,W,$),f[v+3+32]=f[v+2+0]=Ft(ne,Y,W),f[v+3+0]=Ft(oe,ne,Y)}function hi(f,v){var S=f[v+1-32],U=f[v+2-32],R=f[v+3-32],$=f[v+4-32],W=f[v+5-32],Y=f[v+6-32],ne=f[v+7-32];f[v+0+0]=Ft(f[v+0-32],S,U),f[v+1+0]=f[v+0+32]=Ft(S,U,R),f[v+2+0]=f[v+1+32]=f[v+0+64]=Ft(U,R,$),f[v+3+0]=f[v+2+32]=f[v+1+64]=f[v+0+96]=Ft(R,$,W),f[v+3+32]=f[v+2+64]=f[v+1+96]=Ft($,W,Y),f[v+3+64]=f[v+2+96]=Ft(W,Y,ne),f[v+3+96]=Ft(Y,ne,ne)}function fi(f,v){var S=f[v-1+0],U=f[v-1+32],R=f[v-1+64],$=f[v-1-32],W=f[v+0-32],Y=f[v+1-32],ne=f[v+2-32],oe=f[v+3-32];f[v+0+0]=f[v+1+64]=$+W+1>>1,f[v+1+0]=f[v+2+64]=W+Y+1>>1,f[v+2+0]=f[v+3+64]=Y+ne+1>>1,f[v+3+0]=ne+oe+1>>1,f[v+0+96]=Ft(R,U,S),f[v+0+64]=Ft(U,S,$),f[v+0+32]=f[v+1+96]=Ft(S,$,W),f[v+1+32]=f[v+2+96]=Ft($,W,Y),f[v+2+32]=f[v+3+96]=Ft(W,Y,ne),f[v+3+32]=Ft(Y,ne,oe)}function wl(f,v){var S=f[v+0-32],U=f[v+1-32],R=f[v+2-32],$=f[v+3-32],W=f[v+4-32],Y=f[v+5-32],ne=f[v+6-32],oe=f[v+7-32];f[v+0+0]=S+U+1>>1,f[v+1+0]=f[v+0+64]=U+R+1>>1,f[v+2+0]=f[v+1+64]=R+$+1>>1,f[v+3+0]=f[v+2+64]=$+W+1>>1,f[v+0+32]=Ft(S,U,R),f[v+1+32]=f[v+0+96]=Ft(U,R,$),f[v+2+32]=f[v+1+96]=Ft(R,$,W),f[v+3+32]=f[v+2+96]=Ft($,W,Y),f[v+3+64]=Ft(W,Y,ne),f[v+3+96]=Ft(Y,ne,oe)}function yl(f,v){var S=f[v-1+0],U=f[v-1+32],R=f[v-1+64],$=f[v-1+96];f[v+0+0]=S+U+1>>1,f[v+2+0]=f[v+0+32]=U+R+1>>1,f[v+2+32]=f[v+0+64]=R+$+1>>1,f[v+1+0]=Ft(S,U,R),f[v+3+0]=f[v+1+32]=Ft(U,R,$),f[v+3+32]=f[v+1+64]=Ft(R,$,$),f[v+3+64]=f[v+2+64]=f[v+0+96]=f[v+1+96]=f[v+2+96]=f[v+3+96]=$}function Na(f,v){var S=f[v-1+0],U=f[v-1+32],R=f[v-1+64],$=f[v-1+96],W=f[v-1-32],Y=f[v+0-32],ne=f[v+1-32],oe=f[v+2-32];f[v+0+0]=f[v+2+32]=S+W+1>>1,f[v+0+32]=f[v+2+64]=U+S+1>>1,f[v+0+64]=f[v+2+96]=R+U+1>>1,f[v+0+96]=$+R+1>>1,f[v+3+0]=Ft(Y,ne,oe),f[v+2+0]=Ft(W,Y,ne),f[v+1+0]=f[v+3+32]=Ft(S,W,Y),f[v+1+32]=f[v+3+64]=Ft(U,S,W),f[v+1+64]=f[v+3+96]=Ft(R,U,S),f[v+1+96]=Ft($,R,U)}function lo(f,v){var S;for(S=0;8>S;++S)n(f,v+32*S,f,v-32,8)}function Aa(f,v){var S;for(S=0;8>S;++S)s(f,v,f[v-1],8),v+=32}function Fa(f,v,S){var U;for(U=0;8>U;++U)s(v,S+32*U,f,8)}function ja(f,v){var S,U=8;for(S=0;8>S;++S)U+=f[v+S-32]+f[v-1+32*S];Fa(U>>4,f,v)}function bl(f,v){var S,U=4;for(S=0;8>S;++S)U+=f[v+S-32];Fa(U>>3,f,v)}function ot(f,v){var S,U=4;for(S=0;8>S;++S)U+=f[v-1+32*S];Fa(U>>3,f,v)}function It(f,v){Fa(128,f,v)}function lr(f,v,S){var U=f[v-S],R=f[v+0],$=3*(R-U)+Eg[1020+f[v-2*S]-f[v+S]],W=ih[112+($+4>>3)];f[v-S]=Ms[255+U+ih[112+($+3>>3)]],f[v+0]=Ms[255+R-W]}function Nr(f,v,S,U){var R=f[v+0],$=f[v+S];return yi[255+f[v-2*S]-f[v-S]]>U||yi[255+$-R]>U}function Mr(f,v,S,U){return 4*yi[255+f[v-S]-f[v+0]]+yi[255+f[v-2*S]-f[v+S]]<=U}function Fr(f,v,S,U,R){var $=f[v-3*S],W=f[v-2*S],Y=f[v-S],ne=f[v+0],oe=f[v+S],_e=f[v+2*S],Qe=f[v+3*S];return 4*yi[255+Y-ne]+yi[255+W-oe]>U?0:yi[255+f[v-4*S]-$]<=R&&yi[255+$-W]<=R&&yi[255+W-Y]<=R&&yi[255+Qe-_e]<=R&&yi[255+_e-oe]<=R&&yi[255+oe-ne]<=R}function gr(f,v,S,U){var R=2*U+1;for(U=0;16>U;++U)Mr(f,v+U,S,R)&&lr(f,v+U,S)}function pi(f,v,S,U){var R=2*U+1;for(U=0;16>U;++U)Mr(f,v+U*S,1,R)&&lr(f,v+U*S,1)}function Ua(f,v,S,U){var R;for(R=3;0<R;--R)gr(f,v+=4*S,S,U)}function Pi(f,v,S,U){var R;for(R=3;0<R;--R)pi(f,v+=4,S,U)}function As(f,v,S,U,R,$,W,Y){for($=2*$+1;0<R--;){if(Fr(f,v,S,$,W))if(Nr(f,v,S,Y))lr(f,v,S);else{var ne=f,oe=v,_e=S,Qe=ne[oe-2*_e],Ae=ne[oe-_e],ke=ne[oe+0],je=ne[oe+_e],Oe=ne[oe+2*_e],Ie=27*(ze=Eg[1020+3*(ke-Ae)+Eg[1020+Qe-je]])+63>>7,Re=18*ze+63>>7,ze=9*ze+63>>7;ne[oe-3*_e]=Ms[255+ne[oe-3*_e]+ze],ne[oe-2*_e]=Ms[255+Qe+Re],ne[oe-_e]=Ms[255+Ae+Ie],ne[oe+0]=Ms[255+ke-Ie],ne[oe+_e]=Ms[255+je-Re],ne[oe+2*_e]=Ms[255+Oe-ze]}v+=U}}function gi(f,v,S,U,R,$,W,Y){for($=2*$+1;0<R--;){if(Fr(f,v,S,$,W))if(Nr(f,v,S,Y))lr(f,v,S);else{var ne=f,oe=v,_e=S,Qe=ne[oe-_e],Ae=ne[oe+0],ke=ne[oe+_e],je=ih[112+(4+(Oe=3*(Ae-Qe))>>3)],Oe=ih[112+(Oe+3>>3)],Ie=je+1>>1;ne[oe-2*_e]=Ms[255+ne[oe-2*_e]+Ie],ne[oe-_e]=Ms[255+Qe+Oe],ne[oe+0]=Ms[255+Ae-je],ne[oe+_e]=Ms[255+ke-Ie]}v+=U}}function fA(f,v,S,U,R,$){As(f,v,S,1,16,U,R,$)}function pA(f,v,S,U,R,$){As(f,v,1,S,16,U,R,$)}function la(f,v,S,U,R,$){var W;for(W=3;0<W;--W)gi(f,v+=4*S,S,1,16,U,R,$)}function eh(f,v,S,U,R,$){var W;for(W=3;0<W;--W)gi(f,v+=4,1,S,16,U,R,$)}function x(f,v,S,U,R,$,W,Y){As(f,v,R,1,8,$,W,Y),As(S,U,R,1,8,$,W,Y)}function P(f,v,S,U,R,$,W,Y){As(f,v,1,R,8,$,W,Y),As(S,U,1,R,8,$,W,Y)}function ue(f,v,S,U,R,$,W,Y){gi(f,v+4*R,R,1,8,$,W,Y),gi(S,U+4*R,R,1,8,$,W,Y)}function be(f,v,S,U,R,$,W,Y){gi(f,v+4,1,R,8,$,W,Y),gi(S,U+4,1,R,8,$,W,Y)}function Ne(){this.ba=new at,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ct,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function He(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function We(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function vt(){this.ua=0,this.Wa=new ee,this.vb=new ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new te,this.yc=new H}function Bt(){this.xb=this.a=0,this.l=new Wr,this.ca=new at,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new vt,this.ab=0,this.gc=a(4,We),this.Oc=0}function Ut(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Wr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Lt(f,v,S,U,R,$,W){for(f=f==null?0:f[v+0],v=0;v<W;++v)R[$+v]=f+S[U+v]&255,f=R[$+v]}function Xt(f,v,S,U,R,$,W){var Y;if(f==null)Lt(null,null,S,U,R,$,W);else for(Y=0;Y<W;++Y)R[$+Y]=f[v+Y]+S[U+Y]&255}function Lr(f,v,S,U,R,$,W){if(f==null)Lt(null,null,S,U,R,$,W);else{var Y,ne=f[v+0],oe=ne,_e=ne;for(Y=0;Y<W;++Y)oe=_e+(ne=f[v+Y])-oe,_e=S[U+Y]+(-256&oe?0>oe?0:255:oe)&255,oe=ne,R[$+Y]=_e}}function An(f,v,S,U){var R=v.width,$=v.o;if(e(f!=null&&v!=null),0>S||0>=U||S+U>$)return null;if(!f.Cc){if(f.ga==null){var W;if(f.ga=new Ut,(W=f.ga==null)||(W=v.width*v.o,e(f.Gb.length==0),f.Gb=i(W),f.Uc=0,f.Gb==null?W=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,W=1),W=!W),!W){W=f.ga;var Y=f.Fa,ne=f.P,oe=f.qc,_e=f.mb,Qe=f.nb,Ae=ne+1,ke=oe-1,je=W.l;if(e(Y!=null&&_e!=null&&v!=null),yo[0]=null,yo[1]=Lt,yo[2]=Xt,yo[3]=Lr,W.ca=_e,W.tb=Qe,W.c=v.width,W.i=v.height,e(0<W.c&&0<W.i),1>=oe)v=0;else if(W.$a=3&Y[ne+0],W.Z=Y[ne+0]>>2&3,W.Lc=Y[ne+0]>>4&3,ne=Y[ne+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||ne)v=0;else if(je.put=St,je.ac=Vn,je.bc=Un,je.ma=W,je.width=v.width,je.height=v.height,je.Da=v.Da,je.v=v.v,je.va=v.va,je.j=v.j,je.o=v.o,W.$a)e:{e(W.$a==1),v=ka();t:for(;;){if(v==null){v=0;break e}if(e(W!=null),W.mc=v,v.c=W.c,v.i=W.i,v.l=W.l,v.l.ma=W,v.l.width=W.c,v.l.height=W.i,v.a=0,re(v.m,Y,Ae,ke),!ci(W.c,W.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Ds(v.s)?(W.ic=1,Y=v.c*v.i,v.Ta=null,v.Ua=0,v.V=i(Y),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(W.ic=0,v=sa(v,W.c)),!v))break t;v=1;break e}W.mc=null,v=0}else v=ke>=W.c*W.i;W=!v}if(W)return null;f.ga.Lc!=1?f.Ga=0:U=$-S}e(f.ga!=null),e(S+U<=$);e:{if(v=(Y=f.ga).c,$=Y.l.o,Y.$a==0){if(Ae=f.rc,ke=f.Vc,je=f.Fa,ne=f.P+1+S*v,oe=f.mb,_e=f.nb+S*v,e(ne<=f.P+f.qc),Y.Z!=0)for(e(yo[Y.Z]!=null),W=0;W<U;++W)yo[Y.Z](Ae,ke,je,ne,oe,_e,v),Ae=oe,ke=_e,_e+=v,ne+=v;else for(W=0;W<U;++W)n(oe,_e,je,ne,v),Ae=oe,ke=_e,_e+=v,ne+=v;f.rc=Ae,f.Vc=ke}else{if(e(Y.mc!=null),v=S+U,e((W=Y.mc)!=null),e(v<=W.i),W.C>=v)v=1;else if(Y.ic||mi(),Y.ic){Y=W.V,Ae=W.Ba,ke=W.c;var Oe=W.i,Ie=(je=1,ne=W.$/ke,oe=W.$%ke,_e=W.m,Qe=W.s,W.$),Re=ke*Oe,ze=ke*v,Ye=Qe.wc,Ge=Ie<ze?on(Qe,oe,ne):null;e(Ie<=Re),e(v<=Oe),e(Ds(Qe));t:for(;;){for(;!_e.h&&Ie<ze;){if(oe&Ye||(Ge=on(Qe,oe,ne)),e(Ge!=null),ye(_e),256>(Oe=Zt(Ge.G[0],Ge.H[0],_e)))Y[Ae+Ie]=Oe,++Ie,++oe>=ke&&(oe=0,++ne<=v&&!(ne%16)&&bs(W,ne));else{if(!(280>Oe)){je=0;break t}Oe=In(Oe-256,_e);var xt,gt=Zt(Ge.G[4],Ge.H[4],_e);if(ye(_e),!(Ie>=(gt=ws(ke,gt=In(gt,_e)))&&Re-Ie>=Oe)){je=0;break t}for(xt=0;xt<Oe;++xt)Y[Ae+Ie+xt]=Y[Ae+Ie+xt-gt];for(Ie+=Oe,oe+=Oe;oe>=ke;)oe-=ke,++ne<=v&&!(ne%16)&&bs(W,ne);Ie<ze&&oe&Ye&&(Ge=on(Qe,oe,ne))}e(_e.h==G(_e))}bs(W,ne>v?v:ne);break t}!je||_e.h&&Ie<Re?(je=0,W.a=_e.h?5:3):W.$=Ie,v=je}else v=Bs(W,W.V,W.Ba,W.c,W.i,v,L);if(!v){U=0;break e}}S+U>=$&&(f.Cc=1),U=1}if(!U)return null;if(f.Cc&&((U=f.ga)!=null&&(U.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+S*R}function mr(f,v,S,U,R,$){for(;0<R--;){var W,Y=f,ne=v+(S?1:0),oe=f,_e=v+(S?0:3);for(W=0;W<U;++W){var Qe=oe[_e+4*W];Qe!=255&&(Qe*=32897,Y[ne+4*W+0]=Y[ne+4*W+0]*Qe>>23,Y[ne+4*W+1]=Y[ne+4*W+1]*Qe>>23,Y[ne+4*W+2]=Y[ne+4*W+2]*Qe>>23)}v+=$}}function pn(f,v,S,U,R){for(;0<U--;){var $;for($=0;$<S;++$){var W=f[v+2*$+0],Y=15&(oe=f[v+2*$+1]),ne=4369*Y,oe=(240&oe|oe>>4)*ne>>16;f[v+2*$+0]=(240&W|W>>4)*ne>>16&240|(15&W|W<<4)*ne>>16>>4&15,f[v+2*$+1]=240&oe|Y}v+=R}}function ln(f,v,S,U,R,$,W,Y){var ne,oe,_e=255;for(oe=0;oe<R;++oe){for(ne=0;ne<U;++ne){var Qe=f[v+ne];$[W+4*ne]=Qe,_e&=Qe}v+=S,W+=Y}return _e!=255}function Qn(f,v,S,U,R){var $;for($=0;$<R;++$)S[U+$]=f[v+$]>>8}function mi(){nu=mr,Ww=pn,qw=ln,Jw=Qn}function _s(f,v,S){F[f]=function(U,R,$,W,Y,ne,oe,_e,Qe,Ae,ke,je,Oe,Ie,Re,ze,Ye){var Ge,xt=Ye-1>>1,gt=Y[ne+0]|oe[_e+0]<<16,Pt=Qe[Ae+0]|ke[je+0]<<16;e(U!=null);var wt=3*gt+Pt+131074>>2;for(v(U[R+0],255&wt,wt>>16,Oe,Ie),$!=null&&(wt=3*Pt+gt+131074>>2,v($[W+0],255&wt,wt>>16,Re,ze)),Ge=1;Ge<=xt;++Ge){var zt=Y[ne+Ge]|oe[_e+Ge]<<16,mn=Qe[Ae+Ge]|ke[je+Ge]<<16,Ot=gt+zt+Pt+mn+524296,yt=Ot+2*(zt+Pt)>>3;wt=yt+gt>>1,gt=(Ot=Ot+2*(gt+mn)>>3)+zt>>1,v(U[R+2*Ge-1],255&wt,wt>>16,Oe,Ie+(2*Ge-1)*S),v(U[R+2*Ge-0],255&gt,gt>>16,Oe,Ie+(2*Ge-0)*S),$!=null&&(wt=Ot+Pt>>1,gt=yt+mn>>1,v($[W+2*Ge-1],255&wt,wt>>16,Re,ze+(2*Ge-1)*S),v($[W+2*Ge+0],255&gt,gt>>16,Re,ze+(2*Ge+0)*S)),gt=zt,Pt=mn}1&Ye||(wt=3*gt+Pt+131074>>2,v(U[R+Ye-1],255&wt,wt>>16,Oe,Ie+(Ye-1)*S),$!=null&&(wt=3*Pt+gt+131074>>2,v($[W+Ye-1],255&wt,wt>>16,Re,ze+(Ye-1)*S)))}}function th(){bi[ah]=fk,bi[oh]=o2,bi[r2]=pk,bi[Ah]=A2,bi[lh]=l2,bi[kg]=c2,bi[n2]=gk,bi[Ng]=o2,bi[Fg]=A2,bi[ch]=l2,bi[jg]=c2}function Bl(f){return f&~mk?0>f?0:255:f>>u2}function gA(f,v){return Bl((19077*f>>8)+(26149*v>>8)-14234)}function co(f,v,S){return Bl((19077*f>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function mA(f,v){return Bl((19077*f>>8)+(33050*v>>8)-17685)}function vA(f,v,S,U,R){U[R+0]=gA(f,S),U[R+1]=co(f,v,S),U[R+2]=mA(f,v)}function wA(f,v,S,U,R){U[R+0]=mA(f,v),U[R+1]=co(f,v,S),U[R+2]=gA(f,S)}function Jn(f,v,S,U,R){var $=co(f,v,S);v=$<<3&224|mA(f,v)>>3,U[R+0]=248&gA(f,S)|$>>5,U[R+1]=v}function yA(f,v,S,U,R){var $=240&mA(f,v)|15;U[R+0]=240&gA(f,S)|co(f,v,S)>>4,U[R+1]=$}function bA(f,v,S,U,R){U[R+0]=255,vA(f,v,S,U,R+1)}function Gc(f,v,S,U,R){wA(f,v,S,U,R),U[R+3]=255}function Wc(f,v,S,U,R){vA(f,v,S,U,R),U[R+3]=255}function zr(f,v){return 0>f?0:f>v?v:f}function Ia(f,v,S){F[f]=function(U,R,$,W,Y,ne,oe,_e,Qe){for(var Ae=_e+(-2&Qe)*S;_e!=Ae;)v(U[R+0],$[W+0],Y[ne+0],oe,_e),v(U[R+1],$[W+0],Y[ne+0],oe,_e+S),R+=2,++W,++ne,_e+=2*S;1&Qe&&v(U[R+0],$[W+0],Y[ne+0],oe,_e)}}function xl(f,v,S){return S==0?f==0?v==0?6:5:v==0?4:0:S}function rh(f,v,S,U,R){switch(f>>>30){case 3:CA(v,S,U,R,0);break;case 2:wi(v,S,U,R);break;case 1:tr(v,S,U,R)}}function vi(f,v){var S,U,R=v.M,$=v.Nb,W=f.oc,Y=f.pc+40,ne=f.oc,oe=f.pc+584,_e=f.oc,Qe=f.pc+600;for(S=0;16>S;++S)W[Y+32*S-1]=129;for(S=0;8>S;++S)ne[oe+32*S-1]=129,_e[Qe+32*S-1]=129;for(0<R?W[Y-1-32]=ne[oe-1-32]=_e[Qe-1-32]=129:(s(W,Y-32-1,127,21),s(ne,oe-32-1,127,9),s(_e,Qe-32-1,127,9)),U=0;U<f.za;++U){var Ae=v.ya[v.aa+U];if(0<U){for(S=-1;16>S;++S)n(W,Y+32*S-4,W,Y+32*S+12,4);for(S=-1;8>S;++S)n(ne,oe+32*S-4,ne,oe+32*S+4,4),n(_e,Qe+32*S-4,_e,Qe+32*S+4,4)}var ke=f.Gd,je=f.Hd+U,Oe=Ae.ad,Ie=Ae.Hc;if(0<R&&(n(W,Y-32,ke[je].y,0,16),n(ne,oe-32,ke[je].f,0,8),n(_e,Qe-32,ke[je].ea,0,8)),Ae.Za){var Re=W,ze=Y-32+16;for(0<R&&(U>=f.za-1?s(Re,ze,ke[je].y[15],4):n(Re,ze,ke[je+1].y,0,4)),S=0;4>S;S++)Re[ze+128+S]=Re[ze+256+S]=Re[ze+384+S]=Re[ze+0+S];for(S=0;16>S;++S,Ie<<=2)Re=W,ze=Y+h2[S],Oi[Ae.Ob[S]](Re,ze),rh(Ie,Oe,16*+S,Re,ze)}else if(Re=xl(U,R,Ae.Ob[0]),wo[Re](W,Y),Ie!=0)for(S=0;16>S;++S,Ie<<=2)rh(Ie,Oe,16*+S,W,Y+h2[S]);for(S=Ae.Gc,Re=xl(U,R,Ae.Dd),Da[Re](ne,oe),Da[Re](_e,Qe),Ie=Oe,Re=ne,ze=oe,255&(Ae=0|S)&&(170&Ae?da(Ie,256,Re,ze):ur(Ie,256,Re,ze)),Ae=_e,Ie=Qe,255&(S>>=8)&&(170&S?da(Oe,320,Ae,Ie):ur(Oe,320,Ae,Ie)),R<f.Ub-1&&(n(ke[je].y,0,W,Y+480,16),n(ke[je].f,0,ne,oe+224,8),n(ke[je].ea,0,_e,Qe+224,8)),S=8*$*f.B,ke=f.sa,je=f.ta+16*U+16*$*f.R,Oe=f.qa,Ae=f.ra+8*U+S,Ie=f.Ha,Re=f.Ia+8*U+S,S=0;16>S;++S)n(ke,je+S*f.R,W,Y+32*S,16);for(S=0;8>S;++S)n(Oe,Ae+S*f.B,ne,oe+32*S,8),n(Ie,Re+S*f.B,_e,Qe+32*S,8)}}function BA(f,v,S,U,R,$,W,Y,ne){var oe=[0],_e=[0],Qe=0,Ae=ne!=null?ne.kd:0,ke=ne??new He;if(f==null||12>S)return 7;ke.data=f,ke.w=v,ke.ha=S,v=[v],S=[S],ke.gb=[ke.gb];e:{var je=v,Oe=S,Ie=ke.gb;if(e(f!=null),e(Oe!=null),e(Ie!=null),Ie[0]=0,12<=Oe[0]&&!r(f,je[0],"RIFF")){if(r(f,je[0]+8,"WEBP")){Ie=3;break e}var Re=E(f,je[0]+4);if(12>Re||4294967286<Re){Ie=3;break e}if(Ae&&Re>Oe[0]-8){Ie=7;break e}Ie[0]=Re,je[0]+=12,Oe[0]-=12}Ie=0}if(Ie!=0)return Ie;for(Re=0<ke.gb[0],S=S[0];;){e:{var ze=f;Oe=v,Ie=S;var Ye=oe,Ge=_e,xt=je=[0];if((wt=Qe=[Qe])[0]=0,8>Ie[0])Ie=7;else{if(!r(ze,Oe[0],"VP8X")){if(E(ze,Oe[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var gt=E(ze,Oe[0]+8),Pt=1+Se(ze,Oe[0]+12);if(2147483648<=Pt*(ze=1+Se(ze,Oe[0]+15))){Ie=3;break e}xt!=null&&(xt[0]=gt),Ye!=null&&(Ye[0]=Pt),Ge!=null&&(Ge[0]=ze),Oe[0]+=18,Ie[0]-=18,wt[0]=1}Ie=0}}if(Qe=Qe[0],je=je[0],Ie!=0)return Ie;if(Oe=!!(2&je),!Re&&Qe)return 3;if($!=null&&($[0]=!!(16&je)),W!=null&&(W[0]=Oe),Y!=null&&(Y[0]=0),W=oe[0],je=_e[0],Qe&&Oe&&ne==null){Ie=0;break}if(4>S){Ie=7;break}if(Re&&Qe||!Re&&!Qe&&!r(f,v[0],"ALPH")){S=[S],ke.na=[ke.na],ke.P=[ke.P],ke.Sa=[ke.Sa];e:{gt=f,Ie=v,Re=S;var wt=ke.gb;Ye=ke.na,Ge=ke.P,xt=ke.Sa,Pt=22,e(gt!=null),e(Re!=null),ze=Ie[0];var zt=Re[0];for(e(Ye!=null),e(xt!=null),Ye[0]=null,Ge[0]=null,xt[0]=0;;){if(Ie[0]=ze,Re[0]=zt,8>zt){Ie=7;break e}var mn=E(gt,ze+4);if(4294967286<mn){Ie=3;break e}var Ot=8+mn+1&-2;if(Pt+=Ot,0<wt&&Pt>wt){Ie=3;break e}if(!r(gt,ze,"VP8 ")||!r(gt,ze,"VP8L")){Ie=0;break e}if(zt[0]<Ot){Ie=7;break e}r(gt,ze,"ALPH")||(Ye[0]=gt,Ge[0]=ze+8,xt[0]=mn),ze+=Ot,zt-=Ot}}if(S=S[0],ke.na=ke.na[0],ke.P=ke.P[0],ke.Sa=ke.Sa[0],Ie!=0)break}S=[S],ke.Ja=[ke.Ja],ke.xa=[ke.xa];e:if(wt=f,Ie=v,Re=S,Ye=ke.gb[0],Ge=ke.Ja,xt=ke.xa,gt=Ie[0],ze=!r(wt,gt,"VP8 "),Pt=!r(wt,gt,"VP8L"),e(wt!=null),e(Re!=null),e(Ge!=null),e(xt!=null),8>Re[0])Ie=7;else{if(ze||Pt){if(wt=E(wt,gt+4),12<=Ye&&wt>Ye-12){Ie=3;break e}if(Ae&&wt>Re[0]-8){Ie=7;break e}Ge[0]=wt,Ie[0]+=8,Re[0]-=8,xt[0]=Pt}else xt[0]=5<=Re[0]&&wt[gt+0]==47&&!(wt[gt+4]>>5),Ge[0]=Re[0];Ie=0}if(S=S[0],ke.Ja=ke.Ja[0],ke.xa=ke.xa[0],v=v[0],Ie!=0)break;if(4294967286<ke.Ja)return 3;if(Y==null||Oe||(Y[0]=ke.xa?2:1),W=[W],je=[je],ke.xa){if(5>S){Ie=7;break}Y=W,Ae=je,Oe=$,f==null||5>S?f=0:5<=S&&f[v+0]==47&&!(f[v+4]>>5)?(Re=[0],wt=[0],Ye=[0],re(Ge=new z,f,v,S),Ls(Ge,Re,wt,Ye)?(Y!=null&&(Y[0]=Re[0]),Ae!=null&&(Ae[0]=wt[0]),Oe!=null&&(Oe[0]=Ye[0]),f=1):f=0):f=0}else{if(10>S){Ie=7;break}Y=je,f==null||10>S||!_n(f,v+3,S-3)?f=0:(Ae=f[v+0]|f[v+1]<<8|f[v+2]<<16,Oe=16383&(f[v+7]<<8|f[v+6]),f=16383&(f[v+9]<<8|f[v+8]),1&Ae||3<(Ae>>1&7)||!(Ae>>4&1)||Ae>>5>=ke.Ja||!Oe||!f?f=0:(W&&(W[0]=Oe),Y&&(Y[0]=f),f=1))}if(!f||(W=W[0],je=je[0],Qe&&(oe[0]!=W||_e[0]!=je)))return 3;ne!=null&&(ne[0]=ke,ne.offset=v-ne.w,e(4294967286>v-ne.w),e(ne.offset==ne.ha-S));break}return Ie==0||Ie==7&&Qe&&ne==null?($!=null&&($[0]|=ke.na!=null&&0<ke.na.length),U!=null&&(U[0]=W),R!=null&&(R[0]=je),0):Ie}function qc(f,v,S){var U=v.width,R=v.height,$=0,W=0,Y=U,ne=R;if(v.Da=f!=null&&0<f.Da,v.Da&&(Y=f.cd,ne=f.bd,$=f.v,W=f.j,11>S||($&=-2,W&=-2),0>$||0>W||0>=Y||0>=ne||$+Y>U||W+ne>R))return 0;if(v.v=$,v.j=W,v.va=$+Y,v.o=W+ne,v.U=Y,v.T=ne,v.da=f!=null&&0<f.da,v.da){if(!J(Y,ne,S=[f.ib],$=[f.hb]))return 0;v.ib=S[0],v.hb=$[0]}return v.ob=f!=null&&f.ob,v.Kb=f==null||!f.Sd,v.da&&(v.ob=v.ib<3*U/4&&v.hb<3*R/4,v.Kb=0),1}function Jc(f){if(f==null)return 2;if(11>f.S){var v=f.f.RGBA;v.fb+=(f.height-1)*v.A,v.A=-v.A}else v=f.f.kb,f=f.height,v.O+=(f-1)*v.fa,v.fa=-v.fa,v.N+=(f-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(f-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(f-1)*v.lb,v.lb=-v.lb);return 0}function uo(f,v,S,U){if(U==null||0>=f||0>=v)return 2;if(S!=null){if(S.Da){var R=S.cd,$=S.bd,W=-2&S.v,Y=-2&S.j;if(0>W||0>Y||0>=R||0>=$||W+R>f||Y+$>v)return 2;f=R,v=$}if(S.da){if(!J(f,v,R=[S.ib],$=[S.hb]))return 2;f=R[0],v=$[0]}}U.width=f,U.height=v;e:{var ne=U.width,oe=U.height;if(f=U.S,0>=ne||0>=oe||!(f>=ah&&13>f))f=2;else{if(0>=U.Rd&&U.sd==null){W=$=R=v=0;var _e=(Y=ne*f2[f])*oe;if(11>f||($=(oe+1)/2*(v=(ne+1)/2),f==12&&(W=(R=ne)*oe)),(oe=i(_e+2*$+W))==null){f=1;break e}U.sd=oe,11>f?((ne=U.f.RGBA).eb=oe,ne.fb=0,ne.A=Y,ne.size=_e):((ne=U.f.kb).y=oe,ne.O=0,ne.fa=Y,ne.Fd=_e,ne.f=oe,ne.N=0+_e,ne.Ab=v,ne.Cd=$,ne.ea=oe,ne.W=0+_e+$,ne.Db=v,ne.Ed=$,f==12&&(ne.F=oe,ne.J=0+_e+2*$),ne.Tc=W,ne.lb=R)}if(v=1,R=U.S,$=U.width,W=U.height,R>=ah&&13>R)if(11>R)f=U.f.RGBA,v&=(Y=Math.abs(f.A))*(W-1)+$<=f.size,v&=Y>=$*f2[R],v&=f.eb!=null;else{f=U.f.kb,Y=($+1)/2,_e=(W+1)/2,ne=Math.abs(f.fa),oe=Math.abs(f.Ab);var Qe=Math.abs(f.Db),Ae=Math.abs(f.lb),ke=Ae*(W-1)+$;v&=ne*(W-1)+$<=f.Fd,v&=oe*(_e-1)+Y<=f.Cd,v=(v&=Qe*(_e-1)+Y<=f.Ed)&ne>=$&oe>=Y&Qe>=Y,v&=f.y!=null,v&=f.f!=null,v&=f.ea!=null,R==12&&(v&=Ae>=$,v&=ke<=f.Tc,v&=f.F!=null)}else v=0;f=v?0:2}}return f!=0||S!=null&&S.fd&&(f=Jc(U)),f}var xA=64,Rs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Hs=24,ho=32,Qa=8,fo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ee("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(f){return f},F.Predictor2=function(f,v,S){return v[S+0]},F.Predictor3=function(f,v,S){return v[S+1]},F.Predictor4=function(f,v,S){return v[S-1]},F.Predictor5=function(f,v,S){return Fe(Fe(f,v[S+1]),v[S+0])},F.Predictor6=function(f,v,S){return Fe(f,v[S-1])},F.Predictor7=function(f,v,S){return Fe(f,v[S+0])},F.Predictor8=function(f,v,S){return Fe(v[S-1],v[S+0])},F.Predictor9=function(f,v,S){return Fe(v[S+0],v[S+1])},F.Predictor10=function(f,v,S){return Fe(Fe(f,v[S-1]),Fe(v[S+0],v[S+1]))},F.Predictor11=function(f,v,S){var U=v[S+0];return 0>=$e(U>>24&255,f>>24&255,(v=v[S-1])>>24&255)+$e(U>>16&255,f>>16&255,v>>16&255)+$e(U>>8&255,f>>8&255,v>>8&255)+$e(255&U,255&f,255&v)?U:f},F.Predictor12=function(f,v,S){var U=v[S+0];return(Ke((f>>24&255)+(U>>24&255)-((v=v[S-1])>>24&255))<<24|Ke((f>>16&255)+(U>>16&255)-(v>>16&255))<<16|Ke((f>>8&255)+(U>>8&255)-(v>>8&255))<<8|Ke((255&f)+(255&U)-(255&v)))>>>0},F.Predictor13=function(f,v,S){var U=v[S-1];return(Te((f=Fe(f,v[S+0]))>>24&255,U>>24&255)<<24|Te(f>>16&255,U>>16&255)<<16|Te(f>>8&255,U>>8&255)<<8|Te(255&f,255&U))>>>0};var Xc=F.PredictorAdd0;F.PredictorAdd1=dt,Ee("Predictor2","PredictorAdd2"),Ee("Predictor3","PredictorAdd3"),Ee("Predictor4","PredictorAdd4"),Ee("Predictor5","PredictorAdd5"),Ee("Predictor6","PredictorAdd6"),Ee("Predictor7","PredictorAdd7"),Ee("Predictor8","PredictorAdd8"),Ee("Predictor9","PredictorAdd9"),Ee("Predictor10","PredictorAdd10"),Ee("Predictor11","PredictorAdd11"),Ee("Predictor12","PredictorAdd12"),Ee("Predictor13","PredictorAdd13");var _l=F.PredictorAdd2;ge("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),ge("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var qr,nh=F.ColorIndexInverseTransform,ca=F.MapARGB,ua=F.VP8LColorIndexInverseTransformAlpha,Yc=F.MapAlpha,Zc=F.VP8LPredictorsAdd=[];Zc.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var eu,tu,po,go,mo,_A,vo,CA,wi,da,tr,ur,Jr,gn,La,ru,Cl,sh,Mw,zw,Kw,$w,Vw,Gw,nu,Ww,qw,Jw,Xw=i(511),Yw=i(2041),Zw=i(225),e2=i(767),t2=0,Eg=Yw,ih=Zw,Ms=e2,yi=Xw,ah=0,oh=1,r2=2,Ah=3,lh=4,kg=5,n2=6,Ng=7,Fg=8,ch=9,jg=10,ek=[2,3,7],tk=[3,3,11],s2=[280,256,256,256,40],rk=[0,1,1,1,0],nk=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],sk=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ik=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ak=8,Ug=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ig=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],su=null,ok=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ak=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],i2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],lk=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ck=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],uk=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],dk=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],wo=[],Oi=[],Da=[],hk=1,a2=2,yo=[],bi=[];_s("UpsampleRgbLinePair",vA,3),_s("UpsampleBgrLinePair",wA,3),_s("UpsampleRgbaLinePair",Wc,4),_s("UpsampleBgraLinePair",Gc,4),_s("UpsampleArgbLinePair",bA,4),_s("UpsampleRgba4444LinePair",yA,2),_s("UpsampleRgb565LinePair",Jn,2);var fk=F.UpsampleRgbLinePair,pk=F.UpsampleBgrLinePair,o2=F.UpsampleRgbaLinePair,A2=F.UpsampleBgraLinePair,l2=F.UpsampleArgbLinePair,c2=F.UpsampleRgba4444LinePair,gk=F.UpsampleRgb565LinePair,uh=16,dh=1<<uh-1,iu=-227,Qg=482,u2=6,mk=(256<<u2)-1,d2=0,vk=i(256),wk=i(256),yk=i(256),bk=i(256),Bk=i(Qg-iu),xk=i(Qg-iu);Ia("YuvToRgbRow",vA,3),Ia("YuvToBgrRow",wA,3),Ia("YuvToRgbaRow",Wc,4),Ia("YuvToBgraRow",Gc,4),Ia("YuvToArgbRow",bA,4),Ia("YuvToRgba4444Row",yA,2),Ia("YuvToRgb565Row",Jn,2);var h2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],hh=[0,2,8],_k=[8,7,6,4,4,2,2,2,1,1,1,1],Ck=1;this.WebPDecodeRGBA=function(f,v,S,U,R){var $=oh,W=new Ne,Y=new at;W.ba=Y,Y.S=$,Y.width=[Y.width],Y.height=[Y.height];var ne=Y.width,oe=Y.height,_e=new Me;if(_e==null||f==null)var Qe=2;else e(_e!=null),Qe=BA(f,v,S,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(Qe!=0?ne=0:(ne!=null&&(ne[0]=_e.width[0]),oe!=null&&(oe[0]=_e.height[0]),ne=1),ne){Y.width=Y.width[0],Y.height=Y.height[0],U!=null&&(U[0]=Y.width),R!=null&&(R[0]=Y.height);e:{if(U=new Wr,(R=new He).data=f,R.w=v,R.ha=S,R.kd=1,v=[0],e(R!=null),((f=BA(R.data,R.w,R.ha,null,null,null,v,null,R))==0||f==7)&&v[0]&&(f=4),(v=f)==0){if(e(W!=null),U.data=R.data,U.w=R.w+R.offset,U.ha=R.ha-R.offset,U.put=St,U.ac=Vn,U.bc=Un,U.ma=W,R.xa){if((f=ka())==null){W=1;break e}if(function(Ae,ke){var je=[0],Oe=[0],Ie=[0];t:for(;;){if(Ae==null)return 0;if(ke==null)return Ae.a=2,0;if(Ae.l=ke,Ae.a=0,re(Ae.m,ke.data,ke.w,ke.ha),!Ls(Ae.m,je,Oe,Ie)){Ae.a=3;break t}if(Ae.xb=a2,ke.width=je[0],ke.height=Oe[0],!ci(je[0],Oe[0],1,Ae,null))break t;return 1}return e(Ae.a!=0),0}(f,U)){if(U=(v=uo(U.width,U.height,W.Oa,W.ba))==0){t:{U=f;r:for(;;){if(U==null){U=0;break t}if(e(U.s.yc!=null),e(U.s.Ya!=null),e(0<U.s.Wb),e((S=U.l)!=null),e((R=S.ma)!=null),U.xb!=0){if(U.ca=R.ba,U.tb=R.tb,e(U.ca!=null),!qc(R.Oa,S,Ah)){U.a=2;break r}if(!sa(U,S.width)||S.da)break r;if((S.da||Pe(U.ca.S))&&mi(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&mi()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!Q(U.s.vb,U.s.Wa.Xa)){U.a=1;break r}U.xb=0}if(!Bs(U,U.V,U.Ba,U.c,U.i,S.o,na))break r;R.Dc=U.Ma,U=1;break t}e(U.a!=0),U=0}U=!U}U&&(v=f.a)}else v=f.a}else{if((f=new Li)==null){W=1;break e}if(f.Fa=R.na,f.P=R.P,f.qc=R.Sa,ui(f,U)){if((v=uo(U.width,U.height,W.Oa,W.ba))==0){if(f.Aa=0,S=W.Oa,e((R=f)!=null),S!=null){if(0<(ne=0>(ne=S.Md)?0:100<ne?255:255*ne/100)){for(oe=_e=0;4>oe;++oe)12>(Qe=R.pb[oe]).lc&&(Qe.ia=ne*_k[0>Qe.lc?0:Qe.lc]>>3),_e|=Qe.ia;_e&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=S.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}(function(Ae,ke){if(Ae==null)return 0;if(ke==null)return Gt(Ae,2,"NULL VP8Io parameter in VP8Decode().");if(!Ae.cb&&!ui(Ae,ke))return 0;if(e(Ae.cb),ke.ac==null||ke.ac(ke)){ke.ob&&(Ae.L=0);var je=hh[Ae.L];if(Ae.L==2?(Ae.yb=0,Ae.zb=0):(Ae.yb=ke.v-je>>4,Ae.zb=ke.j-je>>4,0>Ae.yb&&(Ae.yb=0),0>Ae.zb&&(Ae.zb=0)),Ae.Va=ke.o+15+je>>4,Ae.Hb=ke.va+15+je>>4,Ae.Hb>Ae.za&&(Ae.Hb=Ae.za),Ae.Va>Ae.Ub&&(Ae.Va=Ae.Ub),0<Ae.L){var Oe=Ae.ed;for(je=0;4>je;++je){var Ie;if(Ae.Qa.Cb){var Re=Ae.Qa.Lb[je];Ae.Qa.Fb||(Re+=Oe.Tb)}else Re=Oe.Tb;for(Ie=0;1>=Ie;++Ie){var ze=Ae.gd[je][Ie],Ye=Re;if(Oe.Pc&&(Ye+=Oe.vd[0],Ie&&(Ye+=Oe.od[0])),0<(Ye=0>Ye?0:63<Ye?63:Ye)){var Ge=Ye;0<Oe.wb&&(Ge=4<Oe.wb?Ge>>2:Ge>>1)>9-Oe.wb&&(Ge=9-Oe.wb),1>Ge&&(Ge=1),ze.dd=Ge,ze.tc=2*Ye+Ge,ze.ld=40<=Ye?2:15<=Ye?1:0}else ze.tc=0;ze.La=Ie}}}je=0}else Gt(Ae,6,"Frame setup failed"),je=Ae.a;if(je=je==0){if(je){Ae.$c=0,0<Ae.Aa||(Ae.Ic=Ck);t:{je=Ae.Ic,Oe=4*(Ge=Ae.za);var xt=32*Ge,gt=Ge+1,Pt=0<Ae.L?Ge*(0<Ae.Aa?2:1):0,wt=(Ae.Aa==2?2:1)*Ge;if((ze=Oe+832+(Ie=3*(16*je+hh[Ae.L])/2*xt)+(Re=Ae.Fa!=null&&0<Ae.Fa.length?Ae.Kc.c*Ae.Kc.i:0))!=ze)je=0;else{if(ze>Ae.Vb){if(Ae.Vb=0,Ae.Ec=i(ze),Ae.Fc=0,Ae.Ec==null){je=Gt(Ae,1,"no memory during frame initialization.");break t}Ae.Vb=ze}ze=Ae.Ec,Ye=Ae.Fc,Ae.Ac=ze,Ae.Bc=Ye,Ye+=Oe,Ae.Gd=a(xt,Ht),Ae.Hd=0,Ae.rb=a(gt+1,er),Ae.sb=1,Ae.wa=Pt?a(Pt,$t):null,Ae.Y=0,Ae.D.Nb=0,Ae.D.wa=Ae.wa,Ae.D.Y=Ae.Y,0<Ae.Aa&&(Ae.D.Y+=Ge),e(!0),Ae.oc=ze,Ae.pc=Ye,Ye+=832,Ae.ya=a(wt,At),Ae.aa=0,Ae.D.ya=Ae.ya,Ae.D.aa=Ae.aa,Ae.Aa==2&&(Ae.D.aa+=Ge),Ae.R=16*Ge,Ae.B=8*Ge,Ge=(xt=hh[Ae.L])*Ae.R,xt=xt/2*Ae.B,Ae.sa=ze,Ae.ta=Ye+Ge,Ae.qa=Ae.sa,Ae.ra=Ae.ta+16*je*Ae.R+xt,Ae.Ha=Ae.qa,Ae.Ia=Ae.ra+8*je*Ae.B+xt,Ae.$c=0,Ye+=Ie,Ae.mb=Re?ze:null,Ae.nb=Re?Ye:null,e(Ye+Re<=Ae.Fc+Ae.Vb),di(Ae),s(Ae.Ac,Ae.Bc,0,Oe),je=1}}if(je){if(ke.ka=0,ke.y=Ae.sa,ke.O=Ae.ta,ke.f=Ae.qa,ke.N=Ae.ra,ke.ea=Ae.Ha,ke.Vd=Ae.Ia,ke.fa=Ae.R,ke.Rc=Ae.B,ke.F=null,ke.J=0,!t2){for(je=-255;255>=je;++je)Xw[255+je]=0>je?-je:je;for(je=-1020;1020>=je;++je)Yw[1020+je]=-128>je?-128:127<je?127:je;for(je=-112;112>=je;++je)Zw[112+je]=-16>je?-16:15<je?15:je;for(je=-255;510>=je;++je)e2[255+je]=0>je?0:255<je?255:je;t2=1}vo=qn,CA=Rr,da=Os,tr=xr,ur=Hr,wi=Qt,Jr=fA,gn=pA,La=x,ru=P,Cl=la,sh=eh,Mw=ue,zw=be,Kw=gr,$w=pi,Vw=Ua,Gw=Pi,Oi[0]=ml,Oi[1]=Cn,Oi[2]=pl,Oi[3]=gl,Oi[4]=vl,Oi[5]=fi,Oi[6]=hi,Oi[7]=wl,Oi[8]=Na,Oi[9]=yl,wo[0]=Ti,wo[1]=dl,wo[2]=hl,wo[3]=oo,wo[4]=fl,wo[5]=oa,wo[6]=Ao,Da[0]=ja,Da[1]=ia,Da[2]=lo,Da[3]=Aa,Da[4]=ot,Da[5]=bl,Da[6]=It,je=1}else je=0}je&&(je=function(zt,mn){for(zt.M=0;zt.M<zt.Va;++zt.M){var Ot,yt=zt.Jc[zt.M&zt.Xb],nt=zt.m,Xr=zt;for(Ot=0;Ot<Xr.za;++Ot){var Tt=nt,Vt=Xr,Cr=Vt.Ac,Ln=Vt.Bc+4*Ot,ls=Vt.zc,Kr=Vt.ya[Vt.aa+Ot];if(Vt.Qa.Bb?Kr.$b=he(Tt,Vt.Pa.jb[0])?2+he(Tt,Vt.Pa.jb[2]):he(Tt,Vt.Pa.jb[1]):Kr.$b=0,Vt.kc&&(Kr.Ad=he(Tt,Vt.Bd)),Kr.Za=!he(Tt,145)+0,Kr.Za){var Xn=Kr.Ob,cs=0;for(Vt=0;4>Vt;++Vt){var vn,Wt=ls[0+Vt];for(vn=0;4>vn;++vn){Wt=ck[Cr[Ln+vn]][Wt];for(var sr=i2[he(Tt,Wt[0])];0<sr;)sr=i2[2*sr+he(Tt,Wt[sr])];Wt=-sr,Cr[Ln+vn]=Wt}n(Xn,cs,Cr,Ln,4),cs+=4,ls[0+Vt]=Wt}}else Wt=he(Tt,156)?he(Tt,128)?1:3:he(Tt,163)?2:0,Kr.Ob[0]=Wt,s(Cr,Ln,Wt,4),s(ls,0,Wt,4);Kr.Dd=he(Tt,142)?he(Tt,114)?he(Tt,183)?1:3:2:0}if(Xr.m.Ka)return Gt(zt,7,"Premature end-of-partition0 encountered.");for(;zt.ja<zt.za;++zt.ja){if(Xr=yt,Tt=(nt=zt).rb[nt.sb-1],Cr=nt.rb[nt.sb+nt.ja],Ot=nt.ya[nt.aa+nt.ja],Ln=nt.kc?Ot.Ad:0)Tt.la=Cr.la=0,Ot.Za||(Tt.Na=Cr.Na=0),Ot.Hc=0,Ot.Gc=0,Ot.ia=0;else{var $r,ir;if(Tt=Cr,Cr=Xr,Ln=nt.Pa.Xc,ls=nt.ya[nt.aa+nt.ja],Kr=nt.pb[ls.$b],Vt=ls.ad,Xn=0,cs=nt.rb[nt.sb-1],Wt=vn=0,s(Vt,Xn,0,384),ls.Za)var Dn=0,Ri=Ln[3];else{sr=i(16);var Yr=Tt.Na+cs.Na;if(Yr=su(Cr,Ln[1],Yr,Kr.Eb,0,sr,0),Tt.Na=cs.Na=(0<Yr)+0,1<Yr)vo(sr,0,Vt,Xn);else{var Cs=sr[0]+3>>3;for(sr=0;256>sr;sr+=16)Vt[Xn+sr]=Cs}Dn=1,Ri=Ln[0]}var dr=15&Tt.la,wn=15&cs.la;for(sr=0;4>sr;++sr){var zs=1&wn;for(Cs=ir=0;4>Cs;++Cs)dr=dr>>1|(zs=(Yr=su(Cr,Ri,Yr=zs+(1&dr),Kr.Sc,Dn,Vt,Xn))>Dn)<<7,ir=ir<<2|(3<Yr?3:1<Yr?2:Vt[Xn+0]!=0),Xn+=16;dr>>=4,wn=wn>>1|zs<<7,vn=(vn<<8|ir)>>>0}for(Ri=dr,Dn=wn>>4,$r=0;4>$r;$r+=2){for(ir=0,dr=Tt.la>>4+$r,wn=cs.la>>4+$r,sr=0;2>sr;++sr){for(zs=1&wn,Cs=0;2>Cs;++Cs)Yr=zs+(1&dr),dr=dr>>1|(zs=0<(Yr=su(Cr,Ln[2],Yr,Kr.Qc,0,Vt,Xn)))<<3,ir=ir<<2|(3<Yr?3:1<Yr?2:Vt[Xn+0]!=0),Xn+=16;dr>>=2,wn=wn>>1|zs<<5}Wt|=ir<<4*$r,Ri|=dr<<4<<$r,Dn|=(240&wn)<<$r}Tt.la=Ri,cs.la=Dn,ls.Hc=vn,ls.Gc=Wt,ls.ia=43690&Wt?0:Kr.ia,Ln=!(vn|Wt)}if(0<nt.L&&(nt.wa[nt.Y+nt.ja]=nt.gd[Ot.$b][Ot.Za],nt.wa[nt.Y+nt.ja].La|=!Ln),Xr.Ka)return Gt(zt,7,"Premature end-of-file encountered.")}if(di(zt),nt=mn,Xr=1,Ot=(yt=zt).D,Tt=0<yt.L&&yt.M>=yt.zb&&yt.M<=yt.Va,yt.Aa==0)t:{if(Ot.M=yt.M,Ot.uc=Tt,vi(yt,Ot),Xr=1,Ot=(ir=yt.D).Nb,Tt=(Wt=hh[yt.L])*yt.R,Cr=Wt/2*yt.B,sr=16*Ot*yt.R,Cs=8*Ot*yt.B,Ln=yt.sa,ls=yt.ta-Tt+sr,Kr=yt.qa,Vt=yt.ra-Cr+Cs,Xn=yt.Ha,cs=yt.Ia-Cr+Cs,wn=(dr=ir.M)==0,vn=dr>=yt.Va-1,yt.Aa==2&&vi(yt,ir),ir.uc)for(zs=(Yr=yt).D.M,e(Yr.D.uc),ir=Yr.yb;ir<Yr.Hb;++ir){Dn=ir,Ri=zs;var us=(Ks=(Tn=Yr).D).Nb;$r=Tn.R;var Ks=Ks.wa[Ks.Y+Dn],$s=Tn.sa,Ss=Tn.ta+16*us*$r+16*Dn,Vs=Ks.dd,vr=Ks.tc;if(vr!=0)if(e(3<=vr),Tn.L==1)0<Dn&&$w($s,Ss,$r,vr+4),Ks.La&&Gw($s,Ss,$r,vr),0<Ri&&Kw($s,Ss,$r,vr+4),Ks.La&&Vw($s,Ss,$r,vr);else{var Gs=Tn.B,Hi=Tn.qa,SA=Tn.ra+8*us*Gs+8*Dn,Ta=Tn.Ha,Tn=Tn.Ia+8*us*Gs+8*Dn;us=Ks.ld,0<Dn&&(gn($s,Ss,$r,vr+4,Vs,us),ru(Hi,SA,Ta,Tn,Gs,vr+4,Vs,us)),Ks.La&&(sh($s,Ss,$r,vr,Vs,us),zw(Hi,SA,Ta,Tn,Gs,vr,Vs,us)),0<Ri&&(Jr($s,Ss,$r,vr+4,Vs,us),La(Hi,SA,Ta,Tn,Gs,vr+4,Vs,us)),Ks.La&&(Cl($s,Ss,$r,vr,Vs,us),Mw(Hi,SA,Ta,Tn,Gs,vr,Vs,us))}}if(yt.ia&&alert("todo:DitherRow"),nt.put!=null){if(ir=16*dr,dr=16*(dr+1),wn?(nt.y=yt.sa,nt.O=yt.ta+sr,nt.f=yt.qa,nt.N=yt.ra+Cs,nt.ea=yt.Ha,nt.W=yt.Ia+Cs):(ir-=Wt,nt.y=Ln,nt.O=ls,nt.f=Kr,nt.N=Vt,nt.ea=Xn,nt.W=cs),vn||(dr-=Wt),dr>nt.o&&(dr=nt.o),nt.F=null,nt.J=null,yt.Fa!=null&&0<yt.Fa.length&&ir<dr&&(nt.J=An(yt,nt,ir,dr-ir),nt.F=yt.mb,nt.F==null&&nt.F.length==0)){Xr=Gt(yt,3,"Could not decode alpha data.");break t}ir<nt.j&&(Wt=nt.j-ir,ir=nt.j,e(!(1&Wt)),nt.O+=yt.R*Wt,nt.N+=yt.B*(Wt>>1),nt.W+=yt.B*(Wt>>1),nt.F!=null&&(nt.J+=nt.width*Wt)),ir<dr&&(nt.O+=nt.v,nt.N+=nt.v>>1,nt.W+=nt.v>>1,nt.F!=null&&(nt.J+=nt.v),nt.ka=ir-nt.j,nt.U=nt.va-nt.v,nt.T=dr-ir,Xr=nt.put(nt))}Ot+1!=yt.Ic||vn||(n(yt.sa,yt.ta-Tt,Ln,ls+16*yt.R,Tt),n(yt.qa,yt.ra-Cr,Kr,Vt+8*yt.B,Cr),n(yt.Ha,yt.Ia-Cr,Xn,cs+8*yt.B,Cr))}if(!Xr)return Gt(zt,6,"Output aborted.")}return 1}(Ae,ke)),ke.bc!=null&&ke.bc(ke),je&=1}return je?(Ae.cb=0,je):0})(f,U)||(v=f.a)}}else v=f.a}v==0&&W.Oa!=null&&W.Oa.fd&&(v=Jc(W.ba))}W=v}$=W!=0?null:11>$?Y.f.RGBA.eb:Y.f.kb.y}else $=null;return $};var f2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(F,K){for(var I="",j=0;j<4;j++)I+=String.fromCharCode(F[K++]);return I}function u(F,K){return F[K+0]|F[K+1]<<8}function h(F,K){return(F[K+0]|F[K+1]<<8|F[K+2]<<16)>>>0}function p(F,K){return(F[K+0]|F[K+1]<<8|F[K+2]<<16|F[K+3]<<24)>>>0}new l;var d=[0],w=[0],m=[],b=new l,g=t,y=function(F,K){var I={},j=0,H=!1,C=0,te=0;if(I.frames=[],!function(k,z){for(var V=0;V<4;V++)if(k[z+V]!="RIFF".charCodeAt(V))return!0;return!1}(F,K)){for(p(F,K+=4),K+=8;K<F.length;){var ve=c(F,K),ce=p(F,K+=4);K+=4;var ie=ce+(1&ce);switch(ve){case"VP8 ":case"VP8L":I.frames[j]===void 0&&(I.frames[j]={}),(se=I.frames[j]).src_off=H?te:K-8,se.src_size=C+ce+8,j++,H&&(H=!1,C=0,te=0);break;case"VP8X":(se=I.header={}).feature_flags=F[K];var re=K+4;se.canvas_width=1+h(F,re),re+=3,se.canvas_height=1+h(F,re),re+=3;break;case"ALPH":H=!0,C=ie+8,te=K-8;break;case"ANIM":(se=I.header).bgcolor=p(F,K),re=K+4,se.loop_count=u(F,re),re+=2;break;case"ANMF":var Be,se;(se=I.frames[j]={}).offset_x=2*h(F,K),K+=3,se.offset_y=2*h(F,K),K+=3,se.width=1+h(F,K),K+=3,se.height=1+h(F,K),K+=3,se.duration=h(F,K),K+=3,Be=F[K++],se.dispose=1&Be,se.blend=Be>>1&1}ve!="ANMF"&&(K+=ie)}return I}}(g,0);y.response=g,y.rgbaoutput=!0,y.dataurl=!1;var B=y.header?y.header:null,_=y.frames?y.frames:null;if(B){B.loop_counter=B.loop_count,d=[B.canvas_height],w=[B.canvas_width];for(var N=0;N<_.length&&_[N].blend!=0;N++);}var D=_[0],T=b.WebPDecodeRGBA(g,D.src_off,D.src_size,w,d);D.rgba=T,D.imgwidth=w[0],D.imgheight=d[0];for(var O=0;O<w[0]*d[0]*4;O++)m[O]=T[O];return this.width=w,this.height=d,this.data=m,this}(function(t){var e,r,n,s,i,a,A,l,c,u=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new l,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new a,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new a,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,A=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=k;Object.defineProperty(this,"pdf",{get:function(){return z}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(E){V=!!E}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(E){G=!!E}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(E){isNaN(E)||(de=E)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(E){isNaN(E)||(ye=E)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(E){var Q;typeof E=="number"?Q=[E,E,E,E]:((Q=new Array(4))[0]=E[0],Q[1]=E.length>=2?E[1]:Q[0],Q[2]=E.length>=3?E[2]:Q[0],Q[3]=E.length>=4?E[3]:Q[1]),c.margin=Q}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(E){we=E}});var Z=0;Object.defineProperty(this,"lastBreak",{get:function(){return Z},set:function(E){Z=E}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(E){he=E}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(E){E instanceof u&&(c=E)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(E){c.path=E}});var le=[];Object.defineProperty(this,"ctxStack",{get:function(){return le},set:function(E){le=E}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(E){var Q;Q=p(E),this.ctx.fillStyle=Q.style,this.ctx.isFillTransparent=Q.a===0,this.ctx.fillOpacity=Q.a,this.pdf.setFillColor(Q.r,Q.g,Q.b,{a:Q.a}),this.pdf.setTextColor(Q.r,Q.g,Q.b,{a:Q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(E){var Q=p(E);this.ctx.strokeStyle=Q.style,this.ctx.isStrokeTransparent=Q.a===0,this.ctx.strokeOpacity=Q.a,Q.a===0?this.pdf.setDrawColor(255,255,255):(Q.a,this.pdf.setDrawColor(Q.r,Q.g,Q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(E){["butt","round","square"].indexOf(E)!==-1&&(this.ctx.lineCap=E,this.pdf.setLineCap(E))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(E){isNaN(E)||(this.ctx.lineWidth=E,this.pdf.setLineWidth(E))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(E){["bevel","round","miter"].indexOf(E)!==-1&&(this.ctx.lineJoin=E,this.pdf.setLineJoin(E))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(E){isNaN(E)||(this.ctx.miterLimit=E,this.pdf.setMiterLimit(E))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(E){this.ctx.textBaseline=E}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(E){["right","end","center","left","start"].indexOf(E)!==-1&&(this.ctx.textAlign=E)}});var ae=null,Se=null;Object.defineProperty(this,"fontFaces",{get:function(){return Se},set:function(E){ae=null,Se=E}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(E){var Q;if(this.ctx.font=E,(Q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(E))!==null){var pe=Q[1];Q[2];var ee=Q[3],J=Q[4];Q[5];var q=Q[6],Ce=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(J)[2];J=Math.floor(Ce==="px"?parseFloat(J)*this.pdf.internal.scaleFactor:Ce==="em"?parseFloat(J)*this.pdf.getFontSize():parseFloat(J)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(J);var Ee=function(M){var ge,Le,Ue=[],qe=M.trim();if(qe==="")return Jm;if(qe in jB)return[jB[qe]];for(;qe!=="";){switch(Le=null,ge=(qe=IB(qe)).charAt(0)){case'"':case"'":Le=xD(qe.substring(1),ge);break;default:Le=_D(qe)}if(Le===null||(Ue.push(Le[0]),(qe=IB(Le[1]))!==""&&qe.charAt(0)!==","))return Jm;qe=qe.replace(/^,/,"")}return Ue}(q);if(this.fontFaces){var xe=function(M,ge){if(ae===null){var Le=function(Ue){var qe=[];return Object.keys(Ue).forEach(function(rt){Ue[rt].forEach(function(st){var it=null;switch(st){case"bold":it={family:rt,weight:"bold"};break;case"italic":it={family:rt,style:"italic"};break;case"bolditalic":it={family:rt,weight:"bold",style:"italic"};break;case"":case"normal":it={family:rt}}it!==null&&(it.ref={name:rt,style:st},qe.push(it))})}),qe}(M.getFontList());ae=function(Ue){for(var qe={},rt=0;rt<Ue.length;++rt){var st=qm(Ue[rt]),it=st.family,me=st.stretch,Pe=st.style,Xe=st.weight;qe[it]=qe[it]||{},qe[it][me]=qe[it][me]||{},qe[it][me][Pe]=qe[it][me][Pe]||{},qe[it][me][Pe][Xe]=st}return qe}(Le.concat(ge))}return ae}(this.pdf,this.fontFaces),Fe=Ee.map(function(M){return{family:M,stretch:"normal",weight:ee,style:pe}}),Ke=function(M,ge,Le){for(var Ue=(Le=Le||{}).defaultFontFamily||"times",qe=Object.assign({},BD,Le.genericFontFamilies||{}),rt=null,st=null,it=0;it<ge.length;++it)if(qe[(rt=qm(ge[it])).family]&&(rt.family=qe[rt.family]),M.hasOwnProperty(rt.family)){st=M[rt.family];break}if(!(st=st||M[Ue]))throw new Error("Could not find a font-family for the rule '"+UB(rt)+"' and default family '"+Ue+"'.");if(st=function(me,Pe){if(Pe[me])return Pe[me];var Xe=W1[me],et=Xe<=W1.normal?-1:1,at=FB(Pe,KS,Xe,et);if(!at)throw new Error("Could not find a matching font-stretch value for "+me);return at}(rt.stretch,st),st=function(me,Pe){if(Pe[me])return Pe[me];for(var Xe=zS[me],et=0;et<Xe.length;++et)if(Pe[Xe[et]])return Pe[Xe[et]];throw new Error("Could not find a matching font-style for "+me)}(rt.style,st),!(st=function(me,Pe){if(Pe[me])return Pe[me];if(me===400&&Pe[500])return Pe[500];if(me===500&&Pe[400])return Pe[400];var Xe=bD[me],et=FB(Pe,$S,Xe,me<400?-1:1);if(!et)throw new Error("Could not find a matching font-weight for value "+me);return et}(rt.weight,st)))throw new Error("Failed to resolve a font for the rule '"+UB(rt)+"'.");return st}(xe,Fe);this.pdf.setFont(Ke.ref.name,Ke.ref.style)}else{var Te="";(ee==="bold"||parseInt(ee,10)>=700||pe==="bold")&&(Te="bold"),pe==="italic"&&(Te+="italic"),Te.length===0&&(Te="normal");for(var $e="",dt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},tt=0;tt<Ee.length;tt++){if(this.pdf.internal.getFont(Ee[tt],Te,{noFallback:!0,disableWarning:!0})!==void 0){$e=Ee[tt];break}if(Te==="bolditalic"&&this.pdf.internal.getFont(Ee[tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)$e=Ee[tt],Te="bold";else if(this.pdf.internal.getFont(Ee[tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){$e=Ee[tt],Te="normal";break}}if($e===""){for(var Je=0;Je<Ee.length;Je++)if(dt[Ee[Je]]){$e=dt[Ee[Je]];break}}$e=$e===""?"Times":$e,this.pdf.setFont($e,Te)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(E){this.ctx.globalCompositeOperation=E}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(E){this.ctx.globalAlpha=E}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(E){this.ctx.lineDashOffset=E,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(E){this.ctx.lineDash=E,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(E){this.ctx.ignoreClearRect=!!E}})};h.prototype.setLineDash=function(k){this.lineDash=k},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){_.call(this,"fill",!1)},h.prototype.stroke=function(){_.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(k,z){if(isNaN(k)||isNaN(z))throw hr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new a(k,z));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(k,z)},h.prototype.closePath=function(){var k=new a(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&or(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){k=new a(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(k.x,k.y)},h.prototype.lineTo=function(k,z){if(isNaN(k)||isNaN(z))throw hr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new a(k,z));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(V.x,V.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},h.prototype.quadraticCurveTo=function(k,z,V,G){if(isNaN(V)||isNaN(G)||isNaN(k)||isNaN(z))throw hr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new a(V,G)),ye=this.ctx.transform.applyToPoint(new a(k,z));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:de.x,y:de.y}),this.ctx.lastPoint=new a(de.x,de.y)},h.prototype.bezierCurveTo=function(k,z,V,G,de,ye){if(isNaN(de)||isNaN(ye)||isNaN(k)||isNaN(z)||isNaN(V)||isNaN(G))throw hr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new a(de,ye)),Z=this.ctx.transform.applyToPoint(new a(k,z)),he=this.ctx.transform.applyToPoint(new a(V,G));this.path.push({type:"bct",x1:Z.x,y1:Z.y,x2:he.x,y2:he.y,x:we.x,y:we.y}),this.ctx.lastPoint=new a(we.x,we.y)},h.prototype.arc=function(k,z,V,G,de,ye){if(isNaN(k)||isNaN(z)||isNaN(V)||isNaN(G)||isNaN(de))throw hr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new a(k,z));k=we.x,z=we.y;var Z=this.ctx.transform.applyToPoint(new a(0,V)),he=this.ctx.transform.applyToPoint(new a(0,0));V=Math.sqrt(Math.pow(Z.x-he.x,2)+Math.pow(Z.y-he.y,2))}Math.abs(de-G)>=2*Math.PI&&(G=0,de=2*Math.PI),this.path.push({type:"arc",x:k,y:z,radius:V,startAngle:G,endAngle:de,counterclockwise:ye})},h.prototype.arcTo=function(k,z,V,G,de){throw new Error("arcTo not implemented.")},h.prototype.rect=function(k,z,V,G){if(isNaN(k)||isNaN(z)||isNaN(V)||isNaN(G))throw hr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,z),this.lineTo(k+V,z),this.lineTo(k+V,z+G),this.lineTo(k,z+G),this.lineTo(k,z),this.lineTo(k+V,z),this.lineTo(k,z)},h.prototype.fillRect=function(k,z,V,G){if(isNaN(k)||isNaN(z)||isNaN(V)||isNaN(G))throw hr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,z,V,G),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},h.prototype.strokeRect=function(k,z,V,G){if(isNaN(k)||isNaN(z)||isNaN(V)||isNaN(G))throw hr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(k,z,V,G),this.stroke())},h.prototype.clearRect=function(k,z,V,G){if(isNaN(k)||isNaN(z)||isNaN(V)||isNaN(G))throw hr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,z,V,G))},h.prototype.save=function(k){k=typeof k!="boolean"||k;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},h.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(z),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(k){var z,V,G,de;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))z=0,V=0,G=0,de=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(ye!==null)z=parseInt(ye[1]),V=parseInt(ye[2]),G=parseInt(ye[3]),de=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)z=parseInt(ye[1]),V=parseInt(ye[2]),G=parseInt(ye[3]),de=parseFloat(ye[4]);else{if(de=1,typeof k=="string"&&k.charAt(0)!=="#"){var we=new DS(k);k=we.ok?we.toHex():"#000000"}k.length===4?(z=k.substring(1,2),z+=z,V=k.substring(2,3),V+=V,G=k.substring(3,4),G+=G):(z=k.substring(1,3),V=k.substring(3,5),G=k.substring(5,7)),z=parseInt(z,16),V=parseInt(V,16),G=parseInt(G,16)}}return{r:z,g:V,b:G,a:de,style:k}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(k,z,V,G){if(isNaN(z)||isNaN(V)||typeof k!="string")throw hr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!d.call(this)){var de=ie(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;j.call(this,{text:k,x:z,y:V,scale:ye,angle:de,align:this.textAlign,maxWidth:G})}},h.prototype.strokeText=function(k,z,V,G){if(isNaN(z)||isNaN(V)||typeof k!="string")throw hr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){G=isNaN(G)?void 0:G;var de=ie(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;j.call(this,{text:k,x:z,y:V,scale:ye,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:G})}},h.prototype.measureText=function(k){if(typeof k!="string")throw hr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,V=this.pdf.internal.scaleFactor,G=z.internal.getFontSize(),de=z.getStringUnitWidth(k)*G/z.internal.scaleFactor;return new function(ye){var we=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this}({width:de*=Math.round(96*V/72*1e4)/1e4})},h.prototype.scale=function(k,z){if(isNaN(k)||isNaN(z))throw hr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(k,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.rotate=function(k){if(isNaN(k))throw hr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},h.prototype.translate=function(k,z){if(isNaN(k)||isNaN(z))throw hr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,k,z);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.transform=function(k,z,V,G,de,ye){if(isNaN(k)||isNaN(z)||isNaN(V)||isNaN(G)||isNaN(de)||isNaN(ye))throw hr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new l(k,z,V,G,de,ye);this.ctx.transform=this.ctx.transform.multiply(we)},h.prototype.setTransform=function(k,z,V,G,de,ye){k=isNaN(k)?1:k,z=isNaN(z)?0:z,V=isNaN(V)?0:V,G=isNaN(G)?1:G,de=isNaN(de)?0:de,ye=isNaN(ye)?0:ye,this.ctx.transform=new l(k,z,V,G,de,ye)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(k,z,V,G,de,ye,we,Z,he){var le=this.pdf.getImageProperties(k),ae=1,Se=1,E=1,Q=1;G!==void 0&&Z!==void 0&&(E=Z/G,Q=he/de,ae=le.width/G*Z/G,Se=le.height/de*he/de),ye===void 0&&(ye=z,we=V,z=0,V=0),G!==void 0&&Z===void 0&&(Z=G,he=de),G===void 0&&Z===void 0&&(Z=le.width,he=le.height);for(var pe,ee=this.ctx.transform.decompose(),J=ie(ee.rotate.shx),q=new l,Ce=(q=(q=(q=q.multiply(ee.translate)).multiply(ee.skew)).multiply(ee.scale)).applyToRectangle(new A(ye-z*E,we-V*Q,G*ae,de*Se)),Ee=b.call(this,Ce),xe=[],Fe=0;Fe<Ee.length;Fe+=1)xe.indexOf(Ee[Fe])===-1&&xe.push(Ee[Fe]);if(B(xe),this.autoPaging)for(var Ke=xe[0],Te=xe[xe.length-1],$e=Ke;$e<Te+1;$e++){this.pdf.setPage($e);var dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tt=$e===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],M=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ge=$e===1?0:Je+($e-2)*M;if(this.ctx.clip_path.length!==0){var Le=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(pe,this.posX+this.margin[3],-ge+tt+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Le}var Ue=JSON.parse(JSON.stringify(Ce));Ue=y([Ue],this.posX+this.margin[3],-ge+tt+this.ctx.prevPageLastElemOffset)[0];var qe=($e>Ke||$e<Te)&&m.call(this);qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,M,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Ue.x,Ue.y,Ue.w,Ue.h,null,null,J),qe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",Ce.x,Ce.y,Ce.w,Ce.h,null,null,J)};var b=function(k,z,V){var G=[];z=z||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":G.push(Math.floor((k.y+de)/V)+1);break;case"arc":G.push(Math.floor((k.y+de-k.radius)/V)+1),G.push(Math.floor((k.y+de+k.radius)/V)+1);break;case"qct":var ye=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);G.push(Math.floor((ye.y+de)/V)+1),G.push(Math.floor((ye.y+ye.h+de)/V)+1);break;case"bct":var we=Be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);G.push(Math.floor((we.y+de)/V)+1),G.push(Math.floor((we.y+we.h+de)/V)+1);break;case"rect":G.push(Math.floor((k.y+de)/V)+1),G.push(Math.floor((k.y+k.h+de)/V)+1)}for(var Z=0;Z<G.length;Z+=1)for(;this.pdf.internal.getNumberOfPages()<G[Z];)g.call(this);return G},g=function(){var k=this.fillStyle,z=this.strokeStyle,V=this.font,G=this.lineCap,de=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=z,this.font=V,this.lineCap=G,this.lineWidth=de,this.lineJoin=ye},y=function(k,z,V){for(var G=0;G<k.length;G++)switch(k[G].type){case"bct":k[G].x2+=z,k[G].y2+=V;case"qct":k[G].x1+=z,k[G].y1+=V;default:k[G].x+=z,k[G].y+=V}return k},B=function(k){return k.sort(function(z,V){return z-V})},_=function(k,z){for(var V,G,de=this.fillStyle,ye=this.strokeStyle,we=this.lineCap,Z=this.lineWidth,he=Math.abs(Z*this.ctx.transform.scaleX),le=this.lineJoin,ae=JSON.parse(JSON.stringify(this.path)),Se=JSON.parse(JSON.stringify(this.path)),E=[],Q=0;Q<Se.length;Q++)if(Se[Q].x!==void 0)for(var pe=b.call(this,Se[Q]),ee=0;ee<pe.length;ee+=1)E.indexOf(pe[ee])===-1&&E.push(pe[ee]);for(var J=0;J<E.length;J++)for(;this.pdf.internal.getNumberOfPages()<E[J];)g.call(this);if(B(E),this.autoPaging)for(var q=E[0],Ce=E[E.length-1],Ee=q;Ee<Ce+1;Ee++){this.pdf.setPage(Ee),this.fillStyle=de,this.strokeStyle=ye,this.lineCap=we,this.lineWidth=he,this.lineJoin=le;var xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Fe=Ee===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Te=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=Ee===1?0:Ke+(Ee-2)*Te;if(this.ctx.clip_path.length!==0){var dt=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(V,this.posX+this.margin[3],-$e+Fe+this.ctx.prevPageLastElemOffset),N.call(this,k,!0),this.path=dt}if(G=JSON.parse(JSON.stringify(ae)),this.path=y(G,this.posX+this.margin[3],-$e+Fe+this.ctx.prevPageLastElemOffset),z===!1||Ee===0){var tt=(Ee>q||Ee<Ce)&&m.call(this);tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xe,Te,null).clip().discardPath()),N.call(this,k,z),tt&&this.pdf.restoreGraphicsState()}this.lineWidth=Z}else this.lineWidth=he,N.call(this,k,z),this.lineWidth=Z;this.path=ae},N=function(k,z){if((k!=="stroke"||z||!w.call(this))&&(k==="stroke"||z||!d.call(this))){for(var V,G,de=[],ye=this.path,we=0;we<ye.length;we++){var Z=ye[we];switch(Z.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:Z,deltas:[],abs:[]});break;case"lt":var he=de.length;if(ye[we-1]&&!isNaN(ye[we-1].x)&&(V=[Z.x-ye[we-1].x,Z.y-ye[we-1].y],he>0)){for(;he>=0;he--)if(de[he-1].close!==!0&&de[he-1].begin!==!0){de[he-1].deltas.push(V),de[he-1].abs.push(Z);break}}break;case"bct":V=[Z.x1-ye[we-1].x,Z.y1-ye[we-1].y,Z.x2-ye[we-1].x,Z.y2-ye[we-1].y,Z.x-ye[we-1].x,Z.y-ye[we-1].y],de[de.length-1].deltas.push(V);break;case"qct":var le=ye[we-1].x+2/3*(Z.x1-ye[we-1].x),ae=ye[we-1].y+2/3*(Z.y1-ye[we-1].y),Se=Z.x+2/3*(Z.x1-Z.x),E=Z.y+2/3*(Z.y1-Z.y),Q=Z.x,pe=Z.y;V=[le-ye[we-1].x,ae-ye[we-1].y,Se-ye[we-1].x,E-ye[we-1].y,Q-ye[we-1].x,pe-ye[we-1].y],de[de.length-1].deltas.push(V);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(Z)}}G=z?null:k==="stroke"?"stroke":"fill";for(var ee=!1,J=0;J<de.length;J++)if(de[J].arc)for(var q=de[J].abs,Ce=0;Ce<q.length;Ce++){var Ee=q[Ce];Ee.type==="arc"?O.call(this,Ee.x,Ee.y,Ee.radius,Ee.startAngle,Ee.endAngle,Ee.counterclockwise,void 0,z,!ee):H.call(this,Ee.x,Ee.y),ee=!0}else if(de[J].close===!0)this.pdf.internal.out("h"),ee=!1;else if(de[J].begin!==!0){var xe=de[J].start.x,Fe=de[J].start.y;C.call(this,de[J].deltas,xe,Fe),ee=!0}G&&F.call(this,G),z&&K.call(this)}},D=function(k){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-V;case"top":return k+z-V;case"hanging":return k+z-2*V;case"middle":return k+z/2-V;default:return k}},T=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(z,V){this.colorStops.push([z,V])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(k,z,V,G,de,ye,we,Z,he){for(var le=ve.call(this,V,G,de,ye),ae=0;ae<le.length;ae++){var Se=le[ae];ae===0&&(he?I.call(this,Se.x1+k,Se.y1+z):H.call(this,Se.x1+k,Se.y1+z)),te.call(this,k,z,Se.x2,Se.y2,Se.x3,Se.y3,Se.x4,Se.y4)}Z?K.call(this):F.call(this,we)},F=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(k,z){this.pdf.internal.out(r(k)+" "+n(z)+" m")},j=function(k){var z;switch(k.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var V=this.pdf.getTextDimensions(k.text),G=D.call(this,k.y),de=T.call(this,G)-V.h,ye=this.ctx.transform.applyToPoint(new a(k.x,G)),we=this.ctx.transform.decompose(),Z=new l;Z=(Z=(Z=Z.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var he,le,ae,Se=this.ctx.transform.applyToRectangle(new A(k.x,G,V.w,V.h)),E=Z.applyToRectangle(new A(k.x,de,V.w,V.h)),Q=b.call(this,E),pe=[],ee=0;ee<Q.length;ee+=1)pe.indexOf(Q[ee])===-1&&pe.push(Q[ee]);if(B(pe),this.autoPaging)for(var J=pe[0],q=pe[pe.length-1],Ce=J;Ce<q+1;Ce++){this.pdf.setPage(Ce);var Ee=Ce===1?this.posY+this.margin[0]:this.margin[0],xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fe=this.pdf.internal.pageSize.height-this.margin[2],Ke=Fe-this.margin[0],Te=this.pdf.internal.pageSize.width-this.margin[1],$e=Te-this.margin[3],dt=Ce===1?0:xe+(Ce-2)*Ke;if(this.ctx.clip_path.length!==0){var tt=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(he,this.posX+this.margin[3],-1*dt+Ee),N.call(this,"fill",!0),this.path=tt}var Je=y([JSON.parse(JSON.stringify(E))],this.posX+this.margin[3],-dt+Ee+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*k.scale),ae=this.lineWidth,this.lineWidth=ae*k.scale);var M=this.autoPaging!=="text";if(M||Je.y+Je.h<=Fe){if(M||Je.y>=Ee&&Je.x<=Te){var ge=M?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||Te-Je.x)[0],Le=y([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-dt+Ee+this.ctx.prevPageLastElemOffset)[0],Ue=M&&(Ce>J||Ce<q)&&m.call(this);Ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,Ke,null).clip().discardPath()),this.pdf.text(ge,Le.x,Le.y,{angle:k.angle,align:z,renderingMode:k.renderingMode}),Ue&&this.pdf.restoreGraphicsState()}}else Je.y<Fe&&(this.ctx.prevPageLastElemOffset+=Fe-Je.y);k.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=ae)}else k.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*k.scale),ae=this.lineWidth,this.lineWidth=ae*k.scale),this.pdf.text(k.text,ye.x+this.posX,ye.y+this.posY,{angle:k.angle,align:z,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=ae)},H=function(k,z,V,G){V=V||0,G=G||0,this.pdf.internal.out(r(k+V)+" "+n(z+G)+" l")},C=function(k,z,V){return this.pdf.lines(k,z,V,null,null)},te=function(k,z,V,G,de,ye,we,Z){this.pdf.internal.out([e(s(V+k)),e(i(G+z)),e(s(de+k)),e(i(ye+z)),e(s(we+k)),e(i(Z+z)),"c"].join(" "))},ve=function(k,z,V,G){for(var de=2*Math.PI,ye=Math.PI/2;z>V;)z-=de;var we=Math.abs(V-z);we<de&&G&&(we=de-we);for(var Z=[],he=G?-1:1,le=z;we>1e-5;){var ae=le+he*Math.min(we,ye);Z.push(ce.call(this,k,le,ae)),we-=Math.abs(ae-le),le=ae}return Z},ce=function(k,z,V){var G=(V-z)/2,de=k*Math.cos(G),ye=k*Math.sin(G),we=de,Z=-ye,he=we*we+Z*Z,le=he+we*de+Z*ye,ae=4/3*(Math.sqrt(2*he*le)-le)/(we*ye-Z*de),Se=we-ae*Z,E=Z+ae*we,Q=Se,pe=-E,ee=G+z,J=Math.cos(ee),q=Math.sin(ee);return{x1:k*Math.cos(z),y1:k*Math.sin(z),x2:Se*J-E*q,y2:Se*q+E*J,x3:Q*J-pe*q,y3:Q*q+pe*J,x4:k*Math.cos(V),y4:k*Math.sin(V)}},ie=function(k){return 180*k/Math.PI},re=function(k,z,V,G,de,ye){var we=k+.5*(V-k),Z=z+.5*(G-z),he=de+.5*(V-de),le=ye+.5*(G-ye),ae=Math.min(k,de,we,he),Se=Math.max(k,de,we,he),E=Math.min(z,ye,Z,le),Q=Math.max(z,ye,Z,le);return new A(ae,E,Se-ae,Q-E)},Be=function(k,z,V,G,de,ye,we,Z){var he,le,ae,Se,E,Q,pe,ee,J,q,Ce,Ee,xe,Fe,Ke=V-k,Te=G-z,$e=de-V,dt=ye-G,tt=we-de,Je=Z-ye;for(le=0;le<41;le++)J=(pe=(ae=k+(he=le/40)*Ke)+he*((E=V+he*$e)-ae))+he*(E+he*(de+he*tt-E)-pe),q=(ee=(Se=z+he*Te)+he*((Q=G+he*dt)-Se))+he*(Q+he*(ye+he*Je-Q)-ee),le==0?(Ce=J,Ee=q,xe=J,Fe=q):(Ce=Math.min(Ce,J),Ee=Math.min(Ee,q),xe=Math.max(xe,J),Fe=Math.max(Fe,q));return new A(Math.round(Ce),Math.round(Ee),Math.round(xe-Ce),Math.round(Fe-Ee))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,z,V=(k=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:z}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(Ct.API),function(t){var e=function(a){var A,l,c,u,h,p,d,w,m,b;for(l=[],c=0,u=(a+=A="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(h=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(p=(h=((h=((h=((h=(h-(b=h%85))/85)-(m=h%85))/85)-(w=h%85))/85)-(d=h%85))/85)%85,l.push(p+33,d+33,w+33,m+33,b+33)):l.push(122);return function(g,y){for(var B=y;B>0;B--)g.pop()}(l,A.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var A,l,c,u,h,p=String,d="length",w=255,m="charCodeAt",b="slice",g="replace";for(a[b](-2),a=a[b](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),c=[],u=0,h=(a+=A="uuuuu"[b](a[d]%5||5))[d];h>u;u+=5)l=52200625*(a[m](u)-33)+614125*(a[m](u+1)-33)+7225*(a[m](u+2)-33)+85*(a[m](u+3)-33)+(a[m](u+4)-33),c.push(w&l>>24,w&l>>16,w&l>>8,w&l);return function(y,B){for(var _=B;_>0;_--)y.pop()}(c,A[d]),p.fromCharCode.apply(p,c)},n=function(a){return a.split("").map(function(A){return("0"+A.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(a){var A=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),A.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},i=function(a){for(var A=new Uint8Array(a.length),l=a.length;l--;)A[l]=a.charCodeAt(l);return(A=L1(A)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(a,A){var l=0,c=a||"",u=[];for(typeof(A=A||[])=="string"&&(A=[A]),l=0;l<A.length;l+=1)switch(A[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=s(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+A[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Ct.API),function(t){t.loadFile=function(e,r,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var A=void 0;try{A=function(l,c,u){var h=new XMLHttpRequest,p=0,d=function(w){var m=w.length,b=[],g=String.fromCharCode;for(p=0;p<m;p+=1)b.push(g(255&w.charCodeAt(p)));return b.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(d(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return d(h.responseText)}(s,i,a)}catch{}return A}(e,r,n)},t.loadImageFile=t.loadFile}(Ct.API),function(t){function e(){return(jt.html2canvas?Promise.resolve(jt.html2canvas):Hf(()=>Promise.resolve().then(()=>pH),void 0)).catch(function(A){return Promise.reject(new Error("Could not load html2canvas: "+A))}).then(function(A){return A.default?A.default:A})}function r(){return(jt.DOMPurify?Promise.resolve(jt.DOMPurify):Hf(()=>import("./purify.es-96e69d58.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load dompurify: "+A))}).then(function(A){return A.default?A.default:A})}var n=function(A){var l=or(A);return l==="undefined"?"undefined":l==="string"||A instanceof String?"string":l==="number"||A instanceof Number?"number":l==="function"||A instanceof Function?"function":A&&A.constructor===Array?"array":A&&A.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(A,l){var c=document.createElement(A);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function A(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(A(h,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},a=function A(l){var c=Object.assign(A.convert(Promise.resolve()),JSON.parse(JSON.stringify(A.template))),u=A.convert(Promise.resolve(),c);return(u=u.setProgress(1,A,1,[A])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(A,l){return A.__proto__=l||a.prototype,A},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(A,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(A),l){case"string":return this.then(r).then(function(c){return this.set({src:s("div",{innerHTML:A,dompurify:c})})});case"element":return this.set({src:A});case"canvas":return this.set({canvas:A});case"img":return this.set({img:A});default:return this.error("Unknown source type.")}})},a.prototype.to=function(A){switch(A){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var A={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(A.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:A}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var d=0;d<u.length;++d){var w=u[d],m=w.src.find(function(b){return b.format==="truetype"});m&&c.addFont(m.url,w.ref.name,w.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var A=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=A})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(A,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(A,l):this.outputPdf(A,l)},a.prototype.outputPdf=function(A,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(A,l)})},a.prototype.outputImg=function(A){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(A){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+A+'" is not supported.'}})},a.prototype.save=function(A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(A?{filename:A}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(A){if(n(A)!=="object")return this;var l=Object.keys(A||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=A[c]};switch(c){case"margin":return this.setMargin.bind(this,A.margin);case"jsPDF":return function(){return this.opt.jsPDF=A.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,A.pageSize);default:return function(){this.opt[c]=A[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(A,l){return this.then(function(){var c=A in a.template.prop?this.prop[A]:this.opt[A];return l?l(c):c})},a.prototype.setMargin=function(A){return this.then(function(){switch(n(A)){case"number":A=[A,A,A,A];case"array":if(A.length===2&&(A=[A[0],A[1],A[0],A[1]]),A.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=A}).then(this.setPageSize)},a.prototype.setPageSize=function(A){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(A=A||Ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(A.inner={width:A.width-this.opt.margin[1]-this.opt.margin[3],height:A.height-this.opt.margin[0]-this.opt.margin[2]},A.inner.px={width:l(A.inner.width,A.k),height:l(A.inner.height,A.k)},A.inner.ratio=A.inner.height/A.inner.width),this.prop.pageSize=A})},a.prototype.setProgress=function(A,l,c,u){return A!=null&&(this.progress.val=A),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(A,l,c,u){return this.setProgress(A?this.progress.val+A:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(A,l){var c=this;return this.thenCore(A,l,function(u,h){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,h).then(function(p){return c.updateProgress(1),p})})},a.prototype.thenCore=function(A,l,c){c=c||Promise.prototype.then;var u=this;A&&(A=A.bind(u)),l&&(l=l.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:a.convert(Object.assign({},u),Promise.prototype),p=c.call(h,A,l);return a.convert(p,u.__proto__)},a.prototype.thenExternal=function(A,l){return Promise.prototype.then.call(this,A,l)},a.prototype.thenList=function(A){var l=this;return A.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(A){A&&(A=A.bind(this));var l=Promise.prototype.catch.call(this,A);return a.convert(l,this)},a.prototype.catchExternal=function(A){return Promise.prototype.catch.call(this,A)},a.prototype.error=function(A){return this.then(function(){throw new Error(A)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Ct.getPageSize=function(A,l,c){if(or(A)==="object"){var u=A;A=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",A=(""+(A||"P")).toLowerCase();var h,p=(""+c).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var w,m=0,b=0;if(d.hasOwnProperty(p))m=d[p][1]/h,b=d[p][0]/h;else try{m=c[1],b=c[0]}catch{throw new Error("Invalid format: "+c)}if(A==="p"||A==="portrait")A="p",b>m&&(w=b,b=m,m=w);else{if(A!=="l"&&A!=="landscape")throw"Invalid orientation: "+A;A="l",m>b&&(w=b,b=m,m=w)}return{width:b,height:m,unit:l,k:h,orientation:A}},t.html=function(A,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(qm):null;var c=new a(l);return l.worker?c:c.from(A).doCallback()}}(Ct.API),Ct.API.addJS=function(t){return LB=t,this.internal.events.subscribe("postPutResources",function(){nf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(nf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),QB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+LB+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){nf!==void 0&&QB!==void 0&&this.internal.out("/Names <</JavaScript "+nf+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],A=n.exec(a);if(A!=null){var l=A[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var h=r.internal.newObject();u.push(h);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var d=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+d+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var A=this.count=this.count_r({count:0},a);if(A>0&&this.line("/Count "+A),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(Ct.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,s,i,a,A){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(h){for(var p,d=256*h.charCodeAt(4)+h.charCodeAt(5),w=h.length,m={width:0,height:0,numcomponents:1},b=4;b<w;b+=2){if(b+=d,e.indexOf(h.charCodeAt(b+1))!==-1){p=256*h.charCodeAt(b+5)+h.charCodeAt(b+6),m={width:256*h.charCodeAt(b+7)+h.charCodeAt(b+8),height:p,numcomponents:h.charCodeAt(b+9)};break}d=256*h.charCodeAt(b+2)+h.charCodeAt(b+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:A=this.color_spaces.DEVICE_GRAY;break;case 4:A=this.color_spaces.DEVICE_CMYK;break;case 3:A=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:A,bitsPerComponent:8,filter:c,index:n,alias:s}}return u}}(Ct.API),Ct.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var s,i=oD(t,{checkCrc:!0}),a=i.width,A=i.height,l=i.channels,c=i.palette,u=i.depth;s=c&&l===1?function(O){for(var F=O.width,K=O.height,I=O.data,j=O.palette,H=O.depth,C=!1,te=[],ve=[],ce=void 0,ie=!1,re=0,Be=0;Be<j.length;Be++){var se=Nb(j[Be],4),k=se[0],z=se[1],V=se[2],G=se[3];te.push(k,z,V),G!=null&&(G===0?(re++,ve.length<1&&ve.push(Be)):G<255&&(ie=!0))}if(ie||re>1){C=!0,ve=void 0;var de=F*K;ce=new Uint8Array(de);for(var ye=new DataView(I.buffer),we=0;we<de;we++){var Z=Xm(ye,we,H),he=Nb(j[Z],4)[3];ce[we]=he}}else re===0&&(ve=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:C?8:void 0,colorBytes:I,alphaBytes:ce,needSMask:C,palette:te,mask:ve}}(i):l===2||l===4?function(O){for(var F=O.data,K=O.width,I=O.height,j=O.channels,H=O.depth,C=j===2?"DeviceGray":"DeviceRGB",te=j-1,ve=K*I,ce=te,ie=ve*ce,re=1*ve,Be=Math.ceil(ie*H/8),se=Math.ceil(re*H/8),k=new Uint8Array(Be),z=new Uint8Array(se),V=new DataView(F.buffer),G=new DataView(k.buffer),de=new DataView(z.buffer),ye=!1,we=0;we<ve;we++){for(var Z=we*j,he=0;he<ce;he++)KB(G,Xm(V,Z+he,H),we*ce+he,H);var le=Xm(V,Z+ce,H);le<(1<<H)-1&&(ye=!0),KB(de,le,1*we,H)}return{colorSpace:C,colorsPerPixel:te,sMaskBitsPerComponent:ye?H:void 0,colorBytes:k,alphaBytes:z,needSMask:ye}}(i):function(O){var F=O.data,K=O.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:K,colorsPerPixel:K==="DeviceGray"?1:3,colorBytes:F instanceof Uint16Array?function(I){for(var j=I.length,H=new Uint8Array(2*j),C=new DataView(H.buffer,H.byteOffset,H.byteLength),te=0;te<j;te++)C.setUint16(2*te,I[te],!1);return H}(F):F,needSMask:!1}}(i);var h,p,d,w=s,m=w.colorSpace,b=w.colorsPerPixel,g=w.sMaskBitsPerComponent,y=w.colorBytes,B=w.alphaBytes,_=w.needSMask,N=w.palette,D=w.mask,T=null;return n!==Ct.API.image_compression.NONE&&typeof L1=="function"?(T=function(O){var F;switch(O){case Ct.API.image_compression.FAST:F=11;break;case Ct.API.image_compression.MEDIUM:F=13;break;case Ct.API.image_compression.SLOW:F=14;break;default:F=12}return F}(n),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(T," /Colors ").concat(b," /BitsPerComponent ").concat(u," /Columns ").concat(a),t=OB(y,Math.ceil(a*b*u/8),b,u,n),_&&(d=OB(B,Math.ceil(a*g/8),1,g,n))):(h=void 0,p=void 0,t=y,_&&(d=B)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:r,data:t,index:e,filter:h,decodeParameters:p,transparency:D,palette:N,sMask:d,predictor:T,width:a,height:A,bitsPerComponent:u,sMaskBitsPerComponent:g,colorSpace:m}}},function(t){t.processGIF89A=function(e,r,n,s){var i=new kD(e),a=i.width,A=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:A},u=new Ym(100).encode(c,100);return t.processJPEG.call(this,u,r,n,s)},t.processGIF87A=t.processGIF89A}(Ct.API),zi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},zi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){hr.log("bit decode error:"+r)}},zi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,A=0;A<8&&8*s+A<this.width;A++){var l=this.palette[i>>7-A&1];this.data[a+4*A]=l.blue,this.data[a+4*A+1]=l.green,this.data[a+4*A+2]=l.red,this.data[a+4*A+3]=255}r!==0&&(this.pos+=4-r)}},zi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,A=i>>4,l=15&i,c=this.palette[A];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},zi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},zi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,A=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,u=n*this.width*4+4*s;this.data[u]=l,this.data[u+1]=A,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},zi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,c=(a>>11)/e*255|0,u=s*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=A,this.data[u+3]=255}this.pos+=t}},zi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},zi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),A=e*this.width*4+4*r;this.data[A]=i,this.data[A+1]=s,this.data[A+2]=n,this.data[A+3]=a}},zi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,s){var i=new zi(e,!1),a=i.width,A=i.height,l={data:i.getData(),width:a,height:A},c=new Ym(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(Ct.API),VB.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,s){var i=new VB(e),a=i.width,A=i.height,l={data:i.getData(),width:a,height:A},c=new Ym(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(Ct.API),Ct.API.processRGBA=function(t,e,r){for(var n=t.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),A=0,l=0,c=0;c<s;c+=4){var u=n[c],h=n[c+1],p=n[c+2],d=n[c+3];i[A++]=u,i[A++]=h,i[A++]=p,a[l++]=d}var w=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:w,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ct.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Tl=Ct.API,sf=Tl.getCharWidthsArray=function(t,e){var r,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),A=e.widths?e.widths:s.metadata.Unicode.widths,l=A.fof?A.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=e.doKerning!==!1,p=0,d=t.length,w=0,m=A[0]||l,b=[];for(r=0;r<d;r++)n=t.charCodeAt(r),typeof s.metadata.widthOfString=="function"?b.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(p=h&&or(c[n])==="object"&&!isNaN(parseInt(c[n][w],10))?c[n][w]/u:0,b.push((A[n]||m)/l+p)),w=n;return b},DB=Tl.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Tl.processArabic&&(t=Tl.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,s)/r:sf.apply(this,arguments).reduce(function(i,a){return i+a},0)},TB=function(t,e,r,n){for(var s=[],i=0,a=t.length,A=0;i!==a&&A+e[i]<r;)A+=e[i],i++;s.push(t.slice(0,i));var l=i;for(A=0;i!==a;)A+e[i]>n&&(s.push(t.slice(l,i)),A=0,l=i),A+=e[i],i++;return l!==i&&s.push(t.slice(l,i)),s},PB=function(t,e,r){r||(r={});var n,s,i,a,A,l,c,u=[],h=[u],p=r.textIndent||0,d=0,w=0,m=t.split(" "),b=sf.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var g=Array(l).join(" "),y=[];m.map(function(_){(_=_.split(/\s*\n/)).length>1?y=y.concat(_.map(function(N,D){return(D&&N.length?`
`:"")+N})):y.push(_[0])}),m=y,l=DB.apply(this,[g,r])}for(i=0,a=m.length;i<a;i++){var B=0;if(n=m[i],l&&n[0]==`
`&&(n=n.substr(1),B=1),p+d+(w=(s=sf.apply(this,[n,r])).reduce(function(_,N){return _+N},0))>e||B){if(w>e){for(A=TB.apply(this,[n,s,e-(p+d),e]),u.push(A.shift()),u=[A.pop()];A.length;)h.push([A.shift()]);w=s.slice(n.length-(u[0]?u[0].length:0)).reduce(function(_,N){return _+N},0)}else u=[n];h.push(u),p=w+l,d=b}else u.push(n),p+=d+w,d=b}return c=l?function(_,N){return(N?g:"")+_.join(" ")}:function(_){return _.join(" ")},h.map(c)},Tl.splitTextToSize=function(t,e,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var A,l,c=[];for(A=0,l=n.length;A<l;A++)c=c.concat(PB.apply(this,[n[A],a,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[r[i]]=e[i],s[e[i]]=r[i];var a=function(p){return"0x"+parseInt(p,10).toString(16)},A=t.__fontmetrics__.compress=function(p){var d,w,m,b,g=["{"];for(var y in p){if(d=p[y],isNaN(parseInt(y,10))?w="'"+y+"'":(y=parseInt(y,10),w=(w=a(y).slice(2)).slice(0,-1)+s[w.slice(-1)]),typeof d=="number")d<0?(m=a(d).slice(3),b="-"):(m=a(d).slice(2),b=""),m=b+m.slice(0,-1)+s[m.slice(-1)];else{if(or(d)!=="object")throw new Error("Don't know what to do with value type "+or(d)+".");m=A(d)}g.push(w+m)}return g.push("}"),g.join("")},l=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,w,m,b,g={},y=1,B=g,_=[],N="",D="",T=p.length-1,O=1;O<T;O+=1)(b=p[O])=="'"?d?(m=d.join(""),d=void 0):d=[]:d?d.push(b):b=="{"?(_.push([B,m]),B={},m=void 0):b=="}"?((w=_.pop())[0][w[1]]=B,m=void 0,B=w[0]):b=="-"?y=-1:m===void 0?n.hasOwnProperty(b)?(N+=n[b],m=parseInt(N,16)*y,y=1,N=""):N+=b:n.hasOwnProperty(b)?(D+=n[b],B[m]=parseInt(D,16)*y,y=1,m=void 0,D=""):D+=b;return g},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var d=p.font,w=h.Unicode[d.postScriptName];w&&(d.metadata.Unicode={},d.metadata.Unicode.widths=w.widths,d.metadata.Unicode.kerning=w.kerning);var m=u.Unicode[d.postScriptName];m&&(d.metadata.Unicode.encoding=m,d.encoding=m.codePages[0])}])}(Ct.API),function(t){var e=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};t.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,A){A=/^\x00\x01\x00\x00/.test(A)?e(A):e($f(A)),a.metadata=t.API.TTFFont.open(A),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(Ct),Ct.API.addSvgAsImage=function(t,e,r,n,s,i,a,A){if(isNaN(e)||isNaN(r))throw hr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw hr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=s;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(jt.canvg?Promise.resolve(jt.canvg):Hf(()=>import("./index.es-a7d893b6.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,r,n,s,a,A)})},Ct.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,r);return this},Ct.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},A=Object.keys(a),l=[],c=0,u=0,h=0;function p(w,m){var b,g=!1;for(b=0;b<w.length;b+=1)w[b]===m&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var d=A.length;for(h=0;h<d;h+=1)r[A[h]].value=r[A[h]].defaultValue,r[A[h]].explicitSet=!1}if(or(t)==="object"){for(s in t)if(i=t[s],p(A,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&p(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[s].value="["+l.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,m=[];for(w in r)r[w].explicitSet===!0&&(r[w].type==="name"?m.push("/"+w+" /"+r[w].value):m.push("/"+w+" "+r[w].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),A=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+a.length+A.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+A+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(Ct.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,a){for(var A,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,p=i.length;h<p;++h){if(A=a.metadata.characterToGlyph(i.charCodeAt(h)),a.metadata.glyIdsUsed.push(A),a.metadata.toUnicode[A]=i.charCodeAt(h),l.indexOf(A)==-1&&(l.push(A),l.push([parseInt(a.metadata.widthOfGlyph(A),10)])),A=="0")return u.join("");A=A.toString(16),u.push(c[4-A.length],A)}return u.join("")},n=function(i){var a,A,l,c,u,h,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(A=Object.keys(i).sort(function(d,w){return d-w})).length;h<p;h++)a=A[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(c=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var A=a.font,l=a.out,c=a.newObject,u=a.putStream;if(A.metadata instanceof t.API.TTFFont&&A.encoding==="Identity-H"){for(var h=A.metadata.Unicode.widths,p=A.metadata.subset.encode(A.metadata.glyIdsUsed,1),d="",w=0;w<p.length;w++)d+=String.fromCharCode(p[w]);var m=c();u({data:d,addLength1:!0,objectId:m}),l("endobj");var b=c();u({data:n(A.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var g=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Gl(A.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(A.metadata.bbox)),l("/Flags "+A.metadata.flags),l("/StemV "+A.metadata.stemV),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Gl(A.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+A.encoding+")"),l(">>"),l(">>"),l("endobj"),A.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+Gl(A.fontName)),l("/Encoding /"+A.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),A.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var A=a.font,l=a.out,c=a.newObject,u=a.putStream;if(A.metadata instanceof t.API.TTFFont&&A.encoding==="WinAnsiEncoding"){for(var h=A.metadata.rawData,p="",d=0;d<h.length;d++)p+=String.fromCharCode(h[d]);var w=c();u({data:p,addLength1:!0,objectId:w}),l("endobj");var m=c();u({data:n(A.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var b=c();l("<<"),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l("/StemV "+A.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+w+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(A.metadata.bbox)),l("/FontName /"+Gl(A.fontName)),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l(">>"),l("endobj"),A.objectNumber=c();for(var g=0;g<A.metadata.hmtx.widths.length;g++)A.metadata.hmtx.widths[g]=parseInt(A.metadata.hmtx.widths[g]*(1e3/A.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Gl(A.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+A.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(A.metadata.hmtx.widths)+">>"),l("endobj"),A.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,A=i.text||"",l=i.x,c=i.y,u=i.options||{},h=i.mutex||{},p=h.pdfEscape,d=h.activeFontKey,w=h.fonts,m=d,b="",g=0,y="",B=w[m].encoding;if(w[m].encoding!=="Identity-H")return{text:A,x:l,y:c,options:u,mutex:h};for(y=A,m=d,Array.isArray(A)&&(y=A[0]),g=0;g<y.length;g+=1)w[m].metadata.hasOwnProperty("cmap")&&(a=w[m].metadata.cmap.unicode.codeMap[y[g].charCodeAt(0)]),a||y[g].charCodeAt(0)<256&&w[m].metadata.hasOwnProperty("Unicode")?b+=y[g]:b+="";var _="";return parseInt(m.slice(1))<14||B==="WinAnsiEncoding"?_=p(b,m).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):B==="Identity-H"&&(_=r(b,w[m])),h.isHex=!0,{text:_,x:l,y:c,options:u,mutex:h}};e.events.push(["postProcessText",function(i){var a=i.text||"",A=[],l={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?A.push([s(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):A.push(s(Object.assign({},l,{text:a[c]})).text);i.text=A}else i.text=s(Object.assign({},l,{text:a})).text}])}(Ct),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ct.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var s,i,a,A,l,c,u,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,B=0;this.__bidiEngine__={};var _=function(I){var j=I.charCodeAt(),H=j>>8,C=m[H];return C!==void 0?h[256*C+(255&j)]:H===252||H===253?"AL":g.test(H)?"L":H===8?"R":"N"},N=function(I){for(var j,H=0;H<I.length;H++){if((j=_(I.charAt(H)))==="L")return!1;if(j==="R")return!0}return!1},D=function(I,j,H,C){var te,ve,ce,ie,re=j[C];switch(re){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(re="AN");break;case"AL":y=!0,re="R";break;case"WS":case"BN":re="N";break;case"CS":C<1||C+1>=j.length||(te=H[C-1])!=="EN"&&te!=="AN"||(ve=j[C+1])!=="EN"&&ve!=="AN"?re="N":y&&(ve="AN"),re=ve===te?ve:"N";break;case"ES":re=(te=C>0?H[C-1]:"B")==="EN"&&C+1<j.length&&j[C+1]==="EN"?"EN":"N";break;case"ET":if(C>0&&H[C-1]==="EN"){re="EN";break}if(y){re="N";break}for(ce=C+1,ie=j.length;ce<ie&&j[ce]==="ET";)ce++;re=ce<ie&&j[ce]==="EN"?"EN":"N";break;case"NSM":if(a&&!A){for(ie=j.length,ce=C+1;ce<ie&&j[ce]==="NSM";)ce++;if(ce<ie){var Be=I[C],se=Be>=1425&&Be<=2303||Be===64286;if(te=j[ce],se&&(te==="R"||te==="AL")){re="R";break}}}re=C<1||(te=j[C-1])==="B"?"N":H[C-1];break;case"B":y=!1,s=!0,re=B;break;case"S":i=!0,re="N"}return re},T=function(I,j,H){var C=I.split("");return H&&O(C,H,{hiLevel:B}),C.reverse(),j&&j.reverse(),C.join("")},O=function(I,j,H){var C,te,ve,ce,ie,re=-1,Be=I.length,se=0,k=[],z=B?d:p,V=[];for(y=!1,s=!1,i=!1,te=0;te<Be;te++)V[te]=_(I[te]);for(ve=0;ve<Be;ve++){if(ie=se,k[ve]=D(I,V,k,ve),C=240&(se=z[ie][w[k[ve]]]),se&=15,j[ve]=ce=z[se][5],C>0)if(C===16){for(te=re;te<ve;te++)j[te]=1;re=-1}else re=-1;if(z[se][6])re===-1&&(re=ve);else if(re>-1){for(te=re;te<ve;te++)j[te]=ce;re=-1}V[ve]==="B"&&(j[ve]=0),H.hiLevel|=ce}i&&function(G,de,ye){for(var we=0;we<ye;we++)if(G[we]==="S"){de[we]=B;for(var Z=we-1;Z>=0&&G[Z]==="WS";Z--)de[Z]=B}}(V,j,Be)},F=function(I,j,H,C,te){if(!(te.hiLevel<I)){if(I===1&&B===1&&!s)return j.reverse(),void(H&&H.reverse());for(var ve,ce,ie,re,Be=j.length,se=0;se<Be;){if(C[se]>=I){for(ie=se+1;ie<Be&&C[ie]>=I;)ie++;for(re=se,ce=ie-1;re<ce;re++,ce--)ve=j[re],j[re]=j[ce],j[ce]=ve,H&&(ve=H[re],H[re]=H[ce],H[ce]=ve);se=ie}se++}}},K=function(I,j,H){var C=I.split(""),te={hiLevel:B};return H||(H=[]),O(C,H,te),function(ve,ce,ie){if(ie.hiLevel!==0&&u)for(var re,Be=0;Be<ve.length;Be++)ce[Be]===1&&(re=b.indexOf(ve[Be]))>=0&&(ve[Be]=b[re+1])}(C,H,te),F(2,C,j,H,te),F(1,C,j,H,te),C.join("")};return this.__bidiEngine__.doBidiReorder=function(I,j,H){if(function(te,ve){if(ve)for(var ce=0;ce<te.length;ce++)ve[ce]=ce;A===void 0&&(A=N(te)),c===void 0&&(c=N(te))}(I,j),a||!l||c)if(a&&l&&A^c)B=A?1:0,I=T(I,j,H);else if(!a&&l&&c)B=A?1:0,I=K(I,j,H),I=T(I,j);else if(!a||A||l||c){if(a&&!l&&A^c)I=T(I,j),A?(B=0,I=K(I,j,H)):(B=1,I=K(I,j,H),I=T(I,j));else if(a&&A&&!l&&c)B=1,I=K(I,j,H),I=T(I,j);else if(!a&&!l&&A^c){var C=u;A?(B=1,I=K(I,j,H),B=0,u=!1,I=K(I,j,H),u=C):(B=0,I=K(I,j,H),I=T(I,j),B=1,u=!1,I=K(I,j,H),u=C,I=T(I,j))}}else B=0,I=K(I,j,H);else B=A?1:0,I=K(I,j,H);return I},this.__bidiEngine__.setOptions=function(I){I&&(a=I.isInputVisual,l=I.isOutputVisual,A=I.isInputRtl,c=I.isOutputRtl,u=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var A=0;for(a=[],A=0;A<s.length;A+=1)Object.prototype.toString.call(s[A])==="[object Array]"?a.push([r.doBidiReorder(s[A][0]),s[A][1],s[A][2]]):a.push([r.doBidiReorder(s[A])]);n.text=a}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(Ct),Ct.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new AA(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new zD(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new ND(this.contents),this.head=new jD(this),this.name=new DD(this),this.cmap=new GS(this),this.toUnicode={},this.hhea=new UD(this),this.maxp=new TD(this),this.hmtx=new PD(this),this.post=new QD(this),this.os2=new ID(this),this.loca=new MD(this),this.glyf=new OD(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,A,l,c;for(c=[],a=0,A=(l=this.bbox).length;a<A;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var s,i,a,A;for(a=0,i=0,A=(e=""+e).length;0<=A?i<A:i>A;i=0<=A?++i:--i)s=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var ta,AA=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,s;for(s=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(e.charCodeAt(r)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,s,i,a,A,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),A=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^A)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*a+256*A+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),ND=function(){var t;function e(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,s,i,a,A,l,c,u,h,p,d,w,m;for(m in d=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(d)/l),a=Math.floor(h/l),u=16*d-h,(s=new AA).writeInt(this.scalarType),s.writeShort(d),s.writeShort(h),s.writeShort(a),s.writeShort(u),i=16*d,c=s.pos+i,A=null,w=[],r)for(p=r[m],s.writeString(m),s.writeInt(t(p)),s.writeInt(c),s.writeInt(p.length),w=w.concat(p),m==="head"&&(A=c),c+=p.length;c%4;)w.push(0),c++;return s.write(w),n=2981146554-t(s.data),s.pos=A+8,s.writeUInt32(n),s.data},t=function(r){var n,s,i,a;for(r=WS.call(r);r.length%4;)r.push(0);for(i=new AA(r),s=0,n=0,a=r.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},e}(),FD={}.hasOwnProperty,Ca=function(t,e){for(var r in e)FD.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};ta=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var jD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ca(t,ta),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new AA).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),GB=function(){function t(e,r){var n,s,i,a,A,l,c,u,h,p,d,w,m,b,g,y,B;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(d=e.readUInt16(),p=d/2,e.pos+=6,i=function(){var _,N;for(N=[],l=_=0;0<=p?_<p:_>p;l=0<=p?++_:--_)N.push(e.readUInt16());return N}(),e.pos+=2,m=function(){var _,N;for(N=[],l=_=0;0<=p?_<p:_>p;l=0<=p?++_:--_)N.push(e.readUInt16());return N}(),c=function(){var _,N;for(N=[],l=_=0;0<=p?_<p:_>p;l=0<=p?++_:--_)N.push(e.readUInt16());return N}(),u=function(){var _,N;for(N=[],l=_=0;0<=p?_<p:_>p;l=0<=p?++_:--_)N.push(e.readUInt16());return N}(),s=(this.length-e.pos+this.offset)/2,A=function(){var _,N;for(N=[],l=_=0;0<=s?_<s:_>s;l=0<=s?++_:--_)N.push(e.readUInt16());return N}(),l=g=0,B=i.length;g<B;l=++g)for(b=i[l],n=y=w=m[l];w<=b?y<=b:y>=b;n=w<=b?++y:--y)u[l]===0?a=n+c[l]:(a=A[u[l]/2+(n-w)-(p-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}e.pos=h}return t.encode=function(e,r){var n,s,i,a,A,l,c,u,h,p,d,w,m,b,g,y,B,_,N,D,T,O,F,K,I,j,H,C,te,ve,ce,ie,re,Be,se,k,z,V,G,de,ye,we,Z,he,le,ae;switch(C=new AA,a=Object.keys(e).sort(function(Se,E){return Se-E}),r){case"macroman":for(m=0,b=function(){var Se=[];for(w=0;w<256;++w)Se.push(0);return Se}(),y={0:0},i={},te=0,re=a.length;te<re;te++)y[Z=e[s=a[te]]]==null&&(y[Z]=++m),i[s]={old:e[s],new:y[e[s]]},b[s]=y[e[s]];return C.writeUInt16(1),C.writeUInt16(0),C.writeUInt32(12),C.writeUInt16(0),C.writeUInt16(262),C.writeUInt16(0),C.write(b),{charMap:i,subtable:C.data,maxGlyphID:m+1};case"unicode":for(j=[],h=[],B=0,y={},n={},g=c=null,ve=0,Be=a.length;ve<Be;ve++)y[N=e[s=a[ve]]]==null&&(y[N]=++B),n[s]={old:N,new:y[N]},A=y[N]-s,g!=null&&A===c||(g&&h.push(g),j.push(s),c=A),g=s;for(g&&h.push(g),h.push(65535),j.push(65535),K=2*(F=j.length),O=2*Math.pow(Math.log(F)/Math.LN2,2),p=Math.log(O/2)/Math.LN2,T=2*F-O,l=[],D=[],d=[],w=ce=0,se=j.length;ce<se;w=++ce){if(I=j[w],u=h[w],I===65535){l.push(0),D.push(0);break}if(I-(H=n[I].new)>=32768)for(l.push(0),D.push(2*(d.length+F-w)),s=ie=I;I<=u?ie<=u:ie>=u;s=I<=u?++ie:--ie)d.push(n[s].new);else l.push(H-I),D.push(0)}for(C.writeUInt16(3),C.writeUInt16(1),C.writeUInt32(12),C.writeUInt16(4),C.writeUInt16(16+8*F+2*d.length),C.writeUInt16(0),C.writeUInt16(K),C.writeUInt16(O),C.writeUInt16(p),C.writeUInt16(T),ye=0,k=h.length;ye<k;ye++)s=h[ye],C.writeUInt16(s);for(C.writeUInt16(0),we=0,z=j.length;we<z;we++)s=j[we],C.writeUInt16(s);for(he=0,V=l.length;he<V;he++)A=l[he],C.writeUInt16(A);for(le=0,G=D.length;le<G;le++)_=D[le],C.writeUInt16(_);for(ae=0,de=d.length;ae<de;ae++)m=d[ae],C.writeUInt16(m);return{charMap:n,subtable:C.data,maxGlyphID:B+1}}},t}(),GS=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ca(t,ta),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new GB(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,s;return r==null&&(r="macroman"),n=GB.encode(e,r),(s=new AA).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},t}(),UD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ca(t,ta),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),ID=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ca(t,ta),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),QD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ca(t,ta),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)r=e.readByte(),s.push(this.names.push(e.readString(r)));return s;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,A,l;for(l=[],i=a=0,A=this.file.maxp.numGlyphs;0<=A?a<A:a>A;i=0<=A?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),LD=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},DD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ca(t,ta),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,s,i,a,A,l,c,u,h,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),A=e.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+A+e.readShort()});for(l={},i=u=0,h=n.length;u<h;i=++u)s=n[i],e.pos=s.offset,c=e.readString(s.length),a=new LD(c,s),l[p=s.nameID]==null&&(l[p]=[]),l[s.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),TD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ca(t,ta),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),PD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ca(t,ta),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,s,i,a,A,l;for(e.pos=this.offset,this.metrics=[],r=0,A=this.file.hhea.numberOfMetrics;0<=A?r<A:r>A;r=0<=A?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],r=c=0;0<=s?c<s:c>s;r=0<=s?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,h,p;for(p=[],c=0,u=(h=this.metrics).length;c<u;c++)i=h[c],p.push(i.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),WS=[].slice,OD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ca(t,ta),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,s,i,a,A,l,c,u,h;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(e),(s=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,a=(A=new AA(r.read(s))).readShort(),c=A.readShort(),h=A.readShort(),l=A.readShort(),u=A.readShort(),this.cache[e]=a===-1?new HD(A,c,h,l,u):new RD(A,a,c,h,l,u),this.cache[e]))},t.prototype.encode=function(e,r,n){var s,i,a,A,l;for(a=[],i=[],A=0,l=r.length;A<l;A++)s=e[r[A]],i.push(a.length),s&&(a=a.concat(s.encode(n)));return i.push(a.length),{table:a,offsets:i}},t}(),RD=function(){function t(e,r,n,s,i,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),HD=function(){function t(e,r,n,s,i){var a,A;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;A=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&A;)a.pos+=1&A?4:2,128&A?a.pos+=8:64&A?a.pos+=4:8&A&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new AA(WS.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),MD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ca(t,ta),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,a=0;a<n.length;++a)if(n[a]=s,i<r.length&&r[i]==a){++i,n[a]=s;var A=this.offsets[a],l=this.offsets[a+1]-A;l>0&&(s+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},t}(),zD=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=s[n];return e},t.prototype.glyphsFor=function(e){var r,n,s,i,a,A,l;for(s={},a=0,A=e.length;a<A;a++)s[i=e[a]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],s[i]=n;return s},t.prototype.encode=function(e,r){var n,s,i,a,A,l,c,u,h,p,d,w,m,b,g;for(s in n=GS.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),d={0:0},g=n.charMap)d[(l=g[s]).old]=l.new;for(w in p=n.maxGlyphID,a)w in d||(d[w]=p++);return u=function(y){var B,_;for(B in _={},y)_[y[B]]=B;return _}(d),h=Object.keys(u).sort(function(y,B){return y-B}),m=function(){var y,B,_;for(_=[],y=0,B=h.length;y<B;y++)A=h[y],_.push(u[A]);return _}(),i=this.font.glyf.encode(a,m,d),c=this.font.loca.encode(i.offsets,m),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();Ct.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,s,i,a;if(Array.isArray(r))return"["+function(){var A,l,c;for(c=[],A=0,l=r.length;A<l;A++)n=r[A],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)a=r[s],i.push("/"+s+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+r},e}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var q1=function(t,e){return q1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},q1(t,e)};function ra(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");q1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var J1=function(){return J1=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},J1.apply(this,arguments)};function ds(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(h){a(h)}}function l(u){try{c(n.throw(u))}catch(h){a(h)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})}function ss(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function A(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function af(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var so=function(){function t(e,r,n,s){this.left=e,this.top=r,this.width=n,this.height=s}return t.prototype.add=function(e,r,n,s){return new t(this.left+e,this.top+r,this.width+n,this.height+s)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),mg=function(t,e){return so.fromClientRect(t,e.getBoundingClientRect())},KD=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),s=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new so(0,0,n,s)},vg=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},en=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var a=t[s];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},WB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$D=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var of=0;of<WB.length;of++)$D[WB.charCodeAt(of)]=of;var qB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Uu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Af=0;Af<qB.length;Af++)Uu[qB.charCodeAt(Af)]=Af;var VD=function(t){var e=t.length*.75,r=t.length,n,s=0,i,a,A,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=Uu[t.charCodeAt(n)],a=Uu[t.charCodeAt(n+1)],A=Uu[t.charCodeAt(n+2)],l=Uu[t.charCodeAt(n+3)],u[s++]=i<<2|a>>4,u[s++]=(a&15)<<4|A>>2,u[s++]=(A&3)<<6|l&63;return c},GD=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},WD=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},JA=5,Lw=6+5,Zm=2,qD=Lw-JA,qS=65536>>JA,JD=1<<JA,e0=JD-1,XD=1024>>JA,YD=qS+XD,ZD=YD,eT=32,tT=ZD+eT,rT=65536>>Lw,nT=1<<qD,sT=nT-1,JB=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},iT=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},aT=function(t,e){var r=VD(t),n=Array.isArray(r)?WD(r):new Uint32Array(r),s=Array.isArray(r)?GD(r):new Uint16Array(r),i=24,a=JB(s,i/2,n[4]/2),A=n[5]===2?JB(s,(i+n[4])/2):iT(n,Math.ceil((i+n[4])/4));return new oT(n[0],n[1],n[2],n[3],a,A)},oT=function(){function t(e,r,n,s,i,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>JA],r=(r<<Zm)+(e&e0),this.data[r];if(e<=65535)return r=this.index[qS+(e-55296>>JA)],r=(r<<Zm)+(e&e0),this.data[r];if(e<this.highStart)return r=tT-rT+(e>>Lw),r=this.index[r],r+=e>>JA&sT,r=this.index[r],r=(r<<Zm)+(e&e0),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),XB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",AT=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var lf=0;lf<XB.length;lf++)AT[XB.charCodeAt(lf)]=lf;var lT="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",YB=50,cT=1,JS=2,XS=3,uT=4,dT=5,ZB=7,YS=8,ex=9,zo=10,X1=11,tx=12,Y1=13,hT=14,Iu=15,Z1=16,cf=17,yu=18,fT=19,rx=20,ev=21,bu=22,t0=23,Pl=24,Js=25,Qu=26,Lu=27,Ol=28,pT=29,PA=30,gT=31,uf=32,df=33,tv=34,rv=35,nv=36,Dd=37,sv=38,Jf=39,Xf=40,r0=41,ZS=42,mT=43,vT=[9001,65288],eE="!",Mt="",hf="",iv=aT(lT),Ha=[PA,nv],av=[cT,JS,XS,dT],tE=[zo,YS],nx=[Lu,Qu],wT=av.concat(tE),sx=[sv,Jf,Xf,tv,rv],yT=[Iu,Y1],bT=function(t,e){e===void 0&&(e="strict");var r=[],n=[],s=[];return t.forEach(function(i,a){var A=iv.get(i);if(A>YB?(s.push(!0),A-=YB):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(a),r.push(Z1);if(A===uT||A===X1){if(a===0)return n.push(a),r.push(PA);var l=r[a-1];return wT.indexOf(l)===-1?(n.push(n[a-1]),r.push(l)):(n.push(a),r.push(PA))}if(n.push(a),A===gT)return r.push(e==="strict"?ev:Dd);if(A===ZS||A===pT)return r.push(PA);if(A===mT)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(Dd):r.push(PA);r.push(A)}),[n,r,s]},n0=function(t,e,r,n){var s=n[r];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=r;i<=n.length;){i++;var a=n[i];if(a===e)return!0;if(a!==zo)break}if(s===zo)for(var i=r;i>0;){i--;var A=n[i];if(Array.isArray(t)?t.indexOf(A)!==-1:t===A)for(var l=r;l<=n.length;){l++;var a=n[l];if(a===e)return!0;if(a!==zo)break}if(A!==zo)break}return!1},ix=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===zo)r--;else return n}return 0},BT=function(t,e,r,n,s){if(r[n]===0)return Mt;var i=n-1;if(Array.isArray(s)&&s[i]===!0)return Mt;var a=i-1,A=i+1,l=e[i],c=a>=0?e[a]:0,u=e[A];if(l===JS&&u===XS)return Mt;if(av.indexOf(l)!==-1)return eE;if(av.indexOf(u)!==-1||tE.indexOf(u)!==-1)return Mt;if(ix(i,e)===YS)return hf;if(iv.get(t[i])===X1||(l===uf||l===df)&&iv.get(t[A])===X1||l===ZB||u===ZB||l===ex||[zo,Y1,Iu].indexOf(l)===-1&&u===ex||[cf,yu,fT,Pl,Ol].indexOf(u)!==-1||ix(i,e)===bu||n0(t0,bu,i,e)||n0([cf,yu],ev,i,e)||n0(tx,tx,i,e))return Mt;if(l===zo)return hf;if(l===t0||u===t0)return Mt;if(u===Z1||l===Z1)return hf;if([Y1,Iu,ev].indexOf(u)!==-1||l===hT||c===nv&&yT.indexOf(l)!==-1||l===Ol&&u===nv||u===rx||Ha.indexOf(u)!==-1&&l===Js||Ha.indexOf(l)!==-1&&u===Js||l===Lu&&[Dd,uf,df].indexOf(u)!==-1||[Dd,uf,df].indexOf(l)!==-1&&u===Qu||Ha.indexOf(l)!==-1&&nx.indexOf(u)!==-1||nx.indexOf(l)!==-1&&Ha.indexOf(u)!==-1||[Lu,Qu].indexOf(l)!==-1&&(u===Js||[bu,Iu].indexOf(u)!==-1&&e[A+1]===Js)||[bu,Iu].indexOf(l)!==-1&&u===Js||l===Js&&[Js,Ol,Pl].indexOf(u)!==-1)return Mt;if([Js,Ol,Pl,cf,yu].indexOf(u)!==-1)for(var h=i;h>=0;){var p=e[h];if(p===Js)return Mt;if([Ol,Pl].indexOf(p)!==-1)h--;else break}if([Lu,Qu].indexOf(u)!==-1)for(var h=[cf,yu].indexOf(l)!==-1?a:i;h>=0;){var p=e[h];if(p===Js)return Mt;if([Ol,Pl].indexOf(p)!==-1)h--;else break}if(sv===l&&[sv,Jf,tv,rv].indexOf(u)!==-1||[Jf,tv].indexOf(l)!==-1&&[Jf,Xf].indexOf(u)!==-1||[Xf,rv].indexOf(l)!==-1&&u===Xf||sx.indexOf(l)!==-1&&[rx,Qu].indexOf(u)!==-1||sx.indexOf(u)!==-1&&l===Lu||Ha.indexOf(l)!==-1&&Ha.indexOf(u)!==-1||l===Pl&&Ha.indexOf(u)!==-1||Ha.concat(Js).indexOf(l)!==-1&&u===bu&&vT.indexOf(t[A])===-1||Ha.concat(Js).indexOf(u)!==-1&&l===yu)return Mt;if(l===r0&&u===r0){for(var d=r[i],w=1;d>0&&(d--,e[d]===r0);)w++;if(w%2!==0)return Mt}return l===uf&&u===df?Mt:hf},xT=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=bT(t,e.lineBreak),n=r[0],s=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(A){return[Js,PA,ZS].indexOf(A)!==-1?Dd:A}));var a=e.wordBreak==="keep-all"?i.map(function(A,l){return A&&t[l]>=19968&&t[l]<=40959}):void 0;return[n,s,a]},_T=function(){function t(e,r,n,s){this.codePoints=e,this.required=r===eE,this.start=n,this.end=s}return t.prototype.slice=function(){return en.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),CT=function(t,e){var r=vg(t),n=xT(r,e),s=n[0],i=n[1],a=n[2],A=r.length,l=0,c=0;return{next:function(){if(c>=A)return{done:!0,value:null};for(var u=Mt;c<A&&(u=BT(r,i,s,++c,a))===Mt;);if(u!==Mt||c===A){var h=new _T(r,u,l,c);return l=c,{value:h,done:!1}}return{done:!0,value:null}}}},ST=1,ET=2,Yd=4,ax=8,Pp=10,ox=47,td=92,kT=9,NT=32,ff=34,Bu=61,FT=35,jT=36,UT=37,pf=39,gf=40,xu=41,IT=95,Es=45,QT=33,LT=60,DT=62,TT=64,PT=91,OT=93,RT=61,HT=123,mf=63,MT=125,Ax=124,zT=126,KT=128,lx=65533,s0=42,VA=43,$T=44,VT=58,GT=59,Td=46,WT=0,qT=8,JT=11,XT=14,YT=31,ZT=127,pa=-1,rE=48,nE=97,sE=101,eP=102,tP=117,rP=122,iE=65,aE=69,oE=70,nP=85,sP=90,is=function(t){return t>=rE&&t<=57},iP=function(t){return t>=55296&&t<=57343},Rl=function(t){return is(t)||t>=iE&&t<=oE||t>=nE&&t<=eP},aP=function(t){return t>=nE&&t<=rP},oP=function(t){return t>=iE&&t<=sP},AP=function(t){return aP(t)||oP(t)},lP=function(t){return t>=KT},vf=function(t){return t===Pp||t===kT||t===NT},Op=function(t){return AP(t)||lP(t)||t===IT},cx=function(t){return Op(t)||is(t)||t===Es},cP=function(t){return t>=WT&&t<=qT||t===JT||t>=XT&&t<=YT||t===ZT},Io=function(t,e){return t!==td?!1:e!==Pp},wf=function(t,e,r){return t===Es?Op(e)||Io(e,r):Op(t)?!0:!!(t===td&&Io(t,e))},i0=function(t,e,r){return t===VA||t===Es?is(e)?!0:e===Td&&is(r):is(t===Td?e:t)},uP=function(t){var e=0,r=1;(t[e]===VA||t[e]===Es)&&(t[e]===Es&&(r=-1),e++);for(var n=[];is(t[e]);)n.push(t[e++]);var s=n.length?parseInt(en.apply(void 0,n),10):0;t[e]===Td&&e++;for(var i=[];is(t[e]);)i.push(t[e++]);var a=i.length,A=a?parseInt(en.apply(void 0,i),10):0;(t[e]===aE||t[e]===sE)&&e++;var l=1;(t[e]===VA||t[e]===Es)&&(t[e]===Es&&(l=-1),e++);for(var c=[];is(t[e]);)c.push(t[e++]);var u=c.length?parseInt(en.apply(void 0,c),10):0;return r*(s+A*Math.pow(10,-a))*Math.pow(10,l*u)},dP={type:2},hP={type:3},fP={type:4},pP={type:13},gP={type:8},mP={type:21},vP={type:9},wP={type:10},yP={type:11},bP={type:12},BP={type:14},yf={type:23},xP={type:1},_P={type:25},CP={type:24},SP={type:26},EP={type:27},kP={type:28},NP={type:29},FP={type:31},ov={type:32},AE=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(vg(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==ov;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case ff:return this.consumeStringToken(ff);case FT:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(cx(r)||Io(n,s)){var i=wf(r,n,s)?ET:ST,a=this.consumeName();return{type:5,value:a,flags:i}}break;case jT:if(this.peekCodePoint(0)===Bu)return this.consumeCodePoint(),pP;break;case pf:return this.consumeStringToken(pf);case gf:return dP;case xu:return hP;case s0:if(this.peekCodePoint(0)===Bu)return this.consumeCodePoint(),BP;break;case VA:if(i0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case $T:return fP;case Es:var A=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(i0(A,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(wf(A,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Es&&c===DT)return this.consumeCodePoint(),this.consumeCodePoint(),CP;break;case Td:if(i0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case ox:if(this.peekCodePoint(0)===s0)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===s0&&(u=this.consumeCodePoint(),u===ox))return this.consumeToken();if(u===pa)return this.consumeToken()}break;case VT:return SP;case GT:return EP;case LT:if(this.peekCodePoint(0)===QT&&this.peekCodePoint(1)===Es&&this.peekCodePoint(2)===Es)return this.consumeCodePoint(),this.consumeCodePoint(),_P;break;case TT:var h=this.peekCodePoint(0),p=this.peekCodePoint(1),d=this.peekCodePoint(2);if(wf(h,p,d)){var a=this.consumeName();return{type:7,value:a}}break;case PT:return kP;case td:if(Io(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case OT:return NP;case RT:if(this.peekCodePoint(0)===Bu)return this.consumeCodePoint(),gP;break;case HT:return yP;case MT:return bP;case tP:case nP:var w=this.peekCodePoint(0),m=this.peekCodePoint(1);return w===VA&&(Rl(m)||m===mf)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case Ax:if(this.peekCodePoint(0)===Bu)return this.consumeCodePoint(),vP;if(this.peekCodePoint(0)===Ax)return this.consumeCodePoint(),mP;break;case zT:if(this.peekCodePoint(0)===Bu)return this.consumeCodePoint(),wP;break;case pa:return ov}return vf(e)?(this.consumeWhiteSpace(),FP):is(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Op(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:en(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();Rl(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===mf&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(en.apply(void 0,e.map(function(l){return l===mf?rE:l})),16),i=parseInt(en.apply(void 0,e.map(function(l){return l===mf?oE:l})),16);return{type:30,start:s,end:i}}var a=parseInt(en.apply(void 0,e),16);if(this.peekCodePoint(0)===Es&&Rl(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var A=[];Rl(r)&&A.length<6;)A.push(r),r=this.consumeCodePoint();var i=parseInt(en.apply(void 0,A),16);return{type:30,start:a,end:i}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===gf?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===gf?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===pa)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===pf||r===ff){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===pa||this.peekCodePoint(0)===xu)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),yf)}for(;;){var s=this.consumeCodePoint();if(s===pa||s===xu)return{type:22,value:en.apply(void 0,e)};if(vf(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===pa||this.peekCodePoint(0)===xu?(this.consumeCodePoint(),{type:22,value:en.apply(void 0,e)}):(this.consumeBadUrlRemnants(),yf);if(s===ff||s===pf||s===gf||cP(s))return this.consumeBadUrlRemnants(),yf;if(s===td)if(Io(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),yf;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;vf(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===xu||e===pa)return;Io(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var s=Math.min(r,e);n+=en.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var s=this._value[n];if(s===pa||s===void 0||s===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===Pp)return this._value.splice(0,n),xP;if(s===td){var i=this._value[n+1];i!==pa&&i!==void 0&&(i===Pp?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Io(s,i)&&(r+=this.consumeStringSlice(n),r+=en(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Yd,n=this.peekCodePoint(0);for((n===VA||n===Es)&&e.push(this.consumeCodePoint());is(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===Td&&is(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=ax;is(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===aE||n===sE)&&((s===VA||s===Es)&&is(i)||is(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=ax;is(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[uP(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);if(wf(s,i,a)){var A=this.consumeName();return{type:15,number:r,flags:n,unit:A}}return s===UT?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Rl(e)){for(var r=en(e);Rl(this.peekCodePoint(0))&&r.length<6;)r+=en(this.consumeCodePoint());vf(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||iP(n)||n>1114111?lx:n}return e===pa?lx:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(cx(r))e+=en(r);else if(Io(r,this.peekCodePoint(0)))e+=en(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),lE=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new AE;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||UP(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?ov:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Zd=function(t){return t.type===15},Vc=function(t){return t.type===17},cr=function(t){return t.type===20},jP=function(t){return t.type===0},Av=function(t,e){return cr(t)&&t.value===e},cE=function(t){return t.type!==31},Qc=function(t){return t.type!==31&&t.type!==4},Sa=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},UP=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},lA=function(t){return t.type===17||t.type===15},un=function(t){return t.type===16||lA(t)},uE=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},zn={type:17,number:0,flags:Yd},Dw={type:16,number:50,flags:Yd},Ko={type:16,number:100,flags:Yd},Du=function(t,e,r){var n=t[0],s=t[1];return[yr(n,e),yr(typeof s<"u"?s:n,r)]},yr=function(t,e){if(t.type===16)return t.number/100*e;if(Zd(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},dE="deg",hE="grad",fE="rad",pE="turn",wg={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case dE:return Math.PI*e.number/180;case hE:return Math.PI/200*e.number;case fE:return e.number;case pE:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},gE=function(t){return t.type===15&&(t.unit===dE||t.unit===hE||t.unit===fE||t.unit===pE)},mE=function(t){var e=t.filter(cr).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[zn,zn];case"to top":case"bottom":return Ni(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[zn,Ko];case"to right":case"left":return Ni(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ko,Ko];case"to bottom":case"top":return Ni(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ko,zn];case"to left":case"right":return Ni(270)}return 0},Ni=function(t){return Math.PI*t/180},sA={name:"color",parse:function(t,e){if(e.type===18){var r=IP[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return $o(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),a=e.value.substring(3,4);return $o(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return $o(parseInt(n,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),a=e.value.substring(6,8);return $o(parseInt(n,16),parseInt(s,16),parseInt(i,16),parseInt(a,16)/255)}}if(e.type===20){var A=Za[e.value.toUpperCase()];if(typeof A<"u")return A}return Za.TRANSPARENT}},iA=function(t){return(255&t)===0},Sn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+n+","+r+","+e/255+")":"rgb("+s+","+n+","+r+")"},$o=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},ux=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},dx=function(t,e){var r=e.filter(Qc);if(r.length===3){var n=r.map(ux),s=n[0],i=n[1],a=n[2];return $o(s,i,a,1)}if(r.length===4){var A=r.map(ux),s=A[0],i=A[1],a=A[2],l=A[3];return $o(s,i,a,l)}return 0};function a0(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var hx=function(t,e){var r=e.filter(Qc),n=r[0],s=r[1],i=r[2],a=r[3],A=(n.type===17?Ni(n.number):wg.parse(t,n))/(Math.PI*2),l=un(s)?s.number/100:0,c=un(i)?i.number/100:0,u=typeof a<"u"&&un(a)?yr(a,1):1;if(l===0)return $o(c*255,c*255,c*255,1);var h=c<=.5?c*(l+1):c+l-c*l,p=c*2-h,d=a0(p,h,A+1/3),w=a0(p,h,A),m=a0(p,h,A-1/3);return $o(d*255,w*255,m*255,u)},IP={hsl:hx,hsla:hx,rgb:dx,rgba:dx},rd=function(t,e){return sA.parse(t,lE.create(e).parseComponentValue())},Za={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},QP={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(cr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},LP={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yg=function(t,e){var r=sA.parse(t,e[0]),n=e[1];return n&&un(n)?{color:r,stop:n}:{color:r,stop:null}},fx=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=zn),n.stop===null&&(n.stop=Ko);for(var s=[],i=0,a=0;a<t.length;a++){var A=t[a].stop;if(A!==null){var l=yr(A,e);l>i?s.push(l):s.push(i),i=l}else s.push(null)}for(var c=null,a=0;a<s.length;a++){var u=s[a];if(u===null)c===null&&(c=a);else if(c!==null){for(var h=a-c,p=s[c-1],d=(u-p)/(h+1),w=1;w<=h;w++)s[c+w-1]=d*w;c=null}}return t.map(function(m,b){var g=m.color;return{color:g,stop:Math.max(Math.min(1,s[b]/e),0)}})},DP=function(t,e,r){var n=e/2,s=r/2,i=yr(t[0],e)-n,a=s-yr(t[1],r);return(Math.atan2(a,i)+Math.PI*2)%(Math.PI*2)},TP=function(t,e,r){var n=typeof t=="number"?t:DP(t,e,r),s=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),i=e/2,a=r/2,A=s/2,l=Math.sin(n-Math.PI/2)*A,c=Math.cos(n-Math.PI/2)*A;return[s,i-c,i+c,a-l,a+l]},$i=function(t,e){return Math.sqrt(t*t+e*e)},px=function(t,e,r,n,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(a,A){var l=A[0],c=A[1],u=$i(r-l,n-c);return(s?u<a.optimumDistance:u>a.optimumDistance)?{optimumCorner:A,optimumDistance:u}:a},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},PP=function(t,e,r,n,s){var i=0,a=0;switch(t.size){case 0:t.shape===0?i=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(t.shape===0)i=a=Math.min($i(e,r),$i(e,r-s),$i(e-n,r),$i(e-n,r-s));else if(t.shape===1){var A=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(e),Math.abs(e-n)),l=px(n,s,e,r,!0),c=l[0],u=l[1];i=$i(c-e,(u-r)/A),a=A*i}break;case 1:t.shape===0?i=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(t.shape===0)i=a=Math.max($i(e,r),$i(e,r-s),$i(e-n,r),$i(e-n,r-s));else if(t.shape===1){var A=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(e),Math.abs(e-n)),h=px(n,s,e,r,!1),c=h[0],u=h[1];i=$i(c-e,(u-r)/A),a=A*i}break}return Array.isArray(t.size)&&(i=yr(t.size[0],n),a=t.size.length===2?yr(t.size[1],s):i),[i,a]},OP=function(t,e){var r=Ni(180),n=[];return Sa(e).forEach(function(s,i){if(i===0){var a=s[0];if(a.type===20&&a.value==="to"){r=mE(s);return}else if(gE(a)){r=wg.parse(t,a);return}}var A=yg(t,s);n.push(A)}),{angle:r,stops:n,type:1}},bf=function(t,e){var r=Ni(180),n=[];return Sa(e).forEach(function(s,i){if(i===0){var a=s[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=mE(s);return}else if(gE(a)){r=(wg.parse(t,a)+Ni(270))%Ni(360);return}}var A=yg(t,s);n.push(A)}),{angle:r,stops:n,type:1}},RP=function(t,e){var r=Ni(180),n=[],s=1,i=0,a=3,A=[];return Sa(e).forEach(function(l,c){var u=l[0];if(c===0){if(cr(u)&&u.value==="linear"){s=1;return}else if(cr(u)&&u.value==="radial"){s=2;return}}if(u.type===18){if(u.name==="from"){var h=sA.parse(t,u.values[0]);n.push({stop:zn,color:h})}else if(u.name==="to"){var h=sA.parse(t,u.values[0]);n.push({stop:Ko,color:h})}else if(u.name==="color-stop"){var p=u.values.filter(Qc);if(p.length===2){var h=sA.parse(t,p[1]),d=p[0];Vc(d)&&n.push({stop:{type:16,number:d.number*100,flags:d.flags},color:h})}}}}),s===1?{angle:(r+Ni(180))%Ni(360),stops:n,type:s}:{size:a,shape:i,stops:n,position:A,type:s}},vE="closest-side",wE="farthest-side",yE="closest-corner",bE="farthest-corner",BE="circle",xE="ellipse",_E="cover",CE="contain",HP=function(t,e){var r=0,n=3,s=[],i=[];return Sa(e).forEach(function(a,A){var l=!0;if(A===0){var c=!1;l=a.reduce(function(h,p){if(c)if(cr(p))switch(p.value){case"center":return i.push(Dw),h;case"top":case"left":return i.push(zn),h;case"right":case"bottom":return i.push(Ko),h}else(un(p)||lA(p))&&i.push(p);else if(cr(p))switch(p.value){case BE:return r=0,!1;case xE:return r=1,!1;case"at":return c=!0,!1;case vE:return n=0,!1;case _E:case wE:return n=1,!1;case CE:case yE:return n=2,!1;case bE:return n=3,!1}else if(lA(p)||un(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return h},l)}if(l){var u=yg(t,a);s.push(u)}}),{size:n,shape:r,stops:s,position:i,type:2}},Bf=function(t,e){var r=0,n=3,s=[],i=[];return Sa(e).forEach(function(a,A){var l=!0;if(A===0?l=a.reduce(function(u,h){if(cr(h))switch(h.value){case"center":return i.push(Dw),!1;case"top":case"left":return i.push(zn),!1;case"right":case"bottom":return i.push(Ko),!1}else if(un(h)||lA(h))return i.push(h),!1;return u},l):A===1&&(l=a.reduce(function(u,h){if(cr(h))switch(h.value){case BE:return r=0,!1;case xE:return r=1,!1;case CE:case vE:return n=0,!1;case wE:return n=1,!1;case yE:return n=2,!1;case _E:case bE:return n=3,!1}else if(lA(h)||un(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return u},l)),l){var c=yg(t,a);s.push(c)}}),{size:n,shape:r,stops:s,position:i,type:2}},MP=function(t){return t.type===1},zP=function(t){return t.type===2},Tw={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=SE[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function KP(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!SE[t.name])}var SE={"linear-gradient":OP,"-moz-linear-gradient":bf,"-ms-linear-gradient":bf,"-o-linear-gradient":bf,"-webkit-linear-gradient":bf,"radial-gradient":HP,"-moz-radial-gradient":Bf,"-ms-radial-gradient":Bf,"-o-radial-gradient":Bf,"-webkit-radial-gradient":Bf,"-webkit-gradient":RP},$P={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return Qc(n)&&KP(n)}).map(function(n){return Tw.parse(t,n)})}},VP={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(cr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},GP={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Sa(e).map(function(r){return r.filter(un)}).map(uE)}},WP={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Sa(e).map(function(r){return r.filter(cr).map(function(n){return n.value}).join(" ")}).map(qP)}},qP=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Bc;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Bc||(Bc={}));var JP={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Sa(e).map(function(r){return r.filter(XP)})}},XP=function(t){return cr(t)||un(t)},bg=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},YP=bg("top"),ZP=bg("right"),eO=bg("bottom"),tO=bg("left"),Bg=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return uE(r.filter(un))}}},rO=Bg("top-left"),nO=Bg("top-right"),sO=Bg("bottom-right"),iO=Bg("bottom-left"),xg=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},aO=xg("top"),oO=xg("right"),AO=xg("bottom"),lO=xg("left"),_g=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Zd(r)?r.number:0}}},cO=_g("top"),uO=_g("right"),dO=_g("bottom"),hO=_g("left"),fO={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},pO={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},gO={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(cr).reduce(function(r,n){return r|mO(n.value)},0)}},mO=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},vO={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},wO={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Rp;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Rp||(Rp={}));var yO={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Rp.STRICT;case"normal":default:return Rp.NORMAL}}},bO={name:"line-height",initialValue:"normal",prefix:!1,type:4},gx=function(t,e){return cr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:un(t)?yr(t,e):e},BO={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:Tw.parse(t,e)}},xO={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},lv={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Cg=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},_O=Cg("top"),CO=Cg("right"),SO=Cg("bottom"),EO=Cg("left"),kO={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(cr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},NO={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Sg=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},FO=Sg("top"),jO=Sg("right"),UO=Sg("bottom"),IO=Sg("left"),QO={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},LO={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},DO={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Av(e[0],"none")?[]:Sa(e).map(function(r){for(var n={color:Za.TRANSPARENT,offsetX:zn,offsetY:zn,blur:zn},s=0,i=0;i<r.length;i++){var a=r[i];lA(a)?(s===0?n.offsetX=a:s===1?n.offsetY=a:n.blur=a,s++):n.color=sA.parse(t,a)}return n})}},TO={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},PO={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=HO[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},OO=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},RO=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=e[0],n=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],A=e[13];return e[14],e[15],e.length===16?[r,n,s,i,a,A]:null},HO={matrix:OO,matrix3d:RO},mx={type:16,number:50,flags:Yd},MO=[mx,mx],zO={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(un);return r.length!==2?MO:[r[0],r[1]]}},KO={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},nd;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(nd||(nd={}));var $O={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return nd.BREAK_ALL;case"keep-all":return nd.KEEP_ALL;case"normal":default:return nd.NORMAL}}},VO={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Vc(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},EE={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},GO={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Vc(e)?e.number:1}},WO={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qO={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(cr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},JO={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},XO={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},YO={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Vc(e))return e.number;if(cr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},ZO={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(cr).map(function(r){return r.value})}},eR={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Bn=function(t,e){return(t&e)!==0},tR={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},rR={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=e.filter(cE),i=0;i<s.length;i++){var a=s[i],A=s[i+1];if(a.type===20){var l=A&&Vc(A)?A.number:1;n.push({counter:a.value,increment:l})}}return n}},nR={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(cE),s=0;s<n.length;s++){var i=n[s],a=n[s+1];if(cr(i)&&i.value!=="none"){var A=a&&Vc(a)?a.number:0;r.push({counter:i.value,reset:A})}}return r}},sR={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Zd).map(function(r){return EE.parse(t,r)})}},iR={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],s=e.filter(jP);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var a=s[i].value,A=s[i+1].value;n.push({open:a,close:A})}return n}},vx=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},aR={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Av(e[0],"none")?[]:Sa(e).map(function(r){for(var n={color:255,offsetX:zn,offsetY:zn,blur:zn,spread:zn,inset:!1},s=0,i=0;i<r.length;i++){var a=r[i];Av(a,"inset")?n.inset=!0:lA(a)?(s===0?n.offsetX=a:s===1?n.offsetY=a:s===2?n.blur=a:n.spread=a,s++):n.color=sA.parse(t,a)}return n})}},oR={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(cr).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},AR={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},lR={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Zd(e)?e.number:0}},cR=function(){function t(e,r){var n,s;this.animationDuration=ut(e,sR,r.animationDuration),this.backgroundClip=ut(e,QP,r.backgroundClip),this.backgroundColor=ut(e,LP,r.backgroundColor),this.backgroundImage=ut(e,$P,r.backgroundImage),this.backgroundOrigin=ut(e,VP,r.backgroundOrigin),this.backgroundPosition=ut(e,GP,r.backgroundPosition),this.backgroundRepeat=ut(e,WP,r.backgroundRepeat),this.backgroundSize=ut(e,JP,r.backgroundSize),this.borderTopColor=ut(e,YP,r.borderTopColor),this.borderRightColor=ut(e,ZP,r.borderRightColor),this.borderBottomColor=ut(e,eO,r.borderBottomColor),this.borderLeftColor=ut(e,tO,r.borderLeftColor),this.borderTopLeftRadius=ut(e,rO,r.borderTopLeftRadius),this.borderTopRightRadius=ut(e,nO,r.borderTopRightRadius),this.borderBottomRightRadius=ut(e,sO,r.borderBottomRightRadius),this.borderBottomLeftRadius=ut(e,iO,r.borderBottomLeftRadius),this.borderTopStyle=ut(e,aO,r.borderTopStyle),this.borderRightStyle=ut(e,oO,r.borderRightStyle),this.borderBottomStyle=ut(e,AO,r.borderBottomStyle),this.borderLeftStyle=ut(e,lO,r.borderLeftStyle),this.borderTopWidth=ut(e,cO,r.borderTopWidth),this.borderRightWidth=ut(e,uO,r.borderRightWidth),this.borderBottomWidth=ut(e,dO,r.borderBottomWidth),this.borderLeftWidth=ut(e,hO,r.borderLeftWidth),this.boxShadow=ut(e,aR,r.boxShadow),this.color=ut(e,fO,r.color),this.direction=ut(e,pO,r.direction),this.display=ut(e,gO,r.display),this.float=ut(e,vO,r.cssFloat),this.fontFamily=ut(e,JO,r.fontFamily),this.fontSize=ut(e,XO,r.fontSize),this.fontStyle=ut(e,eR,r.fontStyle),this.fontVariant=ut(e,ZO,r.fontVariant),this.fontWeight=ut(e,YO,r.fontWeight),this.letterSpacing=ut(e,wO,r.letterSpacing),this.lineBreak=ut(e,yO,r.lineBreak),this.lineHeight=ut(e,bO,r.lineHeight),this.listStyleImage=ut(e,BO,r.listStyleImage),this.listStylePosition=ut(e,xO,r.listStylePosition),this.listStyleType=ut(e,lv,r.listStyleType),this.marginTop=ut(e,_O,r.marginTop),this.marginRight=ut(e,CO,r.marginRight),this.marginBottom=ut(e,SO,r.marginBottom),this.marginLeft=ut(e,EO,r.marginLeft),this.opacity=ut(e,GO,r.opacity);var i=ut(e,kO,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=ut(e,NO,r.overflowWrap),this.paddingTop=ut(e,FO,r.paddingTop),this.paddingRight=ut(e,jO,r.paddingRight),this.paddingBottom=ut(e,UO,r.paddingBottom),this.paddingLeft=ut(e,IO,r.paddingLeft),this.paintOrder=ut(e,oR,r.paintOrder),this.position=ut(e,LO,r.position),this.textAlign=ut(e,QO,r.textAlign),this.textDecorationColor=ut(e,WO,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=ut(e,qO,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=ut(e,DO,r.textShadow),this.textTransform=ut(e,TO,r.textTransform),this.transform=ut(e,PO,r.transform),this.transformOrigin=ut(e,zO,r.transformOrigin),this.visibility=ut(e,KO,r.visibility),this.webkitTextStrokeColor=ut(e,AR,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=ut(e,lR,r.webkitTextStrokeWidth),this.wordBreak=ut(e,$O,r.wordBreak),this.zIndex=ut(e,VO,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return iA(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Bn(this.display,4)||Bn(this.display,33554432)||Bn(this.display,268435456)||Bn(this.display,536870912)||Bn(this.display,67108864)||Bn(this.display,134217728)},t}(),uR=function(){function t(e,r){this.content=ut(e,tR,r.content),this.quotes=ut(e,iR,r.quotes)}return t}(),wx=function(){function t(e,r){this.counterIncrement=ut(e,rR,r.counterIncrement),this.counterReset=ut(e,nR,r.counterReset)}return t}(),ut=function(t,e,r){var n=new AE,s=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(s);var i=new lE(n.read());switch(e.type){case 2:var a=i.parseComponentValue();return e.parse(t,cr(a)?a.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return wg.parse(t,i.parseComponentValue());case"color":return sA.parse(t,i.parseComponentValue());case"image":return Tw.parse(t,i.parseComponentValue());case"length":var A=i.parseComponentValue();return lA(A)?A:zn;case"length-percentage":var l=i.parseComponentValue();return un(l)?l:zn;case"time":return EE.parse(t,i.parseComponentValue())}break}},dR="data-html2canvas-debug",hR=function(t){var e=t.getAttribute(dR);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},cv=function(t,e){var r=hR(t);return r===1||e===r},Ea=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,cv(r,3))debugger;this.styles=new cR(e,window.getComputedStyle(r,null)),hv(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=mg(this.context,r),cv(r,4)&&(this.flags|=16)}return t}(),fR="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",yx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var xf=0;xf<yx.length;xf++)Tu[yx.charCodeAt(xf)]=xf;var pR=function(t){var e=t.length*.75,r=t.length,n,s=0,i,a,A,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=Tu[t.charCodeAt(n)],a=Tu[t.charCodeAt(n+1)],A=Tu[t.charCodeAt(n+2)],l=Tu[t.charCodeAt(n+3)],u[s++]=i<<2|a>>4,u[s++]=(a&15)<<4|A>>2,u[s++]=(A&3)<<6|l&63;return c},gR=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},mR=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},XA=5,Pw=6+5,o0=2,vR=Pw-XA,kE=65536>>XA,wR=1<<XA,A0=wR-1,yR=1024>>XA,bR=kE+yR,BR=bR,xR=32,_R=BR+xR,CR=65536>>Pw,SR=1<<vR,ER=SR-1,bx=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},kR=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},NR=function(t,e){var r=pR(t),n=Array.isArray(r)?mR(r):new Uint32Array(r),s=Array.isArray(r)?gR(r):new Uint16Array(r),i=24,a=bx(s,i/2,n[4]/2),A=n[5]===2?bx(s,(i+n[4])/2):kR(n,Math.ceil((i+n[4])/4));return new FR(n[0],n[1],n[2],n[3],a,A)},FR=function(){function t(e,r,n,s,i,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>XA],r=(r<<o0)+(e&A0),this.data[r];if(e<=65535)return r=this.index[kE+(e-55296>>XA)],r=(r<<o0)+(e&A0),this.data[r];if(e<this.highStart)return r=_R-CR+(e>>Pw),r=this.index[r],r+=e>>XA&ER,r=this.index[r],r=(r<<o0)+(e&A0),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Bx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jR=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _f=0;_f<Bx.length;_f++)jR[Bx.charCodeAt(_f)]=_f;var UR=1,l0=2,c0=3,xx=4,_x=5,IR=7,Cx=8,u0=9,d0=10,Sx=11,Ex=12,kx=13,Nx=14,h0=15,QR=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},LR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var a=t[s];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},DR=NR(fR),Bi="",f0="",TR=function(t){return DR.get(t)},PR=function(t,e,r){var n=r-2,s=e[n],i=e[r-1],a=e[r];if(i===l0&&a===c0)return Bi;if(i===l0||i===c0||i===xx||a===l0||a===c0||a===xx)return f0;if(i===Cx&&[Cx,u0,Sx,Ex].indexOf(a)!==-1||(i===Sx||i===u0)&&(a===u0||a===d0)||(i===Ex||i===d0)&&a===d0||a===kx||a===_x||a===IR||i===UR)return Bi;if(i===kx&&a===Nx){for(;s===_x;)s=e[--n];if(s===Nx)return Bi}if(i===h0&&a===h0){for(var A=0;s===h0;)A++,s=e[--n];if(A%2===0)return Bi}return f0},OR=function(t){var e=QR(t),r=e.length,n=0,s=0,i=e.map(TR);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=Bi;n<r&&(a=PR(e,i,++n))===Bi;);if(a!==Bi||n===r){var A=LR.apply(null,e.slice(s,n));return s=n,{value:A,done:!1}}return{done:!0,value:null}}}},RR=function(t){for(var e=OR(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},HR=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(n),i===e)return!0}}return!1},MR=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,s=vg(n.data).map(function(l){return en(l)}),i=0,a={},A=s.every(function(l,c){r.setStart(n,i),r.setEnd(n,i+l.length);var u=r.getBoundingClientRect();i+=l.length;var h=u.x>a.x||u.y>a.y;return a=u,c===0?!0:h});return t.body.removeChild(e),A},zR=function(){return typeof new Image().crossOrigin<"u"},KR=function(){return typeof new XMLHttpRequest().responseType=="string"},$R=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},Fx=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},VR=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,i=e.toDataURL();s.src=i;var a=uv(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),jx(a).then(function(A){n.drawImage(A,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var c=t.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=r+"px",Fx(l)?jx(uv(r,r,0,0,c)):Promise.reject(!1)}).then(function(A){return n.drawImage(A,0,0),Fx(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},uv=function(t,e,r,n,s){var i="http://www.w3.org/2000/svg",a=document.createElementNS(i,"svg"),A=document.createElementNS(i,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),A.setAttributeNS(null,"width","100%"),A.setAttributeNS(null,"height","100%"),A.setAttributeNS(null,"x",r.toString()),A.setAttributeNS(null,"y",n.toString()),A.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(A),A.appendChild(s),a},jx=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Mn={get SUPPORT_RANGE_BOUNDS(){var t=HR(document);return Object.defineProperty(Mn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Mn.SUPPORT_RANGE_BOUNDS&&MR(document);return Object.defineProperty(Mn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=$R(document);return Object.defineProperty(Mn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?VR(document):Promise.resolve(!1);return Object.defineProperty(Mn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=zR();return Object.defineProperty(Mn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=KR();return Object.defineProperty(Mn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Mn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Mn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},sd=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),GR=function(t,e,r,n){var s=JR(e,r),i=[],a=0;return s.forEach(function(A){if(r.textDecorationLine.length||A.trim().length>0)if(Mn.SUPPORT_RANGE_BOUNDS){var l=Ux(n,a,A.length).getClientRects();if(l.length>1){var c=Ow(A),u=0;c.forEach(function(p){i.push(new sd(p,so.fromDOMRectList(t,Ux(n,u+a,p.length).getClientRects()))),u+=p.length})}else i.push(new sd(A,so.fromDOMRectList(t,l)))}else{var h=n.splitText(A.length);i.push(new sd(A,WR(t,n))),n=h}else Mn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(A.length));a+=A.length}),i},WR=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(n,e);var i=mg(t,n);return n.firstChild&&s.replaceChild(n.firstChild,n),i}}return so.EMPTY},Ux=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(t,e),s.setEnd(t,e+r),s},Ow=function(t){if(Mn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return RR(t)},qR=function(t,e){if(Mn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return YR(t,e)},JR=function(t,e){return e.letterSpacing!==0?Ow(t):qR(t,e)},XR=[32,160,4961,65792,65793,4153,4241],YR=function(t,e){for(var r=CT(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],s,i=function(){if(s.value){var a=s.value.slice(),A=vg(a),l="";A.forEach(function(c){XR.indexOf(c)===-1?l+=en(c):(l.length&&n.push(l),n.push(en(c)),l="")}),l.length&&n.push(l)}};!(s=r.next()).done;)i();return n},ZR=function(){function t(e,r,n){this.text=e7(r.data,n.textTransform),this.textBounds=GR(e,this.text,n,r)}return t}(),e7=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(t7,r7);case 2:return t.toUpperCase();default:return t}},t7=/(^|\s|:|-|\(|\))([a-z])/g,r7=function(t,e,r){return t.length>0?e+r.toUpperCase():t},NE=function(t){ra(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return e}(Ea),FE=function(t){ra(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return e}(Ea),jE=function(t){ra(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=new XMLSerializer,a=mg(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(Ea),UE=function(t){ra(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(Ea),dv=function(t){ra(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return e}(Ea),n7=[{type:15,flags:0,unit:"px",number:3}],s7=[{type:16,flags:0,number:50}],i7=function(t){return t.width>t.height?new so(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new so(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},a7=function(t){var e=t.type===o7?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},Hp="checkbox",Mp="radio",o7="password",Ix=707406591,Rw=function(t){ra(e,t);function e(r,n){var s=t.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=a7(n),(s.type===Hp||s.type===Mp)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=i7(s.bounds)),s.type){case Hp:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=n7;break;case Mp:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=s7;break}return s}return e}(Ea),IE=function(t){ra(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(Ea),QE=function(t){ra(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(Ea),LE=function(t){ra(e,t);function e(r,n){var s=t.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=TE(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?rd(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Za.TRANSPARENT,a=n.contentWindow.document.body?rd(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Za.TRANSPARENT;s.backgroundColor=iA(i)?iA(a)?s.styles.backgroundColor:a:i}}catch{}return s}return e}(Ea),A7=["OL","UL","MENU"],Yf=function(t,e,r,n){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,PE(s)&&s.data.trim().length>0)r.textNodes.push(new ZR(t,s,r.styles));else if(lc(s))if(ME(s)&&s.assignedNodes)s.assignedNodes().forEach(function(A){return Yf(t,A,r,n)});else{var a=DE(t,s);a.styles.isVisible()&&(l7(s,a,n)?a.flags|=4:c7(a.styles)&&(a.flags|=2),A7.indexOf(s.tagName)!==-1&&(a.flags|=8),r.elements.push(a),s.slot,s.shadowRoot?Yf(t,s.shadowRoot,a,n):!zp(s)&&!OE(s)&&!Kp(s)&&Yf(t,s,a,n))}},DE=function(t,e){return fv(e)?new NE(t,e):RE(e)?new FE(t,e):OE(e)?new jE(t,e):u7(e)?new UE(t,e):d7(e)?new dv(t,e):h7(e)?new Rw(t,e):Kp(e)?new IE(t,e):zp(e)?new QE(t,e):HE(e)?new LE(t,e):new Ea(t,e)},TE=function(t,e){var r=DE(t,e);return r.flags|=4,Yf(t,e,r,r),r},l7=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Hw(t)&&r.styles.isTransparent()},c7=function(t){return t.isPositioned()||t.isFloating()},PE=function(t){return t.nodeType===Node.TEXT_NODE},lc=function(t){return t.nodeType===Node.ELEMENT_NODE},hv=function(t){return lc(t)&&typeof t.style<"u"&&!Zf(t)},Zf=function(t){return typeof t.className=="object"},u7=function(t){return t.tagName==="LI"},d7=function(t){return t.tagName==="OL"},h7=function(t){return t.tagName==="INPUT"},f7=function(t){return t.tagName==="HTML"},OE=function(t){return t.tagName==="svg"},Hw=function(t){return t.tagName==="BODY"},RE=function(t){return t.tagName==="CANVAS"},Qx=function(t){return t.tagName==="VIDEO"},fv=function(t){return t.tagName==="IMG"},HE=function(t){return t.tagName==="IFRAME"},Lx=function(t){return t.tagName==="STYLE"},p7=function(t){return t.tagName==="SCRIPT"},zp=function(t){return t.tagName==="TEXTAREA"},Kp=function(t){return t.tagName==="SELECT"},ME=function(t){return t.tagName==="SLOT"},Dx=function(t){return t.tagName.indexOf("-")>0},g7=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,s=e.counterReset,i=!0;n!==null&&n.forEach(function(A){var l=r.counters[A.counter];l&&A.increment!==0&&(i=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=A.increment)});var a=[];return i&&s.forEach(function(A){var l=r.counters[A.counter];a.push(A.counter),l||(l=r.counters[A.counter]=[]),l.push(A.reset)}),a},t}(),Tx={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Px={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},m7={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},v7={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Hl=function(t,e,r,n,s,i){return t<e||t>r?Pd(t,s,i.length>0):n.integers.reduce(function(a,A,l){for(;t>=A;)t-=A,a+=n.values[l];return a},"")+i},zE=function(t,e,r,n){var s="";do r||t--,s=n(t)+s,t/=e;while(t*e>=e);return s},Zr=function(t,e,r,n,s){var i=r-e+1;return(t<0?"-":"")+(zE(Math.abs(t),i,n,function(a){return en(Math.floor(a%i)+e)})+s)},NA=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return zE(Math.abs(t),n,!1,function(s){return e[Math.floor(s%n)]})+r},Wl=1,No=2,Fo=4,Pu=8,Ma=function(t,e,r,n,s,i){if(t<-9999||t>9999)return Pd(t,4,s.length>0);var a=Math.abs(t),A=s;if(a===0)return e[0]+A;for(var l=0;a>0&&l<=4;l++){var c=a%10;c===0&&Bn(i,Wl)&&A!==""?A=e[c]+A:c>1||c===1&&l===0||c===1&&l===1&&Bn(i,No)||c===1&&l===1&&Bn(i,Fo)&&t>100||c===1&&l>1&&Bn(i,Pu)?A=e[c]+(l>0?r[l-1]:"")+A:c===1&&l>0&&(A=r[l-1]+A),a=Math.floor(a/10)}return(t<0?n:"")+A},Ox="",Rx="",Hx="",p0="",Pd=function(t,e,r){var n=r?". ":"",s=r?"":"",i=r?", ":"",a=r?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var A=Zr(t,48,57,!0,n);return A.length<4?"0"+A:A;case 4:return NA(t,"",s);case 6:return Hl(t,1,3999,Tx,3,n).toLowerCase();case 7:return Hl(t,1,3999,Tx,3,n);case 8:return Zr(t,945,969,!1,n);case 9:return Zr(t,97,122,!1,n);case 10:return Zr(t,65,90,!1,n);case 11:return Zr(t,1632,1641,!0,n);case 12:case 49:return Hl(t,1,9999,Px,3,n);case 35:return Hl(t,1,9999,Px,3,n).toLowerCase();case 13:return Zr(t,2534,2543,!0,n);case 14:case 30:return Zr(t,6112,6121,!0,n);case 15:return NA(t,"",s);case 16:return NA(t,"",s);case 17:case 48:return Ma(t,"",Ox,"",s,No|Fo|Pu);case 47:return Ma(t,"",Rx,"",s,Wl|No|Fo|Pu);case 42:return Ma(t,"",Ox,"",s,No|Fo|Pu);case 41:return Ma(t,"",Rx,"",s,Wl|No|Fo|Pu);case 26:return Ma(t,"","",Hx,s,0);case 25:return Ma(t,"","",Hx,s,Wl|No|Fo);case 31:return Ma(t,"","",p0,i,Wl|No|Fo);case 33:return Ma(t,"","",p0,i,0);case 32:return Ma(t,"","",p0,i,Wl|No|Fo);case 18:return Zr(t,2406,2415,!0,n);case 20:return Hl(t,1,19999,v7,3,n);case 21:return Zr(t,2790,2799,!0,n);case 22:return Zr(t,2662,2671,!0,n);case 22:return Hl(t,1,10999,m7,3,n);case 23:return NA(t,"");case 24:return NA(t,"");case 27:return Zr(t,3302,3311,!0,n);case 28:return NA(t,"",s);case 29:return NA(t,"",s);case 34:return Zr(t,3792,3801,!0,n);case 37:return Zr(t,6160,6169,!0,n);case 38:return Zr(t,4160,4169,!0,n);case 39:return Zr(t,2918,2927,!0,n);case 40:return Zr(t,1776,1785,!0,n);case 43:return Zr(t,3046,3055,!0,n);case 44:return Zr(t,3174,3183,!0,n);case 45:return Zr(t,3664,3673,!0,n);case 46:return Zr(t,3872,3881,!0,n);case 3:default:return Zr(t,48,57,!0,n)}},KE="data-html2canvas-ignore",Mx=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new g7,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,s=w7(e,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,A=s.contentWindow,l=A.document,c=B7(s).then(function(){return ds(n,void 0,void 0,function(){var u,h;return ss(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(S7),A&&(A.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(A.scrollY!==r.top||A.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-r.left,A.scrollY-r.top,0,0))),u=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,b7(l)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,h)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(_7(document.doctype)+"<html></html>"),C7(this.referenceElement.ownerDocument,i,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(e){if(cv(e,2))debugger;if(RE(e))return this.createCanvasClone(e);if(Qx(e))return this.createVideoClone(e);if(Lx(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return fv(r)&&(fv(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),Dx(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return g0(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,a){return a&&typeof a.cssText=="string"?i+a.cssText:i},""),s=e.cloneNode(!1);return s.textContent=n,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),a=s.getContext("2d");if(a)if(!this.options.allowTaint&&i)a.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var A=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(A){var l=A.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,r,n){(!lc(r)||!p7(r)&&!r.hasAttribute(KE)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!lc(r)||!Lx(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(lc(i)&&ME(i)&&typeof i.assignedNodes=="function"){var a=i.assignedNodes();a.length&&a.forEach(function(A){return s.appendChildNode(r,A,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(e,r){if(PE(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&lc(e)&&(hv(e)||Zf(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),A=n.getComputedStyle(e,":after");this.referenceElement===e&&hv(s)&&(this.clonedReferenceElement=s),Hw(s)&&N7(s);var l=this.counters.parse(new wx(this.context,i)),c=this.resolvePseudoContent(e,s,a,id.BEFORE);Dx(e)&&(r=!0),Qx(e)||this.cloneChildNodes(e,s,r),c&&s.insertBefore(c,s.firstChild);var u=this.resolvePseudoContent(e,s,A,id.AFTER);return u&&s.appendChild(u),this.counters.pop(l),(i&&(this.options.copyStyles||Zf(e))&&!HE(e)||r)&&g0(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(zp(e)||Kp(e))&&(zp(s)||Kp(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,s){var i=this;if(n){var a=n.content,A=r.ownerDocument;if(!(!A||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new wx(this.context,n));var l=new uR(this.context,n),c=A.createElement("html2canvaspseudoelement");g0(n,c),l.content.forEach(function(h){if(h.type===0)c.appendChild(A.createTextNode(h.value));else if(h.type===22){var p=A.createElement("img");p.src=h.value,p.style.opacity="1",c.appendChild(p)}else if(h.type===18){if(h.name==="attr"){var d=h.values.filter(cr);d.length&&c.appendChild(A.createTextNode(e.getAttribute(d[0].value)||""))}else if(h.name==="counter"){var w=h.values.filter(Qc),m=w[0],b=w[1];if(m&&cr(m)){var g=i.counters.getCounterValue(m.value),y=b&&cr(b)?lv.parse(i.context,b.value):3;c.appendChild(A.createTextNode(Pd(g,y,!1)))}}else if(h.name==="counters"){var B=h.values.filter(Qc),m=B[0],_=B[1],b=B[2];if(m&&cr(m)){var N=i.counters.getCounterValues(m.value),D=b&&cr(b)?lv.parse(i.context,b.value):3,T=_&&_.type===0?_.value:"",O=N.map(function(I){return Pd(I,D,!1)}).join(T);c.appendChild(A.createTextNode(O))}}}else if(h.type===20)switch(h.value){case"open-quote":c.appendChild(A.createTextNode(vx(l.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(A.createTextNode(vx(l.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(A.createTextNode(h.value))}}),c.className=pv+" "+gv;var u=s===id.BEFORE?" "+pv:" "+gv;return Zf(r)?r.className.baseValue+=u:r.className+=u,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),id;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(id||(id={}));var w7=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(KE,"true"),t.body.appendChild(r),r},y7=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},b7=function(t){return Promise.all([].slice.call(t.images,0).map(y7))},B7=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},x7=["all","d","content"],g0=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);x7.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},_7=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},C7=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},S7=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},E7=":before",k7=":after",pv="___html2canvas___pseudoelement_before",gv="___html2canvas___pseudoelement_after",zx=`{
    content: "" !important;
    display: none !important;
}`,N7=function(t){F7(t,"."+pv+E7+zx+`
         .`+gv+k7+zx)},F7=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},$E=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),j7=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(v0(e)||L7(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return ds(this,void 0,void 0,function(){var r,n,s,i,a=this;return ss(this,function(A){switch(A.label){case 0:return r=$E.isSameOrigin(e),n=!m0(e)&&this._options.useCORS===!0&&Mn.SUPPORT_CORS_IMAGES&&!r,s=!m0(e)&&!r&&!v0(e)&&typeof this._options.proxy=="string"&&Mn.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!m0(e)&&!v0(e)&&!s&&!n?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=A.sent(),A.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(D7(i)||n)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return l(u)},500),a._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,A.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,a){var A=Mn.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(A==="text")i(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(p){return a(p)},!1),h.readAsDataURL(l.response)}else a("Failed to proxy resource "+s+" with status code "+l.status)},l.onerror=a;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+A),A!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=A),r._options.imageTimeout){var u=r._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return a("Timed out ("+u+"ms) proxying "+s)}}l.send()})},t}(),U7=/^data:image\/svg\+xml/i,I7=/^data:image\/.*;base64,/i,Q7=/^data:image\/.*/i,L7=function(t){return Mn.SUPPORT_SVG_DRAWING||!T7(t)},m0=function(t){return Q7.test(t)},D7=function(t){return I7.test(t)},v0=function(t){return t.substr(0,4)==="blob"},T7=function(t){return t.substr(-3).toLowerCase()==="svg"||U7.test(t)},lt=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),Ml=function(t,e,r){return new lt(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Cf=function(){function t(e,r,n,s){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=s}return t.prototype.subdivide=function(e,r){var n=Ml(this.start,this.startControl,e),s=Ml(this.startControl,this.endControl,e),i=Ml(this.endControl,this.end,e),a=Ml(n,s,e),A=Ml(s,i,e),l=Ml(a,A,e);return r?new t(this.start,n,a,l):new t(l,A,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Si=function(t){return t.type===1},P7=function(){function t(e){var r=e.styles,n=e.bounds,s=Du(r.borderTopLeftRadius,n.width,n.height),i=s[0],a=s[1],A=Du(r.borderTopRightRadius,n.width,n.height),l=A[0],c=A[1],u=Du(r.borderBottomRightRadius,n.width,n.height),h=u[0],p=u[1],d=Du(r.borderBottomLeftRadius,n.width,n.height),w=d[0],m=d[1],b=[];b.push((i+l)/n.width),b.push((w+h)/n.width),b.push((a+m)/n.height),b.push((c+p)/n.height);var g=Math.max.apply(Math,b);g>1&&(i/=g,a/=g,l/=g,c/=g,h/=g,p/=g,w/=g,m/=g);var y=n.width-l,B=n.height-p,_=n.width-h,N=n.height-m,D=r.borderTopWidth,T=r.borderRightWidth,O=r.borderBottomWidth,F=r.borderLeftWidth,K=yr(r.paddingTop,e.bounds.width),I=yr(r.paddingRight,e.bounds.width),j=yr(r.paddingBottom,e.bounds.width),H=yr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||a>0?Ur(n.left+F/3,n.top+D/3,i-F/3,a-D/3,rr.TOP_LEFT):new lt(n.left+F/3,n.top+D/3),this.topRightBorderDoubleOuterBox=i>0||a>0?Ur(n.left+y,n.top+D/3,l-T/3,c-D/3,rr.TOP_RIGHT):new lt(n.left+n.width-T/3,n.top+D/3),this.bottomRightBorderDoubleOuterBox=h>0||p>0?Ur(n.left+_,n.top+B,h-T/3,p-O/3,rr.BOTTOM_RIGHT):new lt(n.left+n.width-T/3,n.top+n.height-O/3),this.bottomLeftBorderDoubleOuterBox=w>0||m>0?Ur(n.left+F/3,n.top+N,w-F/3,m-O/3,rr.BOTTOM_LEFT):new lt(n.left+F/3,n.top+n.height-O/3),this.topLeftBorderDoubleInnerBox=i>0||a>0?Ur(n.left+F*2/3,n.top+D*2/3,i-F*2/3,a-D*2/3,rr.TOP_LEFT):new lt(n.left+F*2/3,n.top+D*2/3),this.topRightBorderDoubleInnerBox=i>0||a>0?Ur(n.left+y,n.top+D*2/3,l-T*2/3,c-D*2/3,rr.TOP_RIGHT):new lt(n.left+n.width-T*2/3,n.top+D*2/3),this.bottomRightBorderDoubleInnerBox=h>0||p>0?Ur(n.left+_,n.top+B,h-T*2/3,p-O*2/3,rr.BOTTOM_RIGHT):new lt(n.left+n.width-T*2/3,n.top+n.height-O*2/3),this.bottomLeftBorderDoubleInnerBox=w>0||m>0?Ur(n.left+F*2/3,n.top+N,w-F*2/3,m-O*2/3,rr.BOTTOM_LEFT):new lt(n.left+F*2/3,n.top+n.height-O*2/3),this.topLeftBorderStroke=i>0||a>0?Ur(n.left+F/2,n.top+D/2,i-F/2,a-D/2,rr.TOP_LEFT):new lt(n.left+F/2,n.top+D/2),this.topRightBorderStroke=i>0||a>0?Ur(n.left+y,n.top+D/2,l-T/2,c-D/2,rr.TOP_RIGHT):new lt(n.left+n.width-T/2,n.top+D/2),this.bottomRightBorderStroke=h>0||p>0?Ur(n.left+_,n.top+B,h-T/2,p-O/2,rr.BOTTOM_RIGHT):new lt(n.left+n.width-T/2,n.top+n.height-O/2),this.bottomLeftBorderStroke=w>0||m>0?Ur(n.left+F/2,n.top+N,w-F/2,m-O/2,rr.BOTTOM_LEFT):new lt(n.left+F/2,n.top+n.height-O/2),this.topLeftBorderBox=i>0||a>0?Ur(n.left,n.top,i,a,rr.TOP_LEFT):new lt(n.left,n.top),this.topRightBorderBox=l>0||c>0?Ur(n.left+y,n.top,l,c,rr.TOP_RIGHT):new lt(n.left+n.width,n.top),this.bottomRightBorderBox=h>0||p>0?Ur(n.left+_,n.top+B,h,p,rr.BOTTOM_RIGHT):new lt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=w>0||m>0?Ur(n.left,n.top+N,w,m,rr.BOTTOM_LEFT):new lt(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||a>0?Ur(n.left+F,n.top+D,Math.max(0,i-F),Math.max(0,a-D),rr.TOP_LEFT):new lt(n.left+F,n.top+D),this.topRightPaddingBox=l>0||c>0?Ur(n.left+Math.min(y,n.width-T),n.top+D,y>n.width+T?0:Math.max(0,l-T),Math.max(0,c-D),rr.TOP_RIGHT):new lt(n.left+n.width-T,n.top+D),this.bottomRightPaddingBox=h>0||p>0?Ur(n.left+Math.min(_,n.width-F),n.top+Math.min(B,n.height-O),Math.max(0,h-T),Math.max(0,p-O),rr.BOTTOM_RIGHT):new lt(n.left+n.width-T,n.top+n.height-O),this.bottomLeftPaddingBox=w>0||m>0?Ur(n.left+F,n.top+Math.min(N,n.height-O),Math.max(0,w-F),Math.max(0,m-O),rr.BOTTOM_LEFT):new lt(n.left+F,n.top+n.height-O),this.topLeftContentBox=i>0||a>0?Ur(n.left+F+H,n.top+D+K,Math.max(0,i-(F+H)),Math.max(0,a-(D+K)),rr.TOP_LEFT):new lt(n.left+F+H,n.top+D+K),this.topRightContentBox=l>0||c>0?Ur(n.left+Math.min(y,n.width+F+H),n.top+D+K,y>n.width+F+H?0:l-F+H,c-(D+K),rr.TOP_RIGHT):new lt(n.left+n.width-(T+I),n.top+D+K),this.bottomRightContentBox=h>0||p>0?Ur(n.left+Math.min(_,n.width-(F+H)),n.top+Math.min(B,n.height+D+K),Math.max(0,h-(T+I)),p-(O+j),rr.BOTTOM_RIGHT):new lt(n.left+n.width-(T+I),n.top+n.height-(O+j)),this.bottomLeftContentBox=w>0||m>0?Ur(n.left+F+H,n.top+N,Math.max(0,w-(F+H)),m-(O+j),rr.BOTTOM_LEFT):new lt(n.left+F+H,n.top+n.height-(O+j))}return t}(),rr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(rr||(rr={}));var Ur=function(t,e,r,n,s){var i=4*((Math.sqrt(2)-1)/3),a=r*i,A=n*i,l=t+r,c=e+n;switch(s){case rr.TOP_LEFT:return new Cf(new lt(t,c),new lt(t,c-A),new lt(l-a,e),new lt(l,e));case rr.TOP_RIGHT:return new Cf(new lt(t,e),new lt(t+a,e),new lt(l,c-A),new lt(l,c));case rr.BOTTOM_RIGHT:return new Cf(new lt(l,e),new lt(l,e+A),new lt(t+a,c),new lt(t,c));case rr.BOTTOM_LEFT:default:return new Cf(new lt(l,c),new lt(l-a,c),new lt(t,e+A),new lt(t,e))}},$p=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},O7=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Vp=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},R7=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),Sf=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),H7=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),M7=function(t){return t.type===0},VE=function(t){return t.type===1},z7=function(t){return t.type===2},Kx=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},K7=function(t,e,r,n,s){return t.map(function(i,a){switch(a){case 0:return i.add(e,r);case 1:return i.add(e+n,r);case 2:return i.add(e+n,r+s);case 3:return i.add(e,r+s)}return i})},GE=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),WE=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new P7(this.container),this.container.styles.opacity<1&&this.effects.push(new H7(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new R7(n,s,i))}if(this.container.styles.overflowX!==0){var a=$p(this.curves),A=Vp(this.curves);Kx(a,A)?this.effects.push(new Sf(a,6)):(this.effects.push(new Sf(a,2)),this.effects.push(new Sf(A,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var i=n.effects.filter(function(l){return!VE(l)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=$p(n.curves),A=Vp(n.curves);Kx(a,A)||s.unshift(new Sf(A,6))}}else s.unshift.apply(s,i);n=n.parent}return s.filter(function(l){return Bn(l.target,e)})},t}(),mv=function(t,e,r,n){t.container.elements.forEach(function(s){var i=Bn(s.flags,4),a=Bn(s.flags,2),A=new WE(s,t);Bn(s.styles.display,2048)&&n.push(A);var l=Bn(s.flags,8)?[]:n;if(i||a){var c=i||s.styles.isPositioned()?r:e,u=new GE(A);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var h=s.styles.zIndex.order;if(h<0){var p=0;c.negativeZIndex.some(function(w,m){return h>w.element.container.styles.zIndex.order?(p=m,!1):p>0}),c.negativeZIndex.splice(p,0,u)}else if(h>0){var d=0;c.positiveZIndex.some(function(w,m){return h>=w.element.container.styles.zIndex.order?(d=m+1,!1):d>0}),c.positiveZIndex.splice(d,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else s.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);mv(A,u,i?u:r,l)}else s.styles.isInlineLevel()?e.inlineLevel.push(A):e.nonInlineLevel.push(A),mv(A,e,r,l);Bn(s.flags,8)&&qE(s,l)})},qE=function(t,e){for(var r=t instanceof dv?t.start:1,n=t instanceof dv?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof UE&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=Pd(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},$7=function(t){var e=new WE(t,null),r=new GE(e),n=[];return mv(e,r,r,n),qE(e.container,n),r},$x=function(t,e){switch(e){case 0:return Fi(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Fi(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Fi(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Fi(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},V7=function(t,e){switch(e){case 0:return Fi(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Fi(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Fi(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Fi(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},G7=function(t,e){switch(e){case 0:return Fi(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Fi(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Fi(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Fi(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},W7=function(t,e){switch(e){case 0:return Ef(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Ef(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Ef(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Ef(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Ef=function(t,e){var r=[];return Si(t)?r.push(t.subdivide(.5,!1)):r.push(t),Si(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Fi=function(t,e,r,n){var s=[];return Si(t)?s.push(t.subdivide(.5,!1)):s.push(t),Si(r)?s.push(r.subdivide(.5,!0)):s.push(r),Si(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),Si(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},JE=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Gp=function(t){var e=t.styles,r=t.bounds,n=yr(e.paddingLeft,r.width),s=yr(e.paddingRight,r.width),i=yr(e.paddingTop,r.width),a=yr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+s),-(e.borderTopWidth+e.borderBottomWidth+i+a))},q7=function(t,e){return t===0?e.bounds:t===2?Gp(e):JE(e)},J7=function(t,e){return t===0?e.bounds:t===2?Gp(e):JE(e)},w0=function(t,e,r){var n=q7(ql(t.styles.backgroundOrigin,e),t),s=J7(ql(t.styles.backgroundClip,e),t),i=X7(ql(t.styles.backgroundSize,e),r,n),a=i[0],A=i[1],l=Du(ql(t.styles.backgroundPosition,e),n.width-a,n.height-A),c=Y7(ql(t.styles.backgroundRepeat,e),l,i,n,s),u=Math.round(n.left+l[0]),h=Math.round(n.top+l[1]);return[c,u,h,a,A]},zl=function(t){return cr(t)&&t.value===Bc.AUTO},kf=function(t){return typeof t=="number"},X7=function(t,e,r){var n=e[0],s=e[1],i=e[2],a=t[0],A=t[1];if(!a)return[0,0];if(un(a)&&A&&un(A))return[yr(a,r.width),yr(A,r.height)];var l=kf(i);if(cr(a)&&(a.value===Bc.CONTAIN||a.value===Bc.COVER)){if(kf(i)){var c=r.width/r.height;return c<i!=(a.value===Bc.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var u=kf(n),h=kf(s),p=u||h;if(zl(a)&&(!A||zl(A))){if(u&&h)return[n,s];if(!l&&!p)return[r.width,r.height];if(p&&l){var d=u?n:s*i,w=h?s:n/i;return[d,w]}var m=u?n:r.width,b=h?s:r.height;return[m,b]}if(l){var g=0,y=0;return un(a)?g=yr(a,r.width):un(A)&&(y=yr(A,r.height)),zl(a)?g=y*i:(!A||zl(A))&&(y=g/i),[g,y]}var B=null,_=null;if(un(a)?B=yr(a,r.width):A&&un(A)&&(_=yr(A,r.height)),B!==null&&(!A||zl(A))&&(_=u&&h?B/n*s:r.height),_!==null&&zl(a)&&(B=u&&h?_/s*n:r.width),B!==null&&_!==null)return[B,_];throw new Error("Unable to calculate background-size for element")},ql=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},Y7=function(t,e,r,n,s){var i=e[0],a=e[1],A=r[0],l=r[1];switch(t){case 2:return[new lt(Math.round(n.left),Math.round(n.top+a)),new lt(Math.round(n.left+n.width),Math.round(n.top+a)),new lt(Math.round(n.left+n.width),Math.round(l+n.top+a)),new lt(Math.round(n.left),Math.round(l+n.top+a))];case 3:return[new lt(Math.round(n.left+i),Math.round(n.top)),new lt(Math.round(n.left+i+A),Math.round(n.top)),new lt(Math.round(n.left+i+A),Math.round(n.height+n.top)),new lt(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new lt(Math.round(n.left+i),Math.round(n.top+a)),new lt(Math.round(n.left+i+A),Math.round(n.top+a)),new lt(Math.round(n.left+i+A),Math.round(n.top+a+l)),new lt(Math.round(n.left+i),Math.round(n.top+a+l))];default:return[new lt(Math.round(s.left),Math.round(s.top)),new lt(Math.round(s.left+s.width),Math.round(s.top)),new lt(Math.round(s.left+s.width),Math.round(s.height+s.top)),new lt(Math.round(s.left),Math.round(s.height+s.top))]}},Z7="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Vx="Hidden Text",eH=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),s.src=Z7,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(Vx)),n.appendChild(i),n.appendChild(s);var A=s.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(Vx)),n.style.lineHeight="normal",s.style.verticalAlign="super";var l=s.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:A,middle:l}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),XE=function(){function t(e,r){this.context=e,this.options=r}return t}(),tH=1e4,rH=function(t){ra(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new eH(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},e.prototype.applyEffect=function(r){this.ctx.save(),z7(r)&&(this.ctx.globalAlpha=r.opacity),M7(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),VE(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return ds(this,void 0,void 0,function(){var n;return ss(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return ds(this,void 0,void 0,function(){return ss(this,function(n){switch(n.label){case 0:if(Bn(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,s){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var a=Ow(r.text);a.reduce(function(A,l){return i.ctx.fillText(l,A,r.bounds.top+s),A+i.ctx.measureText(l).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),s=oH(r.fontFamily).join(", "),i=Zd(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(r,n){return ds(this,void 0,void 0,function(){var s,i,a,A,l,c,u,h,p=this;return ss(this,function(d){return s=this.createFontStyle(n),i=s[0],a=s[1],A=s[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,A),c=l.baseline,u=l.middle,h=n.paintOrder,r.textBounds.forEach(function(w){h.forEach(function(m){switch(m){case 0:p.ctx.fillStyle=Sn(n.color),p.renderTextWithLetterSpacing(w,n.letterSpacing,c);var b=n.textShadow;b.length&&w.text.trim().length&&(b.slice(0).reverse().forEach(function(g){p.ctx.shadowColor=Sn(g.color),p.ctx.shadowOffsetX=g.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=g.offsetY.number*p.options.scale,p.ctx.shadowBlur=g.blur.number,p.renderTextWithLetterSpacing(w,n.letterSpacing,c)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),n.textDecorationLine.length&&(p.ctx.fillStyle=Sn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(g){switch(g){case 1:p.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top+c),w.bounds.width,1);break;case 2:p.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top),w.bounds.width,1);break;case 3:p.ctx.fillRect(w.bounds.left,Math.ceil(w.bounds.top+u),w.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&w.text.trim().length&&(p.ctx.strokeStyle=Sn(n.webkitTextStrokeColor),p.ctx.lineWidth=n.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(w.text,w.bounds.left,w.bounds.top+c)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=Gp(r),a=Vp(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return ds(this,void 0,void 0,function(){var n,s,i,a,A,l,y,y,c,u,h,p,_,d,w,N,m,b,g,y,B,_,N;return ss(this,function(D){switch(D.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,i=n.styles,a=0,A=n.textNodes,D.label=1;case 1:return a<A.length?(l=A[a],[4,this.renderTextNode(l,i)]):[3,4];case 2:D.sent(),D.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof NE))return[3,8];D.label=5;case 5:return D.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=D.sent(),this.renderReplacedElement(n,s,y),[3,8];case 7:return D.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof FE&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof jE))return[3,12];D.label=9;case 9:return D.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=D.sent(),this.renderReplacedElement(n,s,y),[3,12];case 11:return D.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof LE&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:u=D.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),D.label=14;case 14:if(n instanceof Rw&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===Hp?n.checked&&(this.ctx.save(),this.path([new lt(n.bounds.left+h*.39363,n.bounds.top+h*.79),new lt(n.bounds.left+h*.16,n.bounds.top+h*.5549),new lt(n.bounds.left+h*.27347,n.bounds.top+h*.44071),new lt(n.bounds.left+h*.39694,n.bounds.top+h*.5649),new lt(n.bounds.left+h*.72983,n.bounds.top+h*.23),new lt(n.bounds.left+h*.84,n.bounds.top+h*.34085),new lt(n.bounds.left+h*.39363,n.bounds.top+h*.79)]),this.ctx.fillStyle=Sn(Ix),this.ctx.fill(),this.ctx.restore()):n.type===Mp&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Sn(Ix),this.ctx.fill(),this.ctx.restore())),nH(n)&&n.value.length){switch(p=this.createFontStyle(i),_=p[0],d=p[1],w=this.fontMetrics.getMetrics(_,d).baseline,this.ctx.font=_,this.ctx.fillStyle=Sn(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=iH(n.styles.textAlign),N=Gp(n),m=0,n.styles.textAlign){case 1:m+=N.width/2;break;case 2:m+=N.width;break}b=N.add(m,0,0,-N.height/2+1),this.ctx.save(),this.path([new lt(N.left,N.top),new lt(N.left+N.width,N.top),new lt(N.left+N.width,N.top+N.height),new lt(N.left,N.top+N.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new sd(n.value,b),i.letterSpacing,w),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Bn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(g=n.styles.listStyleImage,g.type!==0)return[3,18];y=void 0,B=g.url,D.label=15;case 15:return D.trys.push([15,17,,18]),[4,this.context.cache.match(B)];case 16:return y=D.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return D.sent(),this.context.logger.error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(_=this.createFontStyle(i)[0],this.ctx.font=_,this.ctx.fillStyle=Sn(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",N=new so(n.bounds.left,n.bounds.top+yr(n.styles.paddingTop,n.bounds.width),n.bounds.width,gx(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new sd(r.listValue,N),i.letterSpacing,gx(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),D.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return ds(this,void 0,void 0,function(){var n,s,g,i,a,g,A,l,g,c,u,g,h,p,g,d,w,g,m,b,g;return ss(this,function(y){switch(y.label){case 0:if(Bn(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:y.sent(),n=0,s=r.negativeZIndex,y.label=2;case 2:return n<s.length?(g=s[n],[4,this.renderStack(g)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:y.sent(),i=0,a=r.nonInlineLevel,y.label=7;case 7:return i<a.length?(g=a[i],[4,this.renderNode(g)]):[3,10];case 8:y.sent(),y.label=9;case 9:return i++,[3,7];case 10:A=0,l=r.nonPositionedFloats,y.label=11;case 11:return A<l.length?(g=l[A],[4,this.renderStack(g)]):[3,14];case 12:y.sent(),y.label=13;case 13:return A++,[3,11];case 14:c=0,u=r.nonPositionedInlineLevel,y.label=15;case 15:return c<u.length?(g=u[c],[4,this.renderStack(g)]):[3,18];case 16:y.sent(),y.label=17;case 17:return c++,[3,15];case 18:h=0,p=r.inlineLevel,y.label=19;case 19:return h<p.length?(g=p[h],[4,this.renderNode(g)]):[3,22];case 20:y.sent(),y.label=21;case 21:return h++,[3,19];case 22:d=0,w=r.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return d<w.length?(g=w[d],[4,this.renderStack(g)]):[3,26];case 24:y.sent(),y.label=25;case 25:return d++,[3,23];case 26:m=0,b=r.positiveZIndex,y.label=27;case 27:return m<b.length?(g=b[m],[4,this.renderStack(g)]):[3,30];case 28:y.sent(),y.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(s,i){var a=Si(s)?s.start:s;i===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),Si(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(r,n,s,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(r,n,s){var i;if(r.width===n&&r.height===s)return r;var a=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,A=a.createElement("canvas");A.width=Math.max(1,n),A.height=Math.max(1,s);var l=A.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,s),A},e.prototype.renderBackgroundImage=function(r){return ds(this,void 0,void 0,function(){var n,s,i,a,A,l;return ss(this,function(c){switch(c.label){case 0:n=r.styles.backgroundImage.length-1,s=function(u){var h,p,d,K,ve,ce,H,C,O,w,K,ve,ce,H,C,m,b,g,y,B,_,N,D,T,O,F,K,I,j,H,C,te,ve,ce,ie,re,Be,se,k,z,V,G;return ss(this,function(de){switch(de.label){case 0:if(u.type!==0)return[3,5];h=void 0,p=u.url,de.label=1;case 1:return de.trys.push([1,3,,4]),[4,i.context.cache.match(p)];case 2:return h=de.sent(),[3,4];case 3:return de.sent(),i.context.logger.error("Error loading background-image "+p),[3,4];case 4:return h&&(d=w0(r,n,[h.width,h.height,h.width/h.height]),K=d[0],ve=d[1],ce=d[2],H=d[3],C=d[4],O=i.ctx.createPattern(i.resizeImage(h,H,C),"repeat"),i.renderRepeat(K,O,ve,ce)),[3,6];case 5:MP(u)?(w=w0(r,n,[null,null,null]),K=w[0],ve=w[1],ce=w[2],H=w[3],C=w[4],m=TP(u.angle,H,C),b=m[0],g=m[1],y=m[2],B=m[3],_=m[4],N=document.createElement("canvas"),N.width=H,N.height=C,D=N.getContext("2d"),T=D.createLinearGradient(g,B,y,_),fx(u.stops,b).forEach(function(ye){return T.addColorStop(ye.stop,Sn(ye.color))}),D.fillStyle=T,D.fillRect(0,0,H,C),H>0&&C>0&&(O=i.ctx.createPattern(N,"repeat"),i.renderRepeat(K,O,ve,ce))):zP(u)&&(F=w0(r,n,[null,null,null]),K=F[0],I=F[1],j=F[2],H=F[3],C=F[4],te=u.position.length===0?[Dw]:u.position,ve=yr(te[0],H),ce=yr(te[te.length-1],C),ie=PP(u,ve,ce,H,C),re=ie[0],Be=ie[1],re>0&&Be>0&&(se=i.ctx.createRadialGradient(I+ve,j+ce,0,I+ve,j+ce,re),fx(u.stops,re*2).forEach(function(ye){return se.addColorStop(ye.stop,Sn(ye.color))}),i.path(K),i.ctx.fillStyle=se,re!==Be?(k=r.bounds.left+.5*r.bounds.width,z=r.bounds.top+.5*r.bounds.height,V=Be/re,G=1/V,i.ctx.save(),i.ctx.translate(k,z),i.ctx.transform(1,0,0,V,0,0),i.ctx.translate(-k,-z),i.ctx.fillRect(I,G*(j-z)+z,H,C*G),i.ctx.restore()):i.ctx.fill())),de.label=6;case 6:return n--,[2]}})},i=this,a=0,A=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<A.length?(l=A[a],[5,s(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,s){return ds(this,void 0,void 0,function(){return ss(this,function(i){return this.path($x(s,n)),this.ctx.fillStyle=Sn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,s,i){return ds(this,void 0,void 0,function(){var a,A;return ss(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,i)]:[3,2];case 1:return l.sent(),[2];case 2:return a=V7(i,s),this.path(a),this.ctx.fillStyle=Sn(r),this.ctx.fill(),A=G7(i,s),this.path(A),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return ds(this,void 0,void 0,function(){var n,s,i,a,A,l,c,u,h=this;return ss(this,function(p){switch(p.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!iA(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=sH(ql(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),iA(n.backgroundColor)||(this.ctx.fillStyle=Sn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(d){h.ctx.save();var w=$p(r.curves),m=d.inset?0:tH,b=K7(w,-m+(d.inset?1:-1)*d.spread.number,(d.inset?1:-1)*d.spread.number,d.spread.number*(d.inset?-2:2),d.spread.number*(d.inset?-2:2));d.inset?(h.path(w),h.ctx.clip(),h.mask(b)):(h.mask(w),h.ctx.clip(),h.path(b)),h.ctx.shadowOffsetX=d.offsetX.number+m,h.ctx.shadowOffsetY=d.offsetY.number,h.ctx.shadowColor=Sn(d.color),h.ctx.shadowBlur=d.blur.number,h.ctx.fillStyle=d.inset?Sn(d.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),p.label=2;case 2:A=0,l=0,c=i,p.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!iA(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,A,r.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,A,r.curves,3)];case 6:return p.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,A,r.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,A,r.curves)];case 10:p.sent(),p.label=11;case 11:A++,p.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,s,i,a){return ds(this,void 0,void 0,function(){var A,l,c,u,h,p,d,w,m,b,g,y,B,_,N,D,N,D;return ss(this,function(T){return this.ctx.save(),A=W7(i,s),l=$x(i,s),a===2&&(this.path(l),this.ctx.clip()),Si(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),Si(l[1])?(h=l[1].end.x,p=l[1].end.y):(h=l[1].x,p=l[1].y),s===0||s===2?d=Math.abs(c-h):d=Math.abs(u-p),this.ctx.beginPath(),a===3?this.formatPath(A):this.formatPath(l.slice(0,2)),w=n<3?n*3:n*2,m=n<3?n*2:n,a===3&&(w=n,m=n),b=!0,d<=w*2?b=!1:d<=w*2+m?(g=d/(2*w+m),w*=g,m*=g):(y=Math.floor((d+m)/(w+m)),B=(d-y*w)/(y-1),_=(d-(y+1)*w)/y,m=_<=0||Math.abs(m-B)<Math.abs(m-_)?B:_),b&&(a===3?this.ctx.setLineDash([0,w+m]):this.ctx.setLineDash([w,m])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Sn(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Si(l[0])&&(N=l[3],D=l[0],this.ctx.beginPath(),this.formatPath([new lt(N.end.x,N.end.y),new lt(D.start.x,D.start.y)]),this.ctx.stroke()),Si(l[1])&&(N=l[1],D=l[2],this.ctx.beginPath(),this.formatPath([new lt(N.end.x,N.end.y),new lt(D.start.x,D.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return ds(this,void 0,void 0,function(){var n;return ss(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Sn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=$7(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(XE),nH=function(t){return t instanceof QE||t instanceof IE?!0:t instanceof Rw&&t.type!==Mp&&t.type!==Hp},sH=function(t,e){switch(t){case 0:return $p(e);case 2:return O7(e);case 1:default:return Vp(e)}},iH=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},aH=["-apple-system","system-ui"],oH=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return aH.indexOf(e)===-1}):t},AH=function(t){ra(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return e.prototype.render=function(r){return ds(this,void 0,void 0,function(){var n,s;return ss(this,function(i){switch(i.label){case 0:return n=uv(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,lH(n)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Sn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(XE),lH=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},cH=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,af([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,af([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,af([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,af([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),uH=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new cH({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new j7(this,e)}return t.instanceCount=1,t}(),dH=function(t,e){return e===void 0&&(e={}),hH(t,e)};typeof window<"u"&&$E.setContext(window);var hH=function(t,e){return ds(void 0,void 0,void 0,function(){var r,n,s,i,a,A,l,c,u,h,p,d,w,m,b,g,y,B,_,N,T,D,T,O,F,K,I,j,H,C,te,ve,ce,ie,re,Be,se,k,z,V;return ss(this,function(G){switch(G.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(O=e.allowTaint)!==null&&O!==void 0?O:!1,imageTimeout:(F=e.imageTimeout)!==null&&F!==void 0?F:15e3,proxy:e.proxy,useCORS:(K=e.useCORS)!==null&&K!==void 0?K:!1},i=J1({logging:(I=e.logging)!==null&&I!==void 0?I:!0,cache:e.cache},s),a={windowWidth:(j=e.windowWidth)!==null&&j!==void 0?j:n.innerWidth,windowHeight:(H=e.windowHeight)!==null&&H!==void 0?H:n.innerHeight,scrollX:(C=e.scrollX)!==null&&C!==void 0?C:n.pageXOffset,scrollY:(te=e.scrollY)!==null&&te!==void 0?te:n.pageYOffset},A=new so(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new uH(i,A),c=(ve=e.foreignObjectRendering)!==null&&ve!==void 0?ve:!1,u={allowTaint:(ce=e.allowTaint)!==null&&ce!==void 0?ce:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+A.width+"x"+A.height+" scrolled to "+-A.left+","+-A.top),h=new Mx(l,t,u),p=h.clonedReferenceElement,p?[4,h.toIFrame(r,A)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return d=G.sent(),w=Hw(p)||f7(p)?KD(p.ownerDocument):mg(l,p),m=w.width,b=w.height,g=w.left,y=w.top,B=fH(l,p,e.backgroundColor),_={canvas:e.canvas,backgroundColor:B,scale:(re=(ie=e.scale)!==null&&ie!==void 0?ie:n.devicePixelRatio)!==null&&re!==void 0?re:1,x:((Be=e.x)!==null&&Be!==void 0?Be:0)+g,y:((se=e.y)!==null&&se!==void 0?se:0)+y,width:(k=e.width)!==null&&k!==void 0?k:Math.ceil(m),height:(z=e.height)!==null&&z!==void 0?z:Math.ceil(b)},c?(l.logger.debug("Document cloned, using foreign object rendering"),T=new AH(l,_),[4,T.render(p)]):[3,3];case 2:return N=G.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+g+","+y+" with size "+m+"x"+b+" using computed rendering"),l.logger.debug("Starting DOM parsing"),D=TE(l,p),B===D.styles.backgroundColor&&(D.styles.backgroundColor=Za.TRANSPARENT),l.logger.debug("Starting renderer for element at "+_.x+","+_.y+" with size "+_.width+"x"+_.height),T=new rH(l,_),[4,T.render(D)];case 4:N=G.sent(),G.label=5;case 5:return(!((V=e.removeContainer)!==null&&V!==void 0)||V)&&(Mx.destroy(d)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,N]}})})},fH=function(t,e,r){var n=e.ownerDocument,s=n.documentElement?rd(t,getComputedStyle(n.documentElement).backgroundColor):Za.TRANSPARENT,i=n.body?rd(t,getComputedStyle(n.body).backgroundColor):Za.TRANSPARENT,a=typeof r=="string"?rd(t,r):r===null?Za.TRANSPARENT:4294967295;return e===n.documentElement?iA(s)?iA(i)?a:i:s:a};const pH=Object.freeze(Object.defineProperty({__proto__:null,default:dH},Symbol.toStringTag,{value:"Module"}));const YE=X.forwardRef((t,e)=>{var sa;const[r,n]=X.useState([]),[s,i]=X.useState(!0),a=X.useRef(null),[A,l]=X.useState("all"),[c,u]=X.useState("all"),[h,p]=X.useState("current"),[d,w]=X.useState(!1);X.useState(null);const[m,b]=X.useState(null),[g,y]=X.useState(!1),[B,_]=X.useState(null),[N,D]=X.useState(!1),[T,O]=X.useState(null),[F,K]=X.useState(!1),[I,j]=X.useState(""),[H,C]=X.useState(""),[te,ve]=X.useState("all"),[ce,ie]=X.useState(!1),[re,Be]=X.useState(null),[se,k]=X.useState(""),[z,V]=X.useState({expectedDeliveryDate:"",deliveryNotes:"",purchaseOrderNumber:"",trackingNumber:""}),[G,de]=X.useState(!1),[ye,we]=X.useState([]),[Z,he]=X.useState({}),[le,ae]=X.useState(!1),[Se,E]=X.useState(null),[Q,pe]=X.useState(null),[ee,J]=X.useState(!1),[q,Ce]=X.useState({submissionDetails:{subteam:"",submitterName:"",submitterEmail:""},materialDetails:{materialName:"",specifications:"",materialLink:"",supplier:"",supplierContact:""},costBreakdown:{unitPrice:"",quantity:"",shippingCost:"",totalCost:""},projectDetails:{purpose:"",urgency:"flexible",neededByDate:""},sponsorshipInfo:{canBeSponsored:!1,sponsorContactName:"",sponsorContactEmail:"",sponsorCompany:""}}),[Ee,xe]=X.useState({}),{showError:Fe,showConfirm:Ke,showSuccess:Te}=Ai(),{status:$e,lastSync:dt,startSaving:tt,finishSaving:Je,acknowledgeNewData:M,setDisplayedData:ge}=Vd(()=>Ve.getOrders(),d?1e4:2e3);X.useImperativeHandle(e,()=>({handleSubmitOrder:()=>{w(!0)}}));const Le=()=>{const L=ft.currentUser;if(!L)return"Unknown User";const fe=L.first_name||"",De=L.last_name||"";return`${fe} ${De}`.trim()||L.email||"Unknown User"},Ue=(L=new Date)=>{const fe=L.getMonth(),De=L.getFullYear();return fe>=7&&fe<=11?{semester:"fall",year:De}:fe>=0&&fe<=4?{semester:"spring",year:De}:{semester:"fall",year:De}},qe=async L=>{var ht,Et,kt,nr,$t,er,Br,At;if(L&&L.preventDefault&&L.preventDefault(),!I||!H){await Fe("Please select a start and end date for the download range.","Missing Dates");return}const fe=new Date(I),De=new Date(H);if(De.setHours(23,59,59,999),fe>De){await Fe("Start date must be before the end date.","Invalid Range");return}try{tt();const Ht=(await Ve.getOrders()).orders.filter(Qt=>{const Rr=new Date(Qt.submissionTimestamp);return Rr>=fe&&Rr<=De});if(Ht.length===0){await Fe("No orders found in the selected date range.","No Orders Found"),Je();return}const Ts=new HQ,Wr=Ts.folder("order-packages"),Li={};Ht.forEach(Qt=>{var Os;const Rr=(Os=Qt.purchaseStatus)==null?void 0:Os.purchaseGroupId;Rr&&(Li[Rr]||(Li[Rr]=[]),Li[Rr].push(Qt))});let Gt=0;const _n=[],ui=new Set;for(const Qt of Ht)try{const Rr=(ht=Qt.purchaseStatus)==null?void 0:ht.purchaseGroupId;if(te==="all"&&Rr){if(!Qt.purchaseStatus.purchaseGroupPrimary||ui.has(Rr))continue;ui.add(Rr);const xr=Li[Rr]||[Qt],Hr=Wr.folder(`order_${Qt.id}`);for(const _r of xr)try{const ia=(await st(_r)).output("blob");Hr.file(`order_details_${_r.id}.pdf`,ia),Gt++}catch(Cn){console.warn(`Failed to generate details PDF for order ${_r.id}:`,Cn),_n.push(`Order ${_r.id}: Could not generate details PDF`)}const qn=Qt.purchaseStatus.purchaseGroupReceiptFile||((kt=(Et=Qt.documentation)==null?void 0:Et.receiptInvoice)==null?void 0:kt.fileName);if(qn)try{const _r=Ve.getFileNameFromStorageUrl(qn);if(_r){const Cn=await Ve.downloadFileFromStorage("order-receipts",_r);Hr.file(`receipt_${Qt.id}.pdf`,Cn),Gt++}else _n.push(`Order ${Qt.id}: Could not extract receipt filename`)}catch(_r){console.warn(`Could not download group receipt for order ${Qt.id}:`,_r),_n.push(`Order ${Qt.id}: Receipt unavailable - included order details only`)}continue}const Os=await st(Qt);if(te==="all"){const xr=(nr=Qt.documentation)==null?void 0:nr.receiptInvoice;if(xr!=null&&xr.fileName)try{const Hr=Ve.getFileNameFromStorageUrl(xr.fileName);if(Hr){const qn=await Ve.downloadFileFromStorage("order-receipts",Hr),_r=Os.output("blob"),Cn=Wr.folder(`order_${Qt.id}`);Cn.file(`order_details_${Qt.id}.pdf`,_r),Cn.file(`receipt_${Qt.id}.pdf`,qn),Gt+=2}}catch(Hr){console.warn(`Could not download receipt for order ${Qt.id}:`,Hr);const qn=Os.output("blob");Wr.file(`order_${Qt.id}_details_only.pdf`,qn),Gt++,_n.push(`Order ${Qt.id}: Receipt unavailable - included order details only`)}else{const Hr=Os.output("blob");Wr.file(`order_${Qt.id}_details_only.pdf`,Hr),Gt++}}else{const xr=($t=Qt.documentation)==null?void 0:$t.receiptInvoice;if(!(xr!=null&&xr.fileName)){console.warn(`Order ${Qt.id} has no receipt file`);continue}if((er=Qt.purchaseStatus)!=null&&er.purchaseGroupId){if(ui.has(Qt.purchaseStatus.purchaseGroupId)){console.log(`Skipping duplicate receipt for purchase group ${Qt.purchaseStatus.purchaseGroupId}`);continue}ui.add(Qt.purchaseStatus.purchaseGroupId)}const Hr=Ve.getFileNameFromStorageUrl(xr.fileName);if(!Hr){_n.push(`Order ${Qt.id}: Could not extract filename from URL`);continue}const qn=(Br=Qt.purchaseStatus)!=null&&Br.purchaseGroupId?`order_${Qt.purchaseStatus.purchaseGroupId}`:`order_${Qt.id}_${(((At=Qt.materialDetails)==null?void 0:At.materialName)||"material").replace(/[^a-z0-9]/gi,"_").toLowerCase().substring(0,50)}`,_r=Hr.includes(".")?Hr.split(".").pop():"pdf",Cn=`${qn}.${_r}`,ia=await Ve.downloadFileFromStorage("order-receipts",Hr);Wr.file(Cn,ia),Gt++}}catch(Rr){console.error(`Failed to process order ${Qt.id}:`,Rr),_n.push(`Order ${Qt.id}: ${Rr.message}`)}if(Gt===0){await Fe("No files could be processed. Please check if the orders exist and are accessible.","Download Failed"),Je();return}const xs=await Ts.generateAsync({type:"blob"}),di=fe.toISOString().split("T")[0],Wn=De.toISOString().split("T")[0],pr=`solarpack-orders_${te==="all"?"complete-packages":"receipts-only"}_${di}_to_${Wn}.zip`;MQ.saveAs(xs,pr);let Ps=`Successfully processed ${Gt} file${Gt!==1?"s":""}`;te==="all"?Ps+=" (complete order packages with details and receipts)":Ps+=" (receipt files only)",_n.length>0&&(Ps+=` (${_n.length} error${_n.length!==1?"s":""} - check console for details)`,console.warn("Errors during order package download:",_n)),await Te(Ps),K(!1),j(""),C(""),ve("all"),Je()}catch(fn){console.error("Error downloading order packages:",fn),Je(),await Fe(`Failed to download order packages: ${fn.message}`,"Download Error")}},rt=async(L,fe)=>{if(!L){await Fe("No receipt file available to download","Download Error");return}try{const De=await fetch(L);if(!De.ok)throw new Error("Failed to fetch file");const ht=await De.blob(),Et=window.URL.createObjectURL(ht),kt=document.createElement("a");kt.href=Et,kt.download=fe||L.split("/").pop()||"receipt.pdf",document.body.appendChild(kt),kt.click(),kt.remove(),window.URL.revokeObjectURL(Et)}catch{try{window.open(L,"_blank")}catch{await Fe("Unable to download or open receipt file","Download Error")}}},st=async L=>{var At,fn,Ht,Ts;const fe=new Ct("p","mm","a4");let De=20;fe.setFontSize(20),fe.setTextColor(220,38,38),fe.text("SOLARPACK ORDER DETAILS",105,De,{align:"center"}),De+=15,fe.setFontSize(12),fe.setTextColor(0,0,0),fe.text(`Order ID: ${L.id}`,20,De),fe.text(`Submitted: ${new Date(L.submissionTimestamp).toLocaleDateString()}`,150,De),De+=10,fe.setFontSize(14),fe.setTextColor(220,38,38),fe.text("MATERIAL DETAILS",20,De),De+=8,fe.setFontSize(10),fe.setTextColor(0,0,0),fe.text(`Material: ${L.materialDetails.materialName}`,20,De),De+=6,fe.text(`Supplier: ${L.materialDetails.supplier||"N/A"}`,20,De),De+=6,fe.text(`Link: ${L.materialDetails.materialLink||"N/A"}`,20,De),De+=10;const ht=L.materialDetails.specifications||"No specifications provided",Et=fe.splitTextToSize(`Specifications: ${ht}`,170);fe.text(Et,20,De),De+=Et.length*5+10,fe.setFontSize(14),fe.setTextColor(220,38,38),fe.text("COST BREAKDOWN",20,De),De+=8,fe.setFontSize(10),fe.setTextColor(0,0,0),fe.text(`Unit Price: $${(L.costBreakdown.unitPrice||0).toFixed(2)}`,20,De),fe.text(`Quantity: ${L.costBreakdown.quantity||0}`,100,De),De+=6,fe.text(`Shipping: $${(L.costBreakdown.shippingCost||0).toFixed(2)}`,20,De),fe.text(`Taxes: $${(L.costBreakdown.taxes||0).toFixed(2)}`,100,De),De+=6,fe.text(`Fees: $${(L.costBreakdown.fees||0).toFixed(2)}`,20,De),De+=8,fe.setFontSize(12),fe.setTextColor(220,38,38),fe.text(`TOTAL COST: $${(L.costBreakdown.totalCost||0).toFixed(2)}`,20,De),De+=15,fe.setFontSize(14),fe.text("PROJECT DETAILS",20,De),De+=8,fe.setFontSize(10),fe.setTextColor(0,0,0),fe.text(`Subteam: ${L.submissionDetails.subteam||"N/A"}`,20,De),fe.text(`Urgency: ${L.projectDetails.urgency||"N/A"}`,100,De),De+=6,fe.text(`Submitter: ${L.submissionDetails.submitterName||"N/A"}`,20,De),fe.text(`Email: ${L.submissionDetails.submitterEmail||"N/A"}`,100,De),De+=10;const kt=L.projectDetails.purpose||"No purpose provided",nr=fe.splitTextToSize(`Purpose: ${kt}`,170);fe.text(nr,20,De),De+=nr.length*5+10,fe.setFontSize(14),fe.setTextColor(220,38,38),fe.text("APPROVAL WORKFLOW",20,De),De+=8,fe.setFontSize(10),fe.setTextColor(0,0,0);const $t=((At=L.approvalWorkflow)==null?void 0:At.technicalDirectorApproval)||{status:"pending"};if(fe.text(`Technical Approval: ${((fn=$t.status)==null?void 0:fn.toUpperCase())||"PENDING"}`,20,De),De+=6,$t.approvedBy&&(fe.text(`Approved by: ${$t.approvedBy}`,30,De),De+=6),$t.comments){const Wr=fe.splitTextToSize(`Comments: ${$t.comments}`,160);fe.text(Wr,30,De),De+=Wr.length*5+6}const er=((Ht=L.approvalWorkflow)==null?void 0:Ht.projectDirectorPurchaseApproval)||{status:"pending"};if(fe.text(`Purchase Approval: ${((Ts=er.status)==null?void 0:Ts.toUpperCase())||"PENDING"}`,20,De),De+=6,er.approvedBy&&(fe.text(`Approved by: ${er.approvedBy}`,30,De),De+=6),er.comments){const Wr=fe.splitTextToSize(`Comments: ${er.comments}`,160);fe.text(Wr,30,De),De+=Wr.length*5+6}const Br=L.sponsorshipInfo||{};return(Br.canBeSponsored||Br.sponsorshipSearchStatus!=="not_applicable")&&(fe.setFontSize(14),fe.setTextColor(220,38,38),fe.text("SPONSORSHIP INFORMATION",20,De),De+=8,fe.setFontSize(10),fe.setTextColor(0,0,0),fe.text(`Status: ${Br.sponsorshipSearchStatus||"N/A"}`,20,De),De+=6,Br.sponsorshipSuccessful&&(fe.setTextColor(0,128,0),fe.text(" OBTAINED THROUGH SPONSORSHIP",20,De),fe.setTextColor(0,0,0),De+=6)),fe},it=(L,fe)=>{let De,ht;return L==="fall"?(De=new Date(fe,7,1),ht=new Date(fe,11,31,23,59,59)):(De=new Date(fe,0,1),ht=new Date(fe,4,31,23,59,59)),{startDate:De,endDate:ht}},me=()=>{const L=Ue(),fe=[{value:"current",label:`${L.semester.charAt(0).toUpperCase()+L.semester.slice(1)} ${L.year}`}];let De,ht;return L.semester==="fall"?(De="spring",ht=L.year):(De="fall",ht=L.year-1),fe.push({value:`${De}_${ht}`,label:`${De.charAt(0).toUpperCase()+De.slice(1)} ${ht}`}),fe.push({value:"past_year",label:"Year"}),fe};X.useEffect(()=>{et()},[]);const Pe=X.useRef(0);X.useEffect(()=>{const L=a.current;if(!L||!d)return;const fe=()=>{Pe.current=L.scrollTop};return L.addEventListener("scroll",fe),Pe.current>0&&(L.scrollTop=Pe.current),()=>{L.removeEventListener("scroll",fe)}},[d,$e]);const Xe=L=>{var ht,Et;if(!L||!L.approvalWorkflow)return console.warn("Order missing approvalWorkflow, skipping:",L),null;let fe={...L};if(fe.approvalWorkflow.technicalDirectorApproval||(fe.approvalWorkflow.technicalDirectorApproval={status:"pending",approvedBy:null,approvalDate:null,comments:"",denialReason:""}),fe.approvalWorkflow.purchaseApproval&&!fe.approvalWorkflow.projectDirectorPurchaseApproval?(fe.approvalWorkflow.projectDirectorPurchaseApproval={...fe.approvalWorkflow.purchaseApproval},delete fe.approvalWorkflow.purchaseApproval):fe.approvalWorkflow.directorApproval&&!fe.approvalWorkflow.technicalDirectorApproval&&(fe.approvalWorkflow.technicalDirectorApproval={...fe.approvalWorkflow.directorApproval},delete fe.approvalWorkflow.directorApproval),!fe.approvalWorkflow.projectDirectorPurchaseApproval){const kt=((ht=fe.sponsorshipInfo)==null?void 0:ht.sponsorshipSearchStatus)==="successful"||((Et=fe.sponsorshipInfo)==null?void 0:Et.sponsorshipSuccessful)===!0;fe.approvalWorkflow.projectDirectorPurchaseApproval={status:kt?"not_required":"pending",approvedBy:null,approvalDate:null,comments:kt?"Obtained through sponsorship - no purchase needed":"",denialReason:""}}let De=fe.status;return fe.status==="pending_approval"?De="pending_technical_approval":fe.status==="approved_for_purchase"?De="approved":fe.status==="pending_purchase_approval"||fe.status==="awaiting_sponsorship"?De="pending_project_approval":fe.status==="in_transit"&&(De="shipped"),fe.sponsorshipInfo&&!fe.sponsorshipInfo.sponsorshipSearchStatus&&(fe.sponsorshipInfo.sponsorshipSearchStatus=fe.sponsorshipInfo.canBeSponsored?"in_progress":"not_applicable"),fe.status=De,fe},et=async()=>{console.log("Loading orders from Supabase..."),i(!0);try{const L=await Ve.getOrders();if(console.log("Loaded orders:",L),!L||!L.orders)throw console.error("Invalid data structure received:",L),new Error("Invalid orders data structure");const fe=L.orders.map(Xe).filter(De=>De!==null);console.log(` Successfully loaded ${fe.length} orders from Supabase`),n(fe),ge({...L,orders:fe}),M()}catch(L){console.error("Error loading orders:",L),await Fe(`Failed to load orders: ${L.message}`,"Load Error"),n([])}finally{i(!1)}},at=async()=>{await et(),M()},Me=async(L,fe)=>{var De,ht,Et,kt,nr,$t;tt();try{const er=r.find(Ht=>Ht.id===L);if(!er)throw new Error("Order not found");const Br=new Date().toISOString();let At={...er,lastUpdated:Br};if(At.approvalWorkflow.technicalDirectorApproval||(At.approvalWorkflow.technicalDirectorApproval={status:"pending",approvedBy:null,approvalDate:null,comments:"",denialReason:""}),At.approvalWorkflow.projectDirectorPurchaseApproval||(At.approvalWorkflow.projectDirectorPurchaseApproval={status:"pending",approvedBy:null,approvalDate:null,comments:"",denialReason:""}),fe.type==="technical_director_approval"){At.approvalWorkflow.technicalDirectorApproval={...At.approvalWorkflow.technicalDirectorApproval,status:fe.approved?"approved":"denied",approvedBy:fe.approvedBy,approvalDate:Br,comments:fe.comments||"",denialReason:fe.denialReason||""};const Ht=fe.sponsorshipStatus||"not_applicable";At.sponsorshipInfo={...At.sponsorshipInfo,sponsorshipSearchStatus:Ht,sponsorshipResponse:fe.sponsorshipNotes||At.sponsorshipInfo.sponsorshipResponse||"",sponsorshipSuccessful:Ht==="successful",canBeSponsored:Ht!=="not_applicable"},fe.approved?Ht==="successful"?(At.status="approved",At.approvalWorkflow.projectDirectorPurchaseApproval.status="approved",At.approvalWorkflow.projectDirectorPurchaseApproval.comments="Material obtained through sponsorship - no purchase needed"):Ht==="failed"||Ht==="not_applicable"?(At.status="pending_project_approval",At.approvalWorkflow.projectDirectorPurchaseApproval.status="pending"):(At.status="pending_project_approval",At.approvalWorkflow.projectDirectorPurchaseApproval.comments="Awaiting sponsorship search completion"):At.status="denied"}else fe.type==="purchase_approval"?(At.approvalWorkflow.projectDirectorPurchaseApproval={...At.approvalWorkflow.projectDirectorPurchaseApproval,status:fe.approved?"approved":"denied",approvedBy:fe.approvedBy,approvalDate:Br,comments:fe.comments||"",denialReason:fe.denialReason||""},At.status=fe.approved?"approved":"denied"):fe.type==="sponsorship_status"?(At.sponsorshipInfo={...At.sponsorshipInfo,sponsorshipSearchStatus:fe.searchStatus},fe.searchStatus==="successful"?(At.approvalWorkflow.projectDirectorPurchaseApproval.status="approved",At.approvalWorkflow.projectDirectorPurchaseApproval.comments="Obtained through sponsorship - no purchase needed"):fe.searchStatus==="failed"||fe.searchStatus==="not_applicable"?(At.approvalWorkflow.projectDirectorPurchaseApproval.status="pending",At.approvalWorkflow.projectDirectorPurchaseApproval.comments=""):(fe.searchStatus==="in_progress"||fe.searchStatus==="not_started")&&(At.approvalWorkflow.projectDirectorPurchaseApproval.status="pending",At.approvalWorkflow.projectDirectorPurchaseApproval.comments="Awaiting sponsorship search completion",fe.searchStatus==="in_progress"&&At.status==="pending_technical_approval"&&(At.status="pending_project_approval"))):fe.type==="purchase"?(At.purchaseStatus={...At.purchaseStatus,purchased:!0,purchaseDate:Br,purchaseOrderNumber:fe.purchaseOrderNumber||"",purchaseGroupId:fe.purchaseGroupId||null,purchaseGroupPrimary:fe.purchaseGroupPrimary||!1,purchaseGroupReceiptFile:fe.purchaseGroupReceiptFile||null,actualCost:fe.actualCost||At.costBreakdown.totalCost,purchasedBy:fe.purchasedBy||""},fe.expectedDeliveryDate&&(At.deliveryInfo.expectedArrivalDate=new Date(fe.expectedDeliveryDate).toISOString()),fe.deliveryNotes&&(At.deliveryInfo.deliveryNotes=fe.deliveryNotes),fe.trackingNumber&&(At.deliveryInfo.trackingNumber=fe.trackingNumber),fe.receiptInfo&&(At.documentation=At.documentation||{},At.documentation.receiptInvoice={uploaded:!0,fileName:fe.receiptInfo.fileName||((ht=(De=At.documentation)==null?void 0:De.receiptInvoice)==null?void 0:ht.fileName)||"",uploadDate:fe.receiptInfo.uploadDate||((kt=(Et=At.documentation)==null?void 0:Et.receiptInvoice)==null?void 0:kt.uploadDate)||Br,uploadedBy:fe.receiptInfo.uploadedBy||(($t=(nr=At.documentation)==null?void 0:nr.receiptInvoice)==null?void 0:$t.uploadedBy)||""}),At.status="shipped"):fe.type==="delivery"?(At.deliveryInfo={...At.deliveryInfo,actualArrivalDate:Br,deliveredToSubteam:!0,deliveryConfirmedBy:fe.confirmedBy||"",deliveryNotes:fe.notes||At.deliveryInfo.deliveryNotes||"",trackingNumber:fe.trackingNumber||At.deliveryInfo.trackingNumber||""},At.status="delivered"):fe.type==="sponsorship_response"&&(At.sponsorshipInfo={...At.sponsorshipInfo,sponsorshipSuccessful:fe.successful,sponsorshipResponse:fe.response||"",sponsorshipResponseDate:Br},fe.successful?At.sponsorshipInfo.sponsorshipSearchStatus="successful":At.sponsorshipInfo.sponsorshipSearchStatus="failed");await Ve.updateOrder(L,At);const fn=r.map(Ht=>Ht.id===L?At:Ht);n(fn),ge({orders:fn}),Je(),await Te("Order updated successfully")}catch(er){console.error("Error updating order:",er),Je(),await Fe(`Failed to update order: ${er.message}`,"Update Error")}},ct=async()=>{var L;if(B){if((L=B.projectDetails)!=null&&L.neededByDate&&bs(B.projectDetails.neededByDate)){await Fe("Needed by date cannot be in the past","Invalid Date");return}tt();try{const fe=new Date().toISOString(),De={...B,lastUpdated:fe};await Ve.updateOrder(B.id,De);const ht=r.map(Et=>Et.id===B.id?De:Et);n(ht),b(De),ge({orders:ht}),y(!1),_(null),Je(),await Te("Order details saved successfully")}catch(fe){console.error("Error saving order edits:",fe),Je(),await Fe(`Failed to save changes: ${fe.message}`,"Save Error")}}},fr=async()=>{var ht;const L=new Date().toISOString(),fe=(ht=q.projectDetails)==null?void 0:ht.neededByDate;if(fe&&bs(fe)){await Fe("Needed by date cannot be in the past","Invalid Date");return}const De={submissionTimestamp:L,submissionDetails:q.submissionDetails,materialDetails:q.materialDetails,costBreakdown:{unitPrice:parseFloat(q.costBreakdown.unitPrice),quantity:parseInt(q.costBreakdown.quantity),shippingCost:parseFloat(q.costBreakdown.shippingCost),totalCost:parseFloat(q.costBreakdown.totalCost),taxes:0,fees:0},projectDetails:{...q.projectDetails,neededByDate:q.projectDetails.neededByDate?new Date(q.projectDetails.neededByDate).toISOString():null},approvalWorkflow:{technicalDirectorApproval:{status:"pending",approvedBy:null,approvalDate:null,comments:"",denialReason:""},purchaseApproval:{status:"pending",approvedBy:null,approvalDate:null,comments:"",denialReason:""}},sponsorshipInfo:{canBeSponsored:!1,sponsorContactName:"",sponsorContactEmail:"",sponsorCompany:"",sponsorshipSearchStatus:"in_progress",sponsorshipRequested:!1,sponsorshipRequestDate:null,sponsorshipSuccessful:!1,sponsorshipResponse:"",sponsorshipResponseDate:null},purchaseStatus:{purchased:!1,purchaseDate:null,purchaseOrderNumber:"",actualCost:null,purchasedBy:""},deliveryInfo:{expectedArrivalDate:null,actualArrivalDate:null,deliveredToSubteam:!1,deliveryConfirmedBy:"",deliveryNotes:"",trackingNumber:""},documentation:{receiptInvoice:{uploaded:!1,fileName:"",uploadDate:null,uploadedBy:""},additionalDocuments:[]},returnInfo:{returned:!1,returnDate:null,returnReason:"",returnAuthorizedBy:"",refundAmount:null,refundProcessed:!1},status:"pending_technical_approval",lastUpdated:L,createdBy:q.submissionDetails.submitterEmail};tt();try{const kt=[await Ve.createOrder(De),...r];n(kt),w(!1),Jt(),ge({orders:kt}),Je(),await Te("Order submitted successfully")}catch(Et){console.error("Error creating order:",Et),Je(),await Fe(`Failed to submit order: ${Et.message}`,"Submit Error")}},Jt=()=>{const L=ft.getUser();Ce({submissionDetails:{subteam:L&&L.specific_role?L.specific_role:"",submitterName:L&&(L.first_name||L.last_name)?`${L.first_name||""}${L.first_name&&L.last_name?" ":""}${L.last_name||""}`.trim():L&&L.email||"",submitterEmail:L&&L.email?L.email:""},materialDetails:{materialName:"",specifications:"",materialLink:"",supplier:"",supplierContact:""},costBreakdown:{unitPrice:"",quantity:"",shippingCost:"",totalCost:""},projectDetails:{purpose:"",urgency:"flexible",neededByDate:""},sponsorshipInfo:{canBeSponsored:!1,sponsorContactName:"",sponsorContactEmail:"",sponsorCompany:""}})},Qr=async L=>{if(!L)return;if(L.type!=="application/pdf"){await Fe("Please upload a PDF receipt.","Invalid File Type");return}const fe=1*1024*1024;if(L.size>fe){await Fe("Maximum file size is 1MB. Please choose a smaller file.","File Too Large");return}E(L),pe(L.name||"receipt.pdf"),V({...z,receiptPdf:L})},Vn=L=>{var De,ht;L.preventDefault(),L.stopPropagation(),J(!1);const fe=(ht=(De=L.dataTransfer)==null?void 0:De.files)==null?void 0:ht[0];fe&&Qr(fe)},St=L=>{L.preventDefault(),L.stopPropagation(),J(!0)},Un=L=>{L.preventDefault(),L.stopPropagation(),J(!1)},Ls=()=>{E(null),pe(null),V({...z,receiptPdf:null})},In=async(L={})=>{if(!z.expectedDeliveryDate&&!G){await Fe("Please enter an expected delivery date","Required Field");return}if(G&&[T.id,...ye.map(ht=>ht.id)].filter(ht=>!Z[ht]).length>0){await Fe("Please set an expected delivery date for each product","Required Field");return}if(G){const fe=T.id,De=[T,...ye];De.map(Et=>Et.id);const ht=De.map(Et=>{const kt={type:"purchase",purchaseOrderNumber:fe,purchaseGroupId:fe,purchaseGroupPrimary:Et.id===T.id,actualCost:Et.costBreakdown.totalCost,purchasedBy:Le(),expectedDeliveryDate:Z[Et.id],deliveryNotes:z.deliveryNotes,trackingNumber:z.trackingNumber};return Et.id===T.id&&L.receiptInfo&&(kt.receiptInfo=L.receiptInfo,kt.purchaseGroupReceiptFile=L.receiptInfo.fileName),Me(Et.id,kt)});await Promise.all(ht)}else{const fe={type:"purchase",purchaseOrderNumber:z.purchaseOrderNumber||`PO-${Date.now()}`,actualCost:T.costBreakdown.totalCost,purchasedBy:Le(),expectedDeliveryDate:z.expectedDeliveryDate,deliveryNotes:z.deliveryNotes,trackingNumber:z.trackingNumber};L.receiptInfo&&(fe.receiptInfo=L.receiptInfo),await Me(T.id,fe)}};ft.hasPermission("approve_orders");const ws=ft.hasPermission("view_orders");ft.hasPermission("submit_orders");const Zt=ft.hasPermission("approve_orders");ft.getLevel();const an=ft.getLevel()==="leader",on=ft.isAuthenticated()&&ft.getLevel()==="director",ys=r.filter(L=>{if(A!=="all"&&L.status!==A||c!=="all"&&L.submissionDetails.subteam!==c)return!1;if(h!=="all"){const fe=new Date(L.submissionTimestamp);if(h==="current"){const De=Ue(),{startDate:ht,endDate:Et}=it(De.semester,De.year);if(fe<ht||fe>Et)return!1}else if(h==="past_year"){const De=new Date,ht=new Date;if(ht.setFullYear(De.getFullYear()-1),fe<ht)return!1}else{const De=h.split("_"),ht=De[0],Et=parseInt(De[1]),{startDate:kt,endDate:nr}=it(ht,Et);if(fe<kt||fe>nr)return!1}}return!0}),na=L=>{switch(L){case"pending_technical_approval":return"#f59e0b";case"pending_project_approval":return"#f59e0b";case"approved":return"#10b981";case"shipped":return"#3b82f6";case"delivered":return"#059669";case"denied":return"#ef4444";case"pending_approval":return"#f59e0b";case"awaiting_sponsorship":return"#8b5cf6";case"pending_purchase_approval":return"#f59e0b";case"approved_for_purchase":return"#10b981";case"in_transit":return"#3b82f6";default:return"#6b7280"}},Ds=L=>{switch(L){case"pending_technical_approval":return"Pending Tech Director Approval";case"pending_project_approval":return"Pending Purchase Approval";case"approved":return"Approved";case"shipped":return"In Transit";case"delivered":return"Delivered";case"denied":return"Denied";case"pending_approval":return"Pending Approval";case"awaiting_sponsorship":return"Awaiting Sponsorship Search";case"pending_purchase_approval":return"Pending Purchase Approval";case"approved_for_purchase":return"Approved";case"in_transit":return"In Transit";default:return L.replace(/_/g," ").replace(/\b\w/g,fe=>fe.toUpperCase())}},li=L=>{if(!L)return"N/A";const fe=new Date(L);return isNaN(fe)?"N/A":fe.toLocaleDateString()},bs=L=>{if(!L)return!1;const fe=new Date(L);if(isNaN(fe))return!1;fe.setHours(0,0,0,0);const De=new Date;return De.setHours(0,0,0,0),fe<De},Bs=[...new Set(r.map(L=>{var fe;return(fe=L.submissionDetails)==null?void 0:fe.subteam}).filter(Boolean))],Gn=X.useRef(!1);X.useEffect(()=>{if(!d){Gn.current=!1;return}if(!Gn.current)try{const L=ft.getUser();if(!L)return;Ce(fe=>{const De=[];L.first_name&&De.push(L.first_name),L.last_name&&De.push(L.last_name);const ht=De.length>0?De.join(" "):L.email||fe.submissionDetails.submitterName||"",Et=L.email||fe.submissionDetails.submitterEmail||"";let kt=fe.submissionDetails.subteam||"";if((!kt||kt==="")&&L.specific_role){const nr=Bs.find($t=>$t&&$t.toLowerCase()===String(L.specific_role).toLowerCase());nr&&(kt=nr)}return{...fe,submissionDetails:{...fe.submissionDetails,submitterName:ht,submitterEmail:Et,subteam:kt}}}),Gn.current=!0}catch(L){console.warn("Could not auto-fill submitter info:",L)}},[d]);const ka=X.useMemo(()=>({order:L,onClose:fe})=>{var De,ht,Et,kt,nr,$t,er,Br,At,fn,Ht,Ts,Wr,Li,Gt,_n,ui,xs,di,Wn,Di,pr,Ps,Qt,Rr,Os,xr,Hr,qn,_r,Cn,ia,dl,hl,oo,aa,Ti,fl,oa,Ao,Ft,pl,gl,ml,vl,hi,fi,wl,yl,Na,lo,Aa,Fa,ja,bl;return L?o.jsx("div",{className:"modal-overlay",onClick:fe,children:o.jsxs("div",{className:"modal-content",onClick:ot=>ot.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:L.materialDetails.materialName}),o.jsxs("div",{className:"modal-header-actions",children:[Zt&&!g&&o.jsx("button",{className:"btn-edit-order",onClick:ot=>{ot.stopPropagation(),y(!0),_(JSON.parse(JSON.stringify(L)))},title:"Edit Order Details",children:""}),o.jsx("button",{className:"modal-close",onClick:fe,children:""})]})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"detail-section",children:[o.jsx("h4",{children:"Submission Details"}),o.jsxs("div",{className:"detail-grid",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Subteam:"}),g?o.jsxs("select",{value:B.submissionDetails.subteam,onChange:ot=>_({...B,submissionDetails:{...B.submissionDetails,subteam:ot.target.value}}),className:"inline-edit-input",children:[o.jsx("option",{value:"Business",children:"Business"}),o.jsx("option",{value:"Aerodynamics",children:"Aerodynamics"}),o.jsx("option",{value:"Low Voltage",children:"Low Voltage"}),o.jsx("option",{value:"Systems Architecture",children:"Systems Architecture"}),o.jsx("option",{value:"High Voltage",children:"High Voltage"}),o.jsx("option",{value:"Structures",children:"Structures"}),o.jsx("option",{value:"Vehicle Dynamics",children:"Vehicle Dynamics"})]}):` ${L.submissionDetails.subteam}`]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Submitted by:"}),g?o.jsx("input",{type:"text",value:B.submissionDetails.submitterName,onChange:ot=>_({...B,submissionDetails:{...B.submissionDetails,submitterName:ot.target.value}}),className:"inline-edit-input"}):` ${L.submissionDetails.submitterName}`]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Email:"}),g?o.jsx("input",{type:"email",value:B.submissionDetails.submitterEmail,onChange:ot=>_({...B,submissionDetails:{...B.submissionDetails,submitterEmail:ot.target.value}}),className:"inline-edit-input"}):` ${L.submissionDetails.submitterEmail}`]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Submitted:"})," ",new Date(L.submissionTimestamp).toLocaleString()]})]})]}),o.jsxs("div",{className:"detail-section",children:[o.jsx("h4",{children:"Material Specifications"}),o.jsxs("div",{className:"detail-grid",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Material:"}),g?o.jsx("input",{type:"text",value:B.materialDetails.materialName,onChange:ot=>_({...B,materialDetails:{...B.materialDetails,materialName:ot.target.value}}),className:"inline-edit-input"}):` ${L.materialDetails.materialName}`]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Supplier:"}),g?o.jsx("input",{type:"text",value:((De=B.materialDetails)==null?void 0:De.supplier)||"",onChange:ot=>_({...B,materialDetails:{...B.materialDetails,supplier:ot.target.value}}),className:"inline-edit-input"}):` ${((ht=L.materialDetails)==null?void 0:ht.supplier)||"N/A"}`]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Supplier Contact:"}),g?o.jsx("input",{type:"text",value:((Et=B.materialDetails)==null?void 0:Et.supplierContact)||"",onChange:ot=>_({...B,materialDetails:{...B.materialDetails,supplierContact:ot.target.value}}),className:"inline-edit-input"}):` ${((kt=L.materialDetails)==null?void 0:kt.supplierContact)||"N/A"}`]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Link:"}),g?o.jsx("input",{type:"url",value:B.materialDetails.materialLink||"",onChange:ot=>_({...B,materialDetails:{...B.materialDetails,materialLink:ot.target.value}}),className:"inline-edit-input",placeholder:"https://..."}):L.materialDetails.materialLink?o.jsx("a",{href:L.materialDetails.materialLink,target:"_blank",rel:"noopener noreferrer",children:"View Material"}):" N/A"]})]}),o.jsxs("div",{className:"specifications",children:[o.jsx("strong",{children:"Specifications:"}),g?o.jsx("textarea",{value:((nr=B.materialDetails)==null?void 0:nr.specifications)||"",onChange:ot=>_({...B,materialDetails:{...B.materialDetails,specifications:ot.target.value}}),className:"inline-edit-textarea",rows:"4"}):o.jsx("p",{children:(($t=L.materialDetails)==null?void 0:$t.specifications)||"N/A"})]})]}),o.jsxs("div",{className:"detail-section",children:[o.jsx("h4",{children:"Cost Breakdown"}),o.jsxs("div",{className:"cost-table",children:[o.jsxs("div",{className:"cost-row",children:[o.jsx("span",{children:"Unit Price:"}),g?o.jsx("input",{type:"number",step:"0.01",value:B.costBreakdown.unitPrice,onChange:ot=>{const It=parseFloat(ot.target.value)||0,lr=B.costBreakdown.quantity,Nr=B.costBreakdown.shippingCost,Mr=B.costBreakdown.taxes,Fr=B.costBreakdown.fees,gr=It*lr+Nr+Mr+Fr;_({...B,costBreakdown:{...B.costBreakdown,unitPrice:It,totalCost:gr}})},className:"inline-edit-input-small"}):o.jsxs("span",{children:["$",L.costBreakdown.unitPrice.toFixed(2)]})]}),o.jsxs("div",{className:"cost-row",children:[o.jsx("span",{children:"Quantity:"}),g?o.jsx("input",{type:"number",value:B.costBreakdown.quantity,onChange:ot=>{const It=parseInt(ot.target.value)||0,lr=B.costBreakdown.unitPrice,Nr=B.costBreakdown.shippingCost,Mr=B.costBreakdown.taxes,Fr=B.costBreakdown.fees,gr=lr*It+Nr+Mr+Fr;_({...B,costBreakdown:{...B.costBreakdown,quantity:It,totalCost:gr}})},className:"inline-edit-input-small"}):o.jsx("span",{children:L.costBreakdown.quantity})]}),o.jsxs("div",{className:"cost-row",children:[o.jsx("span",{children:"Shipping:"}),g?o.jsx("input",{type:"number",step:"0.01",value:B.costBreakdown.shippingCost,onChange:ot=>{const It=parseFloat(ot.target.value)||0,lr=B.costBreakdown.unitPrice,Nr=B.costBreakdown.quantity,Mr=B.costBreakdown.taxes,Fr=B.costBreakdown.fees,gr=lr*Nr+It+Mr+Fr;_({...B,costBreakdown:{...B.costBreakdown,shippingCost:It,totalCost:gr}})},className:"inline-edit-input-small"}):o.jsxs("span",{children:["$",L.costBreakdown.shippingCost.toFixed(2)]})]}),o.jsxs("div",{className:"cost-row",children:[o.jsx("span",{children:"Taxes:"}),g?o.jsx("input",{type:"number",step:"0.01",value:B.costBreakdown.taxes,onChange:ot=>{const It=parseFloat(ot.target.value)||0,lr=B.costBreakdown.unitPrice,Nr=B.costBreakdown.quantity,Mr=B.costBreakdown.shippingCost,Fr=B.costBreakdown.fees,gr=lr*Nr+Mr+It+Fr;_({...B,costBreakdown:{...B.costBreakdown,taxes:It,totalCost:gr}})},className:"inline-edit-input-small"}):o.jsxs("span",{children:["$",L.costBreakdown.taxes.toFixed(2)]})]}),o.jsxs("div",{className:"cost-row",children:[o.jsx("span",{children:"Fees:"}),g?o.jsx("input",{type:"number",step:"0.01",value:B.costBreakdown.fees,onChange:ot=>{const It=parseFloat(ot.target.value)||0,lr=B.costBreakdown.unitPrice,Nr=B.costBreakdown.quantity,Mr=B.costBreakdown.shippingCost,Fr=B.costBreakdown.taxes,gr=lr*Nr+Mr+Fr+It;_({...B,costBreakdown:{...B.costBreakdown,fees:It,totalCost:gr}})},className:"inline-edit-input-small"}):o.jsxs("span",{children:["$",L.costBreakdown.fees.toFixed(2)]})]}),o.jsxs("div",{className:"cost-row total",children:[o.jsx("span",{children:o.jsx("strong",{children:"Total:"})}),o.jsx("span",{children:o.jsxs("strong",{children:["$",g?B.costBreakdown.totalCost.toFixed(2):L.costBreakdown.totalCost.toFixed(2)]})})]})]})]}),o.jsxs("div",{className:"detail-section",children:[o.jsx("h4",{children:"Project Details"}),o.jsxs("div",{className:"detail-grid",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Urgency:"}),g?o.jsxs("select",{value:B.projectDetails.urgency,onChange:ot=>_({...B,projectDetails:{...B.projectDetails,urgency:ot.target.value}}),className:"inline-edit-input",children:[o.jsx("option",{value:"flexible",children:"Flexible"}),o.jsx("option",{value:"urgent",children:"Urgent"}),o.jsx("option",{value:"critical",children:"Critical"})]}):` ${L.projectDetails.urgency}`]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Needed by:"}),g?o.jsx("input",{type:"date",value:((er=B.projectDetails.neededByDate)==null?void 0:er.split("T")[0])||"",onChange:ot=>_({...B,projectDetails:{...B.projectDetails,neededByDate:ot.target.value}}),className:"inline-edit-input",min:new Date().toISOString().split("T")[0]}):` ${li(L.projectDetails.neededByDate)}`]})]}),o.jsxs("div",{className:"purpose",children:[o.jsx("strong",{children:"Purpose:"}),g?o.jsx("textarea",{value:((Br=B.projectDetails)==null?void 0:Br.purpose)||"",onChange:ot=>_({...B,projectDetails:{...B.projectDetails,purpose:ot.target.value}}),className:"inline-edit-textarea",rows:"4"}):o.jsx("p",{children:((At=L.projectDetails)==null?void 0:At.purpose)||"N/A"})]})]}),(L.sponsorshipInfo.canBeSponsored||L.sponsorshipInfo.sponsorshipSearchStatus!=="not_applicable")&&o.jsxs("div",{className:"detail-section",children:[o.jsx("h4",{children:"Sponsorship Information"}),o.jsx("p",{style:{color:"var(--subtxt)",fontSize:"0.9rem",fontStyle:"italic",marginBottom:"1rem"},children:"Determined during technical approval"}),o.jsxs("div",{className:"detail-grid",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Search Status:"}),o.jsx("span",{className:`sponsorship-status ${L.sponsorshipInfo.sponsorshipSearchStatus||"not_started"}`,children:(L.sponsorshipInfo.sponsorshipSearchStatus||"not_started").replace(/_/g," ").replace(/\b\w/g,ot=>ot.toUpperCase())})]}),L.sponsorshipInfo.sponsorshipSuccessful&&o.jsxs("div",{children:[o.jsx("strong",{children:"Result:"})," ",o.jsx("span",{style:{color:"#28a745",fontWeight:"bold"},children:" Obtained for Free!"})]}),L.sponsorshipInfo.sponsorContactName&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Sponsor Contact:"})," ",L.sponsorshipInfo.sponsorContactName]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Company:"})," ",L.sponsorshipInfo.sponsorCompany]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Email:"})," ",L.sponsorshipInfo.sponsorContactEmail]})]})]}),L.sponsorshipInfo.sponsorshipResponse&&o.jsxs("div",{className:"response",children:[o.jsx("strong",{children:"Notes:"}),o.jsx("p",{children:L.sponsorshipInfo.sponsorshipResponse})]})]}),o.jsxs("div",{className:"detail-section",children:[o.jsx("h4",{children:"Approval Workflow"}),o.jsxs("div",{className:"approval-grid",children:[o.jsxs("div",{className:"approval-item",children:[o.jsx("strong",{children:"1. Technical Approval:"}),o.jsx("span",{className:`approval-status ${((Ht=(fn=L.approvalWorkflow)==null?void 0:fn.technicalDirectorApproval)==null?void 0:Ht.status)||"pending"}`,children:(((Wr=(Ts=L.approvalWorkflow)==null?void 0:Ts.technicalDirectorApproval)==null?void 0:Wr.status)||"pending").replace(/_/g," ").toUpperCase()}),((Gt=(Li=L.approvalWorkflow)==null?void 0:Li.technicalDirectorApproval)==null?void 0:Gt.approvedBy)&&o.jsxs("p",{className:"approval-meta",children:["By: ",L.approvalWorkflow.technicalDirectorApproval.approvedBy]}),((ui=(_n=L.approvalWorkflow)==null?void 0:_n.technicalDirectorApproval)==null?void 0:ui.approvalDate)&&o.jsxs("p",{className:"approval-meta",children:["Date: ",new Date(L.approvalWorkflow.technicalDirectorApproval.approvalDate).toLocaleString()]}),((di=(xs=L.approvalWorkflow)==null?void 0:xs.technicalDirectorApproval)==null?void 0:di.comments)&&o.jsxs("p",{className:"approval-comment",children:[" ",L.approvalWorkflow.technicalDirectorApproval.comments]}),((Di=(Wn=L.approvalWorkflow)==null?void 0:Wn.technicalDirectorApproval)==null?void 0:Di.denialReason)&&o.jsxs("p",{className:"denial-reason",children:[" ",L.approvalWorkflow.technicalDirectorApproval.denialReason]})]}),o.jsxs("div",{className:"approval-item",children:[o.jsx("strong",{children:"2. Purchase Approval:"}),o.jsx("span",{className:`approval-status ${((Ps=(pr=L.approvalWorkflow)==null?void 0:pr.projectDirectorPurchaseApproval)==null?void 0:Ps.status)||"pending"}`,children:(((Rr=(Qt=L.approvalWorkflow)==null?void 0:Qt.projectDirectorPurchaseApproval)==null?void 0:Rr.status)||"pending").replace(/_/g," ").toUpperCase()}),((xr=(Os=L.approvalWorkflow)==null?void 0:Os.projectDirectorPurchaseApproval)==null?void 0:xr.status)==="not_required"&&o.jsxs("p",{className:"approval-meta",children:[" ",L.approvalWorkflow.projectDirectorPurchaseApproval.comments||"Purchase approval not needed"]}),((qn=(Hr=L.approvalWorkflow)==null?void 0:Hr.projectDirectorPurchaseApproval)==null?void 0:qn.approvedBy)&&o.jsxs("p",{className:"approval-meta",children:["By: ",L.approvalWorkflow.projectDirectorPurchaseApproval.approvedBy]}),((Cn=(_r=L.approvalWorkflow)==null?void 0:_r.projectDirectorPurchaseApproval)==null?void 0:Cn.approvalDate)&&o.jsxs("p",{className:"approval-meta",children:["Date: ",new Date(L.approvalWorkflow.projectDirectorPurchaseApproval.approvalDate).toLocaleString()]}),((dl=(ia=L.approvalWorkflow)==null?void 0:ia.projectDirectorPurchaseApproval)==null?void 0:dl.comments)&&L.approvalWorkflow.projectDirectorPurchaseApproval.status!=="not_required"&&o.jsxs("p",{className:"approval-comment",children:[" ",L.approvalWorkflow.projectDirectorPurchaseApproval.comments]}),((oo=(hl=L.approvalWorkflow)==null?void 0:hl.projectDirectorPurchaseApproval)==null?void 0:oo.denialReason)&&o.jsxs("p",{className:"denial-reason",children:[" ",L.approvalWorkflow.projectDirectorPurchaseApproval.denialReason]})]})]})]}),L.purchaseStatus.purchased&&o.jsxs("div",{className:"detail-section",children:[o.jsxs("div",{className:"detail-header",children:[o.jsx("h4",{children:"Purchase Information"}),on&&(()=>{var It,lr,Nr,Mr;return(L.purchaseStatus.purchaseGroupId?r.some(Fr=>{var gr,pi,Ua,Pi,As;return((gr=Fr.purchaseStatus)==null?void 0:gr.purchaseGroupId)===L.purchaseStatus.purchaseGroupId&&((Ua=(pi=Fr.documentation)==null?void 0:pi.receiptInvoice)==null?void 0:Ua.uploaded)&&((As=(Pi=Fr.documentation)==null?void 0:Pi.receiptInvoice)==null?void 0:As.fileName)}):((lr=(It=L.documentation)==null?void 0:It.receiptInvoice)==null?void 0:lr.uploaded)&&((Mr=(Nr=L.documentation)==null?void 0:Nr.receiptInvoice)==null?void 0:Mr.fileName))?o.jsx("button",{className:"receipt-icon-button",title:"Download receipt",onClick:Fr=>{Fr.stopPropagation();const pi=(L.purchaseStatus.purchaseGroupId?r.find(Pi=>{var As,gi,fA,pA,la;return((As=Pi.purchaseStatus)==null?void 0:As.purchaseGroupId)===L.purchaseStatus.purchaseGroupId&&((fA=(gi=Pi.documentation)==null?void 0:gi.receiptInvoice)==null?void 0:fA.uploaded)&&((la=(pA=Pi.documentation)==null?void 0:pA.receiptInvoice)==null?void 0:la.fileName)}):L).documentation.receiptInvoice.fileName,Ua=L.purchaseStatus.purchaseGroupId?`${L.purchaseStatus.purchaseGroupId}-receipt.pdf`:`order-${L.id}-receipt.pdf`;rt(pi,Ua)},"aria-label":"Download receipt",children:o.jsxs("svg",{className:"receipt-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M3 2v20l3-2 3 2 3-2 3 2 3-2V2z"}),o.jsx("path",{d:"M7 7h10M7 11h6"})]})}):null})()]}),L.purchaseStatus.purchaseGroupId&&o.jsxs("div",{className:"multi-product-purchase-info",children:[o.jsxs("div",{className:"multi-product-header",children:[o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("rect",{x:"2",y:"2",width:"9",height:"9",rx:"1",ry:"1"}),o.jsx("rect",{x:"13",y:"2",width:"9",height:"9",rx:"1",ry:"1"}),o.jsx("rect",{x:"2",y:"13",width:"9",height:"9",rx:"1",ry:"1"}),o.jsx("rect",{x:"13",y:"13",width:"9",height:"9",rx:"1",ry:"1"})]}),o.jsx("strong",{children:"Multi-Product Purchase"})]}),o.jsxs("p",{className:"multi-product-description",children:["This order was purchased together with ",r.filter(ot=>{var It;return((It=ot.purchaseStatus)==null?void 0:It.purchaseGroupId)===L.purchaseStatus.purchaseGroupId&&ot.id!==L.id}).length," other product(s)."]}),L.purchaseStatus.purchaseGroupPrimary&&o.jsxs("div",{className:"primary-order-badge",children:[o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),o.jsx("span",{children:"Primary order - Receipt stored under this purchase group"})]}),o.jsxs("div",{className:"multi-product-items",children:[o.jsx("strong",{children:"Other items in this purchase:"}),o.jsx("ul",{children:r.filter(ot=>{var It;return((It=ot.purchaseStatus)==null?void 0:It.purchaseGroupId)===L.purchaseStatus.purchaseGroupId&&ot.id!==L.id}).map(ot=>o.jsxs("li",{children:[o.jsx("span",{className:"item-name",children:ot.materialDetails.materialName}),o.jsxs("span",{className:"item-cost",children:["$",ot.costBreakdown.totalCost.toFixed(2)]})]},ot.id))})]})]}),o.jsxs("div",{className:"detail-grid",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Purchase Date:"})," ",new Date(L.purchaseStatus.purchaseDate).toLocaleDateString()]}),o.jsxs("div",{children:[o.jsx("strong",{children:"PO Number:"})," ",L.purchaseStatus.purchaseOrderNumber]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Actual Cost:"})," $",(aa=L.purchaseStatus.actualCost)==null?void 0:aa.toFixed(2)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Purchased by:"})," ",L.purchaseStatus.purchasedBy]})]})]}),L.deliveryInfo.deliveredToSubteam&&o.jsxs("div",{className:"detail-section",children:[o.jsx("h4",{children:"Delivery Information"}),o.jsxs("div",{className:"detail-grid",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Delivered:"})," ",new Date(L.deliveryInfo.actualArrivalDate).toLocaleDateString()]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Confirmed by:"})," ",L.deliveryInfo.deliveryConfirmedBy]}),L.deliveryInfo.trackingNumber&&o.jsxs("div",{children:[o.jsx("strong",{children:"Tracking:"})," ",L.deliveryInfo.trackingNumber]})]}),L.deliveryInfo.deliveryNotes&&o.jsxs("div",{className:"delivery-notes",children:[o.jsx("strong",{children:"Notes:"}),o.jsx("p",{children:L.deliveryInfo.deliveryNotes})]})]}),L.status==="pending_project_approval"&&o.jsxs("div",{className:"detail-section next-steps",children:[o.jsx("h4",{children:" Pending Purchase Approval"}),o.jsxs("div",{className:"next-steps-content",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Current Search Status:"})," ",(((Ti=L.sponsorshipInfo)==null?void 0:Ti.sponsorshipSearchStatus)||"not_started").replace(/_/g," ").replace(/\b\w/g,ot=>ot.toUpperCase())]}),(oa=(fl=L.approvalWorkflow)==null?void 0:fl.projectDirectorPurchaseApproval)!=null&&oa.comments?o.jsx("p",{children:L.approvalWorkflow.projectDirectorPurchaseApproval.comments}):o.jsx("p",{children:"Technical approval has determined this material needs to be purchased. Awaiting purchase approval for budget allocation."})]})]}),L.status==="approved"&&o.jsxs("div",{className:"detail-section next-steps",children:[o.jsx("h4",{children:" Order Approved - Ready to Purchase"}),o.jsxs("div",{className:"next-steps-content",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Expected Delivery Date:"})," ",L.deliveryInfo.expectedArrivalDate?new Date(L.deliveryInfo.expectedArrivalDate).toLocaleDateString():"TBD"]}),((Ft=(Ao=L.approvalWorkflow)==null?void 0:Ao.projectDirectorPurchaseApproval)==null?void 0:Ft.status)==="not_required"?o.jsx("p",{children:" This order was obtained through sponsorship at no cost! A director will arrange delivery soon."}):o.jsx("p",{children:"This order has been approved for purchase. A director will process the purchase order soon."})]})]}),(L.status==="purchased"||L.status==="shipped")&&o.jsxs("div",{className:"detail-section next-steps",children:[o.jsx("h4",{children:" Order In Transit"}),o.jsxs("div",{className:"next-steps-content",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Expected Delivery:"})," ",L.deliveryInfo.expectedArrivalDate?new Date(L.deliveryInfo.expectedArrivalDate).toLocaleDateString():"TBD"]}),o.jsx("p",{children:"Your order is on its way. You'll be notified when it arrives."}),L.deliveryInfo.trackingNumber&&o.jsxs("p",{children:[o.jsx("strong",{children:"Tracking Number:"})," ",L.deliveryInfo.trackingNumber]})]})]}),L.status==="denied"&&o.jsxs("div",{className:"detail-section next-steps denied",children:[o.jsx("h4",{children:" Order Denied"}),o.jsx("div",{className:"next-steps-content",children:o.jsx("p",{children:"This order request has been denied. Please review the denial reason above and contact a director if you have questions."})})]}),Zt&&(L.status==="pending_approval"||L.status==="pending_technical_approval"||L.status==="pending_project_approval")&&o.jsxs("div",{className:"detail-section approval-actions",children:[o.jsx("h4",{children:"Step 1: Sponsorship Search Status"}),((pl=L.sponsorshipInfo)==null?void 0:pl.sponsorshipSearchStatus)==="not_applicable"||((gl=L.sponsorshipInfo)==null?void 0:gl.sponsorshipSearchStatus)==="failed"||((ml=L.sponsorshipInfo)==null?void 0:ml.sponsorshipSearchStatus)==="successful"?o.jsxs("div",{className:"sponsorship-finalized",children:[o.jsx("p",{className:"approval-help-text",style:{marginBottom:"1rem"},children:" Sponsorship status has been set and locked. Proceed to Step 2 below to approve or deny the order."}),o.jsxs("div",{className:"sponsorship-summary",children:[o.jsxs("div",{className:"summary-item",children:[o.jsx("strong",{children:"Status:"}),o.jsx("span",{className:`sponsorship-status ${((vl=L.sponsorshipInfo)==null?void 0:vl.sponsorshipSearchStatus)||"not_started"}`,children:(((hi=L.sponsorshipInfo)==null?void 0:hi.sponsorshipSearchStatus)||"not_started").replace(/_/g," ").replace(/\b\w/g,ot=>ot.toUpperCase())})]}),((fi=L.sponsorshipInfo)==null?void 0:fi.sponsorshipResponse)&&o.jsxs("div",{className:"summary-item",children:[o.jsx("strong",{children:"Notes:"}),o.jsx("p",{style:{margin:"0.25rem 0 0 0",color:"var(--subtxt)"},children:L.sponsorshipInfo.sponsorshipResponse})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"approval-help-text",children:'First, update the sponsorship search status. Once set to "Not Applicable", "Failed", or "Successful", you can then approve or deny the order in Step 2 below.'}),o.jsxs("div",{className:"approval-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Sponsorship Search Status *"}),o.jsxs("select",{id:`sponsorship-status-${L.id}`,value:Ee[L.id]??((wl=L.sponsorshipInfo)==null?void 0:wl.sponsorshipSearchStatus)??"in_progress",onChange:ot=>xe(It=>({...It,[L.id]:ot.target.value})),children:[o.jsx("option",{value:"in_progress",children:"In Progress (Currently searching)"}),o.jsx("option",{value:"not_applicable",children:"Not Applicable (Doesn't require sponsorship)"}),o.jsx("option",{value:"successful",children:"Successful (Obtained for free!)"}),o.jsx("option",{value:"failed",children:"Failed (Need to purchase)"})]}),o.jsxs("small",{style:{color:"var(--subtxt)",fontSize:"0.85rem",marginTop:"0.5rem",display:"block"},children:[" If successful, purchase approval will be skipped",o.jsx("br",{})," If failed/not applicable, order will require purchase approval",o.jsx("br",{})," Status will be locked after saving to prevent changes"]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Sponsorship Notes"}),o.jsx("textarea",{id:`sponsorship-notes-${L.id}`,placeholder:"Add notes about sponsorship search, sponsor contact info, or why it cannot be sponsored...",rows:"2",defaultValue:((yl=L.sponsorshipInfo)==null?void 0:yl.sponsorshipResponse)||""})]}),o.jsx("div",{className:"approval-buttons",children:o.jsx("button",{className:"btn-primary",disabled:(Ee[L.id]??((Na=L.sponsorshipInfo)==null?void 0:Na.sponsorshipSearchStatus)??"in_progress")==="in_progress",style:{opacity:(Ee[L.id]??((lo=L.sponsorshipInfo)==null?void 0:lo.sponsorshipSearchStatus)??"in_progress")==="in_progress"?.5:1,cursor:(Ee[L.id]??((Aa=L.sponsorshipInfo)==null?void 0:Aa.sponsorshipSearchStatus)??"in_progress")==="in_progress"?"not-allowed":"pointer"},onClick:async ot=>{ot.stopPropagation();const It=document.getElementById(`sponsorship-status-${L.id}`).value,lr=document.getElementById(`sponsorship-notes-${L.id}`).value;if(!await Ke("Are you sure you want to lock this sponsorship status? Once saved, it cannot be changed.","Confirm Lock Sponsorship Status"))return;await Me(L.id,{type:"sponsorship_status",searchStatus:It}),lr.trim()&&await Me(L.id,{type:"sponsorship_response",successful:It==="successful",response:lr});const Fr=r.map(gr=>gr.id===L.id?{...gr,sponsorshipInfo:{...gr.sponsorshipInfo,sponsorshipSearchStatus:It,sponsorshipResponse:lr}}:gr).find(gr=>gr.id===L.id);b(Fr)},children:"Save & Lock Sponsorship Status"})})]})]})]}),Zt&&(L.status==="pending_approval"||L.status==="pending_technical_approval")&&(((Fa=L.sponsorshipInfo)==null?void 0:Fa.sponsorshipSearchStatus)==="not_applicable"||((ja=L.sponsorshipInfo)==null?void 0:ja.sponsorshipSearchStatus)==="failed"||((bl=L.sponsorshipInfo)==null?void 0:bl.sponsorshipSearchStatus)==="successful")&&o.jsxs("div",{className:"detail-section approval-actions",children:[o.jsx("h4",{children:"Step 2: Technical Approval"}),o.jsx("p",{className:"approval-help-text",children:"Sponsorship status has been set. Now you can approve or deny this order request."}),o.jsxs("div",{className:"approval-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Technical Approval Comments / Denial Reason"}),o.jsx("textarea",{id:`tech-approval-comments-${L.id}`,placeholder:"Add comments for approval or reason for denial...",rows:"3"})]}),o.jsxs("div",{className:"approval-buttons",children:[o.jsx("button",{className:"btn-approve",onClick:async ot=>{var Nr,Mr;ot.stopPropagation();const It=document.getElementById(`tech-approval-comments-${L.id}`).value,lr=((Nr=L.sponsorshipInfo)==null?void 0:Nr.sponsorshipSearchStatus)||"in_progress";await Me(L.id,{type:"technical_director_approval",approved:!0,approvedBy:Le(),comments:It||"Approved - material needed for project",sponsorshipStatus:lr,sponsorshipNotes:((Mr=L.sponsorshipInfo)==null?void 0:Mr.sponsorshipResponse)||""}),b(null)},children:" Approve Order"}),o.jsx("button",{className:"btn-deny",onClick:async ot=>{ot.stopPropagation();const It=document.getElementById(`tech-approval-comments-${L.id}`).value;if(!It.trim()){await Fe("Please provide a reason for denial","Denial Reason Required");return}await Ke("Are you sure you want to deny this order? This action will notify the submitter.","Confirm Denial")&&(await Me(L.id,{type:"technical_director_approval",approved:!1,approvedBy:Le(),denialReason:It}),b(null))},children:" Deny Order"})]})]})]}),Zt&&L.status==="pending_project_approval"&&o.jsxs("div",{className:"detail-section approval-actions",children:[o.jsx("h4",{children:"Purchase Approval"}),o.jsx("p",{className:"approval-help-text",children:"Sponsorship was unsuccessful. Approve purchase to spend money on this material."}),o.jsxs("div",{className:"approval-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Comments / Denial Reason"}),o.jsx("textarea",{id:`purchase-approval-comments-${L.id}`,placeholder:"Add budget approval comments or reason for denial...",rows:"3"})]}),o.jsxs("div",{className:"approval-buttons",children:[o.jsx("button",{className:"btn-approve",onClick:async ot=>{ot.stopPropagation();const It=document.getElementById(`purchase-approval-comments-${L.id}`).value;await Me(L.id,{type:"purchase_approval",approved:!0,approvedBy:Le(),comments:It||"Budget approved - proceed with purchase"}),b(null)},children:" Approve Purchase"}),o.jsx("button",{className:"btn-deny",onClick:async ot=>{ot.stopPropagation();const It=document.getElementById(`purchase-approval-comments-${L.id}`).value;if(!It.trim()){await Fe("Please provide a reason for denial","Denial Reason Required");return}await Ke("Are you sure you want to deny purchase approval? This will deny the order.","Confirm Denial")&&(await Me(L.id,{type:"purchase_approval",approved:!1,approvedBy:Le(),denialReason:It}),b(null))},children:" Deny Purchase"})]})]})]}),g&&o.jsx("div",{className:"detail-section edit-actions",children:o.jsxs("div",{className:"edit-buttons",children:[o.jsx("button",{className:"btn-save-edit",onClick:async ot=>{ot.stopPropagation(),await ct()},children:" Save Changes"}),o.jsx("button",{className:"btn-cancel-edit",onClick:ot=>{ot.stopPropagation(),y(!1),_(null)},children:" Cancel"})]})})]})]})}):null},[Zt,g,B,Me,Fe,Ke,ct]),ci=X.useMemo(()=>()=>o.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:o.jsxs("div",{className:"modal-content large",onClick:L=>L.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Submit New Order Request"}),o.jsx("button",{className:"modal-close",onClick:()=>w(!1),children:""})]}),o.jsx("div",{className:"modal-body",ref:a,children:o.jsxs("form",{onSubmit:L=>{L.preventDefault(),fr()},children:[o.jsxs("div",{className:"form-section",children:[o.jsx("h4",{children:"Submission Details"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Subteam *"}),o.jsxs("select",{value:q.submissionDetails.subteam,onChange:L=>Ce({...q,submissionDetails:{...q.submissionDetails,subteam:L.target.value}}),required:!0,children:[o.jsx("option",{value:"",children:"Select Subteam"}),o.jsx("option",{value:"Business",children:"Business"}),o.jsx("option",{value:"Aerodynamics",children:"Aerodynamics"}),o.jsx("option",{value:"Low Voltage",children:"Low Voltage"}),o.jsx("option",{value:"Systems Architecture",children:"Systems Architecture"}),o.jsx("option",{value:"High Voltage",children:"High Voltage"}),o.jsx("option",{value:"Structures",children:"Structures"}),o.jsx("option",{value:"Vehicle Dynamics",children:"Vehicle Dynamics"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Your Name *"}),o.jsx("input",{type:"name",value:q.submissionDetails.submitterName,onChange:L=>Ce({...q,submissionDetails:{...q.submissionDetails,submitterName:L.target.value}}),required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Your Email *"}),o.jsx("input",{type:"email",value:q.submissionDetails.submitterEmail,onChange:L=>Ce({...q,submissionDetails:{...q.submissionDetails,submitterEmail:L.target.value}}),required:!0})]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h4",{children:"Material Details"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Material Name *"}),o.jsx("input",{type:"text",value:q.materialDetails.materialName,onChange:L=>Ce({...q,materialDetails:{...q.materialDetails,materialName:L.target.value}}),required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Material Link *"}),o.jsx("input",{type:"text",value:q.materialDetails.materialLink,onChange:L=>Ce({...q,materialDetails:{...q.materialDetails,materialLink:L.target.value}}),pattern:".*\\..+.*",title:"Please enter a valid link (must contain a domain like .com, .org, etc.)",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Supplier"}),o.jsx("input",{type:"text",value:q.materialDetails.supplier,onChange:L=>Ce({...q,materialDetails:{...q.materialDetails,supplier:L.target.value}})})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Detailed Specifications *"}),o.jsx("textarea",{value:q.materialDetails.specifications,onChange:L=>Ce({...q,materialDetails:{...q.materialDetails,specifications:L.target.value}}),rows:"4",placeholder:"Provide thorough specifications including dimensions, materials, performance characteristics, etc.",required:!0})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h4",{children:"Cost Information"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Price of 1 item *"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:q.costBreakdown.unitPrice,onChange:L=>Ce({...q,costBreakdown:{...q.costBreakdown,unitPrice:L.target.value}}),placeholder:"0.00",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Quantity of items requested *"}),o.jsx("input",{type:"number",min:"1",value:q.costBreakdown.quantity,onChange:L=>Ce({...q,costBreakdown:{...q.costBreakdown,quantity:L.target.value}}),placeholder:"1",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Shipping cost *"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:q.costBreakdown.shippingCost,onChange:L=>Ce({...q,costBreakdown:{...q.costBreakdown,shippingCost:L.target.value}}),placeholder:"0.00",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Total cost of order after taxes or fees *"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:q.costBreakdown.totalCost,onChange:L=>Ce({...q,costBreakdown:{...q.costBreakdown,totalCost:L.target.value}}),placeholder:"0.00",required:!0})]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h4",{children:"Project Details"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Urgency *"}),o.jsxs("select",{value:q.projectDetails.urgency,onChange:L=>Ce({...q,projectDetails:{...q.projectDetails,urgency:L.target.value}}),required:!0,children:[o.jsx("option",{value:"flexible",children:"Flexible"}),o.jsx("option",{value:"needed_by_date",children:"Needed by specific date"}),o.jsx("option",{value:"asap",children:"ASAP"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{children:["Needed By Date ",q.projectDetails.urgency!=="flexible"?"*":""]}),o.jsx("input",{type:"date",value:q.projectDetails.neededByDate,onChange:L=>Ce({...q,projectDetails:{...q.projectDetails,neededByDate:L.target.value}}),required:q.projectDetails.urgency!=="flexible",min:new Date().toISOString().split("T")[0]})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Purpose for Project *"}),o.jsx("textarea",{value:q.projectDetails.purpose,onChange:L=>Ce({...q,projectDetails:{...q.projectDetails,purpose:L.target.value}}),rows:"3",placeholder:"Explain how this material will be used in the project and why it's needed",required:!0})]})]}),o.jsxs("div",{className:"form-actions",children:[o.jsx("button",{type:"button",onClick:()=>w(!1),className:"btn-secondary",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn-primary",children:"Submit Order Request"})]})]})})]})}),[q,d]);return s?o.jsx("div",{className:"loading",children:"Loading orders..."}):ws?o.jsxs("div",{className:"order-manager",children:[o.jsxs("div",{className:"order-header",children:[o.jsx("h2",{className:"order-title",children:"Order Management"}),o.jsxs("div",{className:"header-actions",children:[o.jsx(Gd,{status:$e,lastSync:dt,onRefresh:at}),(an||Zt)&&o.jsx("button",{className:"btn-primary",onClick:()=>w(!0),children:"+ Submit New Order"})]})]}),o.jsxs("div",{className:"stats-summary",children:[o.jsxs("div",{className:"stat-card",children:[o.jsx("div",{className:"stat-number",children:ys.filter(L=>L.status==="pending_technical_approval"||L.status==="pending_project_approval"||L.status==="pending_approval").length}),o.jsx("div",{className:"stat-label",children:"Pending Approval"})]}),o.jsxs("div",{className:"stat-card",children:[o.jsx("div",{className:"stat-number",children:ys.filter(L=>L.status==="approved").length}),o.jsx("div",{className:"stat-label",children:"Ready to Purchase"})]}),o.jsxs("div",{className:"stat-card",children:[o.jsx("div",{className:"stat-number",children:ys.filter(L=>L.status==="shipped"||L.status==="purchased").length}),o.jsx("div",{className:"stat-label",children:"In Transit"})]}),o.jsxs("div",{className:"stat-card",children:[o.jsxs("div",{className:"stat-number",children:["$",ys.reduce((L,fe)=>{var De;return L+(((De=fe.costBreakdown)==null?void 0:De.totalCost)||0)},0).toFixed(2)]}),o.jsx("div",{className:"stat-label",children:"Total Value"})]})]}),o.jsxs("div",{className:"filters",children:[o.jsxs("div",{className:"filter-group",children:[o.jsx("label",{className:"filter-label",children:"Status"}),o.jsxs("select",{className:"filter-select",value:A,onChange:L=>l(L.target.value),children:[o.jsx("option",{value:"all",children:"All Statuses"}),o.jsx("option",{value:"pending_technical_approval",children:"Pending Tech Director Approval"}),o.jsx("option",{value:"pending_project_approval",children:"Pending Purchase Approval"}),o.jsx("option",{value:"approved",children:"Approved"}),o.jsx("option",{value:"shipped",children:"Shipped"}),o.jsx("option",{value:"delivered",children:"Delivered"}),o.jsx("option",{value:"denied",children:"Denied"})]})]}),o.jsxs("div",{className:"filter-group",children:[o.jsx("label",{className:"filter-label",children:"Team"}),o.jsxs("select",{className:"filter-select",value:c,onChange:L=>u(L.target.value),children:[o.jsx("option",{value:"all",children:"All Teams"}),Bs.map(L=>o.jsx("option",{value:L,children:L},L))]})]}),o.jsxs("div",{className:"filter-group",children:[o.jsx("label",{className:"filter-label",children:"Orders Placed"}),o.jsxs("select",{className:"filter-select",value:h,onChange:L=>p(L.target.value),children:[me().map(L=>o.jsx("option",{value:L.value,children:L.label},L.value)),o.jsx("option",{value:"all",children:"All Time"})]})]}),o.jsx("div",{className:"filter-actions",style:{marginLeft:"auto",display:"flex",alignItems:"flex-end",gap:"8px"},children:on&&o.jsx("button",{className:"btn-secondary",onClick:()=>K(!0),title:"Download order receipts and data",children:"Download Receipts"})})]}),ys.length===0?o.jsxs("div",{className:"no-orders",children:[o.jsx("h3",{children:"No orders found"}),o.jsx("p",{children:"No orders match your current filters."})]}):o.jsx("div",{className:"orders-grid",children:ys.map(L=>{var fe,De,ht;return o.jsxs("div",{className:"order-card",onClick:()=>b(L),children:[o.jsxs("div",{className:"order-header-section",children:[o.jsxs("div",{className:"order-title-section",children:[o.jsx("h3",{className:"order-part-name",children:L.materialDetails.materialName}),o.jsxs("div",{className:"order-meta",children:[o.jsx("strong",{children:L.submissionDetails.subteam}),"  Requested by ",L.submissionDetails.submitterName]}),o.jsxs("div",{className:"order-meta",children:["Submitted: ",new Date(L.submissionTimestamp).toLocaleDateString()]})]}),o.jsx("div",{className:"order-badges",children:o.jsx("span",{className:"status-badge",style:{backgroundColor:na(L.status)},children:Ds(L.status)})})]}),o.jsxs("div",{className:"order-details",children:[o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Supplier:"}),o.jsx("span",{className:"detail-value",children:((fe=L.materialDetails)==null?void 0:fe.supplier)||"N/A"})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Quantity:"}),o.jsx("span",{className:"detail-value",children:L.costBreakdown.quantity})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Unit Price:"}),o.jsxs("span",{className:"detail-value",children:["$",L.costBreakdown.unitPrice.toFixed(2)]})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Total:"}),o.jsxs("span",{className:"detail-value",children:["$",L.costBreakdown.totalCost.toFixed(2)]})]}),L.deliveryInfo.expectedArrivalDate&&o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Expected Delivery:"}),o.jsx("span",{className:"detail-value",children:new Date(L.deliveryInfo.expectedArrivalDate).toLocaleDateString()})]})]}),o.jsxs("div",{className:"order-notes",children:[o.jsx("strong",{children:"Purpose:"})," ",(De=L.projectDetails)!=null&&De.purpose?L.projectDetails.purpose.substring(0,150):"N/A",((ht=L.projectDetails)==null?void 0:ht.purpose)&&L.projectDetails.purpose.length>150&&"..."]}),Zt&&o.jsxs("div",{className:"order-actions",onClick:Et=>Et.stopPropagation(),children:[(L.status==="pending_approval"||L.status==="pending_technical_approval")&&o.jsx("button",{className:"action-btn approve-deny-btn",onClick:()=>b(L),children:o.jsx("span",{className:"btn-text",children:"Tech Approve/Deny"})}),L.status==="pending_project_approval"&&o.jsx("button",{className:"action-btn approve-deny-btn",onClick:()=>b(L),children:o.jsx("span",{className:"btn-text",children:"Purchase Approve/Deny"})}),L.status==="approved"&&o.jsx("button",{className:"action-btn mark-ordered-btn",onClick:()=>{O(L),D(!0)},children:o.jsx("span",{className:"btn-text",children:"Mark as Purchased"})}),(L.status==="purchased"||L.status==="shipped")&&o.jsxs("button",{className:"action-btn mark-delivered-btn",onClick:()=>Me(L.id,{type:"delivery",confirmedBy:Le(),notes:"Delivered to subteam"}),children:[o.jsx("span",{className:"btn-icon",children:""}),o.jsx("span",{className:"btn-text",children:"Mark as Delivered"})]})]})]},L.id)})}),m&&ka({order:m,onClose:()=>b(null)}),d&&ci(),N&&T&&o.jsx("div",{className:"modal-overlay",onClick:()=>D(!1),children:o.jsxs("div",{className:"modal-content purchase-modal",onClick:L=>L.stopPropagation(),style:{maxWidth:"800px"},children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Mark Order as Purchased"}),o.jsx("button",{className:"modal-close",onClick:()=>{D(!1),de(!1),we([]),he({})},children:""})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"purchase-order-summary",children:[o.jsx("h4",{children:T.materialDetails.materialName}),o.jsxs("p",{children:[o.jsx("strong",{children:"Subteam:"})," ",T.submissionDetails.subteam]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Total Cost:"})," $",T.costBreakdown.totalCost.toFixed(2)]})]}),o.jsxs("form",{onSubmit:async L=>{var fe,De;if(L.preventDefault(),!z.receiptPdf){alert("Please upload a PDF receipt.");return}try{const ht=((fe=ft.currentUser)==null?void 0:fe.email)||"unknown";if(G){const Et=T.id,nr=[T,...ye].map(Ht=>Ht.id),{publicUrl:$t,updatedOrders:er}=await Ve.uploadPurchaseGroupReceipt(z.receiptPdf,Et,nr,ht),Br=new Map(er.map(Ht=>[Ht.id,Ht])),At=r.map(Ht=>Br.get(Ht.id)||Ht);n(At),ge({orders:At});const fn={fileName:$t,uploadDate:new Date().toISOString(),uploadedBy:ht};D(!1),O(null),de(!1),we([]),he({}),E(null),pe(null),V({expectedDeliveryDate:"",deliveryNotes:"",purchaseOrderNumber:"",trackingNumber:""}),await new Promise(Ht=>setTimeout(Ht,50)),await In({receiptInfo:fn})}else{const Et=await Ve.uploadOrderReceipt(z.receiptPdf,T.id,ht),kt=r.map(er=>er.id===T.id?Et:er);n(kt),ge({orders:kt});const nr=((De=Et==null?void 0:Et.documentation)==null?void 0:De.receiptInvoice)||{},$t={fileName:nr.fileName||"",uploadDate:nr.uploadDate||new Date().toISOString(),uploadedBy:nr.uploadedBy||ht};D(!1),O(null),de(!1),we([]),he({}),E(null),pe(null),V({expectedDeliveryDate:"",deliveryNotes:"",purchaseOrderNumber:"",trackingNumber:""}),await new Promise(er=>setTimeout(er,50)),await In({receiptInfo:$t})}}catch(ht){alert("Failed to upload receipt: "+ht.message)}},children:[o.jsxs("div",{className:"form-section",children:[o.jsx("h4",{children:"Purchase Type"}),o.jsxs("div",{className:"purchase-type-options",children:[o.jsxs("div",{className:`purchase-type-card ${G?"":"selected"}`,onClick:()=>{de(!1),we([]),he({})},children:[o.jsxs("div",{className:"type-option-header",children:[o.jsx("div",{className:"type-option-icon",children:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),o.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"9"}),o.jsx("line",{x1:"9",y1:"12",x2:"15",y2:"12"}),o.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]})}),o.jsx("div",{className:"type-option-radio",children:o.jsx("div",{className:"radio-outer",children:!G&&o.jsx("div",{className:"radio-inner"})})})]}),o.jsxs("div",{className:"type-option-content",children:[o.jsx("h5",{children:"Single Item"}),o.jsx("p",{children:"Purchase only this current item"})]})]}),o.jsxs("div",{className:`purchase-type-card ${G?"selected":""}`,onClick:()=>de(!0),children:[o.jsxs("div",{className:"type-option-header",children:[o.jsx("div",{className:"type-option-icon",children:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("rect",{x:"2",y:"2",width:"9",height:"9",rx:"1",ry:"1"}),o.jsx("rect",{x:"13",y:"2",width:"9",height:"9",rx:"1",ry:"1"}),o.jsx("rect",{x:"2",y:"13",width:"9",height:"9",rx:"1",ry:"1"}),o.jsx("rect",{x:"13",y:"13",width:"9",height:"9",rx:"1",ry:"1"})]})}),o.jsx("div",{className:"type-option-radio",children:o.jsx("div",{className:"radio-outer",children:G&&o.jsx("div",{className:"radio-inner"})})})]}),o.jsxs("div",{className:"type-option-content",children:[o.jsx("h5",{children:"Multi-Product Order"}),o.jsx("p",{children:"Purchase multiple approved items together"})]})]})]}),G&&o.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--subtxt)",marginTop:"1rem",padding:"0.75rem",background:"rgba(59, 130, 246, 0.08)",borderRadius:"6px",borderLeft:"3px solid #3b82f6"},children:["Select additional approved orders that were purchased together with this one. You'll upload ",o.jsx("strong",{children:"one receipt"})," for all items."]}),G&&o.jsxs("div",{className:"additional-orders-section",children:[o.jsx("label",{className:"additional-orders-label",children:"Select Additional Orders to Purchase Together:"}),o.jsx("div",{className:"additional-orders-container",children:r.filter(L=>{var fe,De;return L.id!==T.id&&L.status==="approved"&&((De=(fe=L.approvalWorkflow)==null?void 0:fe.projectDirectorPurchaseApproval)==null?void 0:De.status)==="approved"}).length===0?o.jsx("div",{className:"no-additional-orders",children:o.jsx("p",{children:"No other approved orders available for multi-purchase."})}):o.jsx("div",{className:"additional-orders-list",children:r.filter(L=>{var fe,De;return L.id!==T.id&&L.status==="approved"&&((De=(fe=L.approvalWorkflow)==null?void 0:fe.projectDirectorPurchaseApproval)==null?void 0:De.status)==="approved"}).map(L=>{var fe,De,ht,Et;return o.jsxs("div",{className:`additional-order-item ${ye.find(kt=>kt.id===L.id)?"selected":""}`,onClick:()=>{if(ye.find(kt=>kt.id===L.id)){we(ye.filter(nr=>nr.id!==L.id));const kt={...Z};delete kt[L.id],he(kt)}else we([...ye,L])},children:[o.jsx("div",{className:"order-item-checkbox",children:o.jsx("div",{className:"checkbox-outer",children:ye.find(kt=>kt.id===L.id)&&o.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:o.jsx("path",{d:"M2 6L5 9L10 3",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),o.jsxs("div",{className:"order-item-content",children:[o.jsx("div",{className:"order-item-name",children:((fe=L.materialDetails)==null?void 0:fe.materialName)||"Unnamed Item"}),o.jsxs("div",{className:"order-item-meta",children:[o.jsxs("span",{className:"order-item-cost",children:["$",((ht=(De=L.costBreakdown)==null?void 0:De.totalCost)==null?void 0:ht.toFixed(2))||"0.00"]}),o.jsx("span",{className:"order-item-separator",children:""}),o.jsx("span",{className:"order-item-team",children:(Et=L.submissionDetails)==null?void 0:Et.subteam})]})]})]},L.id)})})}),ye.length>0&&o.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(16, 185, 129, 0.08)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"6px",color:"var(--text)"},children:[o.jsx("strong",{style:{color:"#10b981"},children:ye.length})," additional order(s) selected ",o.jsxs("strong",{style:{color:"#10b981",marginLeft:"0.5rem"},children:["Total: $",(T.costBreakdown.totalCost+ye.reduce((L,fe)=>L+fe.costBreakdown.totalCost,0)).toFixed(2)]})]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h4",{children:"Delivery Information"}),G?o.jsxs(o.Fragment,{children:[o.jsx("p",{style:{fontSize:"0.9rem",color:"var(--muted)",marginBottom:"12px"},children:"Set expected delivery date for each product:"}),[T,...ye].map(L=>o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{children:[L.materialDetails.materialName," *"]}),o.jsx("input",{type:"date",value:Z[L.id]||"",onChange:fe=>he({...Z,[L.id]:fe.target.value}),required:!0,min:new Date().toISOString().split("T")[0]})]},L.id))]}):o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Expected Delivery Date *"}),o.jsx("input",{type:"date",value:z.expectedDeliveryDate,onChange:L=>V({...z,expectedDeliveryDate:L.target.value}),required:!0,min:new Date().toISOString().split("T")[0]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Delivery Notes"}),o.jsx("textarea",{value:z.deliveryNotes,onChange:L=>V({...z,deliveryNotes:L.target.value}),placeholder:"Add any custom notes about the delivery (e.g., special handling, expected carrier, etc.)",rows:"4"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Tracking Number (Optional)"}),o.jsx("input",{type:"text",value:z.trackingNumber,onChange:L=>V({...z,trackingNumber:L.target.value}),placeholder:"Enter tracking number if available"})]}),o.jsxs("div",{className:"form-group",style:{position:"relative"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:["Purchase Order Number",o.jsx("button",{type:"button","aria-label":"What is this?",onClick:()=>ae(!le),style:{background:"transparent",border:"none",color:"var(--muted)",cursor:"pointer",fontSize:"0.95rem"},title:"What is this?",children:""})]}),o.jsx("input",{type:"text",value:T!=null&&T.id?T.id.toString():"",readOnly:!0,className:"inline-edit-input",style:{background:"rgba(255,255,255,0.1)",color:"var(--text)",border:"1px solid #555",borderRadius:"4px"}}),le&&o.jsxs("div",{role:"note",className:"po-info-box",style:{marginTop:"8px",padding:"10px",background:"rgba(0,0,0,0.06)",borderRadius:"6px",fontSize:"0.92rem",lineHeight:"1.25"},children:[o.jsx("strong",{children:"Internal Order Number:"})," This number is assigned automatically for SolarPack internal records. It links receipts and documentation to this specific SolarPack order for accounting and tracking. It is not the vendor's or merchant's order number (for example, Amazon's order number) and should not be used as the external shipment or merchant reference."]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Receipt PDF *"}),G&&ye.length>0&&o.jsxs("div",{className:"multi-product-receipt-warning info",children:[o.jsx("div",{className:"info-icon","aria-hidden":!0,children:o.jsx("svg",{width:"36",height:"36",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"info",children:o.jsxs("g",{fill:"none",fillRule:"evenodd",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#fff",opacity:"0"}),o.jsx("path",{d:"M12 7.5a1 1 0 100 2 1 1 0 000-2zm-.75 4.25h1.5v4.5h-1.5z",fill:"currentColor",transform:"translate(0 0)"})]})})}),o.jsxs("div",{className:"info-content",children:[o.jsx("strong",{children:"Single Receipt for All Items"}),o.jsxs("p",{children:["Upload ONE receipt that covers all ",1+ye.length," products in this purchase. This receipt will be shared across all selected orders."]})]})]}),o.jsxs("div",{className:`image-upload-area ${Se?"has-image":""}`,onDrop:Vn,onDragOver:St,onDragEnter:St,onDragLeave:Un,onClick:()=>{var L;return(L=document.getElementById("receipt-file-input"))==null?void 0:L.click()},style:{cursor:"pointer"},children:[Se?o.jsxs("div",{className:"image-preview-container",children:[o.jsxs("div",{className:"file-preview",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{width:36,height:36},children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"17 8 12 3 7 8"}),o.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),o.jsxs("div",{style:{marginLeft:12},children:[o.jsx("div",{style:{fontWeight:600},children:Q}),o.jsx("div",{style:{fontSize:"0.85rem",color:"var(--muted)"},children:(Se&&(Se.size/1024/1024).toFixed(2))+" MB"})]})]}),o.jsx("button",{className:"remove-image-btn",onClick:L=>{L.stopPropagation(),Ls()},title:"Remove file",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}):o.jsxs("div",{className:"upload-placeholder",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"17 8 12 3 7 8"}),o.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),o.jsx("p",{children:"Drop PDF here or click to upload"}),o.jsx("p",{className:"upload-hint",children:"PDF only  Max 1MB"})]}),o.jsx("input",{id:"receipt-file-input",type:"file",accept:"application/pdf",onChange:L=>Qr(L.target.files[0]),style:{display:"none"}})]})]})]}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>D(!1),children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn-submit",children:"Confirm Purchase"})]})]})]})]})}),F&&o.jsx("div",{className:"modal-overlay",onClick:()=>K(!1),children:o.jsxs("div",{className:"modal-content",onClick:L=>L.stopPropagation(),style:{maxWidth:720},children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Download Orders & Receipts"}),o.jsx("button",{className:"modal-close",onClick:()=>K(!1),children:""})]}),o.jsxs("div",{className:"modal-body",children:[o.jsx("div",{className:"download-description",children:o.jsx("p",{children:"Select a date range and choose your download option. Files will be prepared for download based on your selection."})}),o.jsxs("form",{onSubmit:qe,children:[o.jsxs("div",{className:"form-section",children:[o.jsx("h4",{children:"Date Range"}),o.jsxs("div",{className:"date-range-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Start Date *"}),o.jsx("div",{className:"input-with-icon",style:{position:"relative"},children:o.jsx("input",{type:"date",value:I,onChange:L=>j(L.target.value),required:!0,style:{paddingRight:"20px",background:"linear-gradient(to right, transparent 0%, transparent 80%, white 80%, white 100%)"}})})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"End Date *"}),o.jsx("div",{className:"input-with-icon",style:{position:"relative"},children:o.jsx("input",{type:"date",value:H,onChange:L=>C(L.target.value),required:!0,style:{paddingRight:"20px",background:"linear-gradient(to right, transparent 0%, transparent 80%, white 80%, white 100%)"}})})]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h4",{children:"Download Type"}),o.jsxs("div",{className:"download-options-grid",children:[o.jsxs("label",{className:`download-option-card ${te==="all"?"selected":""}`,children:[o.jsx("input",{type:"radio",name:"downloadOption",value:"all",checked:te==="all",onChange:()=>ve("all"),className:"sr-only"}),o.jsxs("div",{className:"option-header",children:[o.jsx("div",{className:"option-icon",children:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),o.jsx("polyline",{points:"14,2 14,8 20,8"}),o.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),o.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),o.jsx("polyline",{points:"10,9 9,9 8,9"})]})}),o.jsx("div",{className:"option-check",children:o.jsx("div",{className:"checkmark"})})]}),o.jsxs("div",{className:"option-content",children:[o.jsx("h5",{children:"Complete Order Package"}),o.jsx("p",{children:"Full order details PDF with separate receipt files for comprehensive records"}),o.jsxs("ul",{className:"option-features",children:[o.jsx("li",{children:"Order submission details"}),o.jsx("li",{children:"Material specifications"}),o.jsx("li",{children:"Cost breakdown"}),o.jsx("li",{children:"Approval workflow"}),o.jsx("li",{children:"Separate receipt files"})]})]})]}),o.jsxs("label",{className:`download-option-card ${te==="receipts"?"selected":""}`,children:[o.jsx("input",{type:"radio",name:"downloadOption",value:"receipts",checked:te==="receipts",onChange:()=>ve("receipts"),className:"sr-only"}),o.jsxs("div",{className:"option-header",children:[o.jsx("div",{className:"option-icon",children:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"17,8 12,3 7,8"}),o.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})}),o.jsx("div",{className:"option-check",children:o.jsx("div",{className:"checkmark"})})]}),o.jsxs("div",{className:"option-content",children:[o.jsx("h5",{children:"Receipts Only"}),o.jsx("p",{children:"Just the uploaded receipt PDFs for accounting and reimbursement purposes"}),o.jsxs("ul",{className:"option-features",children:[o.jsx("li",{children:"Individual receipt files"}),o.jsx("li",{children:"Purchase documentation"}),o.jsx("li",{children:"Accounting records"}),o.jsx("li",{children:"Faster download"}),o.jsx("li",{children:"Smaller file size"})]})]})]})]})]}),I&&H&&o.jsxs("div",{className:"download-summary",children:[o.jsx("div",{className:"summary-icon",children:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"7,10 12,15 17,10"}),o.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),o.jsxs("div",{className:"summary-content",children:[o.jsx("strong",{children:"Ready to download"}),o.jsxs("span",{children:[te==="all"?"Complete order packages with receipts":"Individual receipt files only"," from ",new Date(I).toLocaleDateString()," to ",new Date(H).toLocaleDateString()]}),$e==="saving"&&o.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.8rem",color:"#3b82f6"},children:"Gathering receipts... This may take a moment."})]})]}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>K(!1),children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn-primary",disabled:!I||!H||$e==="saving",children:$e==="saving"?o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Preparing Download..."}),o.jsx("div",{className:"loading-spinner",style:{width:"16px",height:"16px",border:"2px solid transparent",borderTop:"2px solid currentColor",borderRadius:"50%",animation:"spin 1s linear infinite",marginLeft:"8px"}})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Prepare Download"}),o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginLeft:"8px"},children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"7,10 12,15 17,10"}),o.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})]})})]})]})]})]})}),ce&&re&&o.jsx("div",{className:"modal-overlay",onClick:()=>ie(!1),children:o.jsxs("div",{className:"modal-content",onClick:L=>L.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Approve or Deny Order"}),o.jsx("button",{className:"modal-close",onClick:()=>ie(!1),children:""})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"approval-order-summary",children:[o.jsx("h4",{children:re.materialDetails.materialName}),o.jsxs("p",{children:[o.jsx("strong",{children:"Subteam:"})," ",re.submissionDetails.subteam]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Submitter:"})," ",re.submissionDetails.submitterName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Total Cost:"})," $",re.costBreakdown.totalCost.toFixed(2)]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Purpose:"})," ",((sa=re.projectDetails)==null?void 0:sa.purpose)||"N/A"]})]}),o.jsx("div",{className:"form-section",children:o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Comments / Reason"}),o.jsx("textarea",{value:se,onChange:L=>k(L.target.value),placeholder:"Add comments for approval or reason for denial...",rows:"4"})]})}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>ie(!1),children:"Cancel"}),o.jsx("button",{type:"button",className:"btn-deny",onClick:async()=>{if(!se.trim()){await Fe("Please provide a reason for denial","Denial Reason Required");return}await Ke("Are you sure you want to deny this order? This action will notify the submitter.","Confirm Denial")&&(await Me(re.id,{type:"director_approval",approved:!1,approvedBy:Le(),denialReason:se}),ie(!1),Be(null),k(""))},children:" Deny Order"}),o.jsx("button",{type:"button",className:"btn-approve",onClick:async()=>{await Me(re.id,{type:"director_approval",approved:!0,approvedBy:Le(),comments:se||"Approved by director"}),ie(!1),Be(null),k("")},children:" Approve Order"})]})]})]})})]}):o.jsx("div",{className:"no-permission",children:"You don't have permission to view orders. Contact a team leader for access."})});YE.displayName="OrderManager";const ZE=X.forwardRef((t,e)=>{const[r,n]=X.useState([]),[s,i]=X.useState(!0),[a,A]=X.useState(!1),[l,c]=X.useState(null),[u,h]=X.useState(null),[p,d]=X.useState(null),[w,m]=X.useState(!1),[b,g]=X.useState({title:"",author:"",sections:[{id:"s-1",type:"text",content:""}],image_url:"",link_url:"",link_text:"",published:!1});X.useRef(null),X.useRef(null);const{showError:y,showConfirm:B,showSuccess:_}=Ai(),{status:N,lastSync:D,startSaving:T,finishSaving:O,acknowledgeNewData:F,setDisplayedData:K}=Vd(()=>Ve.getBlogs(),3e3);X.useEffect(()=>{I()},[]);const I=async()=>{i(!0);try{const Z=await Ve.getBlogs();n(Z||[]),K(Z),F()}catch(Z){console.error("Error loading blogs:",Z),await y(`Failed to load blogs: ${Z.message}`,"Load Error"),n([])}finally{i(!1)}},j=async()=>{await I(),F()};X.useImperativeHandle(e,()=>({handleAddBlog:()=>{H()}}));const H=(Z=null)=>{if(Z){c(Z);const he=le=>{try{const E=new DOMParser().parseFromString(`<div>${le||""}</div>`,"text/html").body.firstChild,Q=[];if(!E)return[{id:`s-${Date.now()}`,type:"text",content:le||""}];let pe="";return E.childNodes.forEach(ee=>{if(ee.nodeType===Node.ELEMENT_NODE){const J=ee,q=J.getElementsByTagName&&J.getElementsByTagName("img");if(q&&q.length===1&&J.childNodes.length===1){pe&&pe.trim()&&(Q.push({id:`s-${Date.now()}-${Q.length}`,type:"text",content:pe}),pe="");const Ce=q[0];Q.push({id:`s-${Date.now()}-${Q.length}`,type:"image",content:Ce.src||""});return}pe+=J.outerHTML||J.innerHTML||""}else if(ee.nodeType===Node.TEXT_NODE){const J=ee.textContent||"";J.trim()&&(pe+=J)}}),pe&&pe.trim()&&Q.push({id:`s-${Date.now()}-${Q.length}`,type:"text",content:pe}),Q.length===0?[{id:`s-${Date.now()}`,type:"text",content:le||""}]:Q}catch{return[{id:`s-${Date.now()}`,type:"text",content:le||""}]}};g({title:Z.title,author:Z.author,sections:he(Z.body),image_url:Z.image_url||"",link_url:Z.link_url||"",link_text:Z.link_text||"",published:Z.published}),h(null),d(Z.image_url||null)}else c(null),g({title:"",author:"",sections:[{id:"s-1",type:"text",content:""}],image_url:"",link_url:"",link_text:"",published:!1}),h(null),d(null);A(!0)},C=()=>{A(!1),c(null),h(null),d(null),g({title:"",author:"",sections:[{id:"s-1",type:"text",content:""}],image_url:"",link_url:"",link_text:"",published:!1})},te=async Z=>{if(!Z)return;if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(Z.type)){await y("Please upload a JPEG, PNG, WebP, or GIF image.","Invalid File Type");return}const le=5*1024*1024;if(Z.size>le){await y("Maximum file size is 5MB. Please choose a smaller image.","File Too Large");return}h(Z);const ae=new FileReader;ae.onloadend=()=>{d(ae.result)},ae.readAsDataURL(Z)},ve=Z=>{Z.preventDefault(),Z.stopPropagation();const he=Z.dataTransfer.files[0];he&&te(he)},ce=Z=>{Z.preventDefault(),Z.stopPropagation()},ie=()=>{h(null),d(null),g({...b,image_url:""})},re=(Z,he,le=null)=>{try{const ae=se.current&&se.current[Z];ae&&typeof ae.focus=="function"&&ae.focus(),document.execCommand&&document.execCommand(he,!1,le)}catch(ae){console.warn("execCommandOnSection failed",ae)}},Be=(Z,he)=>{g(le=>({...le,sections:le.sections.map(ae=>ae.id===Z?{...ae,content:he}:ae)}))},se=X.useRef({}),k=(Z="text")=>{const he=`sec-${Date.now()}`,le=Z==="text"?{id:he,type:"text",content:""}:{id:he,type:"image",file:null,preview:null};g(ae=>({...ae,sections:[...ae.sections,le]}))},z=async Z=>{const he=b.sections.find(le=>le.id===Z);if(he){if(he.type==="image"){const le=he.content||he.preview||"";try{typeof le=="string"&&le.includes("/blog-images/")&&le.includes("blog-inline/")&&await Ve.deleteBlogInlineImage(le)}catch(ae){console.error("Failed to delete inline image from storage:",ae),await y(`Failed to remove image from storage: ${ae.message}`,"Delete Error")}}g(le=>({...le,sections:le.sections.filter(ae=>ae.id!==Z)}))}},V=(Z,he)=>{g(le=>{const ae=[...le.sections],Se=ae.findIndex(pe=>pe.id===Z);if(Se===-1)return le;const E=he==="up"?Se-1:Se+1;if(E<0||E>=ae.length)return le;const Q=ae[E];return ae[E]=ae[Se],ae[Se]=Q,{...le,sections:ae}})},G=(Z,he)=>{if(!he)return;if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(he.type)){y("Please upload a JPEG, PNG, WebP, or GIF image.","Invalid File Type");return}const ae=5*1024*1024;if(he.size>ae){y("Maximum file size is 5MB. Please choose a smaller image.","File Too Large");return}const Se=new FileReader;Se.onloadend=()=>{g(E=>({...E,sections:E.sections.map(Q=>Q.id===Z?{...Q,file:he,preview:Se.result}:Q)}))},Se.readAsDataURL(he)},de=async()=>{const Z=Array.isArray(b.sections)?b.sections.map(le=>{if(le.type==="text"){const ae=se.current[le.id],Se=ae?ae.innerHTML:le.content||"";return{...le,content:Se}}return le}):[],he=Array.isArray(Z)&&Z.some(le=>le.type==="text"?le.content&&le.content.trim()!=="":le.type==="image"?!!le.file||!!le.preview||!!le.content:!1);if(!b.title.trim()||!b.author.trim()||!he){await y("Please fill in all required fields (title, author, body sections)","Required Fields");return}T();try{let le={...b,sections:Z};const ae=(Se,E={})=>Se.map(Q=>{if(Q.type==="text")return Q.content||"";if(Q.type==="image"){const pe=E[Q.id]||Q.content||Q.preview||"";return pe?`<p><img src="${pe}"/></p>`:""}return""}).join("");if(l){if(u){m(!0);try{const pe=await Ve.uploadBlogImage(u,l.id);le.image_url=pe,console.log(" Header image uploaded successfully:",pe)}catch(pe){throw console.error("Error uploading header image:",pe),await y(`Failed to upload image: ${pe.message}`,"Upload Error"),pe}finally{m(!1)}}const Se={};for(const pe of le.sections)if(pe.type==="image"&&pe.file)try{const ee=await Ve.uploadBlogInlineImage(pe.file,l.id);Se[pe.id]=ee}catch(ee){throw console.error("Error uploading inline image:",ee),await y(`Failed to upload inline image: ${ee.message}`,"Upload Error"),ee}le.body=ae(le.sections,Se);const E=await Ve.updateBlog(l.id,le),Q=r.map(pe=>pe.id===l.id?E:pe);n(Q),K(Q),await _("Blog updated successfully")}else{const Se=await Ve.createBlog({title:le.title,author:le.author,body:"",image_url:le.image_url||null,link_url:le.link_url||null,link_text:le.link_text||null,published:le.published||!1}),E={};if(u){m(!0);try{E.image_url=await Ve.uploadBlogImage(u,Se.id),console.log(" Header image uploaded for new blog:",E.image_url)}catch(Ce){throw console.error("Error uploading header image for new blog:",Ce),await y(`Failed to upload image: ${Ce.message}`,"Upload Error"),Ce}finally{m(!1)}}const Q={};for(const Ce of b.sections)if(Ce.type==="image"&&Ce.file)try{const Ee=await Ve.uploadBlogInlineImage(Ce.file,Se.id);Q[Ce.id]=Ee}catch(Ee){throw console.error("Error uploading inline image for new blog:",Ee),await y(`Failed to upload inline image: ${Ee.message}`,"Upload Error"),Ee}const pe=ae(b.sections,Q),ee={...E,body:pe};let J=Se;Object.keys(ee).length>0&&(J=await Ve.updateBlog(Se.id,ee));const q=[J,...r];n(q),K(q),await _("Blog created successfully")}h(null),d(null),C(),O()}catch(le){console.error("Error saving blog:",le),O(),await y(`Failed to save blog: ${le.message}`,"Save Error")}},ye=async Z=>{if(await B("Are you sure you want to delete this blog post? This action cannot be undone.","Delete Blog")){T();try{try{const ae=r.find(Se=>Se.id===Z);if(ae&&ae.image_url&&ae.image_url.includes("/blog-images/")){const Se=ae.image_url.split("/blog-images/");if(Se.length>=2){const E=decodeURIComponent(Se[1].split("?")[0]);await Ve.client.storage.from("blog-images").remove([E]),console.log("Deleted blog header image from storage:",E)}}try{if(ae&&ae.body){const Q=new DOMParser().parseFromString(`<div>${ae.body}</div>`,"text/html").getElementsByTagName("img");for(let pe=0;pe<Q.length;pe++){const ee=Q[pe].getAttribute("src")||"";if(ee.includes("/blog-images/")&&ee.includes("blog-inline/"))try{await Ve.deleteBlogInlineImage(ee),console.log("Deleted inline image from storage:",ee)}catch(J){console.warn("Failed to delete inline image:",ee,J)}}}}catch(Se){console.warn("Error while attempting to parse/delete inline images:",Se)}}catch(ae){console.error("Error while attempting to remove blog image before delete:",ae)}await Ve.deleteBlog(Z);const le=r.filter(ae=>ae.id!==Z);n(le),K(le),O(),await _("Blog deleted successfully")}catch(le){console.error("Error deleting blog:",le),O(),await y(`Failed to delete blog: ${le.message}`,"Delete Error")}}},we=async Z=>{T();try{const he={...Z,published:!Z.published};await Ve.updateBlog(Z.id,he);const le=r.map(ae=>ae.id===Z.id?he:ae);n(le),K(le),O(),await _(`Blog ${he.published?"published":"unpublished"} successfully`)}catch(he){console.error("Error toggling publish status:",he),O(),await y(`Failed to update publish status: ${he.message}`,"Update Error")}};return s?o.jsx("div",{className:"loading",children:"Loading blogs..."}):o.jsxs("div",{className:"blog-manager",children:[o.jsxs("div",{className:"blog-header",children:[o.jsx("h2",{className:"blog-title",children:"Blog Manager"}),o.jsxs("div",{className:"header-actions",children:[o.jsx(Gd,{status:N,lastSync:D,onRefresh:j}),o.jsx("button",{className:"btn-primary",onClick:()=>H(),children:"+ New Blog Post"})]})]}),r.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("h3",{children:"No blog posts yet"}),o.jsx("p",{children:"Create your first blog post to get started!"})]}):o.jsx("div",{className:"blog-grid",children:r.map(Z=>o.jsxs("div",{className:"blog-card",children:[o.jsx("div",{className:"blog-card-header",children:o.jsx("span",{className:`blog-status ${Z.published?"published":"draft"}`,children:Z.published?" Published":" Draft"})}),Z.image_url&&o.jsx("img",{src:Z.image_url,alt:Z.title,className:"blog-card-image"}),o.jsx("h3",{className:"blog-card-title",children:Z.title}),o.jsxs("p",{className:"blog-card-author",children:["By ",Z.author]}),o.jsx("div",{className:"blog-card-body",dangerouslySetInnerHTML:{__html:Z.body}}),o.jsxs("div",{className:"blog-card-meta",children:["Last edited: ",new Date(Z.updated_at).toLocaleString()]}),o.jsxs("div",{className:"blog-card-actions",children:[o.jsx("button",{className:"btn-edit",onClick:()=>H(Z),title:"Edit",children:o.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.4em"},children:[o.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{verticalAlign:"middle"},children:[o.jsx("path",{d:"M12 20h9"}),o.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"})]}),"Edit"]})}),o.jsx("button",{className:`btn-toggle ${Z.published?"unpublish":""}`,onClick:()=>we(Z),title:Z.published?"Unpublish":"Publish",children:o.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.4em"},children:[Z.published?o.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{verticalAlign:"middle"},children:o.jsx("path",{d:"M4 4v16h16V4H4zm8 8v4m0-4V8m0 4h4m-4 0H8"})}):o.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{verticalAlign:"middle"},children:o.jsx("path",{d:"M5 12h14M12 5v14"})}),Z.published?"Unpublish":"Publish"]})}),o.jsx("button",{className:"btn-delete",onClick:()=>ye(Z.id),title:"Delete",children:o.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.4em"},children:[o.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{verticalAlign:"middle"},children:[o.jsx("polyline",{points:"3 6 5 6 21 6"}),o.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2"}),o.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),o.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),"Delete"]})})]})]},Z.id))}),a&&o.jsx("div",{className:"modal-overlay",onClick:C,children:o.jsxs("div",{className:"modal-content",onClick:Z=>Z.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:l?"Edit Blog Post":"New Blog Post"}),o.jsx("button",{className:"modal-close",onClick:C,children:""})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Title *"}),o.jsx("input",{type:"text",value:b.title,onChange:Z=>g({...b,title:Z.target.value}),placeholder:"Enter blog title"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Author *"}),o.jsx("input",{type:"text",value:b.author,onChange:Z=>g({...b,author:Z.target.value}),placeholder:"Enter author name"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Header Image (optional)"}),o.jsxs("div",{className:`image-upload-area ${p?"has-image":""}`,onDrop:ve,onDragOver:ce,onClick:()=>document.getElementById("blog-image-input").click(),children:[p?o.jsxs("div",{className:"image-preview-container",children:[o.jsx("img",{src:p,alt:"Preview",className:"image-preview"}),o.jsx("button",{className:"remove-image-btn",onClick:Z=>{Z.stopPropagation(),ie()},title:"Remove image",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}):o.jsxs("div",{className:"upload-placeholder",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"17 8 12 3 7 8"}),o.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),o.jsx("p",{children:"Drop image here or click to upload"}),o.jsx("p",{className:"upload-hint",children:"JPG, PNG, WebP, or GIF  Max 5MB"})]}),o.jsx("input",{id:"blog-image-input",type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:Z=>te(Z.target.files[0]),style:{display:"none"}})]}),w&&o.jsx("p",{className:"upload-status",children:"Uploading image..."})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Link URL (optional)"}),o.jsx("input",{type:"url",value:b.link_url,onChange:Z=>g({...b,link_url:Z.target.value}),placeholder:"https://example.com/article"}),o.jsx("small",{style:{color:"var(--subtxt)",fontSize:"0.85rem",marginTop:"0.25rem",display:"block"},children:"Optional link button displayed at the top of the article"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Link Button Text (optional)"}),o.jsx("input",{type:"text",value:b.link_text,onChange:Z=>g({...b,link_text:Z.target.value}),placeholder:"Read Full Article"}),o.jsx("small",{style:{color:"var(--subtxt)",fontSize:"0.85rem",marginTop:"0.25rem",display:"block"},children:'Text for the link button (defaults to "Read More" if not provided)'})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Body *"}),o.jsxs("div",{className:"rich-text-editor",children:[o.jsx("div",{className:"sections-list",children:Array.isArray(b.sections)&&b.sections.map((Z,he)=>o.jsxs("div",{className:"section-item",children:[o.jsxs("div",{className:"section-controls",children:[o.jsxs("strong",{children:["Section ",he+1]}),o.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[o.jsx("button",{type:"button",className:"btn-small",onClick:()=>V(Z.id,"up"),title:"Move up","aria-label":`Move section ${he+1} up`,children:o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("polyline",{points:"18 15 12 9 6 15"})})}),o.jsx("button",{type:"button",className:"btn-small",onClick:()=>V(Z.id,"down"),title:"Move down","aria-label":`Move section ${he+1} down`,children:o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("polyline",{points:"6 9 12 15 18 9"})})}),o.jsx("button",{type:"button",className:"btn-small btn-delete",onClick:()=>z(Z.id),title:"Remove section","aria-label":`Remove section ${he+1}`,children:o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("polyline",{points:"3 6 5 6 21 6"}),o.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),o.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),o.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})]}),Z.type==="text"?o.jsxs("div",{className:"section-editor",children:[o.jsxs("div",{className:"editor-toolbar",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[o.jsxs("div",{className:"toolbar-group",children:[o.jsxs("select",{className:"font-select",onChange:le=>re(Z.id,"fontName",le.target.value),defaultValue:"Arial",children:[o.jsx("option",{value:"Arial",children:"Arial"}),o.jsx("option",{value:"Georgia",children:"Georgia"}),o.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),o.jsx("option",{value:"Verdana",children:"Verdana"}),o.jsx("option",{value:"Courier New",children:"Courier New"})]}),o.jsxs("select",{className:"size-select",onChange:le=>re(Z.id,"fontSize",le.target.value),defaultValue:"3",children:[o.jsx("option",{value:"1",children:"Small"}),o.jsx("option",{value:"2",children:"Normal"}),o.jsx("option",{value:"3",children:"Large"}),o.jsx("option",{value:"4",children:"X-Large"}),o.jsx("option",{value:"5",children:"XX-Large"})]})]}),o.jsxs("div",{className:"toolbar-group",children:[o.jsx("button",{className:"toolbar-btn",onClick:()=>re(Z.id,"bold"),title:"Bold",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"}),o.jsx("path",{d:"M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"})]})}),o.jsx("button",{className:"toolbar-btn",onClick:()=>re(Z.id,"italic"),title:"Italic",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"19",y1:"4",x2:"10",y2:"4"}),o.jsx("line",{x1:"14",y1:"20",x2:"5",y2:"20"}),o.jsx("line",{x1:"15",y1:"4",x2:"9",y2:"20"})]})}),o.jsx("button",{className:"toolbar-btn",onClick:()=>re(Z.id,"underline"),title:"Underline",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"}),o.jsx("line",{x1:"4",y1:"21",x2:"20",y2:"21"})]})})]}),o.jsxs("div",{className:"toolbar-group",children:[o.jsx("button",{className:"toolbar-btn",onClick:()=>re(Z.id,"justifyLeft"),title:"Align Left",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"21",y1:"10",x2:"3",y2:"10"}),o.jsx("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),o.jsx("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),o.jsx("line",{x1:"21",y1:"18",x2:"3",y2:"18"})]})}),o.jsx("button",{className:"toolbar-btn",onClick:()=>re(Z.id,"justifyCenter"),title:"Align Center",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"17",y1:"10",x2:"7",y2:"10"}),o.jsx("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),o.jsx("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),o.jsx("line",{x1:"17",y1:"18",x2:"7",y2:"18"})]})}),o.jsx("button",{className:"toolbar-btn",onClick:()=>re(Z.id,"justifyRight"),title:"Align Right",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"21",y1:"10",x2:"3",y2:"10"}),o.jsx("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),o.jsx("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),o.jsx("line",{x1:"21",y1:"18",x2:"3",y2:"18"})]})})]}),o.jsxs("div",{className:"toolbar-group",children:[o.jsx("button",{className:"toolbar-btn",onClick:()=>re(Z.id,"insertUnorderedList"),title:"Bullet List",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),o.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),o.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),o.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),o.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),o.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]})}),o.jsx("button",{className:"toolbar-btn",onClick:()=>re(Z.id,"insertOrderedList"),title:"Numbered List",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"10",y1:"6",x2:"21",y2:"6"}),o.jsx("line",{x1:"10",y1:"12",x2:"21",y2:"12"}),o.jsx("line",{x1:"10",y1:"18",x2:"21",y2:"18"}),o.jsx("path",{d:"M4 6h1v4H4V6zm2.5 12H6V6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5V18a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1v-4zm0-6h-1V8h1v4z"})]})})]}),o.jsx("div",{className:"toolbar-group",children:o.jsx("button",{className:"toolbar-btn",onClick:()=>{const le=prompt("Enter URL:");le&&re(Z.id,"createLink",le)},title:"Insert Link",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),o.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]})})})]}),o.jsx("div",{ref:le=>{se.current[Z.id]=le;try{le&&Z.content!=null&&le.innerHTML!==Z.content&&document.activeElement!==le&&(le.innerHTML=Z.content)}catch{}},className:"editor-content section-text",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:le=>Be(Z.id,le.currentTarget.innerHTML)})]}):o.jsxs("div",{className:`image-upload-area ${Z.preview||Z.content?"has-image":""}`,onDrop:le=>{le.preventDefault(),le.stopPropagation();const ae=le.dataTransfer.files[0];ae&&G(Z.id,ae)},onDragOver:le=>le.preventDefault(),onClick:()=>document.getElementById(`sec-img-${Z.id}`).click(),children:[Z.preview||Z.content?o.jsxs("div",{className:"image-preview-container",children:[o.jsx("img",{src:Z.preview||Z.content,alt:"Preview",className:"image-preview"}),o.jsx("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:o.jsx("button",{className:"remove-image-btn",onClick:le=>{(async()=>{le.stopPropagation();try{const ae=Z.content||"";typeof ae=="string"&&ae.includes("/blog-images/")&&ae.includes("blog-inline/")&&await Ve.deleteBlogInlineImage(ae)}catch(ae){console.error("Failed to delete inline image from storage:",ae);try{await y(`Failed to remove image from storage: ${ae.message}`,"Delete Error")}catch{}}finally{g(ae=>({...ae,sections:ae.sections.map(Se=>Se.id===Z.id?{...Se,file:null,preview:null,content:""}:Se)}))}})()},title:"Remove image","aria-label":"Remove image",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]}):o.jsxs("div",{className:"upload-placeholder",children:[o.jsx("p",{children:"Drop image here or click to upload"}),o.jsx("p",{className:"upload-hint",children:"JPG, PNG, WebP, or GIF  Max 5MB"})]}),o.jsx("input",{id:`sec-img-${Z.id}`,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:le=>G(Z.id,le.target.files[0]),style:{display:"none"}})]})]},Z.id))}),o.jsxs("div",{className:"sections-actions",children:[o.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>k("text"),children:"+ Text Section"}),o.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>k("image"),children:"+ Image Section"})]})]})]}),o.jsx("div",{className:"form-group",children:o.jsxs("div",{className:"form-check",children:[o.jsx("input",{type:"checkbox",id:"published",checked:b.published,onChange:Z=>g({...b,published:Z.target.checked})}),o.jsx("label",{htmlFor:"published",children:"Publish immediately"})]})})]}),o.jsxs("div",{className:"form-actions",children:[o.jsx("button",{className:"btn-secondary",onClick:C,disabled:N==="saving",children:"Cancel"}),o.jsx("button",{className:"btn-primary",onClick:de,disabled:N==="saving","aria-busy":N==="saving",children:N==="saving"?o.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[o.jsx("div",{className:"loading-spinner",style:{width:16,height:16,border:"2px solid #333",borderTopColor:"var(--accent)",borderRadius:"50%"}}),o.jsx("span",{children:l?"Saving...":"Creating..."})]}):o.jsxs(o.Fragment,{children:[l?"Update":"Create"," Blog Post"]})})]})]})})]})});ZE.displayName="BlogManager";const gH=()=>{const[t,e]=X.useState({first_name:"",last_name:"",phone_number:""}),[r,n]=X.useState(!0),[s,i]=X.useState(!1),a=Ai();X.useEffect(()=>{let u=!0;return(async()=>{n(!0);try{await ft.waitForInit();const p=ft.getUser();if(!p){e({first_name:"",last_name:"",phone_number:""}),n(!1);return}const d={first_name:p.first_name||"",last_name:p.last_name||"",phone_number:p.phone_number||""};if(!d.first_name&&!d.last_name&&!d.phone_number){const w=await Ve.getUserProfile(),m=w==null?void 0:w.role;m&&(d.first_name=m.first_name||"",d.last_name=m.last_name||"",d.phone_number=m.phone_number||"")}u&&e(d)}catch(p){console.error("Failed to load profile:",p)}finally{u&&n(!1)}})(),()=>{u=!1}},[]);const A=u=>{const{name:h,value:p}=u.target;e(d=>({...d,[h]:p}))},l=async()=>{i(!0);try{await Ve.updateUserProfile(t),await ft.loadUserData();try{await a.showSuccess("Profile saved.")}catch{}}catch(u){console.error("Save failed:",u);const h=(u==null?void 0:u.message)||"Failed to save profile.";try{await a.showError(h)}catch{}}finally{i(!1)}},c=ft.getUser();return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        .settings-title {
          font-family: 'Bebas Neue', sans-serif;
          font-size: 2rem;
          color: var(--text);
          margin: 0;
          text-align: center;
        }

        .settings-page {
          display: flex;
          align-items: flex-start;
          justify-content: center;
          padding: 1.5rem;
          padding-bottom: 3rem;
          background: transparent;
        }

        .settings-card {
          width: 100%;
          max-width: 920px;
          background: var(--surface);
          padding: 24px;
          border-radius: var(--radius);
          box-shadow: 0 10px 30px rgba(0,0,0,0.12);
          color: var(--text);
          border: 1px solid rgba(0,0,0,0.06);
        }

        .settings-card-header {
          display: flex;
          align-items: center;
          gap: 18px;
          margin-bottom: 16px;
          padding-bottom: 14px;
          border-bottom: 1px solid rgba(0,0,0,0.06);
        }

        .avatar {
          width: 72px;
          height: 72px;
          border-radius: 50%;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          font-weight: 700;
          font-size: 28px;
          color: white;
          background: linear-gradient(135deg,var(--accent), #9b000b);
          box-shadow: 0 6px 18px rgba(0,0,0,0.18);
          flex-shrink: 0;
        }

        .profile-meta { display:flex; flex-direction:column; gap:4px; }
        .profile-email { font-size: 1.05rem; font-weight:700; color: var(--text); }
        .profile-attrs { display:flex; gap:10px; align-items:center; flex-wrap:wrap; font-size:0.86rem; color:var(--subtxt); }
        .profile-attrs .level { padding:4px 8px; border-radius:6px; border:1px solid rgba(0,0,0,0.06); background: transparent; font-weight:700; color:var(--text); }
        .profile-attrs .joined, .profile-attrs .specific-role { color:var(--subtxt); }

        .settings-row { display:flex; gap:1rem; margin:14px 0; align-items:center; }
        .settings-row label { min-width:140px; color:var(--subtxt); font-size:0.9rem; }
        .settings-input { flex:1; padding:0.7rem 0.9rem; border-radius:8px; border:1px solid rgba(0,0,0,0.08); background:var(--bg); color:var(--text); font-size:0.95rem; }
        .settings-input::placeholder { color: rgba(115,115,115,0.6); }
        .settings-input:focus { outline: none; box-shadow: 0 0 0 4px rgba(0,0,0,0.05); border-color: rgba(0,0,0,0.12); }

        .actions-row { display:flex; justify-content:flex-end; margin-top: 6px; }
        .actions-left { display:flex; gap:12px; align-items:center; }
        .btn { background:var(--accent); color:white; padding:0.6rem 1rem; border-radius:8px; border:none; cursor:pointer; font-weight:700; }
        .btn[disabled]{ opacity:0.65; cursor:not-allowed; }

        .footer-meta { margin-top: 14px; display:flex; gap:18px; flex-wrap:wrap; color:var(--subtxt); }
        .footer-meta .meta-item { font-size:0.9rem; display:flex; gap:6px; align-items:center; }

        @media (max-width: 720px) {
          .settings-card { padding: 16px; }
          .settings-row { flex-direction: column; align-items:stretch; }
          .settings-row label { min-width: auto; }
          .actions-row { justify-content: center; }
          .avatar { width: 60px; height: 60px; font-size:22px; }
        }
      `}),o.jsx("h1",{className:"settings-title",children:"Account Settings"}),o.jsx("div",{className:"settings-page",children:o.jsxs("div",{className:"settings-card",role:"region","aria-label":"Account settings",children:[o.jsxs("div",{className:"settings-card-header",children:[o.jsx("div",{className:"avatar","aria-hidden":!0,children:c!=null&&c.first_name||c!=null&&c.email?o.jsx("span",{children:((c==null?void 0:c.first_name)||(c==null?void 0:c.email)||"U").charAt(0).toUpperCase()}):o.jsx("span",{children:"U"})}),o.jsxs("div",{className:"profile-meta",children:[o.jsx("div",{className:"profile-email",children:(c==null?void 0:c.email)||"No email"}),o.jsxs("div",{className:"profile-attrs",children:[o.jsx("span",{className:"level",children:((c==null?void 0:c.level)||"member").toUpperCase()}),o.jsxs("span",{className:"joined",children:["Joined: ",c!=null&&c.joined_at?new Date(c.joined_at).toLocaleDateString():""]}),(c==null?void 0:c.specific_role)&&o.jsx("span",{className:"specific-role",children:c.specific_role})]})]})]}),r?o.jsx("div",{className:"settings-meta",children:"Loading..."}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"settings-row",children:[o.jsx("label",{htmlFor:"first_name",children:"First Name"}),o.jsx("input",{id:"first_name",className:"settings-input",name:"first_name",value:t.first_name,onChange:A,placeholder:"First name"})]}),o.jsxs("div",{className:"settings-row",children:[o.jsx("label",{htmlFor:"last_name",children:"Last Name"}),o.jsx("input",{id:"last_name",className:"settings-input",name:"last_name",value:t.last_name,onChange:A,placeholder:"Last name"})]}),o.jsxs("div",{className:"settings-row",children:[o.jsx("label",{htmlFor:"phone_number",children:"Phone"}),o.jsx("input",{id:"phone_number",className:"settings-input",name:"phone_number",value:t.phone_number,onChange:A,placeholder:"(555) 555-5555"})]}),o.jsx("div",{className:"actions-row",children:o.jsx("div",{className:"actions-left",children:o.jsx("button",{className:"btn",onClick:l,disabled:s,children:s?"Saving...":"Save"})})})]})]})})]})};const y0="file-storage",Gx=[{id:"order-receipts",label:"Order Receipts",icon:"fa-receipt"},{id:"blog-images",label:"Blog Images",icon:"fa-newspaper"},{id:"sponsor-logos",label:"Sponsor Logos",icon:"fa-handshake"},{id:"team-images",label:"Team Images",icon:"fa-users"}],Wx={image:{extensions:["jpg","jpeg","png","gif","webp","svg","bmp"],icon:"fa-file-image",class:"image"},pdf:{extensions:["pdf"],icon:"fa-file-pdf",class:"pdf"},document:{extensions:["doc","docx","txt","rtf","odt"],icon:"fa-file-word",class:"document"},spreadsheet:{extensions:["xls","xlsx","csv","ods"],icon:"fa-file-excel",class:"spreadsheet"},presentation:{extensions:["ppt","pptx","odp"],icon:"fa-file-powerpoint",class:"document"},video:{extensions:["mp4","webm","avi","mov","mkv"],icon:"fa-file-video",class:"video"},audio:{extensions:["mp3","wav","ogg","flac","aac"],icon:"fa-file-audio",class:"audio"},archive:{extensions:["zip","rar","7z","tar","gz"],icon:"fa-file-zipper",class:"archive"},code:{extensions:["js","jsx","ts","tsx","html","css","json","py"],icon:"fa-file-code",class:"document"},default:{icon:"fa-file",class:""}},qx=!1,mH=()=>{const[t,e]=X.useState([]),[r,n]=X.useState([]),[s,i]=X.useState(!0),[a,A]=X.useState(!1),[l,c]=X.useState([]),[u,h]=X.useState(new Set),[p,d]=X.useState("grid"),[w,m]=X.useState(""),[b,g]=X.useState(null),[y,B]=X.useState(null),[_,N]=X.useState(""),[D,T]=X.useState(""),[O,F]=X.useState(!1),[K,I]=X.useState(null),j=X.useRef(null),H=X.useRef(null),C=X.useRef(null);X.useRef({pdf:null,renderTask:null});const{showConfirm:te,showError:ve,showSuccess:ce}=Ai(),[ie,re]=X.useState(!1),[Be,se]=X.useState(null),k=ft.getLevel(),z=[Ya.MEMBER,Ya.LEADER,Ya.DIRECTOR].includes(k),V=X.useCallback(()=>O&&K?K:y0,[O,K]),G=X.useCallback(()=>{if(O){const me=t.slice(1);return K?me.slice(1).join("/"):""}return t.join("/")},[t,O,K]),de=X.useCallback(async()=>{i(!0);try{if(!Ve||!Ve.client)throw new Error("Supabase not configured");if(t.length===0){const{data:me,error:Pe}=await Ve.client.storage.from(y0).list("",{limit:500,sortBy:{column:"name",order:"asc"}});if(Pe)throw Pe;const Xe={id:"website-data",name:"Website Data",isFolder:!0,isVirtual:!0,isProtected:!0,icon:"fa-folder",iconClass:""},et=ye(me||[]);n([Xe,...et]),F(!1),I(null)}else if(t.length===1&&t[0]==="Website Data"){const me=Gx.map(Pe=>({id:Pe.id,name:Pe.label,isFolder:!0,isProtected:!0,bucketId:Pe.id,customIcon:Pe.icon}));n(me),F(!0),I(null)}else if(t[0]==="Website Data"&&t.length>=2){const me=t[1],Pe=Gx.find(Xe=>Xe.label===me);if(Pe){F(!0),I(Pe.id);const Xe=t.slice(2).join("/"),{data:et,error:at}=await Ve.client.storage.from(Pe.id).list(Xe,{limit:500,sortBy:{column:"name",order:"asc"}});if(at)throw at;const Me=ye(et||[],!0);n(Me)}}else{const me=t.join("/"),{data:Pe,error:Xe}=await Ve.client.storage.from(y0).list(me,{limit:500,sortBy:{column:"name",order:"asc"}});if(Xe)throw Xe;const et=ye(Pe||[]);n(et),F(!1),I(null)}}catch(me){console.error("Failed to load files:",me),await ve(`Failed to load files: ${me.message}`,"Load Error"),n([])}finally{i(!1)}},[t,ve]),ye=(me,Pe=!1)=>me.map(Xe=>{var at,Me;const et=Xe.id===null;return{id:Xe.id||Xe.name,name:Xe.name,isFolder:et,isProtected:Pe,size:((at=Xe.metadata)==null?void 0:at.size)||0,mimeType:((Me=Xe.metadata)==null?void 0:Me.mimetype)||"",lastModified:Xe.updated_at||Xe.created_at||"",...we(Xe.name,et)}}),we=(me,Pe)=>{var et,at;if(Pe)return{icon:"fa-folder",iconClass:""};const Xe=((et=me.split(".").pop())==null?void 0:et.toLowerCase())||"";for(const[Me,ct]of Object.entries(Wx))if(Me!=="default"&&((at=ct.extensions)!=null&&at.includes(Xe)))return{icon:ct.icon,iconClass:ct.class,fileType:Me};return{icon:Wx.default.icon,iconClass:"",fileType:"unknown"}},Z=me=>{if(!me||me===0)return"-";const Pe=["B","KB","MB","GB"];let Xe=me,et=0;for(;Xe>=1024&&et<Pe.length-1;)Xe/=1024,et++;return`${Xe.toFixed(1)} ${Pe[et]}`},he=me=>me?new Date(me).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-",le=me=>{const Pe=V(),Xe=G(),et=Xe?`${Xe}/${me.name}`:me.name;try{const{data:at}=Ve.client.storage.from(Pe).getPublicUrl(et);return(at==null?void 0:at.publicUrl)||""}catch(at){return console.warn("getPublicUrl failed",at),""}};X.useEffect(()=>{de()},[de]),X.useEffect(()=>{const me=()=>g(null);return document.addEventListener("click",me),()=>document.removeEventListener("click",me)},[]);const ae=me=>{e([...t,me]),h(new Set),m("")},Se=me=>{e(me===-1?[]:t.slice(0,me+1)),h(new Set),m("")},E=()=>{t.length>0&&(e(t.slice(0,-1)),h(new Set))},Q=(me,Pe)=>{if(Pe.ctrlKey||Pe.metaKey){const Xe=new Set(u);Xe.has(me.id)?Xe.delete(me.id):Xe.add(me.id),h(Xe)}else h(new Set([me.id]))},pe=me=>{me.isFolder||me.isVirtual?me.isVirtual&&me.id==="website-data"?ae("Website Data"):(me.bucketId,ae(me.name)):Fe(me)},ee=(me,Pe)=>{me.preventDefault(),g({x:me.clientX,y:me.clientY,item:Pe}),u.has(Pe.id)||h(new Set([Pe.id]))},J=async()=>{if(_.trim())try{i(!0);const me=V(),Pe=G();try{ft.waitForInit&&await ft.waitForInit()}catch{}let Xe=ft.getUser?ft.getUser():null;if(!Xe)try{const ct=await Ve.getUser();ct&&(Xe={id:ct.id,email:ct.email})}catch{}const et=(Xe==null?void 0:Xe.id)||null;let at;Pe&&Pe.trim()!==""?at=`${Pe}/${_.trim()}/.keep`:at=`${_.trim()}/.keep`;const{error:Me}=await Ve.client.storage.from(me).upload(at,new Blob([""],{type:"text/plain"}),{upsert:!0});if(Me)throw Me;await ce(`Folder "${_.trim()}" created`),B(null),N(""),await de()}catch(me){console.error("Failed to create folder:",me);const Pe=(me==null?void 0:me.message)||String(me);/row[- ]level security|new row violates/i.test(Pe)?await ve(`Failed to create folder: ${Pe}. This usually means database row-level security blocked the INSERT. Possible fixes:
- Ensure the user has a row in \`public.user_roles\` (user_id = your uid) with an allowed status.
- Or ask the DB owner to adjust the INSERT policy on \`storage.objects\` (or add a user-scoped policy).
As a workaround this UI creates folders under your user id (if available).`,"Create Error"):await ve(`Failed to create folder: ${Pe}`,"Create Error")}finally{i(!1)}},q=async me=>{if(!me||me.length===0)return;A(!0),c(me.map(et=>({name:et.name,progress:0,status:"uploading"})));const Pe=V(),Xe=G();try{for(let et=0;et<me.length;et++){const at=me[et],Me=Xe?`${Xe}/${at.name}`:at.name,{error:ct}=await Ve.client.storage.from(Pe).upload(Me,at,{cacheControl:"3600",upsert:!0});c(fr=>fr.map((Jt,Qr)=>Qr===et?{...Jt,progress:100,status:ct?"error":"success"}:Jt)),ct&&console.error(`Failed to upload ${at.name}:`,ct)}await ce("Upload completed"),B(null),await de()}catch(et){console.error("Upload failed:",et),await ve(`Upload failed: ${et.message}`,"Upload Error")}finally{A(!1),c([])}},Ce=async()=>{if(!(!D.trim()||!(y!=null&&y.data)))try{i(!0);const me=V(),Pe=G(),Xe=Pe?`${Pe}/${y.data.name}`:y.data.name,et=Pe?`${Pe}/${D.trim()}`:D.trim(),{data:at,error:Me}=await Ve.client.storage.from(me).download(Xe);if(Me)throw Me;const{error:ct}=await Ve.client.storage.from(me).upload(et,at,{upsert:!0});if(ct)throw ct;const{error:fr}=await Ve.client.storage.from(me).remove([Xe]);if(fr)throw fr;await ce(`Renamed to "${D.trim()}"`),B(null),T(""),await de()}catch(me){console.error("Failed to rename:",me),await ve(`Failed to rename: ${me.message}`,"Rename Error")}finally{i(!1)}},Ee=async me=>{if(!me||me.length===0)return;const Pe=me.map(et=>et.name).join(", ");if(await te(`Are you sure you want to delete ${me.length>1?`these ${me.length} items`:Pe}?`,"Delete Items"))try{i(!0);const et=V(),at=G(),Me=async Jt=>{let Qr=[];const{data:Vn,error:St}=await Ve.client.storage.from(et).list(Jt,{limit:500});if(St)throw St;for(const Un of Vn||[])if(Un.id===null){const Ls=Jt?`${Jt}/${Un.name}`:Un.name,In=await Me(Ls);Qr=Qr.concat(In)}else Qr.push(Jt?`${Jt}/${Un.name}`:Un.name);return Qr};let ct=[];for(const Jt of me){const Qr=at?`${at}/${Jt.name}`:Jt.name;if(Jt.isFolder){const Vn=await Me(Qr);ct=ct.concat(Vn),ct.push(`${Qr}/.keep`)}else ct.push(Qr)}if(ct=Array.from(new Set(ct)).filter(Boolean),ct.length===0){await ce("Nothing to delete."),h(new Set),await de();return}const{error:fr}=await Ve.client.storage.from(et).remove(ct);if(fr)throw fr;await ce(`Deleted ${me.length} item(s)`),h(new Set),await de()}catch(et){console.error("Failed to delete:",et),await ve(`Failed to delete: ${et.message}`,"Delete Error")}finally{i(!1)}},xe=me=>{const Pe=le(me);Pe&&window.open(Pe,"_blank")},Fe=me=>{const Pe=le(me);B({type:"preview",data:{...me,url:Pe}})};X.useEffect(()=>{},[y]);const Ke=me=>{me.preventDefault(),me.currentTarget.classList.add("drag-over")},Te=me=>{me.currentTarget.classList.remove("drag-over")},$e=me=>{if(me.preventDefault(),me.currentTarget.classList.remove("drag-over"),O){ve("Cannot upload files to Website Data folder. This folder is read-only.","Protected Folder");return}const Pe=Array.from(me.dataTransfer.files);Pe.length>0&&q(Pe)},dt=r.filter(me=>!(!me.isFolder&&(me.name===".keep"||me.name.startsWith(".")))).filter(me=>me.name.toLowerCase().includes(w.toLowerCase())),tt=()=>r.filter(me=>u.has(me.id)),Je=O,M=()=>o.jsxs("nav",{className:"breadcrumb-nav",children:[o.jsxs("div",{className:`breadcrumb-item ${t.length===0?"current":""}`,onClick:()=>Se(-1),children:[o.jsx("i",{className:"fa-solid fa-hard-drive breadcrumb-icon"}),o.jsx("span",{children:"File Storage"})]}),t.map((me,Pe)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[o.jsx("span",{className:"breadcrumb-separator",children:o.jsx("i",{className:"fa-solid fa-chevron-right"})}),o.jsxs("div",{className:`breadcrumb-item ${Pe===t.length-1?"current":""}`,onClick:()=>Se(Pe),children:[o.jsx("i",{className:`fa-solid ${me==="Website Data"?"fa-shield-halved":"fa-folder"} breadcrumb-icon`}),o.jsx("span",{children:me})]})]},Pe))]}),ge=()=>o.jsxs("div",{className:"files-toolbar",children:[o.jsxs("div",{className:"toolbar-left",children:[o.jsxs("button",{className:"toolbar-btn",onClick:E,disabled:t.length===0,children:[o.jsx("i",{className:"fa-solid fa-arrow-up"}),"Up"]}),o.jsxs("button",{className:"toolbar-btn",onClick:de,disabled:s,children:[o.jsx("i",{className:"fa-solid fa-refresh"}),"Refresh"]}),o.jsx("div",{className:"toolbar-divider"}),!Je&&z&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{className:"toolbar-btn primary",onClick:()=>B({type:"upload"}),disabled:a,children:[o.jsx("i",{className:"fa-solid fa-upload"}),"Upload"]}),o.jsxs("button",{className:"toolbar-btn",onClick:()=>B({type:"newFolder"}),children:[o.jsx("i",{className:"fa-solid fa-folder-plus"}),"New Folder"]}),o.jsx("div",{className:"toolbar-divider"})]}),u.size>0&&!Je&&z&&(()=>{var Xe;const me=tt(),Pe=me.some(et=>et.id==="website-data");return o.jsxs(o.Fragment,{children:[me.length===1&&!((Xe=me[0])!=null&&Xe.isFolder)&&o.jsxs("button",{className:"toolbar-btn",onClick:()=>{const et=me[0];T(et.name),B({type:"rename",data:et})},children:[o.jsx("i",{className:"fa-solid fa-pen"}),"Rename"]}),o.jsxs("button",{className:"toolbar-btn",onClick:()=>Ee(me),disabled:Pe,title:Pe?"Cannot delete Website Data folder":void 0,children:[o.jsx("i",{className:"fa-solid fa-trash"}),"Delete (",me.length,")"]})]})})()]}),o.jsxs("div",{className:"toolbar-right",children:[o.jsxs("div",{className:"search-wrapper",children:[o.jsx("i",{className:"fa-solid fa-search"}),o.jsx("input",{type:"text",className:"search-input",placeholder:"Search files...",value:w,onChange:me=>m(me.target.value)})]}),o.jsxs("div",{className:"view-toggle",children:[o.jsx("button",{className:`view-toggle-btn ${p==="grid"?"active":""}`,onClick:()=>d("grid"),title:"Grid view",children:o.jsx("i",{className:"fa-solid fa-th-large"})}),o.jsx("button",{className:`view-toggle-btn ${p==="list"?"active":""}`,onClick:()=>d("list"),children:o.jsx("i",{className:"fa-solid fa-list"})})]})]})]}),Le=()=>Je?o.jsxs("div",{className:"protected-zone-alert",children:[o.jsx("i",{className:"fa-solid fa-triangle-exclamation"}),o.jsxs("div",{className:"alert-content",children:[o.jsx("h4",{children:"Read-Only Folder"}),o.jsx("p",{children:"This folder contains website data that should only be modified through their respective admin pages (Orders, Blogs, Sponsors, Team). You can view and download files, but uploading, editing, or deleting is disabled here."})]})]}):null,Ue=()=>o.jsx("div",{className:"files-grid",children:dt.map(me=>o.jsxs("div",{className:`file-item ${me.isFolder?"folder":""} ${me.isProtected?"protected":""} ${u.has(me.id)?"selected":""}`,onClick:Pe=>Q(me,Pe),onDoubleClick:()=>pe(me),onContextMenu:Pe=>ee(Pe,me),children:[o.jsx("input",{type:"checkbox",className:"file-checkbox",checked:u.has(me.id),title:`Select ${me.name}`,onChange:Pe=>{Pe.stopPropagation(),h(Xe=>{const et=new Set(Xe);return et.has(me.id)?et.delete(me.id):et.add(me.id),et})},onClick:Pe=>Pe.stopPropagation()}),o.jsx("i",{className:`fa-solid ${me.customIcon||me.icon} file-icon ${me.iconClass||""}`}),o.jsx("span",{className:"file-name",children:me.name}),!me.isFolder&&o.jsx("span",{className:"file-meta",children:Z(me.size)})]},me.id))}),qe=()=>o.jsxs("div",{className:"files-list",children:[o.jsxs("div",{className:"files-list-header",children:[o.jsx("span",{}),o.jsx("span",{children:"Name"}),o.jsx("span",{children:"Size"}),o.jsx("span",{children:"Modified"}),o.jsx("span",{children:"Type"})]}),dt.map(me=>o.jsxs("div",{className:`files-list-item ${u.has(me.id)?"selected":""}`,onClick:Pe=>Q(me,Pe),onDoubleClick:()=>pe(me),onContextMenu:Pe=>ee(Pe,me),children:[o.jsx("input",{type:"checkbox",className:"file-checkbox",checked:u.has(me.id),title:`Select ${me.name}`,onChange:Pe=>{Pe.stopPropagation(),h(Xe=>{const et=new Set(Xe);return et.has(me.id)?et.delete(me.id):et.add(me.id),et})},onClick:Pe=>Pe.stopPropagation()}),o.jsx("i",{className:`fa-solid ${me.customIcon||me.icon} file-icon ${me.iconClass||""}`}),o.jsx("span",{className:"file-name",children:me.name}),o.jsx("span",{className:"file-size",children:me.isFolder?"-":Z(me.size)}),o.jsx("span",{className:"file-date",children:he(me.lastModified)}),o.jsx("span",{className:"file-type",children:me.isFolder?"Folder":me.fileType||"File"})]},me.id))]}),rt=()=>o.jsxs("div",{className:"empty-folder",children:[o.jsx("i",{className:"fa-solid fa-folder-open"}),o.jsx("h3",{children:"This folder is empty"}),o.jsx("p",{children:Je?"No files have been added through the respective admin pages yet.":"Upload files or create folders to get started."})]}),st=()=>{if(!b)return null;const{x:me,y:Pe,item:Xe}=b;return o.jsxs("div",{className:"context-menu",style:{left:me,top:Pe},onClick:et=>et.stopPropagation(),children:[Xe.isFolder?o.jsxs("div",{className:"context-menu-item",onClick:()=>{pe(Xe),g(null)},children:[o.jsx("i",{className:"fa-solid fa-folder-open"}),"Open"]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"context-menu-item",onClick:()=>{Fe(Xe),g(null)},children:[o.jsx("i",{className:"fa-solid fa-eye"}),"Preview"]}),o.jsxs("div",{className:"context-menu-item",onClick:()=>{xe(Xe),g(null)},children:[o.jsx("i",{className:"fa-solid fa-download"}),"Download"]})]}),!Je&&z&&!Xe.isFolder&&Xe.id!=="website-data"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"context-menu-divider"}),o.jsxs("div",{className:"context-menu-item",onClick:()=>{T(Xe.name),B({type:"rename",data:Xe}),g(null)},children:[o.jsx("i",{className:"fa-solid fa-pen"}),"Rename"]}),o.jsxs("div",{className:"context-menu-item danger",onClick:()=>{Ee([Xe]),g(null)},children:[o.jsx("i",{className:"fa-solid fa-trash"}),"Delete"]})]}),!Je&&z&&Xe.id==="website-data"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"context-menu-divider"}),o.jsxs("div",{className:"context-menu-item disabled",children:[o.jsx("i",{className:"fa-solid fa-lock"}),"Cannot delete Website Data"]})]}),Je&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"context-menu-divider"}),o.jsxs("div",{className:"context-menu-item disabled",children:[o.jsx("i",{className:"fa-solid fa-lock"}),"Protected (Read-Only)"]})]})]})},it=()=>{if(!y)return null;switch(y.type){case"newFolder":return o.jsx("div",{className:"files-modal-overlay",onClick:()=>B(null),children:o.jsxs("div",{className:"files-modal new-folder-modal",onClick:Me=>Me.stopPropagation(),children:[o.jsxs("div",{className:"files-modal-header",children:[o.jsx("h3",{className:"files-modal-title",children:"Create New Folder"}),o.jsx("button",{className:"files-modal-close",onClick:()=>B(null),children:o.jsx("i",{className:"fa-solid fa-xmark"})})]}),o.jsx("div",{className:"files-modal-body",children:o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Folder Name"}),o.jsx("input",{type:"text",className:"form-input",value:_,onChange:Me=>N(Me.target.value),placeholder:"Enter folder name",autoFocus:!0,onKeyDown:Me=>Me.key==="Enter"&&J()})]})}),o.jsxs("div",{className:"files-modal-actions",children:[o.jsx("button",{className:"btn btn-secondary",onClick:()=>B(null),children:"Cancel"}),o.jsx("button",{className:"btn btn-primary",onClick:J,disabled:!_.trim(),children:"Create Folder"})]})]})});case"rename":return o.jsx("div",{className:"files-modal-overlay",onClick:()=>B(null),children:o.jsxs("div",{className:"files-modal",onClick:Me=>Me.stopPropagation(),children:[o.jsxs("div",{className:"files-modal-header",children:[o.jsx("h3",{className:"files-modal-title",children:"Rename File"}),o.jsx("button",{className:"files-modal-close",onClick:()=>B(null),children:o.jsx("i",{className:"fa-solid fa-xmark"})})]}),o.jsx("div",{className:"files-modal-body",children:o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"New Name"}),o.jsx("input",{type:"text",className:"form-input",value:D,onChange:Me=>T(Me.target.value),placeholder:"Enter new name",autoFocus:!0,onKeyDown:Me=>Me.key==="Enter"&&Ce()})]})}),o.jsxs("div",{className:"files-modal-actions",children:[o.jsx("button",{className:"btn btn-secondary",onClick:()=>B(null),children:"Cancel"}),o.jsx("button",{className:"btn btn-primary",onClick:Ce,disabled:!D.trim(),children:"Rename"})]})]})});case"upload":return o.jsx("div",{className:"files-modal-overlay",onClick:()=>!a&&B(null),children:o.jsxs("div",{className:"files-modal new-folder-modal",onClick:Me=>Me.stopPropagation(),children:[o.jsxs("div",{className:"files-modal-header",children:[o.jsx("h3",{className:"files-modal-title",children:"Upload Files"}),o.jsx("button",{className:"files-modal-close",onClick:()=>B(null),disabled:a,children:o.jsx("i",{className:"fa-solid fa-xmark"})})]}),o.jsxs("div",{className:"files-modal-body",children:[o.jsxs("div",{className:"upload-area",ref:H,onDragOver:Ke,onDragLeave:Te,onDrop:Me=>{Me.preventDefault(),Me.currentTarget.classList.remove("drag-over");const ct=Array.from(Me.dataTransfer.files);q(ct)},onClick:()=>{var Me;return(Me=j.current)==null?void 0:Me.click()},children:[o.jsx("i",{className:"fa-solid fa-cloud-arrow-up"}),o.jsx("h4",{children:"Drag & drop files here"}),o.jsx("p",{children:"or click to browse"}),o.jsx("input",{ref:j,type:"file",multiple:!0,style:{display:"none"},onChange:Me=>{const ct=Array.from(Me.target.files||[]);q(ct),Me.target.value=""}})]}),l.length>0&&o.jsx("div",{className:"upload-progress",children:l.map((Me,ct)=>o.jsxs("div",{className:"upload-progress-item",children:[o.jsx("i",{className:"fa-solid fa-file"}),o.jsx("span",{className:"file-name",children:Me.name}),o.jsx("div",{className:"upload-progress-bar",children:o.jsx("div",{className:"upload-progress-fill",style:{width:`${Me.progress}%`}})}),o.jsx("span",{className:`upload-status ${Me.status}`,children:Me.status==="uploading"?"Uploading...":Me.status==="success"?"":""})]},ct))})]}),!a&&o.jsx("div",{className:"files-modal-actions",children:o.jsx("button",{className:"btn btn-secondary",onClick:()=>B(null),children:"Close"})})]})});case"preview":const me=y.data,Pe=me.fileType==="image",Xe=me.fileType==="video",et=me.fileType==="audio",at=me.fileType==="pdf";return o.jsx("div",{className:"files-modal-overlay",onClick:()=>B(null),children:o.jsxs("div",{className:"files-modal preview-modal",onClick:Me=>Me.stopPropagation(),children:[o.jsxs("div",{className:"files-modal-header",children:[o.jsx("h3",{className:"files-modal-title",children:me.name}),o.jsx("button",{className:"files-modal-close",onClick:()=>B(null),children:o.jsx("i",{className:"fa-solid fa-xmark"})})]}),o.jsxs("div",{className:"files-modal-body",children:[o.jsxs("div",{className:"preview-content",children:[Pe&&o.jsx("img",{src:me.url,alt:me.name}),Xe&&o.jsx("video",{src:me.url,controls:!0}),et&&o.jsx("audio",{src:me.url,controls:!0}),at&&!qx&&o.jsx("div",{className:"pdf-no-preview",children:o.jsx("i",{className:"fa-solid fa-file-pdf",style:{fontSize:"3rem",color:"#dc3545",marginBottom:"0.75rem"}})}),at&&qx&&o.jsx("div",{className:"pdf-preview-wrapper",children:ie?o.jsx("div",{className:"pdf-loading",children:"Loading preview"}):Be?o.jsx("img",{src:Be,alt:me.name,className:"pdf-snapshot"}):o.jsx("canvas",{ref:C,className:"pdf-canvas",style:{display:"none"}})}),!Pe&&!Xe&&!et&&!at&&o.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[o.jsx("i",{className:`fa-solid ${me.icon}`,style:{fontSize:"4rem",marginBottom:"1rem"}}),o.jsx("p",{children:"Preview not available for this file type"})]})]}),o.jsxs("div",{className:"preview-info",children:[o.jsxs("div",{className:"preview-info-row",children:[o.jsx("span",{className:"preview-info-label",children:"Size"}),o.jsx("span",{className:"preview-info-value",children:Z(me.size)})]}),o.jsxs("div",{className:"preview-info-row",children:[o.jsx("span",{className:"preview-info-label",children:"Type"}),o.jsx("span",{className:"preview-info-value",children:me.mimeType||"Unknown"})]}),o.jsxs("div",{className:"preview-info-row",children:[o.jsx("span",{className:"preview-info-label",children:"Modified"}),o.jsx("span",{className:"preview-info-value",children:he(me.lastModified)})]})]})]}),o.jsxs("div",{className:"files-modal-actions",children:[o.jsx("button",{className:"btn btn-secondary",onClick:()=>B(null),children:"Close"}),o.jsxs("button",{className:"btn btn-primary",onClick:()=>xe(me),children:[o.jsx("i",{className:"fa-solid fa-download"}),"Download"]})]})]})});default:return null}};return o.jsxs("div",{className:"files-manager",children:[o.jsx("div",{className:"files-header",children:o.jsx("h1",{className:"files-title",children:"File Manager"})}),M(),ge(),o.jsxs("div",{className:"files-content",onDragOver:Je?void 0:Ke,onDragLeave:Je?void 0:Te,onDrop:Je?void 0:$e,children:[Le(),s?o.jsxs("div",{className:"loading-state",children:[o.jsx("div",{className:"loading-spinner"}),o.jsx("span",{children:"Loading files..."})]}):dt.length===0?rt():p==="grid"?Ue():qe()]}),st(),it()]})},vH=({onLogout:t})=>{const[e,r]=hj(),[n,s]=X.useState(e.get("tab")||"overview"),[i,a]=X.useState(ft.getLevel()),[A,l]=X.useState(!1),c=X.useRef(null),u=X.useRef(null),h=X.useRef(null),p=X.useRef(null),d=X.useRef(null),w=X.useRef(null),m=X.useRef(null);X.useEffect(()=>{const _=e.get("tab");_&&_!==n&&s(_)},[e]);const b=_=>{s(_),r({tab:_})};X.useEffect(()=>(document.body.style.paddingTop="0",()=>{document.body.style.paddingTop="64px"}),[]),X.useEffect(()=>{const _=()=>ft.extendSession();return window.addEventListener("click",_),window.addEventListener("keypress",_),()=>{window.removeEventListener("click",_),window.removeEventListener("keypress",_)}},[]);const y=[{id:"overview",label:"Overview",icon:wQ,permission:"view_schedules"},{id:"schedules",label:"Schedules",icon:mQ,permission:"view_schedules"},{id:"orders",label:"Orders",icon:kQ,permission:"view_orders"},{id:"files",label:"Files",icon:bQ},{id:"blogs",label:"Blogs",icon:pQ,permission:"view_announcements"},{id:"sponsors",label:"Sponsors",icon:U4,permission:"view_sponsors"},{id:"team",label:"Team",icon:L4,permission:"view_team"},{id:"alumni",label:"Alumni",icon:I4,permission:"view_alumni"},{id:"settings",label:"Settings",icon:xb}].filter(_=>_.permission?ft.hasPermission(_.permission):ft.isAuthenticated()),B=()=>{switch(n){case"team":return o.jsx(yH,{teamManagerRef:c,userManagerRef:u});case"schedules":return o.jsx(F4,{ref:h});case"orders":return o.jsx(YE,{ref:p});case"alumni":return o.jsx(D4,{ref:d});case"sponsors":return o.jsx(T4,{ref:w});case"blogs":return o.jsx(ZE,{ref:m});case"files":return o.jsx(mH,{});case"settings":return o.jsx(gH,{});default:return o.jsx(wH,{onNavigate:b,teamManagerRef:c,scheduleManagerRef:h,orderManagerRef:p,alumniManagerRef:d,sponsorsManagerRef:w,blogManagerRef:m})}};return o.jsxs("div",{className:"admin-dashboard",children:[o.jsx("style",{children:`
        .admin-dashboard {
          min-height: 100vh;
          background: var(--bg);
          margin-top: px;
          padding-top: 0;
        }
        
        body:has(.admin-dashboard) {
          padding-top: 0;
        }

        .dashboard-header {
          background: var(--surface);
          border-bottom: 1px solid #333;
          padding: 1rem 2rem;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .header-left {
          display: flex;
          align-items: center;
          gap: 1rem;
        }

        .dashboard-logo {
          display: flex;
          align-items: center;
          transition: opacity 0.3s ease;
        }

        .dashboard-logo:hover {
          opacity: 0.8;
        }

        .dashboard-logo img {
          height: 40px;
          width: auto;
        }

        .dashboard-title {
          font-family: "Bebas Neue", sans-serif;
          font-size: 1.8rem;
          color: var(--accent);
          margin: 0;
        }

        .user-info {
          display: flex;
          align-items: center;
          gap: 1rem;
        }

        /* Match the header account button sizing and font */
        .user-level {
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          color: var(--text);
          padding: 0.5rem 1rem;
          font-family: "Bebas Neue", sans-serif;
          font-size: 1rem;
          font-weight: 500;
          text-transform: capitalize;
          border: 2px solid var(--text);
          border-radius: 6px;
          background: transparent;
          height: 40px;
          line-height: 1;
        }

        .logout-button {
          background: var(--accent);
          color: white;
          border: none;
          padding: 0.5rem 1rem;
          border-radius: 6px;
          cursor: pointer;
          font-size: 0.9rem;
          font-weight: 500;
          transition: all 0.3s ease;
        }

        .logout-button:hover {
          background: #c71821;
          transform: translateY(-1px);
        }

        .dashboard-nav {
          background: var(--surface);
          padding: 0 2rem;
          overflow-x: auto;
        }

        .nav-tabs {
          display: flex;
          gap: 0.5rem;
          min-width: max-content;
        }

        .nav-tab {
          background: transparent;
          border: none;
          padding: 1rem 1.5rem;
          color: var(--subtxt);
          cursor: pointer;
          border-bottom: 3px solid transparent;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          font-size: 0.95rem;
          white-space: nowrap;
        }

        .nav-tab:hover {
          color: var(--text);
          background: rgba(0, 123, 255, 0.1);
        }

        .nav-tab.active {
          color: var(--accent);
          border-bottom-color: var(--accent);
        }

        .dashboard-content {
          padding: 2rem;
          max-width: 1400px;
          margin: 0 auto;
        }

        @media (max-width: 768px) {
          .dashboard-header {
            padding: 1rem;
            flex-direction: column;
            gap: 1rem;
          }

          .header-left {
            width: 100%;
            justify-content: center;
          }

          .dashboard-logo img {
            height: 32px;
          }

          .dashboard-title {
            font-size: 1.5rem;
          }

          .dashboard-nav {
            padding: 0 1rem;
          }

          .dashboard-content {
            padding: 1rem;
          }
        }
      `}),o.jsxs("header",{className:"dashboard-header",children:[o.jsxs("div",{className:"header-left",children:[o.jsx("a",{href:"https://solarpacknc.com",className:"dashboard-logo",children:o.jsx("img",{src:"/images/solarpack_logo.png",alt:"SolarPack Logo"})}),o.jsx("h1",{className:"dashboard-title",children:"Dashboard"})]}),o.jsxs("div",{className:"user-info",children:[o.jsx("span",{className:"user-level",children:i}),o.jsxs("div",{className:"admin-account-dropdown",style:{position:"relative"},children:[o.jsxs("button",{className:"account-btn authenticated",onClick:()=>l(!A),"aria-haspopup":"true","aria-expanded":A,children:[o.jsx("i",{className:"fas fa-user-check","aria-hidden":"true"}),o.jsx("span",{className:"auth-text",children:"Account"}),o.jsx("i",{className:"fas fa-chevron-down dropdown-arrow","aria-hidden":"true"})]}),A&&o.jsxs("div",{className:"admin-dropdown-menu",style:{position:"absolute",right:0,top:"calc(100% + 8px)",background:"var(--surface)",border:"1px solid #333",borderRadius:6,minWidth:160,zIndex:50},children:[o.jsxs("button",{className:"dropdown-item",onClick:()=>{l(!1),b("settings")},style:{display:"flex",alignItems:"center",gap:8,width:"100%",padding:"0.5rem 0.75rem",background:"transparent",border:"none",textAlign:"left"},children:[o.jsx(xb,{size:16}),"Settings"]}),o.jsx("div",{style:{height:1,background:"#333",margin:"0.25rem 0"}}),o.jsxs("button",{className:"dropdown-item logout",onClick:()=>{l(!1),t()},style:{display:"flex",alignItems:"center",gap:8,width:"100%",padding:"0.5rem 0.75rem",background:"transparent",border:"none",textAlign:"left"},children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),o.jsx("polyline",{points:"16 17 21 12 16 7"}),o.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Logout"]})]})]})]})]}),o.jsx("nav",{className:"dashboard-nav",children:o.jsx("div",{className:"nav-tabs",children:y.map(_=>{const N=_.icon;return o.jsxs("button",{className:`nav-tab ${n===_.id?"active":""}`,onClick:()=>b(_.id),children:[o.jsx(N,{size:18}),_.label]},_.id)})})}),o.jsx("main",{className:"dashboard-content",children:B()})]})},wH=({onNavigate:t,teamManagerRef:e,scheduleManagerRef:r,orderManagerRef:n,alumniManagerRef:s,sponsorsManagerRef:i,blogManagerRef:a})=>{const[A,l]=X.useState({teamMembers:0,activeSchedules:0,pendingOrders:0,totalAlumni:0}),[c,u]=X.useState([]),[h,p]=X.useState([]),[d,w]=X.useState([]),[m,b]=X.useState(!0);X.useEffect(()=>{O();const F=setInterval(()=>{O()},5e3);return()=>clearInterval(F)},[]);const g=F=>{if(!F)return null;const[K,I,j]=F.split("-").map(Number);return new Date(K,I-1,j)},y=(F,K)=>{const I=g(F);return I?I.toLocaleDateString("en-US",K):""},B=(F,K)=>{var j;const I=(j=F.teams)==null?void 0:j.find(H=>H.id===K);return I?I.name:K},_=(F,K)=>{var j;const I=(j=F.teams)==null?void 0:j.find(H=>H.id===K);return I?I.color:"#6c757d"},N=(F,K,I)=>{if(I==="completed")return 100;if(I==="planning"||!F||!K)return 0;const j=g(F),H=g(K),C=new Date;if(C.setHours(0,0,0,0),C<j)return 0;if(C>H)return 100;const te=H-j,ve=C-j;return Math.round(ve/te*100)},D=F=>({pending_technical_approval:"#ffc107",pending_project_approval:"#ffc107",approved:"#28a745",denied:"#dc3545",shipped:"#007bff",delivered:"#28a745"})[F]||"#6c757d",T=F=>({pending_technical_approval:"Pending Tech Approval",pending_project_approval:"Pending Project Approval",approved:"Approved",denied:"Denied",shipped:"Shipped",delivered:"Delivered"})[F]||F,O=async()=>{var F,K,I,j,H;try{const{supabaseService:C}=await Hf(()=>Promise.resolve().then(()=>PI),void 0),[te,ve,ce,ie,re]=await Promise.all([C.getTeamMembers(),C.getScheduleData(),C.getOrders(),C.getAlumni(),C.getSponsors()]);console.log("Dashboard Stats Data:",{teamData:te,scheduleData:ve,ordersData:ce,alumniData:ie,sponsorsData:re});const Be=((F=ie.alumniData)==null?void 0:F.reduce((we,Z)=>Array.isArray(Z.leadership)?we+Z.leadership.length:we,0))||0,se=(ce==null?void 0:ce.orders)||[],k=se.filter(we=>we.status==="pending_technical_approval"||we.status==="approved"||we.status==="shipped").length;l({teamMembers:((K=te.teamMembers)==null?void 0:K.length)||0,activeSchedules:((I=ve.projects)==null?void 0:I.length)||0,pendingOrders:k,totalAlumni:Be});const z=(ve.projects||[]).filter(we=>we.status!=="completed"&&we.dueDate).sort((we,Z)=>g(we.dueDate)-g(Z.dueDate)).slice(0,4).map(we=>({...we,teamName:B(ve,we.team),teamColor:_(ve,we.team),progress:N(we.startDate,we.dueDate,we.status)}));u(z);const V=[...se].sort((we,Z)=>{var he,le;return new Date(Z.lastUpdated||((he=Z.submissionDetails)==null?void 0:he.submissionDate))-new Date(we.lastUpdated||((le=we.submissionDetails)==null?void 0:le.submissionDate))}).slice(0,4);p(V);const G=(re==null?void 0:re.sponsorTiers)||[];console.log("Sponsors Data Structure:",{fullData:re,sponsorTiers:G,tierNames:G.map(we=>we.tier)});const de=["platinum","gold","silver","bronze"],ye=[];for(const we of de){if(ye.length>=4)break;const Z=G.find(he=>{var le;return(le=he.tier)==null?void 0:le.toLowerCase().includes(we)});if(console.log(`Looking for tier "${we}":`,Z),Z!=null&&Z.sponsors){const he=4-ye.length;ye.push(...Z.sponsors.slice(0,he))}}console.log("Final topSponsorsList:",ye),w(ye),console.log("Updated stats:",{teamMembers:((j=te.teamMembers)==null?void 0:j.length)||0,activeSchedules:((H=ve.projects)==null?void 0:H.length)||0,pendingOrders:k,totalAlumni:Be,upcomingDeadlines:z.length,recentOrders:V.length,topSponsors:ye.length})}catch(C){console.error("Error loading stats:",C)}finally{b(!1)}};return o.jsxs("div",{className:"overview",children:[o.jsx("style",{children:`
        .overview-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 1.5rem;
          margin-bottom: 2rem;
        }

        .stat-card {
          background: var(--surface);
          padding: 1.5rem;
          border-radius: var(--radius);
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          cursor: pointer;
          transition: all 0.3s ease;
          border: 2px solid transparent;
        }

        .stat-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 6px 16px rgba(0,0,0,0.2);
          border-color: var(--accent);
        }

        .stat-number {
          font-size: 2.5rem;
          font-weight: bold;
          color: var(--accent);
          margin-bottom: 0.5rem;
        }

        .stat-label {
          color: var(--subtxt);
          font-size: 0.9rem;
          text-transform: uppercase;
          letter-spacing: 0.05em;
        }

        .dashboard-section {
          background: var(--surface);
          padding: 1.5rem;
          border-radius: var(--radius);
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          margin-bottom: 2rem;
        }

        .section-title {
          font-size: 1.5rem;
          font-weight: 700;
          color: var(--text);
          margin: 0 0 1.5rem 0;
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }

        .deadline-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 1rem;
          background: var(--bg);
          border-left: 4px solid var(--team-color);
          border-radius: 8px;
          margin-bottom: 0.75rem;
          transition: all 0.3s ease;
          cursor: pointer;
        }

        .deadline-item:hover {
          transform: translateX(4px);
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .deadline-info {
          flex: 1;
        }

        .deadline-title {
          font-weight: 600;
          color: var(--text);
          margin-bottom: 0.25rem;
        }

        .deadline-meta {
          font-size: 0.85rem;
          color: var(--subtxt);
        }

        .deadline-date {
          font-weight: 600;
          color: var(--accent);
          white-space: nowrap;
        }

        .order-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 1rem;
          background: var(--bg);
          border-left: 4px solid var(--status-color);
          border-radius: 8px;
          margin-bottom: 0.75rem;
          transition: all 0.3s ease;
          cursor: pointer;
        }

        .order-item:hover {
          transform: translateX(4px);
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .order-info {
          flex: 1;
        }

        .order-title {
          font-weight: 600;
          color: var(--text);
          margin-bottom: 0.25rem;
        }

        .order-meta {
          font-size: 0.85rem;
          color: var(--subtxt);
        }

        .order-status {
          font-weight: 600;
          font-size: 0.85rem;
          padding: 0.25rem 0.75rem;
          border-radius: 4px;
          background: var(--status-color);
          color: white;
          white-space: nowrap;
        }

        .sponsors-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: 1.5rem;
        }

        .sponsor-card {
          background: var(--bg);
          padding: 1rem;
          border-radius: 8px;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
          cursor: pointer;
          min-height: 120px;
        }

        .sponsor-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .sponsor-logo {
          max-width: 100%;
          max-height: 80px;
          object-fit: contain;
          margin-bottom: 0.5rem;
        }

        .sponsor-name {
          font-size: 0.9rem;
          color: var(--text);
          text-align: center;
          font-weight: 500;
        }

        .empty-message {
          color: var(--subtxt);
          text-align: center;
          padding: 2rem;
          font-style: italic;
        }

        .quick-actions {
          background: var(--surface);
          padding: 1.5rem;
          border-radius: var(--radius);
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          margin-bottom: 2rem;
        }

        .quick-actions h3 {
          color: var(--text);
          margin-bottom: 1rem;
          font-size: 1.5rem;
          font-weight: 700;
        }

        .action-buttons {
          display: flex;
          flex-wrap: wrap;
          gap: 1rem;
        }

        .action-button {
          background: var(--accent);
          color: white;
          border: none;
          padding: 0.75rem 1.5rem;
          border-radius: 6px;
          cursor: pointer;
          font-size: 0.9rem;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }

        .action-button:hover {
          background: #c71821;
          transform: translateY(-1px);
        }
      `}),o.jsxs("div",{className:"overview-grid",children:[o.jsxs("div",{className:"stat-card",onClick:()=>t("schedules"),title:"View projects",children:[o.jsx("div",{className:"stat-number",children:m?"...":A.activeSchedules}),o.jsx("div",{className:"stat-label",children:"Active Projects"})]}),o.jsxs("div",{className:"stat-card",onClick:()=>t("orders"),title:"View pending orders",children:[o.jsx("div",{className:"stat-number",children:m?"...":A.pendingOrders}),o.jsx("div",{className:"stat-label",children:"Pending Orders"})]}),o.jsxs("div",{className:"stat-card",onClick:()=>t("team"),title:"View team members",children:[o.jsx("div",{className:"stat-number",children:m?"...":A.teamMembers}),o.jsx("div",{className:"stat-label",children:"Team Leads"})]}),o.jsxs("div",{className:"stat-card",onClick:()=>t("alumni"),title:"View alumni",children:[o.jsx("div",{className:"stat-number",children:m?"...":A.totalAlumni}),o.jsx("div",{className:"stat-label",children:"Total Alumni"})]})]}),o.jsxs("div",{className:"quick-actions",children:[o.jsx("h3",{children:"Quick Actions"}),o.jsxs("div",{className:"action-buttons",children:[ft.hasPermission("edit_schedules")&&o.jsxs("button",{className:"action-button",onClick:()=>{t("schedules"),setTimeout(()=>{var F,K;(K=(F=r.current)==null?void 0:F.handleAddProject)==null||K.call(F)},100)},children:[o.jsx(Ju,{size:18}),"New Project"]}),ft.hasPermission("submit_orders")&&o.jsxs("button",{className:"action-button",onClick:()=>{t("orders"),setTimeout(()=>{var F,K;(K=(F=n.current)==null?void 0:F.handleSubmitOrder)==null||K.call(F)},100)},children:[o.jsx(QQ,{size:18}),"New Order"]}),(ft.hasPermission("edit_announcements")||ft.getLevel()==="leader")&&o.jsxs("button",{className:"action-button",onClick:()=>{t("blogs"),setTimeout(()=>{var F,K;(K=(F=a.current)==null?void 0:F.handleAddBlog)==null||K.call(F)},100)},children:[o.jsx(SQ,{size:18}),"New Blog Post"]}),ft.hasPermission("edit_sponsors")&&o.jsxs("button",{className:"action-button",onClick:()=>{t("sponsors"),setTimeout(()=>{var F,K;(K=(F=i.current)==null?void 0:F.handleAddSponsor)==null||K.call(F)},100)},children:[o.jsx(U4,{size:18}),"Add Sponsor"]}),ft.hasPermission("edit_team")&&o.jsxs("button",{className:"action-button",onClick:()=>{t("team"),setTimeout(()=>{var F,K;(K=(F=e.current)==null?void 0:F.handleAddMember)==null||K.call(F)},100)},children:[o.jsx(L4,{size:18}),"Add Member"]}),ft.hasPermission("edit_alumni")&&o.jsxs("button",{className:"action-button",onClick:()=>{t("alumni"),setTimeout(()=>{var F,K;(K=(F=s.current)==null?void 0:F.handleAddSemester)==null||K.call(F)},100)},children:[o.jsx(I4,{size:18}),"Add Semester"]})]})]}),o.jsxs("div",{className:"dashboard-section",children:[o.jsx("h3",{className:"section-title",children:"Upcoming Deadlines"}),c.length===0?o.jsx("div",{className:"empty-message",children:"No upcoming deadlines"}):c.map(F=>o.jsxs("div",{className:"deadline-item",style:{"--team-color":F.teamColor},onClick:()=>t("schedules"),children:[o.jsxs("div",{className:"deadline-info",children:[o.jsx("div",{className:"deadline-title",children:F.title}),o.jsxs("div",{className:"deadline-meta",children:[F.teamName,"  ",F.assignedTo,"  ",F.progress,"% complete"]})]}),o.jsx("div",{className:"deadline-date",children:y(F.dueDate,{month:"short",day:"numeric"})})]},F.id))]}),o.jsxs("div",{className:"dashboard-section",children:[o.jsx("h3",{className:"section-title",children:"Recent Orders"}),h.length===0?o.jsx("div",{className:"empty-message",children:"No recent orders"}):h.map(F=>{var K,I,j;return o.jsxs("div",{className:"order-item",style:{"--status-color":D(F.status)},onClick:()=>t("orders"),children:[o.jsxs("div",{className:"order-info",children:[o.jsx("div",{className:"order-title",children:((K=F.materialDetails)==null?void 0:K.materialName)||"Unnamed Order"}),o.jsxs("div",{className:"order-meta",children:[(I=F.submissionDetails)==null?void 0:I.subteam,"  $",((j=F.costBreakdown)==null?void 0:j.totalCost)||0]})]}),o.jsx("div",{className:"order-status",style:{background:D(F.status)},children:T(F.status)})]},F.id)})]}),o.jsxs("div",{className:"dashboard-section",children:[o.jsx("h3",{className:"section-title",children:"Top Sponsors"}),d.length===0?o.jsx("div",{className:"empty-message",children:"No sponsors to display"}):o.jsx("div",{className:"sponsors-grid",children:d.map(F=>o.jsxs("div",{className:"sponsor-card",onClick:()=>t("sponsors"),children:[F.logo&&o.jsx("img",{src:F.logo,alt:F.name,className:"sponsor-logo"}),o.jsx("div",{className:"sponsor-name",children:F.name})]},F.id))})]})]})},yH=({teamManagerRef:t,userManagerRef:e})=>{const[r,n]=X.useState(!1),[s,i]=X.useState(!1),a=ft.getUser(),A=a&&(a.level==="director"||a.level==="leader");return o.jsxs("div",{className:"team-management-view",children:[o.jsx("style",{children:`
        .team-management-view {
          padding: 2rem;
        }

        .management-section {
          background: var(--surface);
          border-radius: var(--radius);
          padding: 1.5rem;
          margin-bottom: 2rem;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .section-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1.5rem;
          padding-bottom: 1rem;
          border-bottom: 2px solid var(--bg);
          cursor: pointer;
          user-select: none;
          transition: background 0.15s;
        }
        .section-header:hover {
          background: rgba(0,0,0,0.03);
        }

        .section-title-main {
          font-family: "Bebas Neue", sans-serif;
          font-size: 2rem;
          color: var(--accent);
          margin: 0;
          letter-spacing: 0.05em;
        }

        .section-description {
          color: var(--subtxt);
          font-size: 0.95rem;
          margin: 0.5rem 0 0 0;
        }

        .chevron {
          display: inline-block;
          transition: transform 0.2s cubic-bezier(.4,2,.6,1);
          font-size: 1.5rem;
          margin-left: 1rem;
          color: var(--accent);
        }
        .chevron.open {
          transform: rotate(90deg);
        }

        .section-content {
          animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .permission-notice {
          background: rgba(255, 193, 7, 0.1);
          border-left: 4px solid #ffc107;
          padding: 1rem;
          border-radius: var(--radius);
          color: var(--txt);
          margin-top: 1rem;
        }

        .permission-notice strong {
          color: var(--accent);
        }
      `}),o.jsxs("div",{className:"management-section",children:[o.jsxs("div",{className:"section-header",onClick:()=>n(l=>!l),children:[o.jsxs("div",{children:[o.jsx("h2",{className:"section-title-main",children:"User Management"}),o.jsxs("p",{className:"section-description",children:["Manage user accounts, roles, and permissions.",(a==null?void 0:a.level)==="director"&&" Directors can promote/demote all users.",(a==null?void 0:a.level)==="leader"&&" Leaders can manage members and other leaders."]})]}),o.jsx("span",{className:`chevron${r?" open":""}`,children:""})]}),r&&o.jsx("div",{className:"section-content",children:A?o.jsx(N4,{ref:e}):o.jsxs("div",{className:"permission-notice",children:[o.jsx("strong",{children:"Limited Access:"})," You can view users but cannot modify their roles. Only directors and leaders can promote or demote users."]})})]}),o.jsxs("div",{className:"management-section",children:[o.jsxs("div",{className:"section-header",onClick:()=>i(l=>!l),children:[o.jsxs("div",{children:[o.jsx("h2",{className:"section-title-main",children:"Team Leader Management"}),o.jsx("p",{className:"section-description",children:"Manage team leader profiles displayed on the public Team page. Add leaders, update bios, and configure display order."})]}),o.jsx("span",{className:`chevron${s?" open":""}`,children:""})]}),s&&o.jsx("div",{className:"section-content",children:o.jsx(k4,{ref:t})})]})]})},bH=()=>{const[t,e]=X.useState(!1),[r,n]=X.useState(!0),s=ao();X.useEffect(()=>{let A=!0;(async()=>{if(await ft.waitForInit(),A){const u=ft.getUser();if(u&&ft.isPending()){console.log("User is pending approval, redirecting to pending page"),s("/pending-approval");return}if(u&&ft.isRejected()){console.log("User is rejected, redirecting to pending page"),s("/pending-approval");return}const h=ft.isAuthenticated();console.log("Admin auth check after init:",h,u==null?void 0:u.email),e(h),n(!1)}})();const c=ft.onAuthStateChange((u,h)=>{if(A){if(console.log("Admin received auth state change:",u,h==null?void 0:h.email),h&&ft.isPending()){s("/pending-approval");return}if(h&&ft.isRejected()){s("/pending-approval");return}e(u)}});return()=>{A=!1,c()}},[s]);const i=()=>{e(!0)},a=async()=>{try{await ft.signOut(),e(!1),s("/")}catch(A){console.error("Logout error:",A),e(!1),s("/")}};return r?o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",color:"#888"},children:"Loading..."}):o.jsx("div",{className:"admin-app",children:t?o.jsx(vH,{onLogout:a}):o.jsx(E4,{onLogin:i})})},BH=()=>{const t=ao(),{showAlert:e}=Ai(),[r,n]=X.useState(""),[s,i]=X.useState(!1),[a,A]=X.useState(!1),l=async u=>{if(u.preventDefault(),!r){e("Please enter your email address","error");return}i(!0);try{await ft.requestPasswordReset(r),A(!0),e("Password reset email sent! Check your inbox.","success")}catch(h){console.error("Password reset error:",h),A(!0),e("If an account exists with this email, you will receive a password reset link.","info")}finally{i(!1)}},c=()=>{t("/admin")};return o.jsx("div",{className:"login-container",children:o.jsxs("div",{className:"login-card",children:[o.jsxs("div",{className:"login-header",children:[o.jsx("h2",{children:"Reset Password"}),o.jsx("p",{className:"login-subtitle",children:a?"Check your email for a password reset link":"Enter your email to receive a password reset link"})]}),a?o.jsxs("div",{className:"success-message",children:[o.jsxs("p",{children:["We've sent a password reset link to ",o.jsx("strong",{children:r}),"."]}),o.jsx("p",{children:"Click the link in the email to reset your password. The link will expire in 1 hour."}),o.jsx("p",{className:"text-muted",children:"Didn't receive the email? Check your spam folder."}),o.jsx("button",{onClick:c,className:"login-button",style:{marginTop:"20px"},children:"Back to Login"})]}):o.jsxs("form",{onSubmit:l,className:"login-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"email",children:"Email Address"}),o.jsx("input",{type:"email",id:"email",name:"email",value:r,onChange:u=>n(u.target.value),placeholder:"your.email@example.com",required:!0,disabled:s,autoFocus:!0})]}),o.jsx("button",{type:"submit",className:"login-button",disabled:s,children:s?"Sending...":"Send Reset Link"}),o.jsx("div",{className:"login-links",children:o.jsx("button",{type:"button",onClick:c,className:"link-button",disabled:s,children:"Back to login"})})]}),o.jsx("div",{className:"login-footer",children:o.jsxs("p",{children:[o.jsx("strong",{children:"Note:"})," For security reasons, we'll send a reset link regardless of whether the email exists in our system."]})})]})})},xH=()=>{const t=ao(),{showAlert:e}=Ai(),[r,n]=X.useState({password:"",confirmPassword:""}),[s,i]=X.useState(!1),[a,A]=X.useState(!1);X.useEffect(()=>{(async()=>{ft.getUser()||(e("Invalid or expired reset link","error"),t("/admin"))})()},[t,e]);const l=h=>{const{name:p,value:d}=h.target;n(w=>({...w,[p]:d}))},c=h=>h.length<8?"Password must be at least 8 characters long":/[A-Z]/.test(h)?/[a-z]/.test(h)?/[0-9]/.test(h)?null:"Password must contain at least one number":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter",u=async h=>{if(h.preventDefault(),!r.password||!r.confirmPassword){e("Please fill in all fields","error");return}if(r.password!==r.confirmPassword){e("Passwords do not match","error");return}const p=c(r.password);if(p){e(p,"error");return}i(!0);try{await ft.updatePassword(r.password),e("Password updated successfully! You can now sign in.","success"),t("/admin",{replace:!0})}catch(d){console.error("Password update error:",d),e(d.message||"Failed to update password. Please try again.","error")}finally{i(!1)}};return o.jsx("div",{className:"login-container",children:o.jsxs("div",{className:"login-card",children:[o.jsxs("div",{className:"login-header",children:[o.jsx("h2",{children:"Set New Password"}),o.jsx("p",{className:"login-subtitle",children:"Choose a strong password for your account"})]}),o.jsxs("form",{onSubmit:u,className:"login-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"password",children:"New Password"}),o.jsxs("div",{className:"password-input-wrapper",children:[o.jsx("input",{type:a?"text":"password",id:"password",name:"password",value:r.password,onChange:l,placeholder:"Enter new password",required:!0,disabled:s,autoFocus:!0}),o.jsx("button",{type:"button",className:"password-toggle",onClick:()=>A(!a),disabled:s,children:a?"":""})]}),o.jsx("small",{className:"form-hint",children:"At least 8 characters with uppercase, lowercase, and numbers"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),o.jsx("input",{type:a?"text":"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:l,placeholder:"Confirm new password",required:!0,disabled:s})]}),o.jsx("button",{type:"submit",className:"login-button",disabled:s,children:s?"Updating...":"Update Password"})]}),o.jsxs("div",{className:"login-footer",children:[o.jsx("p",{children:o.jsx("strong",{children:"Password Requirements:"})}),o.jsxs("ul",{style:{textAlign:"left",fontSize:"0.9em",color:"#666"},children:[o.jsx("li",{children:"Minimum 8 characters"}),o.jsx("li",{children:"At least one uppercase letter"}),o.jsx("li",{children:"At least one lowercase letter"}),o.jsx("li",{children:"At least one number"})]})]})]})})};const _H=()=>{const[t,e]=X.useState(null),[r,n]=X.useState("pending"),[s,i]=X.useState(!1),a=ao();X.useEffect(()=>{const c=ft.getUser();e(c),A()},[]);const A=async()=>{var c;i(!0);try{const u=await Ve.getUserProfile();if((c=u==null?void 0:u.role)!=null&&c.approval_status){const h=u.role.approval_status;if(n(h),h==="approved"){try{ft.loadUserData&&await ft.loadUserData()}catch(p){console.warn("Failed to reload auth user after approval:",p)}a("/admin");return}}}catch(u){console.error("Error checking approval status:",u)}finally{i(!1)}},l=async()=>{await ft.signOut(),window.location.href="/"};return o.jsx("div",{className:"login-container pending-approval-page",children:o.jsxs("div",{className:"login-card pending-approval-card",children:[o.jsxs("div",{className:"login-header",children:[o.jsxs("div",{className:"login-logo",children:[o.jsx("img",{src:"/solarpack_logo.png",alt:"SolarPack logo"}),o.jsx("h1",{className:"login-title",children:"SolarPack"})]}),o.jsx("p",{className:"login-subtitle",children:r==="pending"?"Account Pending Approval":"Account Request Rejected"})]}),r==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"pending-status-icon",children:o.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#e31b23",strokeWidth:"2"}),o.jsx("path",{d:"M12 7v5l3 2",stroke:"#e31b23",strokeWidth:"2",strokeLinecap:"round"})]})}),o.jsxs("p",{className:"pending-approval-message",children:["Thank you for signing up! Your request to join NC State SolarPack is ",o.jsx("span",{className:"pending-highlight",children:"pending approval"}),".",o.jsx("br",{})]}),o.jsxs("div",{className:"pending-approval-info",children:[o.jsx("h2",{children:"What happens next?"}),o.jsxs("ul",{children:[o.jsx("li",{children:"A team leader or director will review your request"}),o.jsx("li",{children:"Check back here or refresh to see your status"}),o.jsx("li",{children:"Contact us if you need urgent access"})]})]}),o.jsxs("div",{className:"pending-approval-contact",children:[o.jsx("span",{className:"contact-label",children:"Need help? "}),o.jsx("span",{className:"contact-email",children:o.jsx("a",{href:"mailto:solarpack@ncsu.edu",children:"solarpack@ncsu.edu"})})]}),o.jsxs("div",{className:"pending-approval-actions",children:[o.jsx("button",{className:"login-button btn-refresh",onClick:A,disabled:s,children:s?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"loading-spinner"}),"Checking..."]}):"Refresh Status"}),o.jsx("button",{className:"login-button btn-signout",onClick:l,children:"Sign Out"})]})]}),r==="rejected"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"pending-status-icon",children:o.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#ef4444",strokeWidth:"2"}),o.jsx("path",{d:"M8 8l8 8M16 8l-8 8",stroke:"#ef4444",strokeWidth:"2",strokeLinecap:"round"})]})}),o.jsxs("p",{className:"pending-approval-message rejected",children:["Sorry, your account request was ",o.jsx("span",{className:"pending-highlight",children:"not approved"}),".",o.jsx("br",{}),"If you believe this is an error, please contact us."]}),o.jsxs("div",{className:"pending-approval-contact",children:[o.jsx("span",{className:"contact-label",children:"Contact:"}),o.jsx("span",{className:"contact-email",children:o.jsx("a",{href:"mailto:solarpack@ncsu.edu",children:"solarpack@ncsu.edu"})})]}),o.jsx("div",{className:"pending-approval-actions",children:o.jsx("button",{className:"login-button btn-signout",onClick:l,children:"Sign Out"})})]}),t&&o.jsx("div",{className:"pending-approval-user-info",children:o.jsxs("small",{children:["Signed in as: ",o.jsx("span",{className:"pending-user-email",children:t.email})]})})]})})};function CH(){const t=ao();return o.jsx(KI,{children:o.jsxs(Hy,{children:[o.jsx(Pn,{path:"/admin",element:o.jsx(bH,{})}),o.jsx(Pn,{path:"/login",element:o.jsx(E4,{onLogin:()=>t("/admin")})}),o.jsx(Pn,{path:"/pending-approval",element:o.jsx(_H,{})}),o.jsx(Pn,{path:"/forgot-password",element:o.jsx(BH,{})}),o.jsx(Pn,{path:"/reset-password",element:o.jsx(xH,{})}),o.jsx(Pn,{path:"/*",element:o.jsx(MI,{children:o.jsxs(Hy,{children:[o.jsx(Pn,{path:"/",element:o.jsx(VI,{})}),o.jsx(Pn,{path:"/app",element:o.jsx(WI,{})}),o.jsx(Pn,{path:"/alumni",element:o.jsx(qI,{})}),o.jsx(Pn,{path:"/blogs",element:o.jsx(JI,{})}),o.jsx(Pn,{path:"/contact",element:o.jsx(XI,{})}),o.jsx(Pn,{path:"/donate",element:o.jsx(YI,{})}),o.jsx(Pn,{path:"/privacy-policy",element:o.jsx(eQ,{})}),o.jsx(Pn,{path:"/sponsors",element:o.jsx(tQ,{})}),o.jsx(Pn,{path:"/team",element:o.jsx(rQ,{})}),o.jsx(Pn,{path:"*",element:o.jsx(sQ,{})})]})})})]})})}b0.createRoot(document.getElementById("root")).render(o.jsx(A5.StrictMode,{children:o.jsx(lj,{basename:"/",children:o.jsx(CH,{})})}));export{or as _,Wa as c,Xx as g};
